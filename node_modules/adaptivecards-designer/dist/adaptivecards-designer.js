(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("adaptivecards"), require("adaptivecards-templating"));
	else if(typeof define === 'function' && define.amd)
		define([, ], factory);
	else if(typeof exports === 'object')
		exports["ACDesigner"] = factory(require("adaptivecards"), require("adaptivecards-templating"));
	else
		root["ACDesigner"] = factory(root["AdaptiveCards"], root["ACData"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_adaptivecards__, __WEBPACK_EXTERNAL_MODULE_adaptivecards_templating__) {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../adaptivecards-controls/lib/adaptivecards-controls.js":
/*!***************************************************************!*\
  !*** ../adaptivecards-controls/lib/adaptivecards-controls.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
__exportStar(__webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js"), exports);
__exportStar(__webpack_require__(/*! ./enums */ "../adaptivecards-controls/lib/enums.js"), exports);
__exportStar(__webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js"), exports);
__exportStar(__webpack_require__(/*! ./collection */ "../adaptivecards-controls/lib/collection.js"), exports);
__exportStar(__webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js"), exports);
__exportStar(__webpack_require__(/*! ./inputwithpopup */ "../adaptivecards-controls/lib/inputwithpopup.js"), exports);
__exportStar(__webpack_require__(/*! ./calendar */ "../adaptivecards-controls/lib/calendar.js"), exports);
__exportStar(__webpack_require__(/*! ./dropdown */ "../adaptivecards-controls/lib/dropdown.js"), exports);
__exportStar(__webpack_require__(/*! ./datepicker */ "../adaptivecards-controls/lib/datepicker.js"), exports);
__exportStar(__webpack_require__(/*! ./checkbox */ "../adaptivecards-controls/lib/checkbox.js"), exports);
__exportStar(__webpack_require__(/*! ./radiobutton */ "../adaptivecards-controls/lib/radiobutton.js"), exports);
__exportStar(__webpack_require__(/*! ./textbox */ "../adaptivecards-controls/lib/textbox.js"), exports);
__exportStar(__webpack_require__(/*! ./popupmenu */ "../adaptivecards-controls/lib/popupmenu.js"), exports);
//# sourceMappingURL=adaptivecards-controls.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/calendar.js":
/*!*************************************************!*\
  !*** ../adaptivecards-controls/lib/calendar.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Calendar = exports.DayCell = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Utils = __webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js");
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var DayCell = /** @class */ (function () {
    function DayCell(date) {
        this._isSubdued = false;
        this._isSelected = false;
        this.date = date;
    }
    DayCell.prototype.selected = function () {
        if (this.onSelected) {
            this.onSelected(this);
        }
    };
    DayCell.prototype.render = function () {
        var _this = this;
        this._element = document.createElement("div");
        this._element.className = "ms-ctrl ms-ctrl-calendarDay";
        this._element.innerText = this.date.getDate().toString();
        this._element.tabIndex = 0;
        this._element.onclick = function (e) { _this.selected(); };
        this._element.onkeydown = function (e) {
            if (e.key == constants_1.Constants.keys.enter) {
                _this.selected();
                return false;
            }
        };
        return this._element;
    };
    DayCell.prototype.focus = function () {
        this._element.focus();
    };
    Object.defineProperty(DayCell.prototype, "isSubdued", {
        get: function () {
            return this._isSubdued;
        },
        set: function (value) {
            this._isSubdued = value;
            if (this._isSubdued) {
                this._element.classList.add("subdued");
            }
            else {
                this._element.classList.remove("subdued");
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DayCell.prototype, "isSelected", {
        get: function () {
            return this._isSelected;
        },
        set: function (value) {
            this._isSelected = value;
            if (this._isSelected) {
                this._element.classList.add("selected");
            }
            else {
                this._element.classList.remove("selected");
            }
        },
        enumerable: false,
        configurable: true
    });
    return DayCell;
}());
exports.DayCell = DayCell;
var Calendar = /** @class */ (function (_super) {
    __extends(Calendar, _super);
    function Calendar() {
        var _this = _super.call(this) || this;
        _this._selectedDay = null;
        _this._miniCalendarElement = document.createElement("table");
        _this._miniCalendarElement.className = "ms-ctrl ms-ctrl-slide";
        _this._miniCalendarElement.cellPadding = "0px";
        _this._miniCalendarElement.cellSpacing = "0px";
        var miniCalendarHeader = document.createElement("div");
        miniCalendarHeader.className = "ms-ctrl ms-ctrl-calendarHeader";
        miniCalendarHeader.style.display = "flex";
        _this._monthYearLabelElement = document.createElement("div");
        _this._monthYearLabelElement.style.flex = "1 1 100%";
        miniCalendarHeader.appendChild(_this._monthYearLabelElement);
        var navButtons = document.createElement("div");
        navButtons.style.flex = "0 0 auto";
        var button = document.createElement("i");
        button.className = "ms-icon ms-ctrl-calendarNavButton ms-icon-chevronLeft";
        button.tabIndex = 0;
        button.onclick = function (e) {
            _this.date = Utils.addMonths(_this.date, -1);
        };
        button.onkeydown = function (e) {
            if (e.key == constants_1.Constants.keys.enter) {
                _this.date = Utils.addMonths(_this.date, -1);
                return false;
            }
        };
        navButtons.appendChild(button);
        button = document.createElement("i");
        button.className = "ms-icon ms-ctrl-calendarNavButton ms-icon-chevronRight";
        button.tabIndex = 0;
        button.onclick = function (e) {
            _this.date = Utils.addMonths(_this.date, 1);
        };
        button.onkeydown = function (e) {
            if (e.key == constants_1.Constants.keys.enter) {
                _this.date = Utils.addMonths(_this.date, 1);
                return false;
            }
        };
        navButtons.appendChild(button);
        miniCalendarHeader.appendChild(navButtons);
        _this._rootContainerElement = document.createElement("div");
        _this._rootContainerElement.className = "ms-ctrl ms-ctrl-calendar";
        _this._rootContainerElement.appendChild(miniCalendarHeader);
        _this._rootContainerElement.appendChild(_this._miniCalendarElement);
        _this.date = new Date();
        return _this;
    }
    Calendar.prototype.generateDayCells = function (baseDate) {
        var _this = this;
        this._days = [];
        var inputMonth = baseDate.getMonth();
        var inputYear = baseDate.getFullYear();
        var start = new Date(inputYear, inputMonth, 1);
        var end = new Date(inputYear, inputMonth, Utils.daysInMonth(inputYear, inputMonth));
        var startDateDayOfWeek = start.getDay();
        if ((startDateDayOfWeek - Utils.CalendarSettings.firstDayOfWeek) > 0) {
            start = Utils.addDays(start, Utils.CalendarSettings.firstDayOfWeek - startDateDayOfWeek);
        }
        var endDateDayOfWeek = end.getDay();
        var lastDayOfWeek = Utils.CalendarSettings.firstDayOfWeek + 6;
        if ((lastDayOfWeek - endDateDayOfWeek) > 0) {
            end = Utils.addDays(end, lastDayOfWeek - endDateDayOfWeek);
        }
        var endDate = end.getDate();
        var endMonth = end.getMonth();
        var endYear = end.getFullYear();
        do {
            var dayCell = new DayCell(start);
            dayCell.onSelected = function (clickedCell) {
                _this.selectedDayCell = clickedCell;
                if (_this.onDateChanged) {
                    _this.onDateChanged(_this);
                }
            };
            this._days.push(dayCell);
            var done = start.getDate() == endDate && start.getMonth() == endMonth && start.getFullYear() == endYear;
            start = Utils.addDays(start, 1);
        } while (!done);
    };
    Object.defineProperty(Calendar.prototype, "selectedDayCell", {
        get: function () {
            return this._selectedDay;
        },
        set: function (value) {
            if (this._selectedDay) {
                this._selectedDay.isSelected = false;
            }
            this._selectedDay = value;
            if (this._selectedDay) {
                this._selectedDay.isSelected = true;
                this._date = this._selectedDay.date;
            }
        },
        enumerable: false,
        configurable: true
    });
    Calendar.prototype.initializeSelection = function () {
        if (this._date) {
            for (var i = 0; i < this._days.length; i++) {
                if (Utils.areDatesEqual(this._days[i].date, this.date)) {
                    this.selectedDayCell = this._days[i];
                    break;
                }
            }
        }
    };
    Calendar.prototype.rebuildMiniCalendar = function (newDate, oldDate) {
        this.generateDayCells(newDate);
        var month = newDate.getMonth();
        Utils.clearElement(this._miniCalendarElement);
        this._miniCalendarElement.classList.remove("ms-ctrl-slide", "ms-ctrl-slideLeftToRight", "ms-ctrl-slideRightToLeft");
        var row = document.createElement("tr");
        var dayIndex = Utils.CalendarSettings.firstDayOfWeek;
        for (var i = 0; i < Utils.CalendarSettings.daysInWeek; i++) {
            var cell = document.createElement("td");
            cell.className = "ms-ctrl ms-ctrl-calendarDayHeader";
            cell.innerText = Utils.CalendarSettings.getInitialDayName(dayIndex);
            row.appendChild(cell);
            dayIndex++;
            if (dayIndex >= Utils.CalendarSettings.daysInWeek) {
                dayIndex = 0;
            }
        }
        this._miniCalendarElement.appendChild(row);
        for (var i = 0; i < this._days.length; i++) {
            if (i % 7 == 0) {
                row = document.createElement("tr");
                this._miniCalendarElement.appendChild(row);
            }
            var tableCell = document.createElement("td");
            tableCell.appendChild(this._days[i].render());
            if (this._days[i].date.getMonth() != month) {
                this._days[i].isSubdued = true;
            }
            row.appendChild(tableCell);
        }
        if (oldDate) {
            var timeDelta = newDate.getTime() - oldDate.getTime();
            if (timeDelta > 0) {
                this._miniCalendarElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideRightToLeft");
            }
            else if (timeDelta < 0) {
                this._miniCalendarElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideLeftToRight");
            }
        }
    };
    Calendar.prototype.attach = function (rootElement) {
        _super.prototype.attach.call(this, rootElement);
        Utils.clearElement(rootElement);
        rootElement.appendChild(this._rootContainerElement);
    };
    Calendar.prototype.focus = function () {
        if (this._selectedDay) {
            this._selectedDay.focus();
        }
    };
    Object.defineProperty(Calendar.prototype, "date", {
        get: function () {
            return this._date;
        },
        set: function (value) {
            var rebuildNeeded = true;
            var timeDelta = 0;
            var newDate = value ? value : new Date();
            if (this._date) {
                rebuildNeeded = !this._days || newDate.getFullYear() != this._date.getFullYear() || newDate.getMonth() != this._date.getMonth();
            }
            if (rebuildNeeded) {
                this.rebuildMiniCalendar(newDate, this._date);
            }
            this._date = newDate;
            this.initializeSelection();
            this._monthYearLabelElement.innerText = Utils.CalendarSettings.getLongMonthName(this._date.getMonth()) + " " + this._date.getFullYear();
        },
        enumerable: false,
        configurable: true
    });
    return Calendar;
}(inputcontrol_1.InputControl));
exports.Calendar = Calendar;
//# sourceMappingURL=calendar.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/checkbox.js":
/*!*************************************************!*\
  !*** ../adaptivecards-controls/lib/checkbox.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CheckBox = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var utils_1 = __webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js");
var CheckBox = /** @class */ (function (_super) {
    __extends(CheckBox, _super);
    function CheckBox() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._label = "";
        _this._checkboxElement = null;
        _this._spanElement = null;
        return _this;
    }
    CheckBox.createId = function () {
        var result = CheckBox.creationIndex;
        CheckBox.creationIndex++;
        return result;
    };
    CheckBox.prototype.changed = function () {
        if (this.onChange) {
            this.onChange(this);
        }
    };
    CheckBox.prototype.keyDown = function (e) {
        switch (e.key) {
            case constants_1.Constants.keys.enter:
                this.isChecked = !this.isChecked;
                break;
        }
    };
    CheckBox.prototype.attach = function (rootElement) {
        var _this = this;
        _super.prototype.attach.call(this, rootElement);
        rootElement.className = "ms-ctrl ms-ctrl-checkbox";
        rootElement.tabIndex = 0;
        var labelAttribute = rootElement.attributes["label"];
        if (labelAttribute) {
            this._label = labelAttribute.value;
        }
        var isCheckedAttribute = rootElement.attributes["ischecked"];
        if (isCheckedAttribute) {
            this._isChecked = isCheckedAttribute.value === "true";
        }
        this._checkboxElement = document.createElement("input");
        this._checkboxElement.id = "ms-ctrl-checkbox-" + CheckBox.createId();
        this._checkboxElement.type = "checkbox";
        this._checkboxElement.style.position = "absolute";
        this._checkboxElement.checked = this.isChecked;
        this._checkboxElement.onchange = function (e) { _this.changed(); };
        var labelElement = document.createElement("label");
        labelElement.htmlFor = this._checkboxElement.id;
        this._spanElement = document.createElement("span");
        this._spanElement.innerText = this._label;
        labelElement.appendChild(this._spanElement);
        (0, utils_1.clearElement)(rootElement);
        rootElement.appendChild(this._checkboxElement);
        rootElement.appendChild(labelElement);
    };
    Object.defineProperty(CheckBox.prototype, "label", {
        get: function () {
            return this._label;
        },
        set: function (value) {
            this._label = value;
            if (this._spanElement) {
                this._spanElement.innerText = this._label;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CheckBox.prototype, "isChecked", {
        get: function () {
            return this._isChecked;
        },
        set: function (value) {
            if (this._isChecked != value) {
                this._isChecked = value;
                if (this._checkboxElement) {
                    this._checkboxElement.checked = this._isChecked;
                }
                this.changed();
            }
        },
        enumerable: false,
        configurable: true
    });
    // Used to generate unique Ids
    CheckBox.creationIndex = 0;
    return CheckBox;
}(inputcontrol_1.InputControl));
exports.CheckBox = CheckBox;
//# sourceMappingURL=checkbox.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/collection.js":
/*!***************************************************!*\
  !*** ../adaptivecards-controls/lib/collection.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Collection = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Collection = /** @class */ (function () {
    function Collection() {
        this._items = [];
        this.onItemAdded = null;
        this.onItemRemoved = null;
    }
    Collection.prototype.get = function (index) {
        return this._items[index];
    };
    Collection.prototype.add = function (item) {
        this._items.push(item);
        if (this.onItemAdded) {
            this.onItemAdded(item);
        }
    };
    Collection.prototype.remove = function (item) {
        var i = this._items.indexOf(item);
        if (i >= 0) {
            this._items = this._items.splice(i, 1);
            if (this.onItemRemoved) {
                this.onItemRemoved(item);
            }
        }
    };
    Collection.prototype.indexOf = function (item) {
        return this._items.indexOf(item);
    };
    Object.defineProperty(Collection.prototype, "length", {
        get: function () {
            return this._items.length;
        },
        enumerable: false,
        configurable: true
    });
    return Collection;
}());
exports.Collection = Collection;
//# sourceMappingURL=collection.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/constants.js":
/*!**************************************************!*\
  !*** ../adaptivecards-controls/lib/constants.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Constants = exports.KEY_DELETE = exports.KEY_DOWN = exports.KEY_UP = exports.KEY_SPACE = exports.KEY_ESCAPE = exports.KEY_ENTER = exports.KEY_TAB = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
/**
 * @deprecated Use Constants.keys.tab instead.
 */
exports.KEY_TAB = 9;
/**
 * @deprecated Use Constants.keys.enter instead.
 */
exports.KEY_ENTER = 13;
/**
 * @deprecated Use Constants.keys.escape instead.
 */
exports.KEY_ESCAPE = 27;
/**
 * @deprecated Use Constants.keys.space instead.
 */
exports.KEY_SPACE = 32;
/**
 * @deprecated Use Constants.keys.up instead.
 */
exports.KEY_UP = 38;
/**
 * @deprecated Use Constants.keys.down instead.
 */
exports.KEY_DOWN = 40;
/**
 * @deprecated Use Constants.keys.delete instead.
 */
exports.KEY_DELETE = 46;
var Constants = /** @class */ (function () {
    function Constants() {
    }
    Constants.keys = {
        tab: "Tab",
        enter: "Enter",
        escape: "Escape",
        space: " ",
        up: "ArrowUp",
        down: "ArrowDown",
        delete: "Delete",
        backspace: "Backspace",
        left: "ArrowLeft",
        right: "ArrowRight"
    };
    return Constants;
}());
exports.Constants = Constants;
//# sourceMappingURL=constants.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/datepicker.js":
/*!***************************************************!*\
  !*** ../adaptivecards-controls/lib/datepicker.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DatePicker = exports.CalendarPopupControl = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var inputwithpopup_1 = __webpack_require__(/*! ./inputwithpopup */ "../adaptivecards-controls/lib/inputwithpopup.js");
var calendar_1 = __webpack_require__(/*! ./calendar */ "../adaptivecards-controls/lib/calendar.js");
var CalendarPopupControl = /** @class */ (function (_super) {
    __extends(CalendarPopupControl, _super);
    function CalendarPopupControl(owner) {
        var _this = _super.call(this) || this;
        _this._owner = owner;
        return _this;
    }
    CalendarPopupControl.prototype.renderContent = function () {
        var _this = this;
        var element = document.createElement("div");
        element.className = "ms-ctrl ms-calendarPopup";
        this._calendar = new calendar_1.Calendar();
        this._calendar.date = this._owner.value;
        this._calendar.onDateChanged = function (c) {
            _this._owner.value = c.date;
            _this.closePopup(false);
        };
        this._calendar.attach(element);
        return element;
    };
    CalendarPopupControl.prototype.focus = function () {
        if (this._calendar) {
            this._calendar.focus();
        }
    };
    return CalendarPopupControl;
}(inputwithpopup_1.PopupControl));
exports.CalendarPopupControl = CalendarPopupControl;
var DatePicker = /** @class */ (function (_super) {
    __extends(DatePicker, _super);
    function DatePicker() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DatePicker.prototype.validateRootElement = function (rootElement) {
        if (!(rootElement instanceof HTMLDivElement)) {
            throw new Error("DatePicker requires a DIV element as its root.");
        }
    };
    DatePicker.prototype.createPopupControl = function () {
        return new CalendarPopupControl(this);
    };
    DatePicker.prototype.getValueAsString = function () {
        return this.value.toLocaleDateString();
    };
    DatePicker.prototype.getCssClassName = function () {
        return "ms-ctrl ms-ctrl-datePicker";
    };
    DatePicker.prototype.getButtonIconCssClassName = function () {
        return "ms-icon-calendar";
    };
    DatePicker.prototype.popup = function () {
        _super.prototype.popup.call(this);
        if (this.isOpen) {
            this.popupControl.focus();
        }
    };
    return DatePicker;
}(inputwithpopup_1.InputWithPopup));
exports.DatePicker = DatePicker;
//# sourceMappingURL=datepicker.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/dropdown.js":
/*!*************************************************!*\
  !*** ../adaptivecards-controls/lib/dropdown.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DropDown = exports.DropDownPopupControl = exports.DropDownItem = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var collection_1 = __webpack_require__(/*! ./collection */ "../adaptivecards-controls/lib/collection.js");
var inputwithpopup_1 = __webpack_require__(/*! ./inputwithpopup */ "../adaptivecards-controls/lib/inputwithpopup.js");
var DropDownItem = /** @class */ (function () {
    function DropDownItem(key, value) {
        this.key = key;
        this._value = value;
    }
    DropDownItem.prototype.click = function () {
        if (this.onClick) {
            this.onClick(this);
        }
    };
    DropDownItem.prototype.toString = function () {
        return this.value;
    };
    DropDownItem.prototype.render = function () {
        var _this = this;
        if (!this._element) {
            this._element = document.createElement("span");
            this._element.className = "ms-ctrl ms-ctrl-dropdown-item";
            this._element.innerText = this.value;
            this._element.setAttribute("role", "option");
            this._element.onmouseup = function (e) { _this.click(); };
            this._element.onkeydown = function (e) {
                if (e.key === constants_1.Constants.keys.enter) {
                    _this.click();
                    e.cancelBubble = true;
                }
            };
        }
        return this._element;
    };
    Object.defineProperty(DropDownItem.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (newValue) {
            this._value = newValue;
            if (this._element) {
                this._element.innerText = newValue;
            }
        },
        enumerable: false,
        configurable: true
    });
    return DropDownItem;
}());
exports.DropDownItem = DropDownItem;
var DropDownPopupControl = /** @class */ (function (_super) {
    __extends(DropDownPopupControl, _super);
    function DropDownPopupControl(owner) {
        var _this = _super.call(this) || this;
        _this._renderedItems = [];
        _this._selectedIndex = -1;
        _this._owner = owner;
        return _this;
    }
    DropDownPopupControl.prototype.renderContent = function () {
        var element = document.createElement("div");
        element.className = "ms-ctrl ms-popup";
        element.setAttribute("role", "listbox");
        var selectedIndex = this._owner.selectedIndex;
        for (var i = 0; i < this._owner.items.length; i++) {
            var renderedItem = this._owner.items.get(i).render();
            renderedItem.tabIndex = 0;
            element.appendChild(renderedItem);
            if (i == selectedIndex) {
                renderedItem.focus();
                renderedItem.setAttribute("aria-selected", "true");
            }
            else {
                renderedItem.setAttribute("aria-selected", "false");
            }
            this._renderedItems.push(renderedItem);
        }
        return element;
    };
    DropDownPopupControl.prototype.keyDown = function (e) {
        _super.prototype.keyDown.call(this, e); // handles ESC
        var selectedItemIndex = this._selectedIndex;
        switch (e.key) {
            case constants_1.Constants.keys.tab:
                this.closePopup(true);
                break;
            case constants_1.Constants.keys.enter:
                if (this.selectedIndex >= 0) {
                    this._owner.selectedIndex = this.selectedIndex;
                    this.closePopup(false);
                }
                break;
            case constants_1.Constants.keys.up:
                if (selectedItemIndex <= 0) {
                    selectedItemIndex = this._renderedItems.length - 1;
                }
                else {
                    selectedItemIndex--;
                    if (selectedItemIndex < 0) {
                        selectedItemIndex = this._renderedItems.length - 1;
                    }
                }
                this.selectedIndex = selectedItemIndex;
                e.cancelBubble = true;
                break;
            case constants_1.Constants.keys.down:
                if (selectedItemIndex < 0) {
                    selectedItemIndex = 0;
                }
                else {
                    selectedItemIndex++;
                    if (selectedItemIndex >= this._renderedItems.length) {
                        selectedItemIndex = 0;
                    }
                }
                this.selectedIndex = selectedItemIndex;
                e.cancelBubble = true;
                break;
        }
    };
    DropDownPopupControl.prototype.render = function (rootElementBounds) {
        var renderedElement = _super.prototype.render.call(this, rootElementBounds);
        renderedElement.style.minWidth = (rootElementBounds.width / 2) + "px";
        return renderedElement;
    };
    Object.defineProperty(DropDownPopupControl.prototype, "selectedIndex", {
        get: function () {
            return this._selectedIndex;
        },
        set: function (index) {
            if (index >= 0 && index < this._renderedItems.length) {
                // select new item
                this._renderedItems[index].focus();
                this._selectedIndex = index;
            }
        },
        enumerable: false,
        configurable: true
    });
    return DropDownPopupControl;
}(inputwithpopup_1.PopupControl));
exports.DropDownPopupControl = DropDownPopupControl;
var DropDown = /** @class */ (function (_super) {
    __extends(DropDown, _super);
    function DropDown() {
        var _this = _super.call(this) || this;
        _this._items = new collection_1.Collection();
        _this._items.onItemAdded = function (item) { item.onClick = function (clickedItem) { _this.itemClicked(clickedItem); }; };
        _this._items.onItemRemoved = function (item) { item.onClick = null; };
        return _this;
    }
    DropDown.prototype.itemClicked = function (item) {
        this.selectedItem = item;
        this.closePopup(false);
        this.rootElement.focus();
    };
    DropDown.prototype.validateRootElement = function (rootElement) {
        if (!(rootElement instanceof HTMLDivElement)) {
            throw new Error("DropDown requires a DIV element as its root.");
        }
    };
    DropDown.prototype.createPopupControl = function () {
        return new DropDownPopupControl(this);
    };
    DropDown.prototype.getCssClassName = function () {
        return "ms-ctrl ms-ctrl-dropdown";
    };
    DropDown.prototype.attach = function (rootElement) {
        _super.prototype.attach.call(this, rootElement);
        for (var i = 0; i < this.rootElement.children.length; i++) {
            var childElement = this.rootElement.children[i];
            if (childElement.tagName.toLowerCase() == "ms-dropdown-item") {
                var item = new DropDownItem(childElement.attributes.getNamedItem("key").value, childElement.attributes.getNamedItem("value").value);
                this._items.add(item);
            }
        }
        // add aria-labelledby tag with all pertinent label ids
        var ariaLabelledByIds = [];
        if (this.parentLabelId) {
            ariaLabelledByIds.push(this.parentLabelId);
        }
        if (this.labelId) {
            ariaLabelledByIds.push(this.labelId);
        }
        if (ariaLabelledByIds.length > 0) {
            this.rootElement.setAttribute("aria-labelledby", ariaLabelledByIds.join(" "));
        }
        this.rootElement.setAttribute("role", "combobox");
        this.rootElement.setAttribute("aria-haspopup", "listbox");
        this.rootElement.setAttribute("aria-expanded", "false");
    };
    DropDown.prototype.popup = function () {
        _super.prototype.popup.call(this);
        this.popupControl.selectedIndex = this.selectedIndex;
    };
    Object.defineProperty(DropDown.prototype, "items", {
        get: function () {
            return this._items;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DropDown.prototype, "selectedItem", {
        get: function () {
            return this.value;
        },
        set: function (newValue) {
            this.value = newValue;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DropDown.prototype, "selectedIndex", {
        get: function () {
            return this.items.indexOf(this.value);
        },
        set: function (index) {
            if (index >= 0 && this.items.length > index) {
                this.selectedItem = this.items.get(index);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DropDown.prototype, "parentLabelId", {
        get: function () {
            return this._parentLabelId;
        },
        set: function (value) {
            this._parentLabelId = value;
        },
        enumerable: false,
        configurable: true
    });
    return DropDown;
}(inputwithpopup_1.InputWithPopup));
exports.DropDown = DropDown;
//# sourceMappingURL=dropdown.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/enums.js":
/*!**********************************************!*\
  !*** ../adaptivecards-controls/lib/enums.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DayOfWeek = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var DayOfWeek;
(function (DayOfWeek) {
    DayOfWeek[DayOfWeek["Sunday"] = 0] = "Sunday";
    DayOfWeek[DayOfWeek["Monday"] = 1] = "Monday";
    DayOfWeek[DayOfWeek["Tuesday"] = 2] = "Tuesday";
    DayOfWeek[DayOfWeek["Wednesday"] = 3] = "Wednesday";
    DayOfWeek[DayOfWeek["Thursday"] = 4] = "Thursday";
    DayOfWeek[DayOfWeek["Friday"] = 5] = "Friday";
    DayOfWeek[DayOfWeek["Saturday"] = 6] = "Saturday";
})(DayOfWeek = exports.DayOfWeek || (exports.DayOfWeek = {}));
//# sourceMappingURL=enums.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/inputcontrol.js":
/*!*****************************************************!*\
  !*** ../adaptivecards-controls/lib/inputcontrol.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InputControl = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var InputControl = /** @class */ (function () {
    function InputControl() {
    }
    InputControl.prototype.validateRootElement = function (rootElement) {
        // Do nothing - all root element types are valid.
    };
    InputControl.prototype.keyDown = function (e) {
        // Do nothing in base implementation
    };
    Object.defineProperty(InputControl.prototype, "rootElement", {
        get: function () {
            return this._rootElement;
        },
        enumerable: false,
        configurable: true
    });
    InputControl.prototype.attach = function (rootElement) {
        var _this = this;
        this.validateRootElement(rootElement);
        this._rootElement = rootElement;
        this._rootElement.onkeydown = function (e) { _this.keyDown(e); };
    };
    return InputControl;
}());
exports.InputControl = InputControl;
//# sourceMappingURL=inputcontrol.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/inputwithpopup.js":
/*!*******************************************************!*\
  !*** ../adaptivecards-controls/lib/inputwithpopup.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InputWithPopup = exports.PopupControl = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var Utils = __webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var uuid_1 = __webpack_require__(/*! uuid */ "../node_modules/uuid/dist/esm-browser/index.js");
var PopupControl = /** @class */ (function () {
    function PopupControl() {
        this._isOpen = false;
    }
    PopupControl.prototype.keyDown = function (e) {
        switch (e.key) {
            case constants_1.Constants.keys.escape:
                this.closePopup(true);
                break;
        }
    };
    PopupControl.prototype.render = function (rootElementBounds) {
        var _this = this;
        var element = document.createElement("div");
        element.tabIndex = 0;
        element.className = "ms-ctrl ms-ctrl-popup-container";
        element.setAttribute("role", "dialog");
        element.setAttribute("aria-modal", "true");
        element.onkeydown = function (e) {
            _this.keyDown(e);
            return !e.cancelBubble;
        };
        element.appendChild(this.renderContent());
        return element;
    };
    PopupControl.prototype.focus = function () {
        if (this._popupElement) {
            this._popupElement.firstElementChild.focus();
        }
    };
    PopupControl.prototype.popup = function (rootElement) {
        var _this = this;
        if (!this._isOpen) {
            this._overlayElement = document.createElement("div");
            this._overlayElement.className = "ms-ctrl-overlay";
            this._overlayElement.tabIndex = 0;
            this._overlayElement.style.width = document.documentElement.scrollWidth + "px";
            this._overlayElement.style.height = document.documentElement.scrollHeight + "px";
            this._overlayElement.onfocus = function (e) { _this.closePopup(true); };
            document.body.appendChild(this._overlayElement);
            var rootElementBounds = rootElement.getBoundingClientRect();
            this._popupElement = this.render(rootElementBounds);
            this._popupElement.classList.remove("ms-ctrl-slide", "ms-ctrl-slideLeftToRight", "ms-ctrl-slideRightToLeft", "ms-ctrl-slideTopToBottom", "ms-ctrl-slideRightToLeft");
            window.addEventListener("resize", function (e) { _this.closePopup(true); });
            var rootElementLabel = rootElement.getAttribute("aria-label");
            if (rootElementLabel) {
                this._popupElement.setAttribute("aria-label", rootElementLabel);
            }
            this._overlayElement.appendChild(this._popupElement);
            var popupElementBounds = this._popupElement.getBoundingClientRect();
            var availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;
            var availableSpaceAbove = rootElementBounds.top;
            var availableSpaceRight = window.innerWidth - rootElementBounds.left;
            var availableSpaceRight = window.innerWidth - rootElementBounds.right;
            var availableSpaceLeft = rootElementBounds.left;
            var left = rootElementBounds.left + Utils.getScrollX();
            var top;
            if (availableSpaceAbove < popupElementBounds.height && availableSpaceBelow < popupElementBounds.height) {
                // Not enough space above or below root element
                var actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);
                this._popupElement.style.maxHeight = actualPopupHeight + "px";
                if (actualPopupHeight < popupElementBounds.height) {
                    top = Utils.getScrollY();
                }
                else {
                    top = Utils.getScrollY() + rootElementBounds.top + (rootElementBounds.height - actualPopupHeight) / 2;
                }
                if (availableSpaceLeft < popupElementBounds.width && availableSpaceRight < popupElementBounds.width) {
                    // Not enough space left or right of root element
                    var actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);
                    this._popupElement.style.maxWidth = actualPopupWidth + "px";
                    if (actualPopupWidth < popupElementBounds.width) {
                        left = Utils.getScrollX();
                    }
                    else {
                        left = Utils.getScrollX() + rootElementBounds.left + (rootElementBounds.width - actualPopupWidth) / 2;
                    }
                }
                else {
                    // Enough space on the left or right of the root element
                    if (availableSpaceRight >= popupElementBounds.width) {
                        left = Utils.getScrollX() + rootElementBounds.right;
                        this._popupElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideLeftToRight");
                    }
                    else {
                        left = Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;
                        this._popupElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideRightToLeft");
                    }
                }
            }
            else {
                // Enough space above or below root element
                if (availableSpaceBelow >= popupElementBounds.height) {
                    top = Utils.getScrollY() + rootElementBounds.bottom;
                    this._popupElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideTopToBottom");
                }
                else {
                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;
                    this._popupElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideBottomToTop");
                }
                if (availableSpaceRight < popupElementBounds.width) {
                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;
                }
            }
            this._popupElement.style.left = left + "px";
            this._popupElement.style.top = top + "px";
            this.focus();
            this._isOpen = true;
        }
    };
    PopupControl.prototype.closePopup = function (wasCancelled) {
        if (this._isOpen) {
            document.body.removeChild(this._overlayElement);
            this._isOpen = false;
            if (this.onClose) {
                this.onClose(this, wasCancelled);
            }
        }
    };
    Object.defineProperty(PopupControl.prototype, "isOpen", {
        get: function () {
            return this._isOpen;
        },
        enumerable: false,
        configurable: true
    });
    return PopupControl;
}());
exports.PopupControl = PopupControl;
var InputWithPopup = /** @class */ (function (_super) {
    __extends(InputWithPopup, _super);
    function InputWithPopup() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._isEnabled = true;
        return _this;
    }
    InputWithPopup.prototype.keyDown = function (e) {
        switch (e.key) {
            case constants_1.Constants.keys.enter:
                if (this._isEnabled) {
                    this.popup();
                }
                break;
        }
    };
    InputWithPopup.prototype.updateLabel = function () {
        if (this._labelElement) {
            if (this._value) {
                this._labelElement.innerText = this.getValueAsString();
                this._labelElement.classList.remove("placeholder");
            }
            else {
                this._labelElement.innerText = this._placeholderText ? this._placeholderText : "";
                this._labelElement.classList.add("placeholder");
            }
        }
    };
    InputWithPopup.prototype.updateLayout = function () {
        if (!this._isEnabled) {
            this.rootElement.classList.add("disabled");
            this.rootElement.setAttribute("aria-disabled", "true");
            this.rootElement.tabIndex = -1;
        }
        else {
            this.rootElement.classList.remove("disabled");
            this.rootElement.removeAttribute("aria-disabled");
            this.rootElement.tabIndex = 0;
        }
    };
    Object.defineProperty(InputWithPopup.prototype, "popupControl", {
        get: function () {
            return this._popupControl;
        },
        enumerable: false,
        configurable: true
    });
    InputWithPopup.prototype.getButtonIconCssClassName = function () {
        return "ms-icon-chevronDown";
    };
    InputWithPopup.prototype.getValueAsString = function () {
        return this._value.toString();
    };
    InputWithPopup.prototype.valueChanged = function () {
        if (this.onValueChanged) {
            this.onValueChanged(this);
        }
    };
    InputWithPopup.prototype.attach = function (rootElement) {
        var _this = this;
        _super.prototype.attach.call(this, rootElement);
        rootElement.tabIndex = 0;
        rootElement.className = this.getCssClassName();
        window.addEventListener("resize", function (e) { _this.closePopup(true); });
        this.rootElement.onclick = function (e) {
            if (_this._isEnabled) {
                if (_this.isOpen) {
                    _this.closePopup(true);
                }
                else {
                    _this.popup();
                }
            }
        };
        var placeHolderDomItem = this.rootElement.attributes.getNamedItem("placeholder");
        if (placeHolderDomItem) {
            this._placeholderText = placeHolderDomItem.value;
        }
        this._labelElement = document.createElement("span");
        this._labelElement.className = "ms-ctrl ms-dropdown-label";
        this._labelElement.id = (0, uuid_1.v4)(); // generate unique id for our label element
        this._dropDownButtonElement = document.createElement("i");
        this._dropDownButtonElement.className = "ms-icon ms-ctrl-dropdown-button " + this.getButtonIconCssClassName();
        this.rootElement.appendChild(this._labelElement);
        this.rootElement.appendChild(this._dropDownButtonElement);
        this.updateLabel();
    };
    InputWithPopup.prototype.popup = function () {
        var _this = this;
        this._popupControl = this.createPopupControl();
        this._popupControl.onClose = function (sender, wasCancelled) {
            _this.closePopup(wasCancelled);
            _this.rootElement.focus();
        };
        this._popupControl.popup(this.rootElement);
        this.rootElement.setAttribute("aria-expanded", "true");
    };
    InputWithPopup.prototype.closePopup = function (wasCancelled) {
        if (this.popupControl) {
            this.popupControl.closePopup(wasCancelled);
            this.rootElement.setAttribute("aria-expanded", "false");
        }
    };
    Object.defineProperty(InputWithPopup.prototype, "labelId", {
        get: function () {
            if (this._labelElement) {
                return this._labelElement.id;
            }
            return undefined;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputWithPopup.prototype, "isOpen", {
        get: function () {
            return this._popupControl ? this._popupControl.isOpen : false;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputWithPopup.prototype, "placeholderText", {
        get: function () {
            return this._placeholderText;
        },
        set: function (value) {
            this._placeholderText = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputWithPopup.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (newValue) {
            if (this._value != newValue) {
                this._value = newValue;
                this.updateLabel();
                this.valueChanged();
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputWithPopup.prototype, "isEnabled", {
        set: function (value) {
            if (this._isEnabled !== value) {
                this._isEnabled = value;
                this.updateLayout();
            }
        },
        enumerable: false,
        configurable: true
    });
    return InputWithPopup;
}(inputcontrol_1.InputControl));
exports.InputWithPopup = InputWithPopup;
//# sourceMappingURL=inputwithpopup.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/popupmenu.js":
/*!**************************************************!*\
  !*** ../adaptivecards-controls/lib/popupmenu.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PopupMenu = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var collection_1 = __webpack_require__(/*! ./collection */ "../adaptivecards-controls/lib/collection.js");
var inputwithpopup_1 = __webpack_require__(/*! ./inputwithpopup */ "../adaptivecards-controls/lib/inputwithpopup.js");
var PopupMenu = /** @class */ (function (_super) {
    __extends(PopupMenu, _super);
    function PopupMenu() {
        var _this = _super.call(this) || this;
        _this._items = new collection_1.Collection();
        _this._renderedItems = [];
        _this._selectedIndex = -1;
        return _this;
    }
    PopupMenu.prototype.renderContent = function () {
        var element = document.createElement("div");
        element.className = "ms-ctrl ms-popup";
        element.setAttribute("role", "listbox");
        for (var i = 0; i < this._items.length; i++) {
            var renderedItem = this._items.get(i).render();
            renderedItem.tabIndex = 0;
            element.appendChild(renderedItem);
            if (i == this.selectedIndex) {
                renderedItem.focus();
            }
            this._renderedItems.push(renderedItem);
        }
        return element;
    };
    PopupMenu.prototype.keyDown = function (e) {
        _super.prototype.keyDown.call(this, e);
        var selectedItemIndex = this._selectedIndex;
        switch (e.key) {
            case constants_1.Constants.keys.tab:
                this.closePopup(true);
                break;
            /*
            case Constants.keys.enter:
                if (this.selectedIndex >= 0) {
                    this.selectedIndex = this.selectedIndex;

                    this.close();
                }

                break;
            */
            case constants_1.Constants.keys.up:
                if (selectedItemIndex <= 0) {
                    selectedItemIndex = this._renderedItems.length - 1;
                }
                else {
                    selectedItemIndex--;
                    if (selectedItemIndex < 0) {
                        selectedItemIndex = this._renderedItems.length - 1;
                    }
                }
                this.selectedIndex = selectedItemIndex;
                e.cancelBubble = true;
                break;
            case constants_1.Constants.keys.down:
                if (selectedItemIndex < 0) {
                    selectedItemIndex = 0;
                }
                else {
                    selectedItemIndex++;
                    if (selectedItemIndex >= this._renderedItems.length) {
                        selectedItemIndex = 0;
                    }
                }
                this.selectedIndex = selectedItemIndex;
                e.cancelBubble = true;
                break;
        }
    };
    Object.defineProperty(PopupMenu.prototype, "items", {
        get: function () {
            return this._items;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(PopupMenu.prototype, "selectedIndex", {
        get: function () {
            return this._selectedIndex;
        },
        set: function (index) {
            if (index >= 0 && index < this._renderedItems.length) {
                this._renderedItems[index].focus();
                this._selectedIndex = index;
            }
        },
        enumerable: false,
        configurable: true
    });
    return PopupMenu;
}(inputwithpopup_1.PopupControl));
exports.PopupMenu = PopupMenu;
//# sourceMappingURL=popupmenu.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/radiobutton.js":
/*!****************************************************!*\
  !*** ../adaptivecards-controls/lib/radiobutton.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RadioButton = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var utils_1 = __webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js");
var RadioButton = /** @class */ (function (_super) {
    __extends(RadioButton, _super);
    function RadioButton() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._label = "";
        _this._checkboxElement = null;
        _this._spanElement = null;
        return _this;
    }
    RadioButton.createId = function () {
        var result = RadioButton.creationIndex;
        RadioButton.creationIndex++;
        return result;
    };
    RadioButton.prototype.changed = function () {
        if (this.onChange) {
            this.onChange(this);
        }
    };
    RadioButton.prototype.keyDown = function (e) {
        switch (e.key) {
            case constants_1.Constants.keys.enter:
                this.isChecked = !this.isChecked;
                break;
        }
    };
    RadioButton.prototype.attach = function (rootElement) {
        var _this = this;
        _super.prototype.attach.call(this, rootElement);
        rootElement.className = "ms-ctrl ms-ctrl-radiobutton";
        rootElement.tabIndex = 0;
        var labelAttribute = rootElement.attributes["label"];
        if (labelAttribute) {
            this._label = labelAttribute.value;
        }
        var isCheckedAttribute = rootElement.attributes["ischecked"];
        if (isCheckedAttribute) {
            this._isChecked = isCheckedAttribute.value === "true";
        }
        this._checkboxElement = document.createElement("input");
        this._checkboxElement.id = "ms-ctrl-radio-" + RadioButton.createId();
        this._checkboxElement.type = "radio";
        this._checkboxElement.style.position = "absolute";
        this._checkboxElement.checked = this.isChecked;
        this._checkboxElement.onchange = function (e) { _this.changed(); };
        var groupNameAttribute = rootElement.attributes["groupname"];
        if (groupNameAttribute) {
            this._checkboxElement.name = groupNameAttribute.value;
        }
        var labelElement = document.createElement("label");
        labelElement.htmlFor = this._checkboxElement.id;
        this._spanElement = document.createElement("span");
        this._spanElement.innerText = this._label;
        labelElement.appendChild(this._spanElement);
        (0, utils_1.clearElement)(rootElement);
        rootElement.appendChild(this._checkboxElement);
        rootElement.appendChild(labelElement);
    };
    Object.defineProperty(RadioButton.prototype, "label", {
        get: function () {
            return this._label;
        },
        set: function (value) {
            this._label = value;
            if (this._spanElement) {
                this._spanElement.innerText = this._label;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(RadioButton.prototype, "isChecked", {
        get: function () {
            return this._isChecked;
        },
        set: function (value) {
            if (this._isChecked != value) {
                this._isChecked = value;
                if (this._checkboxElement) {
                    this._checkboxElement.checked = this._isChecked;
                }
                this.changed();
            }
        },
        enumerable: false,
        configurable: true
    });
    // Used to generate unique Ids
    RadioButton.creationIndex = 0;
    return RadioButton;
}(inputcontrol_1.InputControl));
exports.RadioButton = RadioButton;
//# sourceMappingURL=radiobutton.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/textbox.js":
/*!************************************************!*\
  !*** ../adaptivecards-controls/lib/textbox.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TextBox = void 0;
var Utils = __webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var EditBox = /** @class */ (function () {
    function EditBox() {
    }
    EditBox.prototype.changed = function () {
        if (this.onChange) {
            this.onChange();
        }
    };
    return EditBox;
}());
var SingleLineEditBox = /** @class */ (function (_super) {
    __extends(SingleLineEditBox, _super);
    function SingleLineEditBox() {
        var _this = _super.call(this) || this;
        _this._inputElement = document.createElement("input");
        _this._inputElement.className = "ms-ctrl ms-ctrl-textbox";
        _this._inputElement.type = "text";
        _this._inputElement.oninput = function (e) {
            _this.changed();
        };
        return _this;
    }
    Object.defineProperty(SingleLineEditBox.prototype, "element", {
        get: function () {
            return this._inputElement;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SingleLineEditBox.prototype, "placeholder", {
        set: function (value) {
            this._inputElement.placeholder = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SingleLineEditBox.prototype, "lineCount", {
        set: function (value) {
            // lineCount can't be set on a SingleLineEditBox
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SingleLineEditBox.prototype, "maxLength", {
        set: function (value) {
            if (this._inputElement.maxLength != value) {
                this._inputElement.maxLength = value;
                this.value = this.value.substr(0, value);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SingleLineEditBox.prototype, "value", {
        get: function () {
            return this._inputElement.value;
        },
        set: function (newValue) {
            this._inputElement.value = newValue;
        },
        enumerable: false,
        configurable: true
    });
    return SingleLineEditBox;
}(EditBox));
var MultilineEditBox = /** @class */ (function (_super) {
    __extends(MultilineEditBox, _super);
    function MultilineEditBox() {
        var _this = _super.call(this) || this;
        _this._textareaElement = document.createElement("textarea");
        _this._textareaElement.className = "ms-ctrl ms-ctrl-textbox ms-ctrl-textbox-multiline";
        _this._textareaElement.oninput = function (e) {
            _this.changed();
        };
        return _this;
    }
    Object.defineProperty(MultilineEditBox.prototype, "element", {
        get: function () {
            return this._textareaElement;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultilineEditBox.prototype, "placeholder", {
        set: function (value) {
            this._textareaElement.placeholder = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultilineEditBox.prototype, "lineCount", {
        set: function (value) {
            this._textareaElement.rows = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultilineEditBox.prototype, "maxLength", {
        set: function (value) {
            if (this._textareaElement.maxLength != value) {
                this._textareaElement.maxLength = value;
                this.value = this.value.substr(0, value);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultilineEditBox.prototype, "value", {
        get: function () {
            return this._textareaElement.value;
        },
        set: function (newValue) {
            this._textareaElement.value = newValue;
        },
        enumerable: false,
        configurable: true
    });
    return MultilineEditBox;
}(EditBox));
var TextBox = /** @class */ (function (_super) {
    __extends(TextBox, _super);
    function TextBox() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._isMultiline = false;
        _this._lineCount = 3;
        return _this;
    }
    TextBox.prototype.editBoxChanged = function () {
        if (this.onChange) {
            this.onChange(this);
        }
    };
    TextBox.prototype.recreateEditBox = function () {
        var _this = this;
        var currentValue = null;
        if (this._editBox) {
            currentValue = this._editBox.value;
        }
        else {
            currentValue = this.rootElement.innerText;
        }
        if (this._isMultiline) {
            this._editBox = new MultilineEditBox();
        }
        else {
            this._editBox = new SingleLineEditBox();
        }
        if (currentValue) {
            this._editBox.value = currentValue;
        }
        this._editBox.lineCount = this._lineCount;
        this._editBox.maxLength = this._maxLength;
        this._editBox.placeholder = this._placeholder;
        this._editBox.onChange = function () { _this.editBoxChanged(); };
        Utils.clearElement(this.rootElement);
        this.rootElement.appendChild(this._editBox.element);
    };
    Object.defineProperty(TextBox.prototype, "editBox", {
        get: function () {
            if (!this._editBox) {
                this.recreateEditBox();
            }
            return this._editBox;
        },
        enumerable: false,
        configurable: true
    });
    TextBox.prototype.attach = function (rootElement) {
        _super.prototype.attach.call(this, rootElement);
        this._isMultiline = Utils.getAttributeValueAsBool(rootElement, "ismultiline", false);
        this._lineCount = Utils.getAttributeValueAsInt(rootElement, "lines", 3);
        this._maxLength = Utils.getAttributeValueAsInt(rootElement, "maxlength", 50000);
        this._placeholder = Utils.getAttributeValueAsString(rootElement, "placeholder", null);
        this.recreateEditBox();
    };
    Object.defineProperty(TextBox.prototype, "value", {
        get: function () {
            return this.editBox.value;
        },
        set: function (newValue) {
            this.editBox.value = newValue;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TextBox.prototype, "placeholder", {
        get: function () {
            return this._placeholder;
        },
        set: function (value) {
            this._placeholder = value;
            this.editBox.placeholder = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TextBox.prototype, "isMultiline", {
        get: function () {
            return this._isMultiline;
        },
        set: function (value) {
            if (this._isMultiline != value) {
                this._isMultiline = value;
                this.recreateEditBox();
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TextBox.prototype, "lineCount", {
        get: function () {
            return this._lineCount;
        },
        set: function (value) {
            if (value > 0) {
                this._lineCount = value;
                this.editBox.lineCount = value;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TextBox.prototype, "maxLength", {
        get: function () {
            return this._maxLength;
        },
        set: function (value) {
            if (value > 0) {
                this._maxLength = value;
                this.editBox.maxLength = value;
            }
        },
        enumerable: false,
        configurable: true
    });
    return TextBox;
}(inputcontrol_1.InputControl));
exports.TextBox = TextBox;
//# sourceMappingURL=textbox.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/utils.js":
/*!**********************************************!*\
  !*** ../adaptivecards-controls/lib/utils.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.clearElement = exports.getAttributeValueAsInt = exports.getAttributeValueAsString = exports.getAttributeValueAsBool = exports.getScrollY = exports.getScrollX = exports.areDatesEqual = exports.addMonths = exports.addDays = exports.daysInMonth = exports.CalendarSettings = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Enums = __webpack_require__(/*! ./enums */ "../adaptivecards-controls/lib/enums.js");
var CalendarSettings = /** @class */ (function () {
    function CalendarSettings() {
    }
    CalendarSettings.getLongDayName = function (dayIndex) {
        if (dayIndex >= 0 && dayIndex < CalendarSettings.longDayNames.length) {
            return CalendarSettings.longDayNames[dayIndex];
        }
        throw new Error("Day index out of range: " + dayIndex);
    };
    CalendarSettings.getShortDayName = function (dayIndex) {
        if (dayIndex >= 0 && dayIndex < CalendarSettings.shortDayNames.length) {
            return CalendarSettings.shortDayNames[dayIndex];
        }
        throw new Error("Day index out of range: " + dayIndex);
    };
    CalendarSettings.getInitialDayName = function (dayIndex) {
        if (dayIndex >= 0 && dayIndex < CalendarSettings.minimalDayNames.length) {
            return CalendarSettings.minimalDayNames[dayIndex];
        }
        throw new Error("Day index out of range: " + dayIndex);
    };
    CalendarSettings.getLongMonthName = function (monthIndex) {
        if (monthIndex >= 0 && monthIndex < CalendarSettings.longMonthNames.length) {
            return CalendarSettings.longMonthNames[monthIndex];
        }
        throw new Error("Month index out of range: " + monthIndex);
    };
    CalendarSettings.getShortMonthName = function (monthIndex) {
        if (monthIndex >= 0 && monthIndex < CalendarSettings.shortMonthNames.length) {
            return CalendarSettings.shortMonthNames[monthIndex];
        }
        throw new Error("Month index out of range: " + monthIndex);
    };
    CalendarSettings.monthsInYear = 12;
    CalendarSettings.daysInWeek = 7;
    CalendarSettings.firstDayOfWeek = Enums.DayOfWeek.Sunday;
    CalendarSettings.longDayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    CalendarSettings.shortDayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
    CalendarSettings.minimalDayNames = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
    CalendarSettings.longMonthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    CalendarSettings.shortMonthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    return CalendarSettings;
}());
exports.CalendarSettings = CalendarSettings;
function daysInMonth(year, month) {
    switch (month) {
        case 1:
            return (year % 4 == 0 && year % 100) || year % 400 == 0 ? 29 : 28;
        case 3:
        case 5:
        case 8:
        case 10:
            return 30;
        default:
            return 31;
    }
}
exports.daysInMonth = daysInMonth;
function addDays(date, days) {
    var result = new Date(date.getTime());
    result.setDate(result.getDate() + days);
    return result;
}
exports.addDays = addDays;
function addMonths(date, months) {
    var result = new Date(date.getTime());
    var newMonth = result.getMonth() + months;
    result.setMonth(newMonth);
    // We want to maintain the same day-of-month, but that may not be possible if the new month doesn't have enough days.
    // Loop until we back up to a day the new month has.
    // (Weird modulo math is due to Javascript's treatment of negative numbers in modulo)
    if (result.getMonth() !== ((newMonth % CalendarSettings.monthsInYear) + CalendarSettings.monthsInYear) % CalendarSettings.monthsInYear) {
        result = addDays(result, -result.getDate());
    }
    return result;
}
exports.addMonths = addMonths;
function areDatesEqual(date1, date2) {
    return date1.getFullYear() == date2.getFullYear() &&
        date1.getMonth() == date2.getMonth() &&
        date1.getDate() == date2.getDate();
}
exports.areDatesEqual = areDatesEqual;
function getScrollX() {
    return window.pageXOffset;
}
exports.getScrollX = getScrollX;
function getScrollY() {
    return window.pageYOffset;
}
exports.getScrollY = getScrollY;
function getAttributeValueAsBool(element, attributeName, defaultValue) {
    var attribute = element.attributes[attributeName];
    if (attribute) {
        return attribute.value === "true";
    }
    return defaultValue;
}
exports.getAttributeValueAsBool = getAttributeValueAsBool;
function getAttributeValueAsString(element, attributeName, defaultValue) {
    var attribute = element.attributes[attributeName];
    if (attribute) {
        return attribute.value;
    }
    return defaultValue;
}
exports.getAttributeValueAsString = getAttributeValueAsString;
function getAttributeValueAsInt(element, attributeName, defaultValue) {
    var attribute = element.attributes[attributeName];
    if (attribute) {
        var n = parseInt(attribute.value);
        if (!isNaN(n)) {
            return n;
        }
    }
    return defaultValue;
}
exports.getAttributeValueAsInt = getAttributeValueAsInt;
function clearElement(element) {
    var _a, _b;
    var trustedHtml = (typeof window === 'undefined') ? "" : ((_b = (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.emptyHTML) !== null && _b !== void 0 ? _b : "");
    element.innerHTML = trustedHtml;
}
exports.clearElement = clearElement;
//# sourceMappingURL=utils.js.map

/***/ }),

/***/ "./node_modules/clipboard/dist/clipboard.js":
/*!**************************************************!*\
  !*** ./node_modules/clipboard/dist/clipboard.js ***!
  \**************************************************/
/***/ (function(module) {

/*!
 * clipboard.js v2.0.8
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(true)
		module.exports = factory();
	else {}
})(this, function() {
return /******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 134:
/***/ (function(__unused_webpack_module, __webpack_exports__, __nested_webpack_require_622__) {

"use strict";

// EXPORTS
__nested_webpack_require_622__.d(__webpack_exports__, {
  "default": function() { return /* binding */ clipboard; }
});

// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js
var tiny_emitter = __nested_webpack_require_622__(279);
var tiny_emitter_default = /*#__PURE__*/__nested_webpack_require_622__.n(tiny_emitter);
// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js
var listen = __nested_webpack_require_622__(370);
var listen_default = /*#__PURE__*/__nested_webpack_require_622__.n(listen);
// EXTERNAL MODULE: ./node_modules/select/src/select.js
var src_select = __nested_webpack_require_622__(817);
var select_default = /*#__PURE__*/__nested_webpack_require_622__.n(src_select);
;// CONCATENATED MODULE: ./src/clipboard-action.js
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }


/**
 * Inner class which performs selection from either `text` or `target`
 * properties and then executes copy or cut operations.
 */

var ClipboardAction = /*#__PURE__*/function () {
  /**
   * @param {Object} options
   */
  function ClipboardAction(options) {
    _classCallCheck(this, ClipboardAction);

    this.resolveOptions(options);
    this.initSelection();
  }
  /**
   * Defines base properties passed from constructor.
   * @param {Object} options
   */


  _createClass(ClipboardAction, [{
    key: "resolveOptions",
    value: function resolveOptions() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.action = options.action;
      this.container = options.container;
      this.emitter = options.emitter;
      this.target = options.target;
      this.text = options.text;
      this.trigger = options.trigger;
      this.selectedText = '';
    }
    /**
     * Decides which selection strategy is going to be applied based
     * on the existence of `text` and `target` properties.
     */

  }, {
    key: "initSelection",
    value: function initSelection() {
      if (this.text) {
        this.selectFake();
      } else if (this.target) {
        this.selectTarget();
      }
    }
    /**
     * Creates a fake textarea element, sets its value from `text` property,
     */

  }, {
    key: "createFakeElement",
    value: function createFakeElement() {
      var isRTL = document.documentElement.getAttribute('dir') === 'rtl';
      this.fakeElem = document.createElement('textarea'); // Prevent zooming on iOS

      this.fakeElem.style.fontSize = '12pt'; // Reset box model

      this.fakeElem.style.border = '0';
      this.fakeElem.style.padding = '0';
      this.fakeElem.style.margin = '0'; // Move element out of screen horizontally

      this.fakeElem.style.position = 'absolute';
      this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically

      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      this.fakeElem.style.top = "".concat(yPosition, "px");
      this.fakeElem.setAttribute('readonly', '');
      this.fakeElem.value = this.text;
      return this.fakeElem;
    }
    /**
     * Get's the value of fakeElem,
     * and makes a selection on it.
     */

  }, {
    key: "selectFake",
    value: function selectFake() {
      var _this = this;

      var fakeElem = this.createFakeElement();

      this.fakeHandlerCallback = function () {
        return _this.removeFake();
      };

      this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;
      this.container.appendChild(fakeElem);
      this.selectedText = select_default()(fakeElem);
      this.copyText();
      this.removeFake();
    }
    /**
     * Only removes the fake element after another click event, that way
     * a user can hit `Ctrl+C` to copy because selection still exists.
     */

  }, {
    key: "removeFake",
    value: function removeFake() {
      if (this.fakeHandler) {
        this.container.removeEventListener('click', this.fakeHandlerCallback);
        this.fakeHandler = null;
        this.fakeHandlerCallback = null;
      }

      if (this.fakeElem) {
        this.container.removeChild(this.fakeElem);
        this.fakeElem = null;
      }
    }
    /**
     * Selects the content from element passed on `target` property.
     */

  }, {
    key: "selectTarget",
    value: function selectTarget() {
      this.selectedText = select_default()(this.target);
      this.copyText();
    }
    /**
     * Executes the copy operation based on the current selection.
     */

  }, {
    key: "copyText",
    value: function copyText() {
      var succeeded;

      try {
        succeeded = document.execCommand(this.action);
      } catch (err) {
        succeeded = false;
      }

      this.handleResult(succeeded);
    }
    /**
     * Fires an event based on the copy operation result.
     * @param {Boolean} succeeded
     */

  }, {
    key: "handleResult",
    value: function handleResult(succeeded) {
      this.emitter.emit(succeeded ? 'success' : 'error', {
        action: this.action,
        text: this.selectedText,
        trigger: this.trigger,
        clearSelection: this.clearSelection.bind(this)
      });
    }
    /**
     * Moves focus away from `target` and back to the trigger, removes current selection.
     */

  }, {
    key: "clearSelection",
    value: function clearSelection() {
      if (this.trigger) {
        this.trigger.focus();
      }

      document.activeElement.blur();
      window.getSelection().removeAllRanges();
    }
    /**
     * Sets the `action` to be performed which can be either 'copy' or 'cut'.
     * @param {String} action
     */

  }, {
    key: "destroy",

    /**
     * Destroy lifecycle.
     */
    value: function destroy() {
      this.removeFake();
    }
  }, {
    key: "action",
    set: function set() {
      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';
      this._action = action;

      if (this._action !== 'copy' && this._action !== 'cut') {
        throw new Error('Invalid "action" value, use either "copy" or "cut"');
      }
    }
    /**
     * Gets the `action` property.
     * @return {String}
     */
    ,
    get: function get() {
      return this._action;
    }
    /**
     * Sets the `target` property using an element
     * that will be have its content copied.
     * @param {Element} target
     */

  }, {
    key: "target",
    set: function set(target) {
      if (target !== undefined) {
        if (target && _typeof(target) === 'object' && target.nodeType === 1) {
          if (this.action === 'copy' && target.hasAttribute('disabled')) {
            throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
          }

          if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {
            throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
          }

          this._target = target;
        } else {
          throw new Error('Invalid "target" value, use a valid Element');
        }
      }
    }
    /**
     * Gets the `target` property.
     * @return {String|HTMLElement}
     */
    ,
    get: function get() {
      return this._target;
    }
  }]);

  return ClipboardAction;
}();

/* harmony default export */ var clipboard_action = (ClipboardAction);
;// CONCATENATED MODULE: ./src/clipboard.js
function clipboard_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return clipboard_typeof(obj); }

function clipboard_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function clipboard_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function clipboard_createClass(Constructor, protoProps, staticProps) { if (protoProps) clipboard_defineProperties(Constructor.prototype, protoProps); if (staticProps) clipboard_defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }




/**
 * Helper function to retrieve attribute value.
 * @param {String} suffix
 * @param {Element} element
 */

function getAttributeValue(suffix, element) {
  var attribute = "data-clipboard-".concat(suffix);

  if (!element.hasAttribute(attribute)) {
    return;
  }

  return element.getAttribute(attribute);
}
/**
 * Base class which takes one or more elements, adds event listeners to them,
 * and instantiates a new `ClipboardAction` on each click.
 */


var Clipboard = /*#__PURE__*/function (_Emitter) {
  _inherits(Clipboard, _Emitter);

  var _super = _createSuper(Clipboard);

  /**
   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger
   * @param {Object} options
   */
  function Clipboard(trigger, options) {
    var _this;

    clipboard_classCallCheck(this, Clipboard);

    _this = _super.call(this);

    _this.resolveOptions(options);

    _this.listenClick(trigger);

    return _this;
  }
  /**
   * Defines if attributes would be resolved using internal setter functions
   * or custom functions that were passed in the constructor.
   * @param {Object} options
   */


  clipboard_createClass(Clipboard, [{
    key: "resolveOptions",
    value: function resolveOptions() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;
      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;
      this.text = typeof options.text === 'function' ? options.text : this.defaultText;
      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;
    }
    /**
     * Adds a click event listener to the passed trigger.
     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger
     */

  }, {
    key: "listenClick",
    value: function listenClick(trigger) {
      var _this2 = this;

      this.listener = listen_default()(trigger, 'click', function (e) {
        return _this2.onClick(e);
      });
    }
    /**
     * Defines a new `ClipboardAction` on each click event.
     * @param {Event} e
     */

  }, {
    key: "onClick",
    value: function onClick(e) {
      var trigger = e.delegateTarget || e.currentTarget;

      if (this.clipboardAction) {
        this.clipboardAction = null;
      }

      this.clipboardAction = new clipboard_action({
        action: this.action(trigger),
        target: this.target(trigger),
        text: this.text(trigger),
        container: this.container,
        trigger: trigger,
        emitter: this
      });
    }
    /**
     * Default `action` lookup function.
     * @param {Element} trigger
     */

  }, {
    key: "defaultAction",
    value: function defaultAction(trigger) {
      return getAttributeValue('action', trigger);
    }
    /**
     * Default `target` lookup function.
     * @param {Element} trigger
     */

  }, {
    key: "defaultTarget",
    value: function defaultTarget(trigger) {
      var selector = getAttributeValue('target', trigger);

      if (selector) {
        return document.querySelector(selector);
      }
    }
    /**
     * Returns the support of the given action, or all actions if no action is
     * given.
     * @param {String} [action]
     */

  }, {
    key: "defaultText",

    /**
     * Default `text` lookup function.
     * @param {Element} trigger
     */
    value: function defaultText(trigger) {
      return getAttributeValue('text', trigger);
    }
    /**
     * Destroy lifecycle.
     */

  }, {
    key: "destroy",
    value: function destroy() {
      this.listener.destroy();

      if (this.clipboardAction) {
        this.clipboardAction.destroy();
        this.clipboardAction = null;
      }
    }
  }], [{
    key: "isSupported",
    value: function isSupported() {
      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];
      var actions = typeof action === 'string' ? [action] : action;
      var support = !!document.queryCommandSupported;
      actions.forEach(function (action) {
        support = support && !!document.queryCommandSupported(action);
      });
      return support;
    }
  }]);

  return Clipboard;
}((tiny_emitter_default()));

/* harmony default export */ var clipboard = (Clipboard);

/***/ }),

/***/ 828:
/***/ (function(module) {

var DOCUMENT_NODE_TYPE = 9;

/**
 * A polyfill for Element.matches()
 */
if (typeof Element !== 'undefined' && !Element.prototype.matches) {
    var proto = Element.prototype;

    proto.matches = proto.matchesSelector ||
                    proto.mozMatchesSelector ||
                    proto.msMatchesSelector ||
                    proto.oMatchesSelector ||
                    proto.webkitMatchesSelector;
}

/**
 * Finds the closest parent that matches a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @return {Function}
 */
function closest (element, selector) {
    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
        if (typeof element.matches === 'function' &&
            element.matches(selector)) {
          return element;
        }
        element = element.parentNode;
    }
}

module.exports = closest;


/***/ }),

/***/ 438:
/***/ (function(module, __unused_webpack_exports, __nested_webpack_require_17417__) {

var closest = __nested_webpack_require_17417__(828);

/**
 * Delegates event to a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function _delegate(element, selector, type, callback, useCapture) {
    var listenerFn = listener.apply(this, arguments);

    element.addEventListener(type, listenerFn, useCapture);

    return {
        destroy: function() {
            element.removeEventListener(type, listenerFn, useCapture);
        }
    }
}

/**
 * Delegates event to a selector.
 *
 * @param {Element|String|Array} [elements]
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function delegate(elements, selector, type, callback, useCapture) {
    // Handle the regular Element usage
    if (typeof elements.addEventListener === 'function') {
        return _delegate.apply(null, arguments);
    }

    // Handle Element-less usage, it defaults to global delegation
    if (typeof type === 'function') {
        // Use `document` as the first parameter, then apply arguments
        // This is a short way to .unshift `arguments` without running into deoptimizations
        return _delegate.bind(null, document).apply(null, arguments);
    }

    // Handle Selector-based usage
    if (typeof elements === 'string') {
        elements = document.querySelectorAll(elements);
    }

    // Handle Array-like based usage
    return Array.prototype.map.call(elements, function (element) {
        return _delegate(element, selector, type, callback, useCapture);
    });
}

/**
 * Finds closest match and invokes callback.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @return {Function}
 */
function listener(element, selector, type, callback) {
    return function(e) {
        e.delegateTarget = closest(e.target, selector);

        if (e.delegateTarget) {
            callback.call(element, e);
        }
    }
}

module.exports = delegate;


/***/ }),

/***/ 879:
/***/ (function(__unused_webpack_module, exports) {

/**
 * Check if argument is a HTML element.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.node = function(value) {
    return value !== undefined
        && value instanceof HTMLElement
        && value.nodeType === 1;
};

/**
 * Check if argument is a list of HTML elements.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.nodeList = function(value) {
    var type = Object.prototype.toString.call(value);

    return value !== undefined
        && (type === '[object NodeList]' || type === '[object HTMLCollection]')
        && ('length' in value)
        && (value.length === 0 || exports.node(value[0]));
};

/**
 * Check if argument is a string.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.string = function(value) {
    return typeof value === 'string'
        || value instanceof String;
};

/**
 * Check if argument is a function.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.fn = function(value) {
    var type = Object.prototype.toString.call(value);

    return type === '[object Function]';
};


/***/ }),

/***/ 370:
/***/ (function(module, __unused_webpack_exports, __nested_webpack_require_20781__) {

var is = __nested_webpack_require_20781__(879);
var delegate = __nested_webpack_require_20781__(438);

/**
 * Validates all params and calls the right
 * listener function based on its target type.
 *
 * @param {String|HTMLElement|HTMLCollection|NodeList} target
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listen(target, type, callback) {
    if (!target && !type && !callback) {
        throw new Error('Missing required arguments');
    }

    if (!is.string(type)) {
        throw new TypeError('Second argument must be a String');
    }

    if (!is.fn(callback)) {
        throw new TypeError('Third argument must be a Function');
    }

    if (is.node(target)) {
        return listenNode(target, type, callback);
    }
    else if (is.nodeList(target)) {
        return listenNodeList(target, type, callback);
    }
    else if (is.string(target)) {
        return listenSelector(target, type, callback);
    }
    else {
        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');
    }
}

/**
 * Adds an event listener to a HTML element
 * and returns a remove listener function.
 *
 * @param {HTMLElement} node
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenNode(node, type, callback) {
    node.addEventListener(type, callback);

    return {
        destroy: function() {
            node.removeEventListener(type, callback);
        }
    }
}

/**
 * Add an event listener to a list of HTML elements
 * and returns a remove listener function.
 *
 * @param {NodeList|HTMLCollection} nodeList
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenNodeList(nodeList, type, callback) {
    Array.prototype.forEach.call(nodeList, function(node) {
        node.addEventListener(type, callback);
    });

    return {
        destroy: function() {
            Array.prototype.forEach.call(nodeList, function(node) {
                node.removeEventListener(type, callback);
            });
        }
    }
}

/**
 * Add an event listener to a selector
 * and returns a remove listener function.
 *
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenSelector(selector, type, callback) {
    return delegate(document.body, selector, type, callback);
}

module.exports = listen;


/***/ }),

/***/ 817:
/***/ (function(module) {

function select(element) {
    var selectedText;

    if (element.nodeName === 'SELECT') {
        element.focus();

        selectedText = element.value;
    }
    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {
        var isReadOnly = element.hasAttribute('readonly');

        if (!isReadOnly) {
            element.setAttribute('readonly', '');
        }

        element.select();
        element.setSelectionRange(0, element.value.length);

        if (!isReadOnly) {
            element.removeAttribute('readonly');
        }

        selectedText = element.value;
    }
    else {
        if (element.hasAttribute('contenteditable')) {
            element.focus();
        }

        var selection = window.getSelection();
        var range = document.createRange();

        range.selectNodeContents(element);
        selection.removeAllRanges();
        selection.addRange(range);

        selectedText = selection.toString();
    }

    return selectedText;
}

module.exports = select;


/***/ }),

/***/ 279:
/***/ (function(module) {

function E () {
  // Keep this empty so it's easier to inherit from
  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)
}

E.prototype = {
  on: function (name, callback, ctx) {
    var e = this.e || (this.e = {});

    (e[name] || (e[name] = [])).push({
      fn: callback,
      ctx: ctx
    });

    return this;
  },

  once: function (name, callback, ctx) {
    var self = this;
    function listener () {
      self.off(name, listener);
      callback.apply(ctx, arguments);
    };

    listener._ = callback
    return this.on(name, listener, ctx);
  },

  emit: function (name) {
    var data = [].slice.call(arguments, 1);
    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();
    var i = 0;
    var len = evtArr.length;

    for (i; i < len; i++) {
      evtArr[i].fn.apply(evtArr[i].ctx, data);
    }

    return this;
  },

  off: function (name, callback) {
    var e = this.e || (this.e = {});
    var evts = e[name];
    var liveEvents = [];

    if (evts && callback) {
      for (var i = 0, len = evts.length; i < len; i++) {
        if (evts[i].fn !== callback && evts[i].fn._ !== callback)
          liveEvents.push(evts[i]);
      }
    }

    // Remove event from queue to prevent memory leak
    // Suggested by https://github.com/lazd
    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910

    (liveEvents.length)
      ? e[name] = liveEvents
      : delete e[name];

    return this;
  }
};

module.exports = E;
module.exports.TinyEmitter = E;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __nested_webpack_require_26163__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __nested_webpack_require_26163__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__nested_webpack_require_26163__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__nested_webpack_require_26163__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__nested_webpack_require_26163__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__nested_webpack_require_26163__.o(definition, key) && !__nested_webpack_require_26163__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__nested_webpack_require_26163__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	// module exports must be returned from runtime so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	return __nested_webpack_require_26163__(134);
/******/ })()
.default;
});

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "v1": () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "v3": () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "v4": () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "v5": () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "NIL": () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "version": () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "validate": () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_6__["default"]),
/* harmony export */   "stringify": () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_7__["default"]),
/* harmony export */   "parse": () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_8__["default"])
/* harmony export */ });
/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ "./node_modules/uuid/dist/esm-browser/v1.js");
/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ "./node_modules/uuid/dist/esm-browser/v3.js");
/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ "./node_modules/uuid/dist/esm-browser/v4.js");
/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ "./node_modules/uuid/dist/esm-browser/v5.js");
/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ "./node_modules/uuid/dist/esm-browser/nil.js");
/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ "./node_modules/uuid/dist/esm-browser/version.js");
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");
/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ "./node_modules/uuid/dist/esm-browser/parse.js");










/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/md5.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/md5.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/*
 * Browser-compatible JavaScript MD5
 *
 * Modification of JavaScript MD5
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 *
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */
function md5(bytes) {
  if (typeof bytes === 'string') {
    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape

    bytes = new Uint8Array(msg.length);

    for (var i = 0; i < msg.length; ++i) {
      bytes[i] = msg.charCodeAt(i);
    }
  }

  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));
}
/*
 * Convert an array of little-endian words to an array of bytes
 */


function md5ToHexEncodedArray(input) {
  var output = [];
  var length32 = input.length * 32;
  var hexTab = '0123456789abcdef';

  for (var i = 0; i < length32; i += 8) {
    var x = input[i >> 5] >>> i % 32 & 0xff;
    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);
    output.push(hex);
  }

  return output;
}
/**
 * Calculate output length with padding and bit length
 */


function getOutputLength(inputLength8) {
  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;
}
/*
 * Calculate the MD5 of an array of little-endian words, and a bit length.
 */


function wordsToMd5(x, len) {
  /* append padding */
  x[len >> 5] |= 0x80 << len % 32;
  x[getOutputLength(len) - 1] = len;
  var a = 1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d = 271733878;

  for (var i = 0; i < x.length; i += 16) {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;
    a = md5ff(a, b, c, d, x[i], 7, -680876936);
    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);
    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);
    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);
    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);
    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);
    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);
    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);
    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);
    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);
    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);
    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);
    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);
    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);
    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);
    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);
    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);
    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);
    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);
    b = md5gg(b, c, d, a, x[i], 20, -373897302);
    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);
    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);
    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);
    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);
    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);
    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);
    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);
    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);
    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);
    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);
    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);
    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);
    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);
    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);
    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);
    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);
    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);
    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);
    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);
    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);
    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);
    d = md5hh(d, a, b, c, x[i], 11, -358537222);
    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);
    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);
    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);
    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);
    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);
    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);
    a = md5ii(a, b, c, d, x[i], 6, -198630844);
    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);
    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);
    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);
    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);
    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);
    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);
    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);
    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);
    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);
    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);
    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);
    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);
    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);
    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);
    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);
    a = safeAdd(a, olda);
    b = safeAdd(b, oldb);
    c = safeAdd(c, oldc);
    d = safeAdd(d, oldd);
  }

  return [a, b, c, d];
}
/*
 * Convert an array bytes to an array of little-endian words
 * Characters >255 have their high-byte silently ignored.
 */


function bytesToWords(input) {
  if (input.length === 0) {
    return [];
  }

  var length8 = input.length * 8;
  var output = new Uint32Array(getOutputLength(length8));

  for (var i = 0; i < length8; i += 8) {
    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;
  }

  return output;
}
/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally
 * to work around bugs in some JS interpreters.
 */


function safeAdd(x, y) {
  var lsw = (x & 0xffff) + (y & 0xffff);
  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
  return msw << 16 | lsw & 0xffff;
}
/*
 * Bitwise rotate a 32-bit number to the left.
 */


function bitRotateLeft(num, cnt) {
  return num << cnt | num >>> 32 - cnt;
}
/*
 * These functions implement the four basic operations the algorithm uses.
 */


function md5cmn(q, a, b, x, s, t) {
  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);
}

function md5ff(a, b, c, d, x, s, t) {
  return md5cmn(b & c | ~b & d, a, b, x, s, t);
}

function md5gg(a, b, c, d, x, s, t) {
  return md5cmn(b & d | c & ~d, a, b, x, s, t);
}

function md5hh(a, b, c, d, x, s, t) {
  return md5cmn(b ^ c ^ d, a, b, x, s, t);
}

function md5ii(a, b, c, d, x, s, t) {
  return md5cmn(c ^ (b | ~d), a, b, x, s, t);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/nil.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/nil.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/parse.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/parse.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");


function parse(uuid) {
  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {
    throw TypeError('Invalid UUID');
  }

  var v;
  var arr = new Uint8Array(16); // Parse ########-....-....-....-............

  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;
  arr[1] = v >>> 16 & 0xff;
  arr[2] = v >>> 8 & 0xff;
  arr[3] = v & 0xff; // Parse ........-####-....-....-............

  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;
  arr[5] = v & 0xff; // Parse ........-....-####-....-............

  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;
  arr[7] = v & 0xff; // Parse ........-....-....-####-............

  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;
  arr[9] = v & 0xff; // Parse ........-....-....-....-############
  // (Use "/" to avoid 32-bit truncation when bit-shifting high-order bytes)

  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;
  arr[11] = v / 0x100000000 & 0xff;
  arr[12] = v >>> 24 & 0xff;
  arr[13] = v >>> 16 & 0xff;
  arr[14] = v >>> 8 & 0xff;
  arr[15] = v & 0xff;
  return arr;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ rng)
/* harmony export */ });
// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  // lazy load so that environments that need to polyfill have a chance to do so
  if (!getRandomValues) {
    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
    // find the complete implementation of crypto (msCrypto) on IE11.
    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);

    if (!getRandomValues) {
      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
    }
  }

  return getRandomValues(rnds8);
}

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/sha1.js":
/*!****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/sha1.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// Adapted from Chris Veness' SHA1 code at
// http://www.movable-type.co.uk/scripts/sha1.html
function f(s, x, y, z) {
  switch (s) {
    case 0:
      return x & y ^ ~x & z;

    case 1:
      return x ^ y ^ z;

    case 2:
      return x & y ^ x & z ^ y & z;

    case 3:
      return x ^ y ^ z;
  }
}

function ROTL(x, n) {
  return x << n | x >>> 32 - n;
}

function sha1(bytes) {
  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];
  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];

  if (typeof bytes === 'string') {
    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape

    bytes = [];

    for (var i = 0; i < msg.length; ++i) {
      bytes.push(msg.charCodeAt(i));
    }
  } else if (!Array.isArray(bytes)) {
    // Convert Array-like to Array
    bytes = Array.prototype.slice.call(bytes);
  }

  bytes.push(0x80);
  var l = bytes.length / 4 + 2;
  var N = Math.ceil(l / 16);
  var M = new Array(N);

  for (var _i = 0; _i < N; ++_i) {
    var arr = new Uint32Array(16);

    for (var j = 0; j < 16; ++j) {
      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];
    }

    M[_i] = arr;
  }

  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);
  M[N - 1][14] = Math.floor(M[N - 1][14]);
  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;

  for (var _i2 = 0; _i2 < N; ++_i2) {
    var W = new Uint32Array(80);

    for (var t = 0; t < 16; ++t) {
      W[t] = M[_i2][t];
    }

    for (var _t = 16; _t < 80; ++_t) {
      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);
    }

    var a = H[0];
    var b = H[1];
    var c = H[2];
    var d = H[3];
    var e = H[4];

    for (var _t2 = 0; _t2 < 80; ++_t2) {
      var s = Math.floor(_t2 / 20);
      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;
      e = d;
      d = c;
      c = ROTL(b, 30) >>> 0;
      b = a;
      a = T;
    }

    H[0] = H[0] + a >>> 0;
    H[1] = H[1] + b >>> 0;
    H[2] = H[2] + c >>> 0;
    H[3] = H[3] + d >>> 0;
    H[4] = H[4] + e >>> 0;
  }

  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */

var byteToHex = [];

for (var i = 0; i < 256; ++i) {
  byteToHex.push((i + 0x100).toString(16).substr(1));
}

function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // Note: Be careful editing this code!  It's been tuned for performance
  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
  // of the following:
  // - One or more input array values don't map to a hex octet (leading to
  // "undefined" in the uuid)
  // - Invalid input values for the RFC `version` or `variant` fields

  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {
    throw TypeError('Stringified UUID is invalid');
  }

  return uuid;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v1.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v1.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ "./node_modules/uuid/dist/esm-browser/rng.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");

 // **`v1()` - Generate time-based UUID**
//
// Inspired by https://github.com/LiosK/UUID.js
// and http://docs.python.org/library/uuid.html

var _nodeId;

var _clockseq; // Previous uuid creation time


var _lastMSecs = 0;
var _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details

function v1(options, buf, offset) {
  var i = buf && offset || 0;
  var b = buf || new Array(16);
  options = options || {};
  var node = options.node || _nodeId;
  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not
  // specified.  We do this lazily to minimize issues related to insufficient
  // system entropy.  See #189

  if (node == null || clockseq == null) {
    var seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__["default"])();

    if (node == null) {
      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];
    }

    if (clockseq == null) {
      // Per 4.2.2, randomize (14 bit) clockseq
      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;
    }
  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,
  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.


  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock
  // cycle to simulate higher resolution clock

  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)

  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression

  if (dt < 0 && options.clockseq === undefined) {
    clockseq = clockseq + 1 & 0x3fff;
  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
  // time interval


  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {
    nsecs = 0;
  } // Per 4.2.1.2 Throw error if too many uuids are requested


  if (nsecs >= 10000) {
    throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
  }

  _lastMSecs = msecs;
  _lastNSecs = nsecs;
  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch

  msecs += 12219292800000; // `time_low`

  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
  b[i++] = tl >>> 24 & 0xff;
  b[i++] = tl >>> 16 & 0xff;
  b[i++] = tl >>> 8 & 0xff;
  b[i++] = tl & 0xff; // `time_mid`

  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;
  b[i++] = tmh >>> 8 & 0xff;
  b[i++] = tmh & 0xff; // `time_high_and_version`

  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version

  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)

  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`

  b[i++] = clockseq & 0xff; // `node`

  for (var n = 0; n < 6; ++n) {
    b[i + n] = node[n];
  }

  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__["default"])(b);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v3.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v3.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ "./node_modules/uuid/dist/esm-browser/v35.js");
/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ "./node_modules/uuid/dist/esm-browser/md5.js");


var v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__["default"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__["default"]);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v35.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v35.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DNS": () => (/* binding */ DNS),
/* harmony export */   "URL": () => (/* binding */ URL),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");
/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ "./node_modules/uuid/dist/esm-browser/parse.js");



function stringToBytes(str) {
  str = unescape(encodeURIComponent(str)); // UTF8 escape

  var bytes = [];

  for (var i = 0; i < str.length; ++i) {
    bytes.push(str.charCodeAt(i));
  }

  return bytes;
}

var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';
var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(name, version, hashfunc) {
  function generateUUID(value, namespace, buf, offset) {
    if (typeof value === 'string') {
      value = stringToBytes(value);
    }

    if (typeof namespace === 'string') {
      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__["default"])(namespace);
    }

    if (namespace.length !== 16) {
      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');
    } // Compute hash of namespace and value, Per 4.3
    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =
    // hashfunc([...namespace, ... value])`


    var bytes = new Uint8Array(16 + value.length);
    bytes.set(namespace);
    bytes.set(value, namespace.length);
    bytes = hashfunc(bytes);
    bytes[6] = bytes[6] & 0x0f | version;
    bytes[8] = bytes[8] & 0x3f | 0x80;

    if (buf) {
      offset = offset || 0;

      for (var i = 0; i < 16; ++i) {
        buf[offset + i] = bytes[i];
      }

      return buf;
    }

    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__["default"])(bytes);
  } // Function#name is not settable on some platforms (#270)


  try {
    generateUUID.name = name; // eslint-disable-next-line no-empty
  } catch (err) {} // For CommonJS default export support


  generateUUID.DNS = DNS;
  generateUUID.URL = URL;
  return generateUUID;
}

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ "./node_modules/uuid/dist/esm-browser/rng.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");



function v4(options, buf, offset) {
  options = options || {};
  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__["default"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

  if (buf) {
    offset = offset || 0;

    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }

    return buf;
  }

  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__["default"])(rnds);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v5.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v5.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ "./node_modules/uuid/dist/esm-browser/v35.js");
/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ "./node_modules/uuid/dist/esm-browser/sha1.js");


var v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__["default"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__["default"]);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ "./node_modules/uuid/dist/esm-browser/regex.js");


function validate(uuid) {
  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__["default"].test(uuid);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/version.js":
/*!*******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/version.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");


function version(uuid) {
  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {
    throw TypeError('Invalid UUID');
  }

  return parseInt(uuid.substr(14, 1), 16);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);

/***/ }),

/***/ "./src/adaptive-card-schema.ts":
/*!*************************************!*\
  !*** ./src/adaptive-card-schema.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.adaptiveCardSchema = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
exports.adaptiveCardSchema = {
    "$schema": "http://json-schema.org/draft-06/schema#",
    "id": "http://adaptivecards.io/schemas/adaptive-card.json",
    "type": "object",
    "title": "Microsoft Adaptive Card Schema",
    "additionalProperties": true,
    "allOf": [
        {
            "$ref": "#/definitions/AdaptiveCard"
        }
    ],
    "properties": {
        "version": {
            "type": "string",
            "description": "version of schema that this card was authored "
        },
        "minVersion": {
            "type": "string",
            "description": "if a client doesn't support the minVersion the card should be rejected and return the fallbackText.  If it does, then the elements that are not supported are safe to ignore"
        },
        "fallbackText": {
            "type": "string",
            "description": "if a client is not able to show the card, show fallbackText to the user. This can be in markdown format. "
        },
        "speak": {
            "type": "string",
            "description": "Specifies what should be spoken for this entire Item. This is simple text or SSML fragment"
        }
    },
    "required": [
        "version"
    ],
    "definitions": {
        "Action": {
            "anyOf": [
                {
                    "$ref": "#/definitions/Action.Submit"
                },
                {
                    "$ref": "#/definitions/Action.ShowCard"
                },
                {
                    "$ref": "#/definitions/Action.OpenUrl"
                }
            ]
        },
        "Action.OpenUrl": {
            "additionalProperties": true,
            "description": "When Action.OpenUrl is invoked it will show the given url, either by launching it to an external web browser or showing in-situ with embedded web browser.",
            "properties": {
                "title": {
                    "type": "string",
                    "description": "Label for button or link that represents this action"
                },
                "type": {
                    "type": "string",
                    "description": "Must be Action.OpenUrl",
                    "enum": [
                        "Action.OpenUrl"
                    ]
                },
                "url": {
                    "type": "string",
                    "description": "The URL to open"
                }
            },
            "required": [
                "type",
                "url"
            ],
            "type": "object"
        },
        "Action.ShowCard": {
            "type": "object",
            "additionalProperties": true,
            "description": "Action.ShowCard defines an inline AdaptiveCard which is shown to the user when it is clicked.",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "Must be Action.ShowCard",
                    "enum": [
                        "Action.ShowCard"
                    ]
                },
                "title": {
                    "type": "string",
                    "description": "Label for button or link that represents this action"
                },
                "card": {
                    "$ref": "#/definitions/AdaptiveCard"
                }
            },
            "required": [
                "type",
                "card"
            ]
        },
        "Action.Submit": {
            "type": "object",
            "additionalProperties": true,
            "description": "Submit action gathers up input fields, merges with optional data field and generates event to client asking for data to be submitted. It is up to the client to determine how that data is processed. For example: With BotFramework bots the client would send an activity through the messaging medium to the bot.",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "Must be Action.Submit",
                    "enum": [
                        "Action.Submit"
                    ]
                },
                "title": {
                    "type": "string",
                    "description": "Label for button or link that represents this action"
                },
                "data": {
                    "type": ["string", "object"],
                    "description": "initial data that input fields will be combined with. This is essentially 'hidden' properties"
                }
            },
            "required": [
                "type"
            ]
        },
        "Actions": {
            "additionalItems": true,
            "items": {
                "$ref": "#/definitions/Action"
            },
            "type": "array"
        },
        "AdaptiveCard": {
            "additionalProperties": true,
            "type": "object",
            "description": "Card schema for an adaptive card",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "Must be AdaptiveCard",
                    "enum": [
                        "AdaptiveCard"
                    ]
                },
                "actions": {
                    "description": "The Actions to show in the card's action bar",
                    "$ref": "#/definitions/Actions"
                },
                "body": {
                    "type": ["object", "array"],
                    "description": "The Card Elements to show in the primary card region",
                    "$ref": "#/definitions/CardElements"
                }
            },
            "required": [
                "type",
                "version"
            ]
        },
        "CardElement": {
            "additionalProperties": true,
            "properties": {
                "type": {
                    "type": "string"
                },
                "id": {
                    "type": "string",
                    "description": "A unique Id associated with the element"
                },
                "spacing": {
                    "$ref": "#/definitions/SpacingStyle"
                },
                "separator": {
                    "type": "boolean",
                    "description": "The Separator object type describes the look and feel of a separation line between two elements.",
                    "default": false
                }
            },
            "required": [
                "type"
            ]
        },
        "CardElements": {
            "type": "array",
            "additionalItems": true,
            "items": [
                {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/TextBlock"
                        },
                        {
                            "$ref": "#/definitions/Image"
                        },
                        {
                            "$ref": "#/definitions/Container"
                        },
                        {
                            "$ref": "#/definitions/ColumnSet"
                        },
                        {
                            "$ref": "#/definitions/FactSet"
                        },
                        {
                            "$ref": "#/definitions/ImageSet"
                        },
                        {
                            "$ref": "#/definitions/Input.Text"
                        },
                        {
                            "$ref": "#/definitions/Input.Number"
                        },
                        {
                            "$ref": "#/definitions/Input.Date"
                        },
                        {
                            "$ref": "#/definitions/Input.Time"
                        },
                        {
                            "$ref": "#/definitions/Input.Toggle"
                        },
                        {
                            "$ref": "#/definitions/Input.ChoiceSet"
                        }
                    ]
                }
            ]
        },
        "Input.Choice": {
            "type": "object",
            "description": "Describes a Choice input. The value should be a simple string without a \",\"",
            "additionalProperties": true,
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Input.Choice"
                    ]
                },
                "title": {
                    "type": "string",
                    "description": "The text for a choice"
                },
                "value": {
                    "type": "string",
                    "description": "The raw value for the choice. NOTE: do not use a \",\" in the value, since MultiSelect ChoiceSet returns a comma-delimited string of choice values"
                }
            },
            "required": [
                "title",
                "value"
            ]
        },
        "ChoiceInputStyle": {
            "type": "string",
            "description": "Style hint for Input.ChoiceSet",
            "enum": [
                "compact",
                "expanded"
            ]
        },
        "Column": {
            "additionalProperties": true,
            "type": "object",
            "description": "Defines a container that is part of a ColumnSet",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "items": {
                    "description": "The Card Elements to include in the Column",
                    "$ref": "#/definitions/CardElements"
                },
                "selectAction": {
                    "description": "An Action that will be invoked when the Column is tapped or selected",
                    "$ref": "#/definitions/Action"
                },
                "width": {
                    "type": [
                        "string",
                        "number"
                    ],
                    "description": "\"auto\", \"stretch\", or a number representing relative width of the column in the column group"
                },
                "type": {
                    "type": "string",
                    "description": "Must be Column",
                    "enum": [
                        "Column"
                    ]
                }
            },
            "required": [
                "items"
            ]
        },
        "ColumnSet": {
            "additionalProperties": true,
            "type": "object",
            "description": "ColumnSet divides a region into Column's allowing elements to sit side-by-side",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "columns": {
                    "type": "array",
                    "description": "The array of Columns to divide the region into",
                    "items": {
                        "$ref": "#/definitions/Column"
                    }
                },
                "selectAction": {
                    "$ref": "#/definitions/Action",
                    "description": "The Action that is executed when the ColumnSet is clicked/tapped"
                },
                "type": {
                    "type": "string",
                    "description": "Must be ColumnSet",
                    "enum": [
                        "ColumnSet"
                    ]
                }
            }
        },
        "Container": {
            "additionalProperties": true,
            "type": "object",
            "description": "Containers group items together",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "items": {
                    "description": "The Card Elements to render inside the Container",
                    "$ref": "#/definitions/CardElements"
                },
                "selectAction": {
                    "description": "An Action that will be invoked when the Image is tapped or selected",
                    "$ref": "#/definitions/Action"
                },
                "style": {
                    "type": "string",
                    "description": "Style hint for Container",
                    "enum": [
                        "default",
                        "emphasis"
                    ]
                },
                "type": {
                    "type": "string",
                    "description": "Must be Container",
                    "enum": [
                        "Container"
                    ]
                }
            },
            "required": [
                "items"
            ]
        },
        "Fact": {
            "additionalProperties": true,
            "type": "object",
            "description": "Describes a Fact in a FactSet as a key/value pair",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Fact"
                    ]
                },
                "title": {
                    "type": "string",
                    "description": "The title of the fact"
                },
                "value": {
                    "type": "string",
                    "description": "The value of the fact"
                }
            },
            "required": [
                "title",
                "value"
            ]
        },
        "FactSet": {
            "additionalProperties": true,
            "type": "object",
            "description": "The FactSet Item makes it simple to display a series of facts (e.g. name/value pairs) in a tabular form.",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "facts": {
                    "type": "array",
                    "description": "The array of Facts",
                    "items": {
                        "$ref": "#/definitions/Fact"
                    }
                },
                "type": {
                    "type": "string",
                    "description": "Must be FactSet",
                    "enum": [
                        "FactSet"
                    ]
                }
            },
            "required": [
                "facts"
            ]
        },
        "HorizontalAlignment": {
            "type": "string",
            "description": "Controls how Items are horizontally positioned within their container.",
            "enum": [
                "left",
                "center",
                "right"
            ]
        },
        "Image": {
            "additionalProperties": true,
            "type": "object",
            "description": "The Image Item allows for the inclusion of images in an Adaptive Card.",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "altText": {
                    "type": "string",
                    "description": "Alternate text for the image for accessibility"
                },
                "horizontalAlignment": {
                    "$ref": "#/definitions/HorizontalAlignment"
                },
                "selectAction": {
                    "description": "An Action that will be invoked when the Image is tapped or selected",
                    "$ref": "#/definitions/Action"
                },
                "size": {
                    "type": "object",
                    "$ref": "#/definitions/ImageSize"
                },
                "style": {
                    "$ref": "#/definitions/ImageStyle"
                },
                "type": {
                    "type": "string",
                    "description": "Must be Image",
                    "enum": [
                        "Image"
                    ]
                },
                "url": {
                    "type": "string",
                    "description": "The URL to the image."
                }
            },
            "required": [
                "url"
            ]
        },
        "ImageSet": {
            "additionalProperties": true,
            "type": "object",
            "description": "The ImageSet allows for the inclusion of a collection images like a photogallery.",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "images": {
                    "type": "array",
                    "description": "The array of Image elements to show",
                    "items": {
                        "$ref": "#/definitions/Image"
                    }
                },
                "imageSize": {
                    "$ref": "#/definitions/ImageSize"
                },
                "type": {
                    "type": "string",
                    "description": "Must be ImageSet",
                    "enum": [
                        "ImageSet"
                    ]
                }
            },
            "required": [
                "images"
            ]
        },
        "ImageSize": {
            "type": "string",
            "description": "Controls the approximate size of the image. The physical dimensions will vary per host. Specify \"auto\" for true image dimension or \"stretch\" to force it to fill the container",
            "default": "auto",
            "enum": [
                "auto",
                "stretch",
                "small",
                "medium",
                "large"
            ]
        },
        "ImageStyle": {
            "type": "string",
            "description": "Controls the way Images are displayed",
            "enum": [
                "default",
                "person"
            ]
        },
        "Input.ChoiceSet": {
            "additionalProperties": true,
            "type": "object",
            "description": "Shows an array of Choice objects",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "choices": {
                    "type": "array",
                    "description": "the choice options",
                    "items": {
                        "$ref": "#/definitions/Input.Choice"
                    }
                },
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "isMultiSelect": {
                    "type": "boolean",
                    "description": "allow multiple choices to be selected",
                    "default": false
                },
                "style": {
                    "$ref": "#/definitions/ChoiceInputStyle"
                },
                "type": {
                    "description": "Must be Input.ChoiceInput",
                    "enum": [
                        "Input.ChoiceSet"
                    ],
                    "type": "string"
                },
                "value": {
                    "type": "string",
                    "description": "The initial choice (or set of choices) that should be selected. For multi-select, specifcy a comma-separated string of values"
                }
            },
            "required": [
                "id",
                "choices"
            ]
        },
        "Input.Date": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Date collects Date from the user,",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "max": {
                    "type": "string",
                    "description": "hint of maximum value expressed in ISO-8601 format (may be ignored by some clients)"
                },
                "min": {
                    "type": "string",
                    "description": "hint of minimum value expressed in ISO-8601 format (may be ignored by some clients)"
                },
                "placeholder": {
                    "type": "string",
                    "description": "Title Description of the input desired"
                },
                "type": {
                    "type": "string",
                    "description": "The type must be Input.Date",
                    "enum": [
                        "Input.Date"
                    ]
                },
                "value": {
                    "type": "string",
                    "description": "The initial value for a field expressed in ISO-8601 format"
                }
            },
            "required": [
                "id"
            ]
        },
        "Input.Number": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Number collects number from the user,",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "max": {
                    "type": "number",
                    "description": "hint of maximum value (may be ignored by some clients)"
                },
                "min": {
                    "type": "number",
                    "description": "hint of minimum value (may be ignored by some clients)"
                },
                "placeholder": {
                    "type": "string",
                    "description": "Title Description of the input desired"
                },
                "type": {
                    "type": "string",
                    "description": "The type must be Input.Number",
                    "enum": [
                        "Input.Number"
                    ]
                },
                "value": {
                    "type": "number",
                    "description": "The initial value for a field"
                }
            },
            "required": [
                "id"
            ]
        },
        "Input.Text": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Text collects text from the user,",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "isMultiline": {
                    "type": "boolean",
                    "description": "Do you want to allow multiple lines of input"
                },
                "maxLength": {
                    "type": "number",
                    "description": "hint of maximum length characters to collect (may be ignored by some clients)"
                },
                "placeholder": {
                    "type": "string",
                    "description": "Title Description of the input desired"
                },
                "style": {
                    "$ref": "#/definitions/TextInputStyle"
                },
                "type": {
                    "type": "string",
                    "description": "Input.Text",
                    "enum": [
                        "Input.Text"
                    ]
                },
                "value": {
                    "type": "string",
                    "description": "The initial value for a field"
                }
            },
            "required": [
                "id"
            ]
        },
        "Input.Time": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Time collects Time from the user,",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "max": {
                    "type": "string",
                    "description": "hint of maximum value (may be ignored by some clients)"
                },
                "min": {
                    "type": "string",
                    "description": "hint of minimum value (may be ignored by some clients)"
                },
                "placeholder": {
                    "type": "string",
                    "description": "Title Description of the input desired"
                },
                "type": {
                    "type": "string",
                    "description": "The type must be Input.Time",
                    "enum": [
                        "Input.Time"
                    ]
                },
                "value": {
                    "type": "string",
                    "description": "The initial value for a field expressed in ISO-8601 format"
                }
            },
            "required": [
                "id"
            ]
        },
        "Input.Toggle": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Toggle collects a true/false response from the user",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "title": {
                    "type": "string",
                    "description": "Title for the toggle"
                },
                "type": {
                    "type": "string",
                    "description": "Input.Toggle",
                    "enum": [
                        "Input.Toggle"
                    ]
                },
                "value": {
                    "type": "string",
                    "description": "The current selected value (default:false)"
                },
                "valueOff": {
                    "type": "string",
                    "description": "The value when toggle is off (default:false)"
                },
                "valueOn": {
                    "type": "string",
                    "description": "The value when toggle is on (default:true)"
                }
            },
            "required": [
                "id",
                "title"
            ]
        },
        "TextBlock": {
            "additionalProperties": true,
            "type": "object",
            "description": "The TextBlock Item allows for the inclusion of text, with various font sizes, weight and color, in Adaptive Cards.",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "color": {
                    "type": "string",
                    "description": "Controls the color of TextBlock Items.",
                    "enum": [
                        "default",
                        "dark",
                        "light",
                        "accent",
                        "good",
                        "warning",
                        "attention"
                    ]
                },
                "horizontalAlignment": {
                    "$ref": "#/definitions/HorizontalAlignment"
                },
                "isSubtle": {
                    "type": "boolean",
                    "description": "Indicates whether the color of the text should be slightly toned down to appear less prominent"
                },
                "maxLines": {
                    "type": "number",
                    "description": "When Wrap is true, you can specify the maximum number of lines to allow the textBlock to use."
                },
                "size": {
                    "type": "string",
                    "description": "controls size of the text.",
                    "enum": [
                        "small",
                        "default",
                        "medium",
                        "large",
                        "extraLarge"
                    ]
                },
                "text": {
                    "type": "string",
                    "description": "The actual text to display"
                },
                "type": {
                    "type": "string",
                    "description": "Must be TextBlock",
                    "enum": [
                        "TextBlock"
                    ]
                },
                "weight": {
                    "type": "string",
                    "description": "Controls the weight of TextBlock Items",
                    "enum": [
                        "lighter",
                        "default",
                        "bolder"
                    ]
                },
                "wrap": {
                    "type": "boolean",
                    "description": "True if be is allowed to wrap"
                }
            },
            "required": [
                "text"
            ]
        },
        "SeparatorStyle": {
            "type": "object",
            "description": "Indicates whether there should be a visible separator (e.g. a line) between the element and the one before it. If this property is not specified, no separator is displayed. If it is, a separator line is displayed. A separator will only appear if there was a preceding element.",
            "properties": {
                "thickness": {
                    "type": "string",
                    "description": "Specifies the thickness of the separation line.",
                    "enum": [
                        "default",
                        "thick"
                    ]
                },
                "color": {
                    "type": "string",
                    "description": "Specifies the color of the separation line.",
                    "enum": [
                        "default",
                        "accent"
                    ]
                }
            }
        },
        "SpacingStyle": {
            "type": "string",
            "description": "Controls the amount of spacing between this element and the previous element.",
            "enum": [
                "none",
                "small",
                "default",
                "medium",
                "large",
                "extraLarge",
                "padding"
            ]
        },
        "TextInputStyle": {
            "type": "string",
            "description": "Style hint for Input.Text.",
            "enum": [
                "text",
                "tel",
                "url",
                "email"
            ]
        }
    }
};


/***/ }),

/***/ "./src/adaptivecards-designer-standalone.ts":
/*!**************************************************!*\
  !*** ./src/adaptivecards-designer-standalone.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
__exportStar(__webpack_require__(/*! ./strings */ "./src/strings.ts"), exports);
__exportStar(__webpack_require__(/*! ./shared */ "./src/shared.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/host-container */ "./src/containers/host-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/default/default-container */ "./src/containers/default/default-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./field-picker */ "./src/field-picker.ts"), exports);
__exportStar(__webpack_require__(/*! ./card-designer-surface */ "./src/card-designer-surface.ts"), exports);
__exportStar(__webpack_require__(/*! ./card-designer */ "./src/card-designer.ts"), exports);
__exportStar(__webpack_require__(/*! ./constants */ "./src/constants.ts"), exports);
__exportStar(__webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts"), exports);
__exportStar(__webpack_require__(/*! ./designer-peers */ "./src/designer-peers.ts"), exports);
__exportStar(__webpack_require__(/*! ./peer-command */ "./src/peer-command.ts"), exports);
__exportStar(__webpack_require__(/*! ./miscellaneous */ "./src/miscellaneous.ts"), exports);
__exportStar(__webpack_require__(/*! ./settings-manager */ "./src/settings-manager.ts"), exports);
__exportStar(__webpack_require__(/*! ./side-panel */ "./src/side-panel.ts"), exports);
__exportStar(__webpack_require__(/*! ./tool-box */ "./src/tool-box.ts"), exports);
__exportStar(__webpack_require__(/*! ./toolbar */ "./src/toolbar.ts"), exports);
__exportStar(__webpack_require__(/*! ./tool-palette */ "./src/tool-palette.ts"), exports);
__exportStar(__webpack_require__(/*! ./splitter */ "./src/splitter.ts"), exports);
__exportStar(__webpack_require__(/*! ./tree-view */ "./src/tree-view.ts"), exports);
__exportStar(__webpack_require__(/*! ./base-tree-item */ "./src/base-tree-item.ts"), exports);
__exportStar(__webpack_require__(/*! ./designer-peer-treeitem */ "./src/designer-peer-treeitem.ts"), exports);
__exportStar(__webpack_require__(/*! ./data */ "./src/data.ts"), exports);
__exportStar(__webpack_require__(/*! ./catalogue */ "./src/catalogue.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/host-container */ "./src/containers/host-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/default/default-container */ "./src/containers/default/default-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./pic2card */ "./src/pic2card.ts"), exports);


/***/ }),

/***/ "./src/adaptivecards-designer.ts":
/*!***************************************!*\
  !*** ./src/adaptivecards-designer.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultMicrosoftDeviceEmulations = exports.defaultMicrosoftHosts = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var containers = __webpack_require__(/*! ./containers */ "./src/containers/index.ts");
__exportStar(__webpack_require__(/*! ./adaptivecards-designer-standalone */ "./src/adaptivecards-designer-standalone.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/index */ "./src/containers/index.ts"), exports);
exports.defaultMicrosoftHosts = [
    new containers.WebChatContainer("Bot Framework WebChat", "containers/webchat-container.css"),
    new containers.OutlookContainer("Outlook Actionable Messages", "containers/outlook-container.css"),
    new containers.TeamsContainer(),
    new containers.VivaConnectionsContainer(),
    new containers.CortanaContainer(),
    new containers.BotFrameworkContainer("Bot Framework Other Channels (Image render)", "containers/bf-image-container.css"),
    new containers.CortanaClassicContainer("Cortana Skills (Classic)", "containers/cortana-classic-container.css"),
    new containers.FederatedSearchContainer("Federated Search", "containers/federated-search-container.css"),
    new containers.WidgetContainer(containers.ContainerSize.Small),
];
exports.defaultMicrosoftDeviceEmulations = [
    { name: "Desktop (unconstrained)", maxWidth: undefined },
    { name: "Small mobile (320px)", maxWidth: "320px" },
    { name: "Large mobile (414px)", maxWidth: "414px" },
    { name: "Small tablet (768px)", maxWidth: "768px" },
    { name: "Large tablet (1024px)", maxWidth: "1024px" },
];


/***/ }),

/***/ "./src/base-tree-item.ts":
/*!*******************************!*\
  !*** ./src/base-tree-item.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BaseTreeItem = void 0;
var draggable_element_1 = __webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts");
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var uuid_1 = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/index.js");
var BaseTreeItem = /** @class */ (function (_super) {
    __extends(BaseTreeItem, _super);
    function BaseTreeItem(isExpanded) {
        if (isExpanded === void 0) { isExpanded = true; }
        var _this = _super.call(this) || this;
        _this._isExpanded = true;
        _this._isSelected = false;
        _this._level = 0;
        _this._isExpanded = isExpanded;
        return _this;
    }
    BaseTreeItem.prototype.needsToBeScrolled = function () {
        // detect the case where the treeViewHost's parent isn't currently
        // overflowed. if it *is* overflowed (has scrollbar), then scrolling is
        // appropriate. otherwise, we might be in a small-screen situation
        // (single column rendering) where scrolling is undesireable
        var treeViewHostParent = this._rootElement.closest(".acd-treeView-host").parentElement;
        return (treeViewHostParent && treeViewHostParent.scrollHeight > treeViewHostParent.clientHeight);
    };
    BaseTreeItem.prototype.setIsSelected = function (value, scrollIntoView) {
        if (this._isSelected !== value) {
            this._isSelected = value;
            if (this._isSelected) {
                this._treeItemElement.classList.add("selected");
            }
            else {
                this._treeItemElement.classList.remove("selected");
            }
            this._rootElement.setAttribute("aria-current", this._isSelected.toString());
            this.selectedChanged(scrollIntoView);
        }
    };
    BaseTreeItem.prototype.click = function (e) {
        _super.prototype.click.call(this, e);
        this.setIsSelected(true, false);
    };
    BaseTreeItem.prototype.getIconClass = function () {
        return null;
    };
    BaseTreeItem.prototype.getAdditionalText = function () {
        return null;
    };
    BaseTreeItem.prototype.getAdditionalTextClass = function () {
        return "acd-tree-item-additionalText";
    };
    BaseTreeItem.prototype.getIndentationLevelIncrement = function () {
        return 8;
    };
    BaseTreeItem.prototype.getDragSourceElement = function () {
        return this._treeItemElement;
    };
    BaseTreeItem.prototype.selectedChanged = function (scrollIntoView) {
        if (this.isSelected && scrollIntoView && this.needsToBeScrolled()) {
            this._rootElement.scrollIntoView();
        }
        if (this.onSelectedChange) {
            this.onSelectedChange(this);
        }
    };
    BaseTreeItem.prototype.getExpandCollapseAriaText = function () {
        return (this._isExpanded ? "collapse" : "expand") + " " + this.getLabelText() + " element";
    };
    BaseTreeItem.prototype.internalRender = function () {
        var _this = this;
        var hasChildren = (this.getChildCount() > 0);
        var labelId = (0, uuid_1.v4)();
        this._rootElement = document.createElement("li");
        this._rootElement.style.paddingLeft = "0";
        this._rootElement.style.listStyleType = "none";
        this._rootElement.setAttribute("aria-labelledby", labelId);
        this._rootElement.setAttribute("aria-level", this._level.toString());
        this._rootElement.setAttribute("aria-current", this._isSelected.toString());
        this._rootElement.tabIndex = 0;
        if (hasChildren) {
            this._rootElement.setAttribute("aria-expanded", this._isExpanded.toString());
        }
        this._rootElement.setAttribute("role", "treeitem");
        this._rootElement.onclick = function () { _this.click; };
        this._rootElement.onkeydown = function (e) {
            if (e.key === adaptivecards_controls_1.Constants.keys.enter || e.key === adaptivecards_controls_1.Constants.keys.space) {
                _this.setIsSelected(!_this.isSelected, !_this.isSelected);
                _this._rootElement.focus();
                e.preventDefault();
                e.cancelBubble = true;
            }
        };
        this._treeItemElement = document.createElement("div");
        this._treeItemElement.classList.add("acd-tree-item");
        this._treeItemElement.style.display = "flex";
        this._treeItemElement.style.alignItems = "center";
        this._treeItemElement.style.paddingLeft = this.getIndentationLevelIncrement() * (1 + this.level) + "px";
        if (this._isSelected) {
            this._treeItemElement.classList.add("selected");
        }
        if (hasChildren) {
            this._treeItemElement.setAttribute("role", "treeitem");
        }
        this._treeItemElement.setAttribute("aria-labelledby", labelId);
        this._expandCollapseElement = document.createElement("div");
        this._expandCollapseElement.classList.add("acd-tree-item-expandCollapseButton");
        this._expandCollapseElement.style.flex = "0 0 auto";
        this._expandCollapseElement.style.visibility = hasChildren ? "visible" : "hidden";
        this._expandCollapseElement.tabIndex = 0;
        this._expandCollapseElement.setAttribute("role", "button");
        this._expandCollapseElement.setAttribute("aria-label", this.getExpandCollapseAriaText());
        this._expandCollapseElement.onclick = function (e) {
            _this._isExpanded = !_this._isExpanded;
            _this.updateLayout();
            e.cancelBubble = true;
            e.preventDefault();
        };
        this._expandCollapseElement.onkeydown = function (e) {
            if (e.key === adaptivecards_controls_1.Constants.keys.enter || e.key === adaptivecards_controls_1.Constants.keys.space) {
                _this._isExpanded = !_this._isExpanded;
                _this.updateLayout();
                _this._expandCollapseElement.focus();
                e.preventDefault();
                e.cancelBubble = true;
            }
        };
        this._treeItemElement.appendChild(this._expandCollapseElement);
        var textElement = document.createElement("div");
        textElement.classList.add("acd-tree-item-text");
        textElement.style.flex = "1 1 auto";
        textElement.style.display = "flex";
        textElement.style.alignItems = "center";
        textElement.style.whiteSpace = "nowrap";
        textElement.style.textOverflow = "ellipsis";
        textElement.style.overflow = "hidden";
        if (this.getIconClass()) {
            var iconElement = document.createElement("div");
            iconElement.classList.add("acd-icon", "acd-treeView-icon", this.getIconClass());
            textElement.appendChild(iconElement);
        }
        var labelSpan = document.createElement("span");
        labelSpan.classList.add("acd-tree-item-typeName");
        labelSpan.innerText = this.getLabelText();
        labelSpan.id = labelId;
        textElement.appendChild(labelSpan);
        var text = this.getAdditionalText();
        if (text && text != "") {
            var additionalTextSpan = document.createElement("span");
            additionalTextSpan.classList.add(this.getAdditionalTextClass());
            additionalTextSpan.innerText = " [" + text + "]";
            textElement.appendChild(additionalTextSpan);
        }
        this._treeItemElement.appendChild(textElement);
        this._rootElement.appendChild(this._treeItemElement);
        if (hasChildren) {
            this._childContainerElement = document.createElement("ul");
            this._childContainerElement.style.paddingLeft = "0";
            this._childContainerElement.style.listStyleType = "none";
            this._childContainerElement.setAttribute("role", "group");
            for (var i = 0; i < this.getChildCount(); i++) {
                var renderedChildItem = this.getChildAt(i).render();
                renderedChildItem.setAttribute("aria-posinset", (i + 1).toString());
                renderedChildItem.setAttribute("aria-setsize", this.getChildCount().toString());
                this._childContainerElement.appendChild(renderedChildItem);
            }
            this._rootElement.appendChild(this._childContainerElement);
        }
        this.updateLayout();
        return this._rootElement;
    };
    BaseTreeItem.prototype.updateLayout = function () {
        var _a, _b;
        if (this.getChildCount() > 0) {
            this._rootElement.setAttribute("aria-expanded", this._isExpanded.toString());
            this._expandCollapseElement.setAttribute("aria-label", this.getExpandCollapseAriaText());
            if (this._isExpanded) {
                (_a = this._childContainerElement) === null || _a === void 0 ? void 0 : _a.classList.remove("acd-hidden");
                this._expandCollapseElement.classList.remove(BaseTreeItem.collapsedIconClass);
                this._expandCollapseElement.classList.add(BaseTreeItem.expandedIconClass);
            }
            else {
                (_b = this._childContainerElement) === null || _b === void 0 ? void 0 : _b.classList.add("acd-hidden");
                this._expandCollapseElement.classList.add(BaseTreeItem.collapsedIconClass);
                this._expandCollapseElement.classList.remove(BaseTreeItem.expandedIconClass);
            }
        }
    };
    BaseTreeItem.prototype.expand = function () {
        if (!this._isExpanded) {
            this._isExpanded = true;
            this.updateLayout();
        }
    };
    BaseTreeItem.prototype.collpase = function () {
        if (this._isExpanded) {
            this._isExpanded = false;
            this.updateLayout();
        }
    };
    BaseTreeItem.prototype.isDraggable = function () {
        return false;
    };
    Object.defineProperty(BaseTreeItem.prototype, "level", {
        get: function () {
            return this._level;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(BaseTreeItem.prototype, "isSelected", {
        get: function () {
            return this._isSelected;
        },
        set: function (value) {
            this.setIsSelected(value, true);
        },
        enumerable: false,
        configurable: true
    });
    BaseTreeItem.collapsedIconClass = "acd-icon-chevronRight";
    BaseTreeItem.expandedIconClass = "acd-icon-chevronDown";
    return BaseTreeItem;
}(draggable_element_1.DraggableElement));
exports.BaseTreeItem = BaseTreeItem;


/***/ }),

/***/ "./src/card-designer-surface.ts":
/*!**************************************!*\
  !*** ./src/card-designer-surface.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CardDesignerSurface = exports.DesignContext = exports.ActionPeerRegistry = exports.CardElementPeerRegistry = exports.DesignerPeerRegistry = exports.BindingPreviewMode = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var adaptivecards_1 = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var draggable_element_1 = __webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts");
var miscellaneous_1 = __webpack_require__(/*! ./miscellaneous */ "./src/miscellaneous.ts");
var DesignerPeers = __webpack_require__(/*! ./designer-peers */ "./src/designer-peers.ts");
var ACData = __webpack_require__(/*! adaptivecards-templating */ "adaptivecards-templating");
var Shared = __webpack_require__(/*! ./shared */ "./src/shared.ts");
var strings_1 = __webpack_require__(/*! ./strings */ "./src/strings.ts");
var BindingPreviewMode;
(function (BindingPreviewMode) {
    BindingPreviewMode[BindingPreviewMode["NoPreview"] = 0] = "NoPreview";
    BindingPreviewMode[BindingPreviewMode["GeneratedData"] = 1] = "GeneratedData";
    BindingPreviewMode[BindingPreviewMode["SampleData"] = 2] = "SampleData";
})(BindingPreviewMode = exports.BindingPreviewMode || (exports.BindingPreviewMode = {}));
var DesignerPeerCategory = /** @class */ (function () {
    function DesignerPeerCategory() {
    }
    DesignerPeerCategory.Unknown = "Unknown";
    DesignerPeerCategory.Containers = "Containers";
    DesignerPeerCategory.Elements = "Elements";
    DesignerPeerCategory.Inputs = "Inputs";
    DesignerPeerCategory.Actions = "Actions";
    return DesignerPeerCategory;
}());
var DesignerPeerRegistry = /** @class */ (function () {
    function DesignerPeerRegistry() {
        this._items = [];
        this.defaultRegistration = new DesignerPeers.DesignerPeerRegistrationBase(DesignerPeerCategory.Unknown, "acd-icon-unknownPeer");
        this.reset();
    }
    DesignerPeerRegistry.prototype.clear = function () {
        this._items = [];
    };
    DesignerPeerRegistry.prototype.findTypeRegistration = function (sourceType) {
        for (var i = 0; i < this._items.length; i++) {
            if (this._items[i].sourceType === sourceType) {
                return this._items[i];
            }
        }
        return null;
    };
    DesignerPeerRegistry.prototype.registerPeer = function (sourceType, peerType, category, iconClass) {
        if (iconClass === void 0) { iconClass = null; }
        var registrationInfo = this.findTypeRegistration(sourceType);
        if (registrationInfo != null) {
            registrationInfo.peerType = peerType;
        }
        else {
            registrationInfo = new DesignerPeers.DesignerPeerRegistration(sourceType, peerType, category, iconClass);
            this._items.push(registrationInfo);
        }
    };
    DesignerPeerRegistry.prototype.unregisterPeer = function (sourceType) {
        for (var i = 0; i < this._items.length; i++) {
            if (this._items[i].sourceType === sourceType) {
                this._items.splice(i, 1);
                return;
            }
        }
    };
    return DesignerPeerRegistry;
}());
exports.DesignerPeerRegistry = DesignerPeerRegistry;
var CardElementPeerRegistry = /** @class */ (function (_super) {
    __extends(CardElementPeerRegistry, _super);
    function CardElementPeerRegistry() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CardElementPeerRegistry.prototype.reset = function () {
        this.clear();
        this.registerPeer(Adaptive.AdaptiveCard, DesignerPeers.AdaptiveCardPeer, DesignerPeerCategory.Containers, "acd-icon-adaptiveCard");
        this.registerPeer(Adaptive.Container, DesignerPeers.ContainerPeer, DesignerPeerCategory.Containers, "acd-icon-container");
        this.registerPeer(Adaptive.ColumnSet, DesignerPeers.ColumnSetPeer, DesignerPeerCategory.Containers, "acd-icon-columnSet");
        this.registerPeer(Adaptive.Column, DesignerPeers.ColumnPeer, DesignerPeerCategory.Containers, "acd-icon-column");
        this.registerPeer(Adaptive.ImageSet, DesignerPeers.ImageSetPeer, DesignerPeerCategory.Containers, "acd-icon-imageSet");
        this.registerPeer(Adaptive.FactSet, DesignerPeers.FactSetPeer, DesignerPeerCategory.Containers, "acd-icon-factSet");
        this.registerPeer(Adaptive.Table, DesignerPeers.TablePeer, DesignerPeerCategory.Containers, "acd-icon-table");
        this.registerPeer(Adaptive.TableRow, DesignerPeers.TableRowPeer, DesignerPeerCategory.Containers, "acd-icon-tableRow");
        this.registerPeer(Adaptive.TableCell, DesignerPeers.TableCellPeer, DesignerPeerCategory.Containers, "acd-icon-tableCell");
        this.registerPeer(Adaptive.Carousel, DesignerPeers.CarouselPeer, DesignerPeerCategory.Containers, "acd-icon-carousel");
        this.registerPeer(Adaptive.CarouselPage, DesignerPeers.CarouselPagePeer, DesignerPeerCategory.Containers, "acd-icon-carouselPage");
        this.registerPeer(Adaptive.TextBlock, DesignerPeers.TextBlockPeer, DesignerPeerCategory.Elements, "acd-icon-textBlock");
        this.registerPeer(Adaptive.RichTextBlock, DesignerPeers.RichTextBlockPeer, DesignerPeerCategory.Elements, "acd-icon-richTextBlock");
        this.registerPeer(Adaptive.Image, DesignerPeers.ImagePeer, DesignerPeerCategory.Elements, "acd-icon-image");
        this.registerPeer(Adaptive.Media, DesignerPeers.MediaPeer, DesignerPeerCategory.Elements, "acd-icon-media");
        this.registerPeer(Adaptive.ActionSet, DesignerPeers.ActionSetPeer, DesignerPeerCategory.Elements, "acd-icon-actionSet");
        this.registerPeer(Adaptive.TextInput, DesignerPeers.TextInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputText");
        this.registerPeer(Adaptive.DateInput, DesignerPeers.DateInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputDate");
        this.registerPeer(Adaptive.TimeInput, DesignerPeers.TimeInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputTime");
        this.registerPeer(Adaptive.ToggleInput, DesignerPeers.ToggleInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputToggle");
        this.registerPeer(Adaptive.NumberInput, DesignerPeers.NumberInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputNumber");
        this.registerPeer(Adaptive.ChoiceSetInput, DesignerPeers.ChoiceSetInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputChoiceSet");
    };
    CardElementPeerRegistry.prototype.createPeerInstance = function (designerSurface, parent, cardElement, initializeCardElement) {
        var registrationInfo = this.findTypeRegistration(cardElement.constructor);
        var peer = registrationInfo ?
            new registrationInfo.peerType(parent, designerSurface, registrationInfo, cardElement, initializeCardElement) :
            new DesignerPeers.CardElementPeer(parent, designerSurface, this.defaultRegistration, cardElement, initializeCardElement);
        return peer;
    };
    return CardElementPeerRegistry;
}(DesignerPeerRegistry));
exports.CardElementPeerRegistry = CardElementPeerRegistry;
var ActionPeerRegistry = /** @class */ (function (_super) {
    __extends(ActionPeerRegistry, _super);
    function ActionPeerRegistry() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ActionPeerRegistry.prototype.reset = function () {
        this.clear();
        this.registerPeer(Adaptive.HttpAction, DesignerPeers.HttpActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionHttp");
        this.registerPeer(Adaptive.SubmitAction, DesignerPeers.SubmitActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionSubmit");
        this.registerPeer(Adaptive.ExecuteAction, DesignerPeers.ExecuteActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionSubmit");
        this.registerPeer(Adaptive.OpenUrlAction, DesignerPeers.OpenUrlActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionOpenUrl");
        this.registerPeer(Adaptive.ShowCardAction, DesignerPeers.ShowCardActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionShowCard");
        this.registerPeer(Adaptive.ToggleVisibilityAction, DesignerPeers.ToggleVisibilityActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionToggleVisibility");
    };
    ActionPeerRegistry.prototype.createPeerInstance = function (designerSurface, parent, action) {
        var registrationInfo = this.findTypeRegistration(action.constructor);
        var peer = registrationInfo ? new registrationInfo.peerType(parent, designerSurface, registrationInfo, action) : new DesignerPeers.ActionPeer(parent, designerSurface, this.defaultRegistration, action);
        return peer;
    };
    return ActionPeerRegistry;
}(DesignerPeerRegistry));
exports.ActionPeerRegistry = ActionPeerRegistry;
var DragHandle = /** @class */ (function (_super) {
    __extends(DragHandle, _super);
    function DragHandle() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DragHandle.prototype.internalRender = function () {
        var element = document.createElement("div");
        element.classList.add("acd-peerButton", "acd-peerButton-icon", "fixedWidth", "circular", "acd-icon-drag");
        element.title = "Drag to move this element";
        element.style.visibility = "hidden";
        element.style.position = "absolute";
        element.style.zIndex = "500";
        return element;
    };
    return DragHandle;
}(draggable_element_1.DraggableElement));
var DesignContext = /** @class */ (function () {
    function DesignContext() {
    }
    return DesignContext;
}());
exports.DesignContext = DesignContext;
var CardDesignerSurface = /** @class */ (function () {
    function CardDesignerSurface(context) {
        var _this = this;
        this.context = context;
        this._updateCount = 0;
        this._allPeers = [];
        this._isPreviewMode = false;
        this._shouldPersistSelectedElement = false;
        this.fixedHeightCard = false;
        this._serializationContext = this.context.hostContainer.createSerializationContext(this.context.targetVersion);
        var rootElement = document.createElement("div");
        rootElement.style.position = "relative";
        rootElement.style.width = "100%";
        rootElement.style.height = "100%";
        this._cardHost = document.createElement("div");
        this._cardHost.style.height = "100%";
        rootElement.appendChild(this._cardHost);
        this._designerSurface = document.createElement("div");
        this._designerSurface.classList.add("acd-designersurface");
        this._designerSurface.tabIndex = -1;
        this._designerSurface.style.position = "absolute";
        this._designerSurface.style.left = "0";
        this._designerSurface.style.top = "0";
        this._designerSurface.style.width = "100%";
        this._designerSurface.style.height = "100%";
        this._designerSurface.onkeyup = function (e) {
            if (_this._selectedPeer) {
                switch (e.key) {
                    case adaptivecards_controls_1.Constants.keys.escape:
                        if (_this.draggedPeer) {
                            _this.endDrag(true);
                        }
                        else {
                            _this.setSelectedPeer(_this._selectedPeer.parent);
                        }
                        break;
                    case adaptivecards_controls_1.Constants.keys.backspace:
                    case adaptivecards_controls_1.Constants.keys.delete:
                        if (!_this.draggedPeer) {
                            _this.removeSelected();
                        }
                        break;
                    case adaptivecards_controls_1.Constants.keys.enter:
                        if (_this._selectedPeer instanceof DesignerPeers.ActionPeer) {
                            _this._selectedPeer.action.renderedElement.click();
                        }
                        break;
                }
            }
            return !e.cancelBubble;
        };
        this._designerSurface.onpointermove = function (e) {
            var clientRect = _this._designerSurface.getBoundingClientRect();
            if (_this.draggedPeer) {
                if (_this._designerSurface.hasPointerCapture && !_this._designerSurface.hasPointerCapture(e.pointerId)) {
                    _this._designerSurface.setPointerCapture(e.pointerId);
                }
                if (!_this._dragVisual) {
                    _this._dragVisual = document.createElement("div");
                    _this._dragVisual.style.pointerEvents = "none";
                    _this._dragVisual.style.backgroundColor = "white";
                    _this._dragVisual.style.padding = "6px";
                    _this._dragVisual.style.opacity = "0.6";
                    _this._dragVisual.style.boxShadow = "0 0 15px -5px rgba(0, 0, 0, 0.4)";
                    _this._dragVisual.style.position = "absolute";
                    _this._dragVisual.style.boxSizing = "content-box";
                    _this._dragVisual.appendChild(_this.draggedPeer.getCardObject().renderedElement.cloneNode(true));
                    document.body.appendChild(_this._dragVisual);
                }
                var adjustedPoint = miscellaneous_1.Utils.adjustPointForScroll(e);
                _this._dragVisual.style.left = (adjustedPoint.x - 6) + "px";
                _this._dragVisual.style.top = (adjustedPoint.y - 6) + "px";
                var renderedCardObjectRect = _this.draggedPeer.getCardObject().renderedElement.getBoundingClientRect();
                _this._dragVisual.style.width = renderedCardObjectRect.width + "px";
                _this._dragVisual.style.height = renderedCardObjectRect.height + "px";
                // When dragging on a new element, we set the zIndex higher so that it is always visible
                _this._dragVisual.style.zIndex = "500";
                _this.tryDrop({ x: e.x - clientRect.left, y: e.y - clientRect.top }, _this.draggedPeer);
            }
        };
        this._designerSurface.onpointerup = function (e) {
            _this._designerSurface.releasePointerCapture(e.pointerId);
            if (_this.draggedPeer) {
                _this.endDrag(false);
            }
        };
        rootElement.appendChild(this._designerSurface);
        this.context.hostContainer.cardHost.innerHTML = "";
        this.context.hostContainer.cardHost.appendChild(rootElement);
        this._card = new Adaptive.AdaptiveCard();
        this._card.onInlineCardExpanded = function (action, isExpanded) { _this.inlineCardExpanded(action, isExpanded); };
        this._card.onPreProcessPropertyValue = function (sender, property, value) {
            if (Shared.GlobalSettings.enableDataBindingSupport && typeof value === "string" && _this.context.sampleData && _this.context.bindingPreviewMode !== BindingPreviewMode.NoPreview) {
                var expression = ACData.Template.parseInterpolatedString(value);
                if (typeof expression === "string") {
                    return expression;
                }
                else {
                    var evaluationContext = void 0;
                    if (_this.context.bindingPreviewMode === BindingPreviewMode.SampleData) {
                        evaluationContext = { $root: _this.context.sampleData,
                            $host: _this.context.sampleHostData
                        };
                    }
                    else {
                        evaluationContext = { $root: _this.context.dataStructure.dataType.generateSampleData(),
                            $host: _this.context.hostDataStructure.dataType.generateSampleData()
                        };
                    }
                    var evaluationResult = ACData.Template.tryEvaluateExpression(expression, evaluationContext, true);
                    return typeof evaluationResult.value === "string" ? evaluationResult.value : value;
                }
            }
            return value;
        };
        this._card.version = this.context.targetVersion;
        this._card.hostConfig = this.context.hostContainer.getHostConfig();
        this._card.designMode = true;
        Adaptive.AdaptiveCard.onCarouselEvent = function (e) {
            if (!_this._isPreviewMode) {
                _this.render();
            }
        };
        this.render();
    }
    CardDesignerSurface.prototype.updatePeerCommandsLayout = function () {
        if (this._selectedPeer) {
            var peerRect = this._selectedPeer.getBoundingRect();
            var dragHandleRect = this._dragHandle.renderedElement.getBoundingClientRect();
            var removeButtonRect = this._removeCommandElement.getBoundingClientRect();
            this._dragHandle.renderedElement.style.left = (peerRect.left - dragHandleRect.width) + "px";
            this._dragHandle.renderedElement.style.top = (peerRect.top - dragHandleRect.height) + "px";
            this._removeCommandElement.style.left = peerRect.right + "px";
            this._removeCommandElement.style.top = (peerRect.top - removeButtonRect.height) + "px";
            this._peerCommandsHostElement.style.left = peerRect.left + "px";
            this._peerCommandsHostElement.style.top = (peerRect.bottom + 2) + "px";
            this._peerCommandsHostElement.style.width = peerRect.width + "px";
            this._dragHandle.renderedElement.style.visibility = this._selectedPeer.isDraggable() ? "visible" : "hidden";
            this._removeCommandElement.style.visibility = this._selectedPeer.canBeRemoved() ? "visible" : "hidden";
            this._peerCommandsHostElement.style.visibility = this._peerCommandsHostElement.childElementCount > 0 ? "visible" : "hidden";
        }
        else {
            this._dragHandle.renderedElement.style.visibility = "hidden";
            this._removeCommandElement.style.visibility = "hidden";
            this._peerCommandsHostElement.style.visibility = "hidden";
        }
    };
    CardDesignerSurface.prototype.setSelectedPeer = function (value) {
        if (this._selectedPeer != value) {
            if (this._selectedPeer) {
                this._selectedPeer.isSelected = false;
            }
            this._selectedPeer = value;
            this._peerCommandsHostElement.innerHTML = "";
            if (this._selectedPeer) {
                this._selectedPeer.isSelected = true;
                var commands = this._selectedPeer.getCommands(this.context);
                for (var _i = 0, commands_1 = commands; _i < commands_1.length; _i++) {
                    var command = commands_1[_i];
                    this._peerCommandsHostElement.appendChild(command.render());
                }
            }
            this.updatePeerCommandsLayout();
            if (this.onSelectedPeerChanged) {
                this.onSelectedPeerChanged(this._selectedPeer);
            }
        }
    };
    CardDesignerSurface.prototype.peerChanged = function (peer, updatePropertySheet) {
        this.renderCard();
        this.updateLayout();
        if (updatePropertySheet && this.onSelectedPeerChanged) {
            this.onSelectedPeerChanged(this._selectedPeer);
        }
    };
    CardDesignerSurface.prototype.peerRemoved = function (peer) {
        this._allPeers.splice(this._allPeers.indexOf(peer), 1);
        if (peer == this._selectedPeer) {
            this.setSelectedPeer(null);
        }
        if (this._updateCount == 0) {
            this.renderCard();
            this.updateLayout();
        }
    };
    CardDesignerSurface.prototype.generateCardToRender = function (asPreview) {
        var cardToRender = this.card;
        if (asPreview) {
            var inputPayload = this.card.toJSON(this._serializationContext);
            cardToRender = new Adaptive.AdaptiveCard();
            cardToRender.hostConfig = this.card.hostConfig;
            var outputPayload = inputPayload;
            if (Shared.GlobalSettings.enableDataBindingSupport) {
                try {
                    var template = new ACData.Template(inputPayload);
                    var evaluationContext = void 0;
                    if (this.context.bindingPreviewMode === BindingPreviewMode.SampleData) {
                        evaluationContext = { $root: this.context.sampleData,
                            $host: this.context.sampleHostData
                        };
                    }
                    else {
                        evaluationContext = { $root: this.context.dataStructure.dataType.generateSampleData(),
                            $host: this.context.hostDataStructure.dataType.generateSampleData()
                        };
                    }
                    outputPayload = template.expand(evaluationContext);
                }
                catch (e) {
                    console.log("Template expansion error: " + e.message);
                }
            }
            cardToRender.parse(outputPayload, this._serializationContext);
        }
        return cardToRender;
    };
    CardDesignerSurface.prototype.renderCard = function () {
        var _a, _b;
        this._cardHost.innerHTML = "";
        if (this.onCardValidated) {
            var allValidationEvents = [];
            for (var i = 0; i < this._serializationContext.eventCount; i++) {
                allValidationEvents.push(this._serializationContext.getEventAt(i));
            }
            allValidationEvents.push.apply(allValidationEvents, this.card.validateProperties().validationEvents);
            this.onCardValidated(allValidationEvents);
        }
        var cardToRender = this.generateCardToRender(this.isPreviewMode);
        if (this.isPreviewMode) {
            cardToRender.onExecuteAction = function (action) {
                var actionType = action.getJsonTypeName();
                var message = "Action executed: \"" + actionType + "\" title: \"" + action.title + "\"";
                var verb = action.verb;
                if (verb) {
                    message += " verb: \"" + verb + "\"";
                }
                var carouselPageId = undefined;
                var root = action.getRootObject();
                if (root) {
                    for (var i = 0; i < root.getItemCount(); i++) {
                        var element = root.getItemAt(i);
                        if (element instanceof adaptivecards_1.Carousel) {
                            carouselPageId = element.currentPageId;
                            break;
                        }
                    }
                }
                if (carouselPageId) {
                    message += "\ncarousel page id: \"" + carouselPageId + "\"";
                }
                var url = action.url;
                if (url) {
                    message += "\nurl: \"" + url + "\"";
                }
                var data = action.data;
                if (data) {
                    message += "\nSubmitted data: " + JSON.stringify(data, undefined, 4);
                }
                alert(message);
            };
        }
        var renderedCard = cardToRender.render();
        if (this._cardHost.innerHTML === "") {
            this._cardHost.appendChild(renderedCard);
        }
        if (this.fixedHeightCard) {
            // truncate the content if the host container is fixed height
            if (this.isPreviewMode) {
                if ((_a = this.context.hostContainer) === null || _a === void 0 ? void 0 : _a.requiresOverflowStyling()) {
                    this.appendErrorMessage(strings_1.Strings.widgetOverflowWarning);
                }
                else {
                    renderedCard.style.overflow = "hidden";
                }
            }
            (_b = this.context.hostContainer) === null || _b === void 0 ? void 0 : _b.adjustStyleForBackground();
            renderedCard.style.height = "100%";
        }
    };
    CardDesignerSurface.prototype.appendErrorMessage = function (message) {
        var errorElement = document.createElement("div");
        errorElement.className = "acd-error-pane-message";
        errorElement.innerText = message;
        errorElement.style.whiteSpace = "normal";
        var errorPane = document.getElementById("errorPane");
        errorPane.appendChild(errorElement);
    };
    CardDesignerSurface.prototype.addPeer = function (peer, insertAfterNeighbor) {
        var _this = this;
        if (insertAfterNeighbor === void 0) { insertAfterNeighbor = false; }
        if (this._allPeers.indexOf(peer) < 0) {
            this._allPeers.push(peer);
            peer.render();
            if (peer instanceof DesignerPeers.CardElementPeer) {
                peer.renderedElement.style.display = peer.isVisible() ? "initial" : "none";
                // If we have a card element that we want to be selected after rendering, save the corresponding peer
                if (this._persistentSelectedCardElement && this._persistentSelectedCardElement === peer.cardElement) {
                    this._persistentSelectedPeer = peer;
                    this._persistentSelectedCardElement = null;
                }
            }
            peer.onSelectedChanged = function (peer) {
                if (peer.isSelected) {
                    _this.setSelectedPeer(peer);
                }
                else {
                    if (_this._selectedPeer == peer) {
                        _this.setSelectedPeer(null);
                    }
                }
            };
            peer.onChanged = function (sender, updatePropertySheet) { _this.peerChanged(sender, updatePropertySheet); };
            peer.onPeerRemoved = function (sender) { _this.peerRemoved(sender); };
            peer.onPeerAdded = function (sender, newPeer) {
                _this.addPeer(newPeer, newPeer.insertAfterNeighbor);
                newPeer.insertAfterNeighbor = false;
                _this.updateLayout();
            };
            peer.onStartDrag = function (sender) { _this.startDrag(sender); };
            peer.onEndDrag = function (sender) { _this.endDrag(false); };
            if (insertAfterNeighbor) {
                peer.addElementsToDesignerSurface(this._designerSurface, this.getPeerDOMNeighbor(peer));
            }
            else {
                peer.addElementsToDesignerSurface(this._designerSurface);
            }
            for (var i = 0; i < peer.getChildCount(); i++) {
                this.addPeer(peer.getChildAt(i), insertAfterNeighbor);
            }
        }
    };
    CardDesignerSurface.prototype.internalFindDropTarget = function (pointerPosition, currentPeer, forPeer) {
        var _a;
        if (currentPeer == forPeer) {
            return null;
        }
        var result = null;
        var lookDeeper = currentPeer instanceof DesignerPeers.ActionPeer;
        if (!lookDeeper && ((_a = currentPeer) === null || _a === void 0 ? void 0 : _a.isVisible())) {
            var boundingRect = currentPeer.getBoundingRect();
            lookDeeper = boundingRect.isInside(pointerPosition);
        }
        if (lookDeeper) {
            var canDrop = currentPeer.canDrop(forPeer);
            if (canDrop) {
                result = currentPeer;
            }
            for (var i = 0; i < currentPeer.getChildCount(); i++) {
                var deeperResult = this.internalFindDropTarget(pointerPosition, currentPeer.getChildAt(i), forPeer);
                if (deeperResult) {
                    result = deeperResult;
                    break;
                }
            }
        }
        return result;
    };
    CardDesignerSurface.prototype.findCardElementPeer = function (cardElement) {
        for (var i = 0; i < this._allPeers.length; i++) {
            var peer = this._allPeers[i];
            if (peer instanceof DesignerPeers.CardElementPeer && peer.cardElement == cardElement) {
                return peer;
            }
        }
        return null;
    };
    CardDesignerSurface.prototype.findActionPeer = function (action) {
        for (var i = 0; i < this._allPeers.length; i++) {
            var peer = this._allPeers[i];
            if (peer instanceof DesignerPeers.ActionPeer && peer.action == action) {
                return peer;
            }
        }
        return null;
    };
    CardDesignerSurface.prototype.inlineCardExpanded = function (action, isExpanded) {
        var peer = this.findCardElementPeer(action.card);
        if (isExpanded) {
            if (!peer) {
                var registration = CardDesignerSurface.cardElementPeerRegistry.findTypeRegistration(Adaptive.AdaptiveCard);
                peer = new registration.peerType(peer, this, registration, action.card);
                peer.insertAfterNeighbor = true;
                var parentPeer = this.findActionPeer(action);
                if (parentPeer) {
                    parentPeer.insertChild(peer);
                }
                else {
                    this._rootPeer.insertChild(peer);
                }
            }
            else {
                peer.addElementsToDesignerSurface(this._designerSurface, this.getPeerDOMNeighbor(peer));
            }
        }
        else {
            if (peer) {
                peer.removeElementsFromDesignerSurface(true);
            }
        }
        this.updateLayout();
    };
    Object.defineProperty(CardDesignerSurface.prototype, "card", {
        get: function () {
            return this._card;
        },
        enumerable: false,
        configurable: true
    });
    CardDesignerSurface.prototype.setDraggedPeer = function (value) {
        if (this._draggedPeer != value) {
            if (this._draggedPeer) {
                this._draggedPeer.dragging = false;
            }
            this._draggedPeer = value;
            if (this._draggedPeer) {
                this._draggedPeer.dragging = true;
            }
        }
    };
    CardDesignerSurface.prototype.getDesignerSurfaceOffset = function () {
        var clientRect = this._designerSurface.getBoundingClientRect();
        return { x: clientRect.left, y: clientRect.top };
    };
    CardDesignerSurface.prototype.findDropTarget = function (pointerPosition, peer) {
        return this.internalFindDropTarget(pointerPosition, this._rootPeer, peer);
    };
    CardDesignerSurface.prototype.findPeer = function (cardObject) {
        for (var _i = 0, _a = this._allPeers; _i < _a.length; _i++) {
            var peer = _a[_i];
            if (peer.getCardObject() === cardObject) {
                return peer;
            }
        }
        return undefined;
    };
    CardDesignerSurface.prototype.beginUpdate = function () {
        this._updateCount++;
    };
    CardDesignerSurface.prototype.endUpdate = function (renderCard) {
        if (this._updateCount > 0) {
            this._updateCount--;
            if (this._updateCount == 0) {
                if (renderCard) {
                    this.renderCard();
                }
                this.updateLayout();
            }
        }
    };
    CardDesignerSurface.prototype.render = function () {
        var _this = this;
        this._designerSurface.innerHTML = "";
        this._allPeers = [];
        // If we want to have the same peer selected after rendering the card,
        // store the current selected peer's card element before the peers recreated
        if (this._shouldPersistSelectedElement && this._selectedPeer && this._selectedPeer instanceof DesignerPeers.CardElementPeer) {
            this._persistentSelectedCardElement = this._selectedPeer.cardElement;
            this._shouldPersistSelectedElement = false;
        }
        this.setSelectedPeer(null);
        this.renderCard();
        this._rootPeer = CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(this, null, this.card);
        this.addPeer(this._rootPeer);
        this._removeCommandElement = document.createElement("div");
        this._removeCommandElement.classList.add("acd-peerButton", "acd-peerButton-icon", "fixedWidth", "circular", "acd-icon-remove");
        this._removeCommandElement.title = "Remove";
        this._removeCommandElement.style.visibility = "hidden";
        this._removeCommandElement.style.position = "absolute";
        this._removeCommandElement.style.zIndex = "500";
        this._removeCommandElement.onclick = function (e) {
            _this.removeSelected();
        };
        this._dragHandle = new DragHandle();
        this._dragHandle.onStartDrag = function (sender) {
            _this._dragHandle.endDrag();
            _this.startDrag(_this._selectedPeer);
        };
        this._dragHandle.render();
        this._peerCommandsHostElement = document.createElement("div");
        this._peerCommandsHostElement.style.visibility = "hidden";
        this._peerCommandsHostElement.style.position = "absolute";
        this._peerCommandsHostElement.style.display = "flex";
        this._peerCommandsHostElement.style.justifyContent = "flex-end";
        this._peerCommandsHostElement.style.zIndex = "500";
        this._peerCommandsHostElement.style.pointerEvents = "none";
        this._designerSurface.appendChild(this._dragHandle.renderedElement);
        this._designerSurface.appendChild(this._removeCommandElement);
        this._designerSurface.appendChild(this._peerCommandsHostElement);
        this.updateLayout();
        // If we have a persistent selected peer, select the peer
        // We should only reach this point is _shouldPersistSelectedElement = true prior to rendering the card
        if (this._persistentSelectedPeer) {
            this.setSelectedPeer(this._persistentSelectedPeer);
            this._persistentSelectedPeer = null;
        }
    };
    CardDesignerSurface.prototype.getCardPayloadAsObject = function () {
        return this.card.toJSON(this._serializationContext);
    };
    CardDesignerSurface.prototype.setCardPayloadAsObject = function (payload) {
        this._serializationContext.clearEvents();
        this.card.parse(payload, this._serializationContext);
        this.render();
    };
    CardDesignerSurface.prototype.setCardPayloadAsString = function (payload) {
        try {
            this.setCardPayloadAsObject(JSON.parse(payload));
        }
        catch (e) {
            console.warn("Invalid JSON string. " + e);
        }
    };
    CardDesignerSurface.prototype.getBoundCardPayloadAsObject = function () {
        return this.generateCardToRender(true).toJSON(this._serializationContext);
    };
    CardDesignerSurface.prototype.updateLayout = function (isFullRefresh) {
        if (isFullRefresh === void 0) { isFullRefresh = true; }
        if (!this.isPreviewMode) {
            for (var i = 0; i < this._allPeers.length; i++) {
                this._allPeers[i].updateLayout();
            }
            this.updatePeerCommandsLayout();
            if (this.onLayoutUpdated) {
                this.onLayoutUpdated(isFullRefresh);
            }
        }
    };
    CardDesignerSurface.prototype.removeSelected = function () {
        if (this.selectedPeer) {
            this.beginUpdate();
            try {
                var parent_1 = this.selectedPeer.parent;
                if (this.selectedPeer.remove(false, true)) {
                    this.setSelectedPeer(parent_1);
                    parent_1.focus();
                }
            }
            finally {
                this.endUpdate(true);
                // If we've removed a Carousel page, we need render the designer surface again
                if (this.selectedPeer instanceof DesignerPeers.CarouselPeer) {
                    this.selectedPeer.cardElement.currentIndex = 0;
                    this.render();
                }
            }
        }
    };
    CardDesignerSurface.prototype.startDrag = function (peer) {
        if (!this.draggedPeer) {
            this._designerSurface.classList.add("dragging");
            this.setDraggedPeer(peer);
            this.setSelectedPeer(this.draggedPeer);
            if (this.onStartDrag) {
                this.onStartDrag(this);
            }
        }
    };
    CardDesignerSurface.prototype.endDrag = function (wasCancelled) {
        var _a;
        if (this.draggedPeer) {
            // Ensure that the dragged peer's elements are at the top in Z order
            this.draggedPeer.removeElementsFromDesignerSurface(true);
            this.draggedPeer.addElementsToDesignerSurface(this._designerSurface, this.getPeerDOMNeighbor(this._draggedPeer));
            this._dropTarget.renderedElement.classList.remove("dragover");
            (_a = this._dragVisual) === null || _a === void 0 ? void 0 : _a.parentNode.removeChild(this._dragVisual);
            this._dragVisual = undefined;
            this.setDraggedPeer(null);
            if (this.onEndDrag) {
                this.onEndDrag(this, wasCancelled);
            }
            this._designerSurface.classList.remove("dragging");
        }
    };
    // Find the element directly above the dragged element
    CardDesignerSurface.prototype.getPeerDOMNeighbor = function (peer) {
        if (peer.parent) {
            var neighboringPeer = peer.parent;
            if (neighboringPeer instanceof DesignerPeers.ActionSetPeer) {
                // A new action is being added to an ActionSet, so we can add the ActionPeer as the last child element
                var childCount = neighboringPeer.getChildCount();
                if (childCount > 1) {
                    // Subtract 2 because the child count already includes the action being currently added
                    neighboringPeer = neighboringPeer.getChildAt(childCount - 2);
                }
            }
            else if (neighboringPeer instanceof DesignerPeers.ActionPeer) {
                // neighboringPeer should be the parent so we can get the last element in the actionSet
                neighboringPeer = neighboringPeer.parent;
                neighboringPeer = neighboringPeer.getChildAt(neighboringPeer.getChildCount() - 1);
            }
            else if (peer instanceof DesignerPeers.CardElementPeer) {
                // Get the index of the peer within its container
                var peerIndex = peer.cardElement.index;
                // If it is not the first element, find the neighbor
                if (peerIndex > 0) {
                    neighboringPeer = neighboringPeer.getChildAt(peerIndex - 1);
                    // If the neighbor has children (i.e. has elements below it in the html tree), find its last child
                    if (neighboringPeer.getChildCount() > 0) {
                        neighboringPeer = this.getLastPeerInContainer(neighboringPeer);
                    }
                }
            }
            return neighboringPeer.renderedElement;
        }
        // Return undefined if there is no parent
        return undefined;
    };
    // Recursive method to find a containers last element
    CardDesignerSurface.prototype.getLastPeerInContainer = function (parentContainer) {
        var lastChildPeer = parentContainer.getChildAt(parentContainer.getChildCount() - 1);
        if (lastChildPeer.getChildCount() > 0) {
            lastChildPeer = this.getLastPeerInContainer(lastChildPeer);
        }
        return lastChildPeer;
    };
    CardDesignerSurface.prototype.tryDrop = function (pointerPosition, peer) {
        if (peer) {
            if (this._dropTarget) {
                this._dropTarget.renderedElement.classList.remove("dragover");
            }
            var newDropTarget = this.findDropTarget(pointerPosition, peer);
            if (newDropTarget) {
                this._dropTarget = newDropTarget;
                this._dropTarget.renderedElement.classList.add("dragover");
                return this._dropTarget.tryDrop(peer, pointerPosition);
            }
        }
        return false;
    };
    CardDesignerSurface.prototype.isPointerOver = function (x, y) {
        var clientRect = this._designerSurface.getBoundingClientRect();
        return (x >= clientRect.left) && (x <= clientRect.right) && (y >= clientRect.top) && (y <= clientRect.bottom);
    };
    CardDesignerSurface.prototype.pageToClientCoordinates = function (x, y) {
        var clientRect = this._designerSurface.getBoundingClientRect();
        return {
            x: x - clientRect.left,
            y: y - clientRect.top
        };
    };
    Object.defineProperty(CardDesignerSurface.prototype, "rootPeer", {
        get: function () {
            return this._rootPeer;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesignerSurface.prototype, "selectedPeer", {
        get: function () {
            return this._selectedPeer;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesignerSurface.prototype, "draggedPeer", {
        get: function () {
            return this._draggedPeer;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesignerSurface.prototype, "isPreviewMode", {
        get: function () {
            return this._isPreviewMode;
        },
        set: function (value) {
            if (this._isPreviewMode != value) {
                this._isPreviewMode = value;
                if (this._isPreviewMode) {
                    this._designerSurface.classList.add("acd-hidden");
                    this._dragHandle.renderedElement.classList.add("acd-hidden");
                    this._removeCommandElement.classList.add("acd-hidden");
                    this._peerCommandsHostElement.classList.add("acd-hidden");
                }
                else {
                    this._designerSurface.classList.remove("acd-hidden");
                    this._dragHandle.renderedElement.classList.remove("acd-hidden");
                    this._removeCommandElement.classList.remove("acd-hidden");
                    this._peerCommandsHostElement.classList.remove("acd-hidden");
                }
                this.card.designMode = !this._isPreviewMode;
                this.renderCard();
                this.updateLayout(false);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesignerSurface.prototype, "shouldPersistSelectedElement", {
        set: function (shouldPersistSelectedElement) {
            this._shouldPersistSelectedElement = shouldPersistSelectedElement;
        },
        enumerable: false,
        configurable: true
    });
    CardDesignerSurface.cardElementPeerRegistry = new CardElementPeerRegistry();
    CardDesignerSurface.actionPeerRegistry = new ActionPeerRegistry();
    return CardDesignerSurface;
}());
exports.CardDesignerSurface = CardDesignerSurface;


/***/ }),

/***/ "./src/card-designer.ts":
/*!******************************!*\
  !*** ./src/card-designer.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CardDesigner = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Clipboard = __webpack_require__(/*! clipboard */ "./node_modules/clipboard/dist/clipboard.js");
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var Constants = __webpack_require__(/*! ./constants */ "./src/constants.ts");
var Designer = __webpack_require__(/*! ./card-designer-surface */ "./src/card-designer-surface.ts");
var pic2card_1 = __webpack_require__(/*! ./pic2card */ "./src/pic2card.ts");
var open_sample_dialog_1 = __webpack_require__(/*! ./open-sample-dialog */ "./src/open-sample-dialog.ts");
var open_json_schema_dialog_1 = __webpack_require__(/*! ./open-json-schema-dialog */ "./src/open-json-schema-dialog.ts");
var host_container_1 = __webpack_require__(/*! ./containers/host-container */ "./src/containers/host-container.ts");
var adaptive_card_schema_1 = __webpack_require__(/*! ./adaptive-card-schema */ "./src/adaptive-card-schema.ts");
var open_image_dialog_1 = __webpack_require__(/*! ./open-image-dialog */ "./src/open-image-dialog.ts");
var fullscreen_handler_1 = __webpack_require__(/*! ./fullscreen-handler */ "./src/fullscreen-handler.ts");
var toolbar_1 = __webpack_require__(/*! ./toolbar */ "./src/toolbar.ts");
var miscellaneous_1 = __webpack_require__(/*! ./miscellaneous */ "./src/miscellaneous.ts");
var tool_palette_1 = __webpack_require__(/*! ./tool-palette */ "./src/tool-palette.ts");
var default_container_1 = __webpack_require__(/*! ./containers/default/default-container */ "./src/containers/default/default-container.ts");
var side_panel_1 = __webpack_require__(/*! ./side-panel */ "./src/side-panel.ts");
var tool_box_1 = __webpack_require__(/*! ./tool-box */ "./src/tool-box.ts");
var data_1 = __webpack_require__(/*! ./data */ "./src/data.ts");
var data_treeitem_1 = __webpack_require__(/*! ./data-treeitem */ "./src/data-treeitem.ts");
var strings_1 = __webpack_require__(/*! ./strings */ "./src/strings.ts");
var Shared = __webpack_require__(/*! ./shared */ "./src/shared.ts");
var tree_view_1 = __webpack_require__(/*! ./tree-view */ "./src/tree-view.ts");
var catalogue_1 = __webpack_require__(/*! ./catalogue */ "./src/catalogue.ts");
var help_dialog_1 = __webpack_require__(/*! ./help-dialog */ "./src/help-dialog.ts");
var containers_1 = __webpack_require__(/*! ./containers */ "./src/containers/index.ts");
var CardDesigner = /** @class */ (function (_super) {
    __extends(CardDesigner, _super);
    function CardDesigner(hostContainers, deviceEmulations) {
        if (hostContainers === void 0) { hostContainers = null; }
        if (deviceEmulations === void 0) { deviceEmulations = null; }
        var _this = _super.call(this) || this;
        _this._isAttached = false;
        _this._isMonacoEditorLoaded = false;
        _this._undoStack = [];
        _this._undoStackIndex = -1;
        _this._bindingPreviewMode = Designer.BindingPreviewMode.NoPreview;
        _this._sampleCatalogue = new catalogue_1.SampleCatalogue();
        _this._cardPreventUpdate = false;
        _this._jsonPreventUpdate = false;
        _this._cardEditorUpdateCounter = 0;
        _this._isEdgeHTML = undefined;
        _this._targetVersion = Adaptive.Versions.latest;
        _this._fullScreenHandler = new fullscreen_handler_1.FullScreenHandler();
        _this._preventRecursiveSetTargetVersion = false;
        _this.toolbar = new toolbar_1.Toolbar();
        _this.lockDataStructure = false;
        Adaptive.GlobalSettings.enableFullJsonRoundTrip = true;
        Adaptive.GlobalSettings.allowPreProcessingPropertyValues = true;
        Adaptive.GlobalSettings.setTabIndexAtCardRoot = false;
        Adaptive.AdaptiveCard.onProcessMarkdown = function (text, result) {
            CardDesigner.internalProcessMarkdown(text, result);
        };
        _this._hostContainers = hostContainers ? hostContainers : [];
        _this._deviceEmulations = deviceEmulations ? deviceEmulations : [];
        _this.prepareToolbar();
        return _this;
    }
    CardDesigner.internalProcessMarkdown = function (text, result) {
        if (CardDesigner.onProcessMarkdown) {
            CardDesigner.onProcessMarkdown(text, result);
        }
        else {
            // Check for markdownit
            if (window["markdownit"]) {
                result.outputHtml = window["markdownit"]().render(text);
                result.didProcess = true;
            }
        }
    };
    CardDesigner.prototype.togglePreview = function () {
        this._designerSurface.isPreviewMode = !this._designerSurface.isPreviewMode;
        if (this._designerSurface.isPreviewMode) {
            this._togglePreviewButton.toolTip = "Return to Design mode";
            this._designerSurface.setCardPayloadAsString(this.getCurrentCardEditorPayload());
        }
        else {
            this._togglePreviewButton.toolTip = "Switch to Preview mode";
            this.updateCardFromJson(false);
        }
        this.buildTreeView();
    };
    CardDesigner.prototype.buildTreeView = function () {
        if (this._treeViewToolbox.content) {
            this._treeViewToolbox.content.innerHTML = "";
            if (this.designerSurface.isPreviewMode) {
                this.treeViewToolbox.content.innerHTML =
                    '<div style="padding: 8px; display: flex; justify-content: center;">' +
                        '<div>The Card Structure isn\'t available in Preview mode.</div>' +
                        '</div>';
            }
            else {
                var treeView = new tree_view_1.TreeView(this.designerSurface.rootPeer.treeItem);
                this._treeViewToolbox.content.appendChild(treeView.render());
            }
        }
    };
    CardDesigner.prototype.buildDataExplorer = function () {
        if (this._dataToolbox && this._dataToolbox.content) {
            this._dataToolbox.content.innerHTML = "";
            if (this.dataStructure) {
                var treeItem = new data_treeitem_1.DataTreeItem(this.dataStructure);
                var treeView = new tree_view_1.TreeView(treeItem);
                this._dataToolbox.content.appendChild(treeView.render());
            }
        }
    };
    CardDesigner.prototype.buildPropertySheet = function (peer) {
        var _a, _b, _c, _d;
        if (this._propertySheetToolbox.content) {
            // if focus is already on _propertySheetCard, remember the focused object's id
            var restoreFocusId = (_b = (_a = this._propertySheetCard) === null || _a === void 0 ? void 0 : _a.findDOMNodeOwner(document.activeElement)) === null || _b === void 0 ? void 0 : _b.id;
            this._propertySheetToolbox.content.innerHTML = "";
            if (peer) {
                this._propertySheetCard = peer.buildPropertySheetCard(this);
            }
            else {
                this._propertySheetCard = new Adaptive.AdaptiveCard();
                this._propertySheetCard.parse({
                    type: "AdaptiveCard",
                    version: "1.0",
                    body: [
                        {
                            type: "TextBlock",
                            wrap: true,
                            text: "**Nothing is selected**"
                        },
                        {
                            type: "TextBlock",
                            wrap: true,
                            text: "Select an element in the card to modify its properties."
                        }
                    ]
                }, new Adaptive.SerializationContext(this.targetVersion));
                this._propertySheetCard.padding = new Adaptive.PaddingDefinition(Adaptive.Spacing.Small, Adaptive.Spacing.Small, Adaptive.Spacing.Small, Adaptive.Spacing.Small);
            }
            this._propertySheetCard.hostConfig = miscellaneous_1.defaultHostConfig;
            this._propertySheetToolbox.content.appendChild(this._propertySheetCard.render());
            if (restoreFocusId) {
                // attempt to restore focus if new card has object with same id
                var focusTarget = (_c = this._propertySheetCard.getElementById(restoreFocusId)) !== null && _c !== void 0 ? _c : this._propertySheetCard.getActionById(restoreFocusId);
                (_d = focusTarget === null || focusTarget === void 0 ? void 0 : focusTarget.renderedElement) === null || _d === void 0 ? void 0 : _d.focus();
            }
        }
    };
    CardDesigner.prototype.addPaletteItem = function (paletteItem, hostElement) {
        var _this = this;
        paletteItem.render();
        paletteItem.onStartDrag = function (sender) {
            _this._draggedPaletteItem = sender;
            _this._draggedElement = sender.renderDragVisual();
            _this._draggedElement.style.position = "absolute";
            var adjustedPosition = miscellaneous_1.Utils.adjustPointForScroll(_this._currentMousePosition);
            _this._draggedElement.style.left = adjustedPosition.x + "px";
            _this._draggedElement.style.top = adjustedPosition.y + "px";
            document.body.appendChild(_this._draggedElement);
        };
        hostElement.appendChild(paletteItem.renderedElement);
    };
    CardDesigner.prototype.buildPalette = function () {
        var _this = this;
        if (!this._isAttached) {
            return;
        }
        this._toolPaletteToolbox.content.innerHTML = "";
        var categorizedTypes = {};
        var _loop_1 = function (i) {
            var registration = this_1.hostContainer.elementsRegistry.getItemAt(i);
            if (registration.schemaVersion.compareTo(this_1.targetVersion) <= 0) {
                var peerRegistration = Designer.CardDesignerSurface.cardElementPeerRegistry.findTypeRegistration(registration.objectType);
                if (peerRegistration) {
                    if (!categorizedTypes.hasOwnProperty(peerRegistration.category)) {
                        categorizedTypes[peerRegistration.category] = [];
                    }
                    var paletteItem_1 = new tool_palette_1.ElementPaletteItem(registration, peerRegistration);
                    paletteItem_1.onDoubleClick = function (sender) {
                        var peer = paletteItem_1.createPeer(_this, _this.designerSurface);
                        if (_this.designerSurface.rootPeer.tryAdd(peer)) {
                            peer.isSelected = true;
                        }
                        ;
                    };
                    categorizedTypes[peerRegistration.category].push(paletteItem_1);
                }
            }
        };
        var this_1 = this;
        for (var i = 0; i < this.hostContainer.elementsRegistry.getItemCount(); i++) {
            _loop_1(i);
        }
        if (this.customPaletteItems) {
            for (var _i = 0, _a = this.customPaletteItems; _i < _a.length; _i++) {
                var item = _a[_i];
                if (!categorizedTypes.hasOwnProperty(item.category)) {
                    categorizedTypes[item.category] = [];
                }
                categorizedTypes[item.category].push(item);
            }
        }
        for (var category in categorizedTypes) {
            var categoryList = document.createElement('div');
            categoryList.setAttribute("aria-label", category);
            var node = document.createElement('div');
            categoryList.appendChild(node);
            node.innerText = category;
            node.className = "acd-palette-category";
            this._toolPaletteToolbox.content.appendChild(categoryList);
            var paletteItemContainer = document.createElement('div');
            paletteItemContainer.className = "acd-palette-item-container";
            for (var i = 0; i < categorizedTypes[category].length; i++) {
                this.addPaletteItem(categorizedTypes[category][i], paletteItemContainer);
            }
            categoryList.appendChild(paletteItemContainer);
        }
    };
    CardDesigner.prototype.endDrag = function () {
        if (this._draggedPaletteItem) {
            this._draggedPaletteItem.endDrag();
            this._draggedElement.parentNode.removeChild(this._draggedElement);
            this._draggedPaletteItem = null;
            this._draggedElement = null;
        }
    };
    CardDesigner.prototype.renderErrorPaneElement = function (message, source) {
        var _this = this;
        var errorElement = document.createElement("div");
        errorElement.className = "acd-error-pane-message";
        if (source && source instanceof Adaptive.CardObject) {
            errorElement.classList.add("selectable");
            errorElement.title = "Click to select this element";
            errorElement.onclick = function (e) {
                var peer = _this.designerSurface.findPeer(source);
                if (peer) {
                    peer.isSelected = true;
                    peer.scrollIntoView();
                }
            };
        }
        errorElement.innerText = message;
        return errorElement;
    };
    CardDesigner.prototype.recreateDesignerSurface = function () {
        var _this = this;
        var styleSheetLinkElement = document.getElementById("adaptiveCardStylesheet");
        if (styleSheetLinkElement == null) {
            styleSheetLinkElement = document.createElement("link");
            styleSheetLinkElement.id = "adaptiveCardStylesheet";
            document.getElementsByTagName("head")[0].appendChild(styleSheetLinkElement);
        }
        styleSheetLinkElement.rel = "stylesheet";
        styleSheetLinkElement.type = "text/css";
        if (miscellaneous_1.Utils.isAbsoluteUrl(this.hostContainer.getCurrentStyleSheet())) {
            styleSheetLinkElement.href = this.hostContainer.getCurrentStyleSheet();
        }
        else {
            styleSheetLinkElement.href = miscellaneous_1.Utils.joinPaths(this._assetPath, this.hostContainer.getCurrentStyleSheet());
        }
        var cardArea = document.getElementById("cardArea");
        if (cardArea) {
            cardArea.style.backgroundColor = this.hostContainer.getBackgroundColor();
        }
        this.hostContainer.initialize();
        this._designerHostElement.innerHTML = "";
        this.hostContainer.renderTo(this._designerHostElement);
        var wasInPreviewMode = this._designerSurface ? this._designerSurface.isPreviewMode : false;
        this._designerSurface = new Designer.CardDesignerSurface(this);
        this._designerSurface.fixedHeightCard = this.hostContainer.isFixedHeight;
        this._designerSurface.onSelectedPeerChanged = function (peer) {
            _this.buildPropertySheet(peer);
        };
        this._designerSurface.onLayoutUpdated = function (isFullRefresh) {
            if (isFullRefresh) {
                _this.scheduleUpdateJsonFromCard();
                _this.buildTreeView();
            }
        };
        this._designerSurface.onCardValidated = function (logEntries) {
            if (_this.onCardValidated) {
                _this.onCardValidated(_this, logEntries);
            }
            var errorPane = document.getElementById("errorPane");
            errorPane.innerHTML = "";
            if (_this.targetVersion.toString() == "1.4" && (_this.hostContainer.name == "Microsoft Teams - Dark" || _this.hostContainer.name == "Microsoft Teams - Light")) {
                errorPane.appendChild(_this.renderErrorPaneElement("[Warning] The selected Target Version (" + _this.targetVersion.toString() + ") is only supported by bot sent card. For user sent cards please use version 1.3"));
            }
            if (_this.targetVersion.compareTo(_this.hostContainer.targetVersion) > 0 && Shared.GlobalSettings.showTargetVersionMismatchWarning) {
                errorPane.appendChild(_this.renderErrorPaneElement("[Warning] The selected Target Version (" + _this.targetVersion.toString() + ") is greater than the version supported by " + _this.hostContainer.name + " (" + _this.hostContainer.targetVersion.toString() + ")"));
            }
            if (logEntries.length > 0) {
                var dedupedEntries = [];
                for (var _i = 0, logEntries_1 = logEntries; _i < logEntries_1.length; _i++) {
                    var entry = logEntries_1[_i];
                    if (dedupedEntries.indexOf(entry) < 0) {
                        dedupedEntries.push(entry);
                    }
                }
                for (var _a = 0, dedupedEntries_1 = dedupedEntries; _a < dedupedEntries_1.length; _a++) {
                    var entry = dedupedEntries_1[_a];
                    var s = "";
                    switch (entry.phase) {
                        case Adaptive.ValidationPhase.Parse:
                            s = "[Parse]";
                            break;
                        case Adaptive.ValidationPhase.ToJSON:
                            s = "[Serialize]";
                            break;
                        default:
                            s = "[Validation]";
                            break;
                    }
                    errorPane.appendChild(_this.renderErrorPaneElement(s + " " + entry.message, entry.source));
                }
            }
            if (errorPane.childElementCount > 0) {
                errorPane.classList.remove("acd-hidden");
            }
            else {
                errorPane.classList.add("acd-hidden");
            }
        };
        this._designerSurface.onStartDrag = function (sender) {
            _this._startDragPayload = JSON.parse(_this.getCurrentCardEditorPayload());
        };
        this._designerSurface.onEndDrag = function (sender, wasCancelled) {
            if (wasCancelled) {
                _this.setCardPayload(_this._startDragPayload, false);
            }
            else {
                _this.addToUndoStack(_this._designerSurface.getCardPayloadAsObject());
            }
        };
        this.buildPalette();
        this.buildPropertySheet(null);
        this.updateCardFromJson(false);
        this.updateSampleData();
        this._sampleHostDataEditorToolbox.isVisible = (this._hostContainer instanceof containers_1.WidgetContainer) && Shared.GlobalSettings.enableDataBindingSupport && Shared.GlobalSettings.showSampleHostDataEditorToolbox;
        this._designerSurface.isPreviewMode = wasInPreviewMode;
        this.updateFullLayout();
    };
    CardDesigner.prototype.activeHostContainerChanged = function () {
        this.recreateDesignerSurface();
        if (this._deviceEmulationChoicePicker) {
            this._deviceEmulationChoicePicker.isHidden = !(!!this.hostContainer.enableDeviceEmulation);
            this.activeDeviceEmulationChanged();
        }
        if (this._containerSizeChoicePicker) {
            this._containerSizeChoicePicker.isHidden = !(!!this.hostContainer.supportsMultipleSizes);
            // Update the host parameter data with the value of the choice picker
            if ((this._hostContainer instanceof containers_1.WidgetContainer) && this._containerSizeChoicePicker.isEnabled && this._sampleHostData) {
                this.updateHostDataSizeProperty();
                // If the container properties do not align with the choice picker, update the property and recreate the designer surface
                if (this._containerSizeChoicePicker.value !== this._hostContainer.containerSize) {
                    this._hostContainer.containerSize = this._containerSizeChoicePicker.value;
                    this.recreateDesignerSurface();
                }
            }
        }
        if (this._containerThemeChoicePicker) {
            this._containerThemeChoicePicker.isEnabled = !!this.hostContainer.supportsMultipleThemes;
            // Update the host parameter data with the value of the choice picker
            if (this._containerThemeChoicePicker.isEnabled && this._sampleHostData) {
                this.updateHostDataThemeProperty();
                // If the container properties do not align with the choice picker, update the property and recreate the designer surface
                if (this._containerThemeChoicePicker.value !== this._hostContainer.colorTheme) {
                    this._hostContainer.colorTheme = this._containerThemeChoicePicker.value;
                    this.recreateDesignerSurface();
                }
            }
        }
        if (this.onActiveHostContainerChanged) {
            this.onActiveHostContainerChanged(this);
        }
    };
    CardDesigner.prototype.activeDeviceEmulationChanged = function () {
        var _a;
        if (((_a = this.deviceEmulation) === null || _a === void 0 ? void 0 : _a.maxWidth) && this._hostContainer.enableDeviceEmulation) {
            this._designerHostElement.style.setProperty('max-width', this.deviceEmulation.maxWidth);
        }
        else {
            this._designerHostElement.style.removeProperty('max-width');
        }
    };
    CardDesigner.prototype.targetVersionChanged = function () {
        var cardPayload = this.designerSurface.getCardPayloadAsObject();
        if (typeof cardPayload === "object") {
            cardPayload["version"] = this.targetVersion.toString();
            this.setCardPayload(cardPayload, false);
        }
        this.recreateDesignerSurface();
        if (this.onTargetVersionChanged) {
            this.onTargetVersionChanged(this);
        }
    };
    CardDesigner.prototype.updateToolboxLayout = function (toolbox, hostPanelRect) {
        if (toolbox) {
            var jsonEditorHeaderRect = toolbox.getHeaderBoundingRect();
            toolbox.content.style.height = (hostPanelRect.height - jsonEditorHeaderRect.height) + "px";
        }
    };
    CardDesigner.prototype.updateJsonEditorsLayout = function () {
        if (this._isMonacoEditorLoaded) {
            var jsonEditorsPaneRect = this._jsonEditorsPanel.contentHost.getBoundingClientRect();
            this.updateToolboxLayout(this._cardEditorToolbox, jsonEditorsPaneRect);
            this._cardEditor.layout();
            if (this._sampleDataEditorToolbox) {
                this.updateToolboxLayout(this._sampleDataEditorToolbox, jsonEditorsPaneRect);
                this._sampleDataEditor.layout();
            }
            if (this._sampleHostDataEditorToolbox) {
                this.updateToolboxLayout(this._sampleHostDataEditorToolbox, jsonEditorsPaneRect);
                this._sampleHostDataEditor.layout();
            }
        }
    };
    CardDesigner.prototype.updateFullLayout = function () {
        this.scheduleLayoutUpdate();
        this.updateJsonEditorsLayout();
    };
    CardDesigner.prototype.cardPayloadChanged = function () {
        if (this.onCardPayloadChanged) {
            this.onCardPayloadChanged(this);
        }
    };
    CardDesigner.prototype.beginCardEditorUpdate = function () {
        this._cardEditorUpdateCounter++;
    };
    CardDesigner.prototype.endCardEditorUpdate = function () {
        if (this._cardEditorUpdateCounter > 0) {
            this._cardEditorUpdateCounter--;
        }
    };
    CardDesigner.prototype.setCardPayload = function (payload, addToUndoStack) {
        if (this._isMonacoEditorLoaded) {
            this.beginCardEditorUpdate();
            try {
                if (payload.hasOwnProperty("version")) {
                    payload["version"] = this.targetVersion.toString();
                }
                this._cardEditor.setValue(JSON.stringify(payload, null, 4));
                this.updateCardFromJson(addToUndoStack);
            }
            finally {
                this.endCardEditorUpdate();
            }
        }
        this.cardPayloadChanged();
    };
    CardDesigner.prototype.setSampleDataPayload = function (payload) {
        if (this._isMonacoEditorLoaded && this._sampleDataEditor) {
            this._sampleDataEditor.setValue(JSON.stringify(payload, null, 4));
        }
    };
    CardDesigner.prototype.setSampleHostDataPayload = function (payload) {
        if (this._isMonacoEditorLoaded && this._sampleHostDataEditor) {
            this._sampleHostDataEditor.setValue(JSON.stringify(payload, null, 4));
        }
    };
    CardDesigner.prototype.updateJsonFromCard = function (addToUndoStack) {
        if (addToUndoStack === void 0) { addToUndoStack = true; }
        try {
            this._cardPreventUpdate = true;
            if (!this._jsonPreventUpdate && this._isMonacoEditorLoaded) {
                var cardPayload = this._designerSurface.getCardPayloadAsObject();
                this.setCardPayload(cardPayload, addToUndoStack);
            }
        }
        finally {
            this._cardPreventUpdate = false;
        }
    };
    CardDesigner.prototype.scheduleUpdateJsonFromCard = function () {
        var _this = this;
        clearTimeout(this._jsonUpdateTimer);
        if (!this._jsonPreventUpdate) {
            this._jsonUpdateTimer = setTimeout(function () { _this.updateJsonFromCard(); }, 100);
        }
    };
    CardDesigner.prototype.getCurrentCardEditorPayload = function () {
        return this._isMonacoEditorLoaded ? this._cardEditor.getValue() : Constants.defaultPayload;
    };
    CardDesigner.prototype.getCurrentSampleDataEditorPayload = function () {
        return this._isMonacoEditorLoaded && this._sampleDataEditor ? this._sampleDataEditor.getValue() : "";
    };
    CardDesigner.prototype.getCurrentSampleHostDataEditorPayload = function () {
        return this._isMonacoEditorLoaded && this._sampleHostDataEditor ? this._sampleHostDataEditor.getValue() : "";
    };
    CardDesigner.prototype.updateCardFromJson = function (addToUndoStack) {
        try {
            this._jsonPreventUpdate = true;
            var currentEditorPayload = this.getCurrentCardEditorPayload();
            if (addToUndoStack) {
                try {
                    this.addToUndoStack(JSON.parse(currentEditorPayload));
                }
                catch (_a) {
                    // Swallow the parse error
                }
            }
            if (!this._cardPreventUpdate) {
                this.designerSurface.setCardPayloadAsString(currentEditorPayload);
                this.cardPayloadChanged();
            }
        }
        finally {
            this._jsonPreventUpdate = false;
        }
    };
    CardDesigner.prototype.scheduleUpdateCardFromJson = function () {
        var _this = this;
        clearTimeout(this._cardUpdateTimer);
        if (!this._cardPreventUpdate) {
            this._cardUpdateTimer = setTimeout(function () { _this.updateCardFromJson(true); }, 300);
        }
    };
    CardDesigner.prototype.isEdgeHTML = function () {
        if (this._isEdgeHTML === undefined) {
            this._isEdgeHTML = window.navigator.userAgent.toLowerCase().indexOf("edge") > -1;
        }
        return this._isEdgeHTML;
    };
    CardDesigner.prototype.scheduleLayoutUpdate = function () {
        var _this = this;
        if (this.designerSurface) {
            if (!this.isEdgeHTML()) {
                this.designerSurface.updateLayout(false);
            }
            else {
                // In "old" Edge, updateLayout() is *super* slow (because it uses getBoundingClientRect
                // heavily which is itself super slow) and we have to call it only on idle
                clearTimeout(this._updateLayoutTimer);
                this._updateLayoutTimer = setTimeout(function () {
                    if (_this.designerSurface) {
                        _this.designerSurface.updateLayout(false);
                    }
                }, 5);
            }
        }
    };
    CardDesigner.prototype.prepareToolbar = function () {
        var _this = this;
        if (Shared.GlobalSettings.showVersionPicker) {
            this._versionChoicePicker = new toolbar_1.ToolbarChoicePicker(CardDesigner.ToolbarCommands.VersionPicker);
            this._versionChoicePicker.label = "Target version:";
            this._versionChoicePicker.alignment = toolbar_1.ToolbarElementAlignment.Right;
            this._versionChoicePicker.separator = true;
            for (var i = 0; i < Shared.GlobalSettings.supportedTargetVersions.length; i++) {
                this._versionChoicePicker.choices.push({
                    name: Shared.GlobalSettings.supportedTargetVersions[i].label,
                    value: i.toString()
                });
            }
            this.toolbar.addElement(this._versionChoicePicker);
        }
        this._newCardButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.NewCard, "New card", "acd-icon-newCard", function (sender) {
            var dialog = new open_sample_dialog_1.OpenSampleDialog({
                catalogue: _this._sampleCatalogue,
                handlers: [
                    {
                        label: "From JSON Schema",
                        onClick: function () {
                            dialog.close();
                            _this.launchJsonSchemaPopup();
                        },
                        onKeyEnterEvent: function (e) {
                            dialog.close();
                            _this.launchJsonSchemaPopup();
                        },
                        cardData: {
                            thumbnail: function () {
                                var thumbnail = document.createElement("div");
                                thumbnail.className = "acd-image-container";
                                thumbnail.innerHTML = "<div class=\"acd-image-upload acd-open-sample-item\">\n                                        <img alt=\"json schema image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACKCAMAAABCWSJWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDUExURQAAAAAAAEBAQGBgYFVVVU1NTUZGRl1dXVVVVU5OTlVVVVBQUEtLS1FRUVFRUVJSUlJSUk9PT1JSUlBQUFNTU1BQUE5OTlNTU1FRUU5OTlNTU09PT1NTU1FRUU9PT1NTU1BQUE5OTlJSUlBQUFJSUlBQUE9PT1JSUlFRUU9PT05OTlFRUU5OTlJSUlFRUVBQUFFRUU9PT05OTlFRUVBQUE9PT05OTlJSUlFRUVFRUVBQUFBQUE9PT1FRUVBQUE9PT1FRUU9PT05OTlBQUFBQUFBQUE9PT1FRUVFRUU9PT1BQUE9PT1FRUU9PT09PT1BQUE1NTVBQUE9PT1BQUE9PT05OTlBQUFFRUVBQUFBQUE9PT1FRUVFRUVBQUE9PT1FRUVBQUE9PT1FRUVBQUE9PT05OTlBQUFBQUFBQUFBQUE9PT1BQUE9PT1FRUVBQUFFRUVBQUFFRUVBQUFBQUFBQUFFRUVBQUFBQUFBQUFFRUVFRUVBQUFBQUFBQUE9PT1FRUVBQUFBQUE9PT1FRUVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFFRUVBQUFBQUE9PT1FRUVBQUE9PT1BQUFBQUFBQUFBQUFBQUFBQUFBQUFFRUU9PT1FRUVBQUFBQUFBQUFFRUVBQUFBQUFBQUFBQUE9PT1BQUFFRUVBQUFBQUE9PT1FRUVBQUFBQUFBQUFFRUVBQUFBQUFBQUFFRUVBQUE9PT1BQUE9PT1FRUVBQUFBQUFBQUE9PT1BQUE9PT1BQUFFRUc/1aIgAAAC+dFJOUwABBAgJCgsLDA0PEBETFhkcHR8gIiMkJSYnKCorLC0uMDEyMzU2Nzg5Ojs8Pj4/Q0VHSEhJSktLTE9QU1RVVldYWltcXWBhYWJkZmdoamtscHN0eX5/gIGCg4SEhYaIiImKi4yOj4+QlZaXmZqbnJ6goaKjpqeoqaqqq6ytsLGxsrO0tLW2ubq7vL2/wcLDxMTFx8jJysvNzs/R1NTV1tra293e4OHj4+Xm5+fo6erq6+zt7e7y9ff3+Pr8/v6BMG3iAAAACXBIWXMAADLAAAAywAEoZFrbAAAEwklEQVR4Xu2c+1tURRjHVxSEAhXTLBNLCSMzu6nYFpQheEXCSk3D1MrQUjQTLbxg3lBERUHMa0ZZlikQRVg6/mntvvNdd3b33T17mDknnp75/MLznXn3nQ+H3XPmUYZAKnLLG9q6BoQX3Bf3+i43b5iJlRx47hBe5iU3a3OwXHIe+wLFXtNbgxWTMasblT7QOAKLslSjyh/OP4FlGd5EjV+cT3pdiu6g5Le62eNSXj13TPkTfXs2zx2fmVewpAlZfI2KBDpR8H4mBgxxBn0/yMZAoPgAhpK8dxfL2e5ZyKaokH375iIT6+Rgz0jkWH6Qs9MRjXFV9o27rcFlDWIMZXJuPqIxXpV9FyI+QP6MbiDFIO9tLUjm+Jz6tiFFeZbGxQxElV6aCSKZ4wb1fQNJQV6WdUgKE2hiIAPRGPnUVzz48ERZShNHkRRm0kQrkjmKqG8HkkoBzVxEUpB32gYkcwSp7z4klTya6UVSqKKJOiRzVFLfeiSVETQzgKTgv8o4mulCUvBfZTbNJH7K/wOVTTSzE0nBd5XM2zRTjqjgu8pqmhC5iAp+q5TQuDiEqOKzygz5nGH3Af6qYA8jtiPH4KNKVtkpGhTi1gQMxRCv8nq9DsvQJaLyHcZD7G2/S0NhXkFRLPEqBykPlnPoElHhqUJNHP6r9JeiJB7fVc4WoiIBn1WuJex1o/ip8uvWlPvWeJVRlTpMRpeIykmMhwhOy8dUMuJVTCFVmGdQcqwKh1XhsCocVoXDqnDEq5h9HFqVMFaF4/+qYgqrwmFVOKwKh1XhsCocBlTGVulQhC5GVOyTOYxV4RjCKnPqdIj+o58BFVNYFQ6rwmFVOKwKh1XhMKCyokOHTehiRMVuEsJYFY4hrBJ4WodhaGJGxRBrqW8nUlp4pTKEropV4bAqHFaFw6pwWBUOq8JhVTisCodLlfyiYOUOeslx/B6dFm+/98kidHanEtwiz6oY5Q6au1FZcI1KTeNeZWo7FZrHtUrpX1TnAW5V5IfGE1yqvExFRMd+/A63Bl9FDjoK8ftPh7FGeiqP3qIiIU6V8Yf/XHIC7bp2jMEIkY5K5LRwBbImNWi3CjlCGio4a9fLHbYbBNk9sl/CN5aGyjdUIkoQdVkj2y1HjOKs8jBViNWI2lygdgeQFJxV3qKK7ixEXSZSO1GMqOCs8iVVbEbSRr5p25FUnFVOU4Wpd0rgU2r3LpKKs8r3VDEeSZtd1I45iJqGSj9VGDvO3UrtuBuDs0ofVeQhaXOE2r2EpCLfRR8jcVyiigIkbbZRO+7G/RHNJN5vojRTxRIkbWqp3WdIKvLzMQ+JYwNVNCFpI8/9/oykgOPMTyJyyOPL4hlEXXJku8SrvJHGryDx3KQaY5dF/nmSHx9CjFBIw2I9Io/86YoPEXXB38DYjwhyr8jhp5B5cnAc0pRLi2y3ezhymMexi4/+nxlPZK/TxDzDBsGLaNf5GgZCe2fsYf6O2dZx7JGFoUf70gID9zqcxA1tUN+ZOjojf3qtvKGHcN4nZn2L0hD38NULVmK9VEyKunioshGrpSazEeUeqlRjLUdq8M7ySuXYC1goDbJrfwm/xBuV9mSnUJPx/Prmi3/gxab453rH3upHsEAqAoF/ATgD/WK2xh4JAAAAAElFTkSuQmCC\" />\n                                        <div class=\"acd-image-text-container\">\n                                            <div class=\"acd-image-upload-title\">From JSON Schema</div>\n                                        </div>\n                                    </div>";
                                return thumbnail;
                            },
                        },
                    },
                    pic2card_1.Pic2Card.pic2cardService ?
                        {
                            label: "Pic2Card",
                            onClick: function () {
                                dialog.close();
                                _this.launchImagePopup();
                            },
                            onKeyEnterEvent: function (e) {
                                dialog.close();
                                _this.launchImagePopup();
                            },
                            cardData: {
                                thumbnail: function () {
                                    var thumbnail = document.createElement("div");
                                    thumbnail.className = "acd-image-container";
                                    thumbnail.innerHTML = "<div class=\"acd-image-upload acd-open-sample-item\">\n                                            <img alt=\"pic2card image\" src=\"data:image/png;base64,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\" />\n                                            <div class=\"acd-image-text-container\">\n                                                <div class=\"acd-image-new-title\">NEW PREVIEW</div>\n                                                <div class=\"acd-image-upload-title\">Create from Image </div>\n                                                <div id=\"image-description-id\" class=\"acd-image-description\">Upload your own image and convert it magically to an Adaptive card</div>\n                                                <input aria-labelledby=\"image-description-id\" class=\"acd-try-now-button\" value=\"Try Now\" type=\"button\" />\n                                            </div>\n                                        </div>";
                                    return thumbnail;
                                },
                            },
                        } : null,
                ]
            });
            dialog.title = "Create";
            dialog.closeButton.caption = "Cancel";
            dialog.width = "80%";
            dialog.height = "80%";
            dialog.onClose = function (d) {
                var newCardButton = _this._newCardButton.renderedElement;
                if (dialog.output) {
                    try {
                        var cardPayload = JSON.parse(dialog.output.cardPayload);
                        _this.setCardPayload(cardPayload, true);
                    }
                    catch (_a) {
                        alert("The card template could not be loaded.");
                        return;
                    }
                    if (dialog.output.sampleData) {
                        try {
                            var sampleDataPayload = JSON.parse(dialog.output.sampleData);
                            _this.setSampleDataPayload(sampleDataPayload);
                            _this.dataStructure = data_1.FieldDefinition.deriveFrom(sampleDataPayload);
                        }
                        catch (_b) {
                            alert("The card data could not be loaded.");
                        }
                    }
                    else {
                        _this.setSampleDataPayload({});
                    }
                    if (dialog.output.sampleHostData) {
                        try {
                            var sampleHostDataPayload = JSON.parse(dialog.output.sampleHostData);
                            _this.setSampleHostDataPayload(sampleHostDataPayload);
                            _this.hostDataStructure = data_1.FieldDefinition.deriveFrom(sampleHostDataPayload);
                            // If the new data has size, update the choice picker value; otherwise, update the data based on the choice picker
                            if (_this._sampleHostData.widgetSize) {
                                _this.updateContainerSizeChoicePicker();
                            }
                            else {
                                _this.updateHostDataSizeProperty();
                            }
                            // If the new data has theme, update the choice picker value; otherwise, update the data based on the choice picker
                            if (_this._sampleHostData.hostTheme) {
                                _this.updateContainerThemeChoicePicker();
                            }
                            else {
                                _this.updateHostDataThemeProperty();
                            }
                        }
                        catch (_c) {
                            alert("The card host data could not be loaded.");
                        }
                    }
                    else {
                        _this.setSampleHostDataPayload({});
                        // Update the size and theme properties based on the current state of the choice pickers
                        _this.updateHostDataSizeProperty();
                        _this.updateHostDataThemeProperty();
                    }
                }
                if (newCardButton) {
                    newCardButton.focus();
                }
            };
            dialog.open();
        });
        this._newCardButton.separator = true;
        this.toolbar.addElement(this._newCardButton);
        if (this._hostContainers && this._hostContainers.length > 0) {
            this._hostContainerChoicePicker = new toolbar_1.ToolbarChoicePicker(CardDesigner.ToolbarCommands.HostAppPicker);
            this._hostContainerChoicePicker.separator = true;
            this._hostContainerChoicePicker.label = "Select host app:";
            for (var i = 0; i < this._hostContainers.length; i++) {
                this._hostContainerChoicePicker.choices.push({
                    name: this._hostContainers[i].name,
                    value: i.toString(),
                });
            }
            this._hostContainerChoicePicker.onChanged = function (sender) {
                _this.hostContainer = _this._hostContainers[parseInt(_this._hostContainerChoicePicker.value)];
            };
            this.toolbar.addElement(this._hostContainerChoicePicker);
        }
        var supportsTheme = this._hostContainers.some(function (x) { return x.supportsMultipleThemes; });
        var supportsSize = this._hostContainers.some(function (x) { return x.supportsMultipleSizes; });
        if (supportsTheme) {
            this._containerThemeChoicePicker = new toolbar_1.ToolbarChoicePicker(CardDesigner.ToolbarCommands.ContainerThemePicker);
            this._containerThemeChoicePicker.separator = false;
            this._containerThemeChoicePicker.label = "Theme:";
            var themes = host_container_1.HostContainer.supportedContainerThemes;
            for (var i = 0; i < themes.length; i++) {
                this._containerThemeChoicePicker.choices.push({
                    name: themes[i],
                    value: themes[i],
                });
            }
            this._containerThemeChoicePicker.onChanged = function (sender) {
                // Update the container theme and rerender the designer surface
                _this.hostContainer.colorTheme = _this._containerThemeChoicePicker.value;
                _this.recreateDesignerSurface();
                if (_this._sampleHostData) {
                    _this.updateHostDataThemeProperty();
                }
            };
            this.toolbar.addElement(this._containerThemeChoicePicker);
        }
        if (supportsSize) {
            this._containerSizeChoicePicker = new toolbar_1.ToolbarChoicePicker(CardDesigner.ToolbarCommands.ContainerSizePicker);
            this._containerSizeChoicePicker.separator = false;
            this._containerSizeChoicePicker.label = "Container size:";
            var sizes = containers_1.WidgetContainer.supportedContainerSizes;
            for (var i = 0; i < sizes.length; i++) {
                this._containerSizeChoicePicker.choices.push({
                    name: sizes[i],
                    value: sizes[i],
                });
            }
            this._containerSizeChoicePicker.onChanged = function (sender) {
                if (_this.hostContainer instanceof containers_1.WidgetContainer) {
                    // Update container size and rerender the designer surface
                    _this.hostContainer.containerSize = _this._containerSizeChoicePicker.value;
                    _this.recreateDesignerSurface();
                    if (_this._sampleHostData) {
                        _this.updateHostDataSizeProperty();
                    }
                }
            };
            this.toolbar.addElement(this._containerSizeChoicePicker);
        }
        if (this._deviceEmulations && this._deviceEmulations.length > 0) {
            this._deviceEmulationChoicePicker = new toolbar_1.ToolbarChoicePicker(CardDesigner.ToolbarCommands.DeviceEmulationPicker);
            this._deviceEmulationChoicePicker.separator = true;
            this._deviceEmulationChoicePicker.label = "Emulate device:";
            for (var i = 0; i < this._deviceEmulations.length; i++) {
                this._deviceEmulationChoicePicker.choices.push({
                    name: this._deviceEmulations[i].name,
                    value: i.toString(),
                });
            }
            this._deviceEmulationChoicePicker.onChanged = function (sender) {
                _this.deviceEmulation = _this._deviceEmulations[parseInt(_this._deviceEmulationChoicePicker.value)];
            };
            this.toolbar.addElement(this._deviceEmulationChoicePicker);
        }
        this._undoButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.Undo, "Undo", "acd-icon-undo", function (sender) { _this.undo(); });
        this._undoButton.separator = true;
        this._undoButton.toolTip = "Undo your last change";
        this._undoButton.isEnabled = false;
        this.toolbar.addElement(this._undoButton);
        this._redoButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.Redo, "Redo", "acd-icon-redo", function (sender) { _this.redo(); });
        this._redoButton.toolTip = "Redo your last changes";
        this._redoButton.isEnabled = false;
        this.toolbar.addElement(this._redoButton);
        this._copyJSONButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.CopyJSON, "Copy card payload", "acd-icon-copy");
        this._copyJSONButton.toolTip = "Copy the generated JSON payload of the card (template bound with data) to the clipboard. To copy only the template payload, use the Card Payload Editor.";
        this.toolbar.addElement(this._copyJSONButton);
        this._togglePreviewButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.TogglePreview, "Preview mode", "acd-icon-preview", function (sender) { _this.togglePreview(); });
        this._togglePreviewButton.separator = true;
        this._togglePreviewButton.allowToggle = true;
        this._togglePreviewButton.isVisible = Shared.GlobalSettings.enableDataBindingSupport;
        // On initialization, the preview button is not pressed so set the tooltip to "Switch to Preview mode"
        this._togglePreviewButton.toolTip = "Switch to Preview mode";
        this.toolbar.addElement(this._togglePreviewButton);
        this._helpButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.Help, "Help", "acd-icon-help", function (sender) { _this.showHelp(); });
        this._helpButton.toolTip = "Display help.";
        this._helpButton.separator = true;
        this._helpButton.alignment = toolbar_1.ToolbarElementAlignment.Right;
        this.toolbar.addElement(this._helpButton);
        this._fullScreenHandler = new fullscreen_handler_1.FullScreenHandler();
        this._fullScreenHandler.onFullScreenChanged = function (isFullScreen) {
            _this._fullScreenButton.toolTip = isFullScreen ? "Exit full screen" : "Enter full screen";
            _this.updateFullLayout();
        };
    };
    CardDesigner.prototype.launchJsonSchemaPopup = function () {
        var _this = this;
        var dialog = new open_json_schema_dialog_1.OpenJsonSchemaDialog();
        dialog.title = "Create from JSON Schema";
        dialog.closeButton.caption = "Cancel";
        dialog.preventLightDismissal = true;
        dialog.width = "80%";
        dialog.height = "80%";
        dialog.open();
        dialog.submitButton.onClick = function () {
            dialog.close();
            if (dialog.output) {
                try {
                    var cardPayload = JSON.parse(dialog.output.cardPayload);
                    _this.setCardPayload(cardPayload, true);
                }
                catch (_a) {
                    alert("The card template could not be loaded.");
                    return;
                }
                if (dialog.output.sampleData) {
                    try {
                        var sampleDataPayload = JSON.parse(dialog.output.sampleData);
                        _this.setSampleDataPayload(sampleDataPayload);
                        _this.dataStructure = data_1.FieldDefinition.deriveFrom(sampleDataPayload);
                    }
                    catch (_b) {
                        alert("The card data could not be loaded.");
                    }
                }
                else {
                    _this.setSampleDataPayload({});
                }
                if (dialog.output.sampleHostData) {
                    try {
                        var sampleHostDataPayload = JSON.parse(dialog.output.sampleData);
                        _this.setSampleHostDataPayload(sampleHostDataPayload);
                        _this.hostDataStructure = data_1.FieldDefinition.deriveFrom(sampleHostDataPayload);
                        // If the new data has size, update the choice picker value; otherwise, update the data based on the choice picker
                        if (_this._sampleHostData.widgetSize) {
                            _this.updateContainerSizeChoicePicker();
                        }
                        else {
                            _this.updateHostDataSizeProperty();
                        }
                        // If the new data has theme, update the choice picker value; otherwise, update the data based on the choice picker
                        if (_this._sampleHostData.hostTheme) {
                            _this.updateContainerThemeChoicePicker();
                        }
                        else {
                            _this.updateHostDataThemeProperty();
                        }
                    }
                    catch (_c) {
                        alert("The card host data could not be loaded.");
                    }
                }
                else {
                    _this.setSampleHostDataPayload({});
                    // Update the size and theme properties based on the current state of the choice pickers
                    _this.updateHostDataSizeProperty();
                    _this.updateHostDataThemeProperty();
                }
            }
            var newCardButton = _this._newCardButton.renderedElement;
            if (newCardButton) {
                newCardButton.focus();
            }
        };
        dialog.onClose = function (d) {
            var newCardButton = _this._newCardButton.renderedElement;
            if (newCardButton) {
                newCardButton.focus();
            }
        };
    };
    CardDesigner.prototype.launchImagePopup = function () {
        var _this = this;
        var dialog = new open_image_dialog_1.OpenImageDialog();
        dialog.title = "Pic2card Dialog for Image Upload";
        dialog.closeButton.caption = "Cancel";
        dialog.preventLightDismissal = true;
        dialog.width = "80%";
        dialog.height = "80%";
        dialog.open();
        dialog.onClose = function (d) {
            var newCardButton = _this._newCardButton.renderedElement;
            if (dialog.predictedCardJSON) {
                var _a = dialog.predictedCardJSON, card = _a.card, data = _a.data;
                var addToUndoStack = true;
                _this.setCardPayload(card, addToUndoStack);
                _this.setSampleDataPayload(data);
                var loadNotification_1 = document.createElement("span");
                loadNotification_1.id = "pic2cardLoadNotification";
                loadNotification_1.setAttribute("role", "status");
                loadNotification_1.setAttribute("aria-label", "Pic2Card generated Adaptive Card loaded");
                // It's a bit odd to jump up to the parent element here, but we need a place to park this empty element
                // so that it's seen by accessibility tools. If we put it on the button itself, the status message gets
                // read twice (once on DOM entry and again on focus).
                newCardButton.parentElement.appendChild(loadNotification_1);
                // element needs to enter the DOM, but shouldn't stay forever, lest it be read again...
                setTimeout(function () {
                    newCardButton.parentElement.removeChild(loadNotification_1);
                }, 500);
            }
            if (newCardButton) {
                newCardButton.focus();
            }
        };
    };
    CardDesigner.prototype.onResize = function () {
        this._cardEditor.layout();
        if (this._sampleDataEditor) {
            this._sampleDataEditor.layout();
        }
        if (this._sampleHostDataEditor) {
            this._sampleHostDataEditor.layout();
        }
    };
    CardDesigner.prototype.updateSampleData = function () {
        try {
            this._sampleData = JSON.parse(this.getCurrentSampleDataEditorPayload());
            this.scheduleUpdateCardFromJson();
        }
        catch (_a) {
            // Swallow expression, the payload isn't a valid JSON document
        }
    };
    CardDesigner.prototype.updateSampleHostData = function () {
        try {
            this._sampleHostData = JSON.parse(this.getCurrentSampleHostDataEditorPayload());
            // Since we have new host data, we should update the container property choice pickers
            this.updateContainerSizeChoicePicker();
            this.updateContainerThemeChoicePicker();
            this.scheduleUpdateCardFromJson();
        }
        catch (_a) {
            // Swallow expression, the payload isn't a valid JSON document
        }
    };
    // Update the size property within the sample host data payload
    CardDesigner.prototype.updateHostDataSizeProperty = function () {
        var _a;
        if ((_a = this._containerSizeChoicePicker) === null || _a === void 0 ? void 0 : _a.value) {
            var value = this._containerSizeChoicePicker.value.toLowerCase();
            var currentValue = this._sampleHostData.widgetSize;
            // only update the payload if the value has changed
            if (currentValue !== value) {
                this._sampleHostData.widgetSize = value;
                this.setSampleHostDataPayload(this._sampleHostData);
                this.hostDataStructure = data_1.FieldDefinition.deriveFrom(this._sampleHostData);
            }
        }
    };
    // Update the theme property within the sample host data payload
    CardDesigner.prototype.updateHostDataThemeProperty = function () {
        var _a;
        if ((_a = this._containerThemeChoicePicker) === null || _a === void 0 ? void 0 : _a.value) {
            var value = this._containerThemeChoicePicker.value.toLowerCase();
            var currentValue = this._sampleHostData.hostTheme;
            // only update the payload if the value has changed
            if (currentValue !== value) {
                this._sampleHostData.hostTheme = value;
                this.setSampleHostDataPayload(this._sampleHostData);
                this.hostDataStructure = data_1.FieldDefinition.deriveFrom(this._sampleHostData);
            }
        }
    };
    // Update the container size choice picker based on the host data value
    CardDesigner.prototype.updateContainerSizeChoicePicker = function () {
        // check for `size` in the host data payload
        if (this._containerSizeChoicePicker && this._sampleHostData.widgetSize) {
            var size = this._sampleHostData.widgetSize;
            // only update the choice picker if the value is different
            if (size !== this._containerSizeChoicePicker.value.toLowerCase()) {
                var choices = this._containerSizeChoicePicker.choices;
                // search for the matching choice and update the selectedIndex
                for (var i = 0; i < choices.length; i++) {
                    if (choices.at(i).value.toLowerCase() === size.toLowerCase()) {
                        this._containerSizeChoicePicker.selectedIndex = i;
                        break;
                    }
                }
            }
        }
    };
    // Update the container theme choice picker based on the host data value
    CardDesigner.prototype.updateContainerThemeChoicePicker = function () {
        // check for `theme` in the host data payload
        if (this._containerThemeChoicePicker && this._sampleHostData.hostTheme) {
            var theme = this._sampleHostData.hostTheme;
            // only update the choice picker if the value is different
            if (theme !== this._containerThemeChoicePicker.value.toLowerCase()) {
                var choices = this._containerThemeChoicePicker.choices;
                // search for the matching choice and update the selectedIndex
                for (var i = 0; i < choices.length; i++) {
                    if (choices.at(i).value.toLowerCase() === theme.toLowerCase()) {
                        this._containerThemeChoicePicker.selectedIndex = i;
                        break;
                    }
                }
            }
        }
    };
    CardDesigner.prototype.updateToolbar = function () {
        this._undoButton.isEnabled = this.canUndo;
        this._redoButton.isEnabled = this.canRedo;
    };
    CardDesigner.prototype.addToUndoStack = function (payload) {
        var doAdd = !this._designerSurface.draggedPeer;
        if (doAdd) {
            if (this._undoStack.length > 0) {
                doAdd = this._undoStack[this._undoStack.length - 1] != payload;
            }
            if (doAdd) {
                var undoPayloadsToDiscard = this._undoStack.length - (this._undoStackIndex + 1);
                if (undoPayloadsToDiscard > 0) {
                    this._undoStack.splice(this._undoStackIndex + 1, undoPayloadsToDiscard);
                }
                this._undoStack.push(payload);
                if (this._undoStack.length > CardDesigner.MAX_UNDO_STACK_SIZE) {
                    this._undoStack.splice(0, 1);
                }
                this._undoStackIndex = this._undoStack.length - 1;
                this.updateToolbar();
            }
        }
    };
    CardDesigner.prototype.handlePointerUp = function (e) {
        this.endDrag();
        if (this.designerSurface) {
            this.designerSurface.endDrag(false);
        }
    };
    CardDesigner.prototype.handlePointerMove = function (e) {
        this._currentMousePosition = { x: e.x, y: e.y };
        if (this.designerSurface) {
            var isPointerOverDesigner = this.designerSurface.isPointerOver(this._currentMousePosition.x, this._currentMousePosition.y);
            var peerDropped = false;
            if (this._draggedPaletteItem && isPointerOverDesigner) {
                var peer = this._draggedPaletteItem.createPeer(this, this.designerSurface);
                var clientCoordinates = this.designerSurface.pageToClientCoordinates(this._currentMousePosition.x, this._currentMousePosition.y);
                if (this.designerSurface.tryDrop(clientCoordinates, peer)) {
                    this.endDrag();
                    this.designerSurface.startDrag(peer);
                    peerDropped = true;
                }
            }
            if (!peerDropped && this._draggedElement) {
                var adjustedPosition = miscellaneous_1.Utils.adjustPointForScroll(this._currentMousePosition);
                this._draggedElement.style.left = adjustedPosition.x - 10 + "px";
                this._draggedElement.style.top = adjustedPosition.y - 10 + "px";
            }
        }
    };
    CardDesigner.prototype.monacoModuleLoaded = function (monaco) {
        var _this = this;
        if (monaco === void 0) { monaco = null; }
        if (!monaco) {
            monaco = window["monaco"];
        }
        var monacoConfiguration = {
            schemas: [
                {
                    uri: "http://adaptivecards.io/schemas/adaptive-card.json",
                    schema: adaptive_card_schema_1.adaptiveCardSchema,
                    fileMatch: ["*"],
                }
            ],
            validate: true,
            allowComments: true
        };
        // TODO: set this in our editor instead of defaults
        monaco.languages.json.jsonDefaults.setDiagnosticsOptions(monacoConfiguration);
        // Setup card JSON editor
        this._cardEditorToolbox.content = document.createElement("div");
        this._cardEditorToolbox.content.setAttribute("role", "region");
        this._cardEditorToolbox.content.setAttribute("aria-label", "card payload editor, press Ctrl+M to toggle behavior of the TAB key");
        this._cardEditorToolbox.content.classList.add("acd-code-editor");
        this._cardEditor = monaco.editor.create(this._cardEditorToolbox.content, {
            folding: true,
            fontSize: 13.5,
            language: 'json',
            minimap: {
                enabled: true
            }
        });
        this._cardEditor.onDidChangeModelContent(function () {
            if (_this._cardEditorUpdateCounter == 0) {
                _this.scheduleUpdateCardFromJson();
            }
        });
        if (this._sampleDataEditorToolbox) {
            // Setup sample data JSON editor
            this._sampleDataEditorToolbox.content = document.createElement("div");
            this._sampleDataEditorToolbox.content.setAttribute("role", "region");
            this._sampleDataEditorToolbox.content.setAttribute("aria-label", "sample data editor");
            this._sampleDataEditorToolbox.content.classList.add("acd-code-editor");
            this._sampleDataEditor = monaco.editor.create(this._sampleDataEditorToolbox.content, {
                folding: true,
                fontSize: 13.5,
                language: 'json',
                minimap: {
                    enabled: false
                }
            });
            this._sampleDataEditor.onDidChangeModelContent(function () {
                _this.updateSampleData();
                if (!_this.lockDataStructure) {
                    try {
                        _this.dataStructure = data_1.FieldDefinition.deriveFrom(JSON.parse(_this.getCurrentSampleDataEditorPayload()));
                    }
                    catch (_a) {
                        // Swallow exception
                    }
                }
            });
        }
        if (this._sampleHostDataEditorToolbox) {
            // Setup sample host data JSON editor
            this._sampleHostDataEditorToolbox.content = document.createElement("div");
            this._sampleHostDataEditorToolbox.content.setAttribute("role", "region");
            this._sampleHostDataEditorToolbox.content.setAttribute("aria-label", "sample host data editor");
            this._sampleHostDataEditorToolbox.content.classList.add("acd-code-editor");
            this._sampleHostDataEditor = monaco.editor.create(this._sampleHostDataEditorToolbox.content, {
                folding: true,
                fontSize: 13.5,
                language: 'json',
                minimap: {
                    enabled: false
                }
            });
            this._sampleHostDataEditor.onDidChangeModelContent(function () {
                // Maybe we want just updateSampleData?
                _this.updateSampleHostData();
                if (!_this.lockDataStructure) {
                    try {
                        _this.hostDataStructure = data_1.FieldDefinition.deriveFrom(JSON.parse(_this.getCurrentSampleHostDataEditorPayload()));
                    }
                    catch (_a) {
                        // Swallow exception
                    }
                }
            });
        }
        window.addEventListener('resize', function () { _this.onResize(); });
        this._isMonacoEditorLoaded = true;
        this.updateJsonEditorsLayout();
        this.updateJsonFromCard(true);
    };
    CardDesigner.prototype.attachTo = function (root) {
        var _this = this;
        var styleSheetLinkElement = document.createElement("link");
        styleSheetLinkElement.id = "__ac-designer";
        styleSheetLinkElement.rel = "stylesheet";
        styleSheetLinkElement.type = "text/css";
        styleSheetLinkElement.href = miscellaneous_1.Utils.joinPaths(this._assetPath, "adaptivecards-designer.css");
        document.getElementsByTagName("head")[0].appendChild(styleSheetLinkElement);
        if (this._hostContainers && this._hostContainers.length > 0) {
            this._hostContainer = this._hostContainers[0];
        }
        else {
            this._hostContainer = new default_container_1.DefaultContainer("Default", "adaptivecards-defaulthost.css");
        }
        if (this._deviceEmulationChoicePicker) {
            this._deviceEmulationChoicePicker.isHidden = !(!!this._hostContainer.enableDeviceEmulation);
        }
        if (this._containerSizeChoicePicker) {
            this._containerSizeChoicePicker.isHidden = !(!!this.hostContainer.supportsMultipleSizes);
        }
        if (this._containerThemeChoicePicker) {
            this._containerThemeChoicePicker.isEnabled = !!this.hostContainer.supportsMultipleThemes;
        }
        root.classList.add("acd-designer-root");
        root.style.flex = "1 1 auto";
        root.style.display = "flex";
        root.style.flexDirection = "column";
        root.style.overflow = "hidden";
        root.innerHTML =
            '<div id="toolbarHost" role="region" aria-label="toolbar"></div>' +
                '<div class="content">' +
                '<div id="leftCollapsedPaneTabHost" class="acd-verticalCollapsedTabContainer acd-dockedLeft"></div>' +
                '<div id="toolPalettePanel" class="acd-toolPalette-pane" role="region" aria-label="card elements"></div>' +
                '<div class="acd-previewRightAndBottomDocks">' +
                '<div class="acd-previewAndBottomDocks">' +
                '<div class="acd-designer-card-header">CARD PREVIEW</div>' +
                '<div id="cardArea" class="acd-designer-cardArea" role="region" aria-label="card preview">' +
                '<div style="flex: 1 1 100%; overflow: auto;">' +
                '<div id="designerHost" class="acd-designer-host"></div>' +
                '</div>' +
                '<div id="errorPane" class="acd-error-pane acd-hidden"></div>' +
                '</div>' +
                '<div id="treeViewPanel" class="acd-treeView-pane" role="region" aria-label="card structure"></div>' +
                '<div id="propertySheetPanel" class="acd-propertySheet-pane" role="region" aria-label="element properties"></div>' +
                '</div>' +
                '<div id="jsonEditorPanel" class="acd-json-editor-pane"></div>' +
                '<div id="bottomCollapsedPaneTabHost" class="acd-horizontalCollapsedTabContainer"></div>' +
                '</div>' +
                '<div id="rightCollapsedPaneTabHost" class="acd-verticalCollapsedTabContainer acd-dockedRight"></div>' +
                '</div>';
        this.toolbar.attachTo(document.getElementById("toolbarHost"));
        if (this._versionChoicePicker) {
            this._versionChoicePicker.selectedIndex = Shared.GlobalSettings.supportedTargetVersions.indexOf(this.targetVersion);
            this._versionChoicePicker.onChanged = function (sender) {
                _this.targetVersion = Shared.GlobalSettings.supportedTargetVersions[parseInt(_this._versionChoicePicker.value)];
            };
        }
        if (this._copyJSONButton.isVisible) {
            new Clipboard(this._copyJSONButton.renderedElement, {
                text: function (trigger) { return JSON.stringify(_this.getBoundCard(), null, 4); }
            })
                .on("error", function () { return _this._copyJSONButton.renderedElement.focus(); })
                .on("success", function () { return _this._copyJSONButton.renderedElement.focus(); });
        }
        // Tool palette panel
        var toolPaletteHost = document.createElement("div");
        toolPaletteHost.className = "acd-dockedPane";
        this._toolPaletteToolbox = new tool_box_1.Toolbox("toolPalette", strings_1.Strings.toolboxes.toolPalette.title);
        this._toolPaletteToolbox.content = toolPaletteHost;
        var toolPalettePanel = new side_panel_1.SidePanel("toolPalettePanel", side_panel_1.SidePanelAlignment.Left, document.getElementById("leftCollapsedPaneTabHost"));
        toolPalettePanel.addToolbox(this._toolPaletteToolbox);
        toolPalettePanel.isResizable = false;
        toolPalettePanel.attachTo(document.getElementById("toolPalettePanel"));
        // JSON editors panel
        this._cardEditorToolbox = new tool_box_1.Toolbox("cardEditor", strings_1.Strings.toolboxes.cardEditor.title);
        this._cardEditorToolbox.content = document.createElement("div");
        this._cardEditorToolbox.content.style.padding = "8px";
        this._cardEditorToolbox.content.innerText = strings_1.Strings.loadingEditor;
        this._jsonEditorsPanel = new side_panel_1.SidePanel("jsonEditorPanel", side_panel_1.SidePanelAlignment.Bottom, document.getElementById("bottomCollapsedPaneTabHost"));
        this._jsonEditorsPanel.onResized = function (sender) {
            _this.updateJsonEditorsLayout();
        };
        this._jsonEditorsPanel.onToolboxResized = function (sender) {
            _this.updateJsonEditorsLayout();
        };
        this._jsonEditorsPanel.onToolboxExpandedOrCollapsed = function (sender) {
            _this.updateJsonEditorsLayout();
        };
        this._jsonEditorsPanel.addToolbox(this._cardEditorToolbox);
        if (Shared.GlobalSettings.enableDataBindingSupport && Shared.GlobalSettings.showSampleDataEditorToolbox) {
            this._sampleDataEditorToolbox = new tool_box_1.Toolbox("sampleDataEditor", strings_1.Strings.toolboxes.sampleDataEditor.title);
            this._sampleDataEditorToolbox.content = document.createElement("div");
            this._sampleDataEditorToolbox.content.style.padding = "8px";
            this._sampleDataEditorToolbox.content.innerText = strings_1.Strings.loadingEditor;
            this._jsonEditorsPanel.addToolbox(this._sampleDataEditorToolbox);
        }
        if (Shared.GlobalSettings.enableDataBindingSupport) {
            this._sampleHostDataEditorToolbox = new tool_box_1.Toolbox("sampleHostDataEditor", strings_1.Strings.toolboxes.sampleHostDataEditor.title);
            this._sampleHostDataEditorToolbox.content = document.createElement("div");
            this._sampleHostDataEditorToolbox.content.style.padding = "8px";
            this._sampleHostDataEditorToolbox.content.innerText = strings_1.Strings.loadingEditor;
            this._sampleHostDataEditorToolbox.isVisible = Shared.GlobalSettings.showSampleHostDataEditorToolbox && (this._hostContainer instanceof containers_1.WidgetContainer);
            this._jsonEditorsPanel.addToolbox(this._sampleHostDataEditorToolbox);
        }
        this._jsonEditorsPanel.attachTo(document.getElementById("jsonEditorPanel"));
        // Property sheet panel
        var propertySheetHost = document.createElement("div");
        propertySheetHost.className = "acd-propertySheet-host";
        this._propertySheetToolbox = new tool_box_1.Toolbox("propertySheet", strings_1.Strings.toolboxes.propertySheet.title);
        this._propertySheetToolbox.content = propertySheetHost;
        var propertySheetPanel = new side_panel_1.SidePanel("propertySheetPanel", side_panel_1.SidePanelAlignment.Right, document.getElementById("rightCollapsedPaneTabHost"));
        propertySheetPanel.addToolbox(this._propertySheetToolbox);
        propertySheetPanel.onResized = function (sender) {
            _this.scheduleLayoutUpdate();
        };
        propertySheetPanel.attachTo(document.getElementById("propertySheetPanel"));
        // Tree view panel
        var treeViewHost = document.createElement("div");
        treeViewHost.className = "acd-treeView-host";
        this._treeViewToolbox = new tool_box_1.Toolbox("treeView", strings_1.Strings.toolboxes.cardStructure.title);
        this._treeViewToolbox.content = treeViewHost;
        var treeViewPanel = new side_panel_1.SidePanel("treeViewPanel", side_panel_1.SidePanelAlignment.Right, document.getElementById("rightCollapsedPaneTabHost"));
        treeViewPanel.addToolbox(this._treeViewToolbox);
        treeViewPanel.onResized = function (sender) {
            _this.scheduleLayoutUpdate();
        };
        if (Shared.GlobalSettings.enableDataBindingSupport && Shared.GlobalSettings.showDataStructureToolbox) {
            var dataExplorerHost = document.createElement("div");
            dataExplorerHost.className = "acd-treeView-host";
            this._dataToolbox = new tool_box_1.Toolbox("data", strings_1.Strings.toolboxes.dataStructure.title);
            this._dataToolbox.content = dataExplorerHost;
            treeViewPanel.addToolbox(this._dataToolbox);
        }
        treeViewPanel.attachTo(document.getElementById("treeViewPanel"));
        this._designerHostElement = document.getElementById("designerHost");
        window.addEventListener("pointermove", function (e) { _this.handlePointerMove(e); });
        window.addEventListener("resize", function () { _this.scheduleLayoutUpdate(); });
        window.addEventListener("pointerup", function (e) { _this.handlePointerUp(e); });
        this._isAttached = true;
        this.recreateDesignerSurface();
    };
    CardDesigner.prototype.createAndAddSampleHostDataEditorToolbox = function () {
        this._sampleHostDataEditorToolbox = new tool_box_1.Toolbox("sampleHostDataEditor", strings_1.Strings.toolboxes.sampleHostDataEditor.title);
        this._sampleHostDataEditorToolbox.content = document.createElement("div");
        this._sampleHostDataEditorToolbox.content.style.padding = "8px";
        this._sampleHostDataEditorToolbox.content.innerText = strings_1.Strings.loadingEditor;
        this._jsonEditorsPanel.addToolbox(this._sampleHostDataEditorToolbox);
    };
    CardDesigner.prototype.clearUndoStack = function () {
        this._undoStack = [];
        this._undoStackIndex = -1;
        this.updateToolbar();
    };
    CardDesigner.prototype.setCard = function (payload) {
        this.clearUndoStack();
        this.setCardPayload(payload, true);
    };
    CardDesigner.prototype.getCard = function () {
        return this._designerSurface ? this._designerSurface.getCardPayloadAsObject() : undefined;
    };
    CardDesigner.prototype.getBoundCard = function () {
        return this._designerSurface ? this._designerSurface.getBoundCardPayloadAsObject() : undefined;
    };
    CardDesigner.prototype.undo = function () {
        if (this.canUndo) {
            this._undoStackIndex--;
            var card = this._undoStack[this._undoStackIndex];
            this.setCardPayload(card, false);
            this.updateToolbar();
        }
    };
    CardDesigner.prototype.redo = function () {
        if (this._undoStackIndex < this._undoStack.length - 1) {
            this._undoStackIndex++;
            var payload = this._undoStack[this._undoStackIndex];
            this.setCardPayload(payload, false);
            this.updateToolbar();
        }
    };
    CardDesigner.prototype.showHelp = function () {
        var helpDialog = new help_dialog_1.HelpDialog();
        helpDialog.title = "Help";
        helpDialog.open();
    };
    CardDesigner.prototype.newCard = function () {
        var card = {
            type: "AdaptiveCard",
            $schema: "http://adaptivecards.io/schemas/adaptive-card.json",
            version: this.targetVersion.toString(),
            body: []
        };
        this.setCardPayload(card, true);
    };
    Object.defineProperty(CardDesigner.prototype, "targetVersion", {
        get: function () {
            return this._targetVersion;
        },
        set: function (value) {
            if (this._targetVersion.compareTo(value) !== 0 && !this._preventRecursiveSetTargetVersion) {
                this._preventRecursiveSetTargetVersion = true;
                try {
                    this._targetVersion = value;
                    this.targetVersionChanged();
                    if (this._versionChoicePicker) {
                        this._versionChoicePicker.selectedIndex = Shared.GlobalSettings.supportedTargetVersions.indexOf(this._targetVersion);
                    }
                }
                finally {
                    this._preventRecursiveSetTargetVersion = false;
                }
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "dataStructure", {
        get: function () {
            return this._dataStructure;
        },
        set: function (value) {
            this._dataStructure = value;
            this.buildDataExplorer();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "hostDataStructure", {
        get: function () {
            return this._hostDataStructure;
        },
        set: function (value) {
            this._hostDataStructure = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "sampleData", {
        get: function () {
            return this._sampleData;
        },
        set: function (value) {
            this._sampleData = value;
            this.setSampleDataPayload(value);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "sampleHostData", {
        get: function () {
            return this._sampleHostDataEditorToolbox.isVisible ? this._sampleHostData : "{}";
        },
        set: function (value) {
            this._sampleHostData = value;
            this.setSampleHostDataPayload(value);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "bindingPreviewMode", {
        get: function () {
            return this._bindingPreviewMode;
        },
        set: function (value) {
            this._bindingPreviewMode = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "hostContainer", {
        get: function () {
            return this._hostContainer;
        },
        set: function (value) {
            if (this._hostContainer !== value) {
                this._hostContainer = value;
                this.activeHostContainerChanged();
                if (Shared.GlobalSettings.selectedHostContainerControlsTargetVersion) {
                    this.targetVersion = this._hostContainer.targetVersion;
                }
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "deviceEmulation", {
        get: function () {
            return this._deviceEmulation;
        },
        set: function (value) {
            if (this._deviceEmulation !== value) {
                this._deviceEmulation = value;
                this.activeDeviceEmulationChanged();
                this._designerSurface.updateLayout(true);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "canUndo", {
        get: function () {
            return this._undoStackIndex >= 1;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "canRedo", {
        get: function () {
            return this._undoStackIndex < this._undoStack.length - 1;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "designerSurface", {
        get: function () {
            return this._designerSurface;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "treeViewToolbox", {
        get: function () {
            return this._treeViewToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "propertySheetToolbox", {
        get: function () {
            return this._propertySheetToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "jsonEditorToolbox", {
        get: function () {
            return this._cardEditorToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "toolPaletteToolbox", {
        get: function () {
            return this._toolPaletteToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "dataToolbox", {
        get: function () {
            return this._dataToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "assetPath", {
        get: function () {
            return this._assetPath;
        },
        set: function (value) {
            this._assetPath = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "customPaletteItems", {
        get: function () {
            return this._customPeletteItems;
        },
        set: function (value) {
            this._customPeletteItems = value;
            this.buildPalette();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "sampleCatalogueUrl", {
        get: function () {
            return this._sampleCatalogue.url;
        },
        set: function (value) {
            this._sampleCatalogue.url = value;
        },
        enumerable: false,
        configurable: true
    });
    CardDesigner.onProcessMarkdown = null;
    CardDesigner.MAX_UNDO_STACK_SIZE = 50;
    return CardDesigner;
}(Designer.DesignContext));
exports.CardDesigner = CardDesigner;
(function (CardDesigner) {
    var ToolbarCommands = /** @class */ (function () {
        function ToolbarCommands() {
        }
        ToolbarCommands.HostAppPicker = "__hostAppPicker";
        ToolbarCommands.DeviceEmulationPicker = "__deviceEmulationPicker";
        ToolbarCommands.VersionPicker = "__versionPicker";
        ToolbarCommands.Undo = "__undoButton";
        ToolbarCommands.Redo = "__redoButton";
        ToolbarCommands.NewCard = "__newCardButton";
        ToolbarCommands.CopyJSON = "__copyJsonButton";
        ToolbarCommands.TogglePreview = "__togglePreviewButton";
        ToolbarCommands.Help = "__helpButton";
        ToolbarCommands.ContainerSizePicker = "__containerSizePicker";
        ToolbarCommands.ContainerThemePicker = "__containerThemePicker";
        return ToolbarCommands;
    }());
    CardDesigner.ToolbarCommands = ToolbarCommands;
})(CardDesigner = exports.CardDesigner || (exports.CardDesigner = {}));
exports.CardDesigner = CardDesigner;


/***/ }),

/***/ "./src/catalogue.ts":
/*!**************************!*\
  !*** ./src/catalogue.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SampleCatalogue = exports.CatalogueEntry = void 0;
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var downloader_1 = __webpack_require__(/*! ./downloader */ "./src/downloader.ts");
var CatalogueEntry = /** @class */ (function () {
    function CatalogueEntry(displayName, cardPayloadUrl, sampleDataUrl, cardId) {
        this.displayName = displayName;
        this.cardPayloadUrl = cardPayloadUrl;
        this._cardPayloadDownloaded = false;
        this._sampleDataDownloaded = false;
        this.onDownloaded = null;
        this.sampleDataUrl = sampleDataUrl;
        this._cardId = cardId;
    }
    CatalogueEntry.prototype.downloadCompleted = function () {
        if (this._cardPayloadDownloaded && this._sampleDataDownloaded && this.onDownloaded) {
            this.onDownloaded(this);
        }
    };
    CatalogueEntry.prototype.download = function () {
        var _this = this;
        var cardPayloadDownloadComplete = false;
        var sampleDataDownloadComplete = false;
        if (!this.cardPayloadDownloaded) {
            var payloadDownloader_1 = new downloader_1.Downloader(this.cardPayloadUrl);
            payloadDownloader_1.onSuccess = function () {
                _this._cardPayload = payloadDownloader_1.data;
                _this._cardPayloadDownloaded = true;
                _this.downloadCompleted();
            };
            payloadDownloader_1.onError = function () {
                _this._cardPayloadDownloaded = true;
                _this.downloadCompleted();
            };
            payloadDownloader_1.download();
        }
        else {
            cardPayloadDownloadComplete = true;
        }
        if (this.sampleDataUrl && !this.sampleDataDownloaded) {
            var sampleDataDownloader_1 = new downloader_1.Downloader(this.sampleDataUrl);
            sampleDataDownloader_1.onSuccess = function () {
                _this._sampleData = sampleDataDownloader_1.data;
                _this._sampleDataDownloaded = true;
                _this.downloadCompleted();
            };
            sampleDataDownloader_1.onError = function () {
                _this._sampleDataDownloaded = true;
                _this.downloadCompleted();
            };
            sampleDataDownloader_1.download();
        }
        else {
            this._sampleDataDownloaded = true;
            sampleDataDownloadComplete = true;
        }
        if (cardPayloadDownloadComplete && sampleDataDownloadComplete) {
            this.downloadCompleted();
        }
    };
    Object.defineProperty(CatalogueEntry.prototype, "cardPayloadDownloaded", {
        get: function () {
            return this._cardPayloadDownloaded;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CatalogueEntry.prototype, "cardId", {
        get: function () {
            return this._cardId;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CatalogueEntry.prototype, "cardPayload", {
        get: function () {
            return this._cardPayload;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CatalogueEntry.prototype, "sampleDataDownloaded", {
        get: function () {
            return this._sampleDataDownloaded;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CatalogueEntry.prototype, "sampleData", {
        get: function () {
            return this._sampleData;
        },
        enumerable: false,
        configurable: true
    });
    return CatalogueEntry;
}());
exports.CatalogueEntry = CatalogueEntry;
var SampleCatalogue = /** @class */ (function () {
    function SampleCatalogue(url) {
        if (url === void 0) { url = "./sample-catalogue.json"; }
        this._entries = [];
        this._isDownloaded = false;
        this.url = url;
    }
    SampleCatalogue.prototype.downloaded = function () {
        this._isDownloaded = true;
        if (this.onDownloaded) {
            this.onDownloaded(this);
        }
    };
    SampleCatalogue.prototype.parse = function (input) {
        var entries = null;
        if (Array.isArray(input)) {
            entries = input;
        }
        else {
            entries = Array.isArray(input["entries"]) ? input["entries"] : null;
        }
        this._entries = [];
        if (entries != null) {
            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {
                var entry = entries_1[_i];
                if (typeof entry === "object") {
                    var displayName = Adaptive.parseString(entry["displayName"]);
                    var cardPayloadUrl = Adaptive.parseString(entry["cardPayloadUrl"]);
                    if (displayName && cardPayloadUrl) {
                        this._entries.push(new CatalogueEntry(displayName, cardPayloadUrl, Adaptive.parseString(entry["dataSampleUrl"])));
                    }
                }
            }
        }
    };
    SampleCatalogue.prototype.download = function () {
        var _this = this;
        if (!this.isDownloaded) {
            var downloader_2 = new downloader_1.Downloader(this.url);
            downloader_2.onError = function () {
                if (_this._entries.length === 0) {
                    _this._entries = [];
                }
                _this.downloaded();
            };
            downloader_2.onSuccess = function () {
                if (downloader_2.data) {
                    try {
                        _this.parse(JSON.parse(downloader_2.data));
                    }
                    catch (e) {
                        // Swallow the error
                    }
                }
                _this.downloaded();
            };
            downloader_2.download();
        }
        else {
            this.downloaded();
        }
    };
    Object.defineProperty(SampleCatalogue.prototype, "isDownloaded", {
        get: function () {
            return this._isDownloaded;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SampleCatalogue.prototype, "entries", {
        get: function () {
            return this._entries;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SampleCatalogue.prototype, "url", {
        get: function () {
            return this._url;
        },
        set: function (value) {
            if (value !== this._url) {
                this._url = value;
                this._isDownloaded = false;
            }
        },
        enumerable: false,
        configurable: true
    });
    return SampleCatalogue;
}());
exports.SampleCatalogue = SampleCatalogue;


/***/ }),

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultDataPayload = exports.defaultTemplatePayload = exports.defaultPayload = exports.otherTestPayload = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
exports.otherTestPayload = "{\n\t\"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n\t\"type\": \"AdaptiveCard\",\n\t\"version\": \"1.0\",\n\t\"body\": [\n\t\t{\n\t\t\t\"type\": \"ActionSet\",\n\t\t\t\"actions\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"Action.ShowCard\",\n\t\t\t\t\t\"title\": \"Set due date\",\n\t\t\t\t\t\"card\": {\n\t\t\t\t\t\t\"type\": \"AdaptiveCard\",\n\t\t\t\t\t\t\"body\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"Input.Date\",\n\t\t\t\t\t\t\t\t\"id\": \"dueDate\",\n\t\t\t\t\t\t\t\t\"title\": \"Select due date\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"Input.Text\",\n\t\t\t\t\t\t\t\t\"id\": \"comment\",\n\t\t\t\t\t\t\t\t\"isMultiline\": true,\n\t\t\t\t\t\t\t\t\"placeholder\": \"Add a comment\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"actions\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"Action.OpenUrl\",\n\t\t\t\t\t\t\t\t\"title\": \"OK\",\n\t\t\t\t\t\t\t\t\"url\": \"https://adaptivecards.io\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"Action.OpenUrl\",\n\t\t\t\t\t\"title\": \"View\",\n\t\t\t\t\t\"url\": \"https://adaptivecards.io\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}";
exports.defaultPayload = "{\n    \"type\": \"AdaptiveCard\",\n    \"body\": [\n        {\n            \"type\": \"TextBlock\",\n            \"size\": \"Medium\",\n            \"weight\": \"Bolder\",\n            \"text\": \"Publish Adaptive Card schema\"\n        },\n        {\n            \"type\": \"ColumnSet\",\n            \"columns\": [\n                {\n                    \"type\": \"Column\",\n                    \"items\": [\n                        {\n                            \"type\": \"Image\",\n                            \"style\": \"Person\",\n                            \"url\": \"https://matthidinger.com/images/bio-photo.jpg\",\n                            \"size\": \"Small\"\n                        }\n                    ],\n                    \"width\": \"auto\"\n                },\n                {\n                    \"type\": \"Column\",\n                    \"items\": [\n                        {\n                            \"type\": \"TextBlock\",\n                            \"weight\": \"Bolder\",\n                            \"text\": \"Matt Hidinger\",\n                            \"wrap\": true\n                        },\n                        {\n                            \"type\": \"TextBlock\",\n                            \"spacing\": \"None\",\n                            \"text\": \"Created {{DATE(2017-02-14T06:08:39Z,SHORT)}}\",\n                            \"isSubtle\": true,\n                            \"wrap\": true\n                        }\n                    ],\n                    \"width\": \"stretch\"\n                }\n            ]\n        },\n        {\n            \"type\": \"TextBlock\",\n            \"text\": \"Now that we have defined the main rules and features of the format, we need to produce a schema and publish it to GitHub. The schema will be the starting point of our reference documentation.\",\n            \"wrap\": true\n        },\n        {\n            \"type\": \"FactSet\",\n            \"facts\": [\n                {\n                    \"title\": \"Board:\",\n                    \"value\": \"Adaptive Card\"\n                },\n                {\n                    \"title\": \"List:\",\n                    \"value\": \"Backlog\"\n                },\n                {\n                    \"title\": \"Assigned to:\",\n                    \"value\": \"Matt Hidinger\"\n                },\n                {\n                    \"title\": \"Due date:\",\n                    \"value\": \"Not set\"\n                }\n            ]\n        }\n    ],\n    \"actions\": [\n        {\n            \"type\": \"Action.ShowCard\",\n            \"title\": \"Set due date\",\n            \"card\": {\n                \"type\": \"AdaptiveCard\",\n                \"body\": [\n                    {\n                        \"type\": \"Input.Date\",\n                        \"id\": \"dueDate\"\n                    },\n                    {\n                        \"type\": \"Input.Text\",\n                        \"id\": \"comment\",\n                        \"placeholder\": \"Add a comment\",\n                        \"isMultiline\": true\n                    }\n                ],\n                \"actions\": [\n                    {\n                        \"type\": \"Action.OpenUrl\",\n                        \"title\": \"OK\",\n                        \"url\": \"http://adaptivecards.io\"\n                    }\n                ],\n                \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\n            }\n        },\n        {\n            \"type\": \"Action.OpenUrl\",\n            \"title\": \"View\",\n            \"url\": \"http://adaptivecards.io\"\n        }\n    ],\n    \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n    \"version\": \"1.0\"\n}";
exports.defaultTemplatePayload = "{\n    \"type\": \"AdaptiveCard\",\n    \"body\": [\n        {\n            \"type\": \"Container\",\n            \"items\": [\n                {\n                    \"type\": \"TextBlock\",\n                    \"text\": \"This example uses [Adaptive Card Templating](https://docs.microsoft.com/en-us/adaptive-cards/templating/) *(Preview)*\",\n                    \"size\": \"Medium\",\n                    \"wrap\": true\n                },\n                {\n                    \"type\": \"TextBlock\",\n                    \"text\": \"Click the **Preview mode** toolbar button to see the card bound to the **Sample Data** in the lower-right. Sample Data helps design your card by simulating the real data.\",\n                    \"wrap\": true\n                },\n                {\n                    \"type\": \"TextBlock\",\n                    \"text\": \"When you're ready to populate it with real data, use the Adaptive Card [templating SDKs](https://docs.microsoft.com/en-us/adaptive-cards/templating/sdk).\",\n                    \"wrap\": true\n                }\n            ],\n            \"style\": \"good\",\n            \"bleed\": true\n        },\n        {\n            \"type\": \"TextBlock\",\n            \"size\": \"Medium\",\n            \"weight\": \"Bolder\",\n            \"text\": \"{title}\"\n        },\n        {\n            \"type\": \"ColumnSet\",\n            \"columns\": [\n                {\n                    \"type\": \"Column\",\n                    \"items\": [\n                        {\n                            \"type\": \"Image\",\n                            \"style\": \"Person\",\n                            \"url\": \"{creator.profileImage}\",\n                            \"size\": \"Small\"\n                        }\n                    ],\n                    \"width\": \"auto\"\n                },\n                {\n                    \"type\": \"Column\",\n                    \"items\": [\n                        {\n                            \"type\": \"TextBlock\",\n                            \"weight\": \"Bolder\",\n                            \"text\": \"{creator.name}\",\n                            \"wrap\": true\n                        },\n                        {\n                            \"type\": \"TextBlock\",\n                            \"spacing\": \"None\",\n                            \"text\": \"Created {{DATE({createdUtc},SHORT)}}\",\n                            \"isSubtle\": true,\n                            \"wrap\": true\n                        }\n                    ],\n                    \"width\": \"stretch\"\n                }\n            ]\n        },\n        {\n            \"type\": \"TextBlock\",\n            \"text\": \"{description}\",\n            \"wrap\": true\n        },\n        {\n            \"type\": \"FactSet\",\n            \"facts\": [\n                {\n                    \"$data\": \"{properties}\",\n                    \"title\": \"{key}:\",\n                    \"value\": \"{value}\"\n                }\n            ]\n        }\n    ],\n    \"actions\": [\n        {\n            \"type\": \"Action.ShowCard\",\n            \"title\": \"Set due date\",\n            \"card\": {\n                \"type\": \"AdaptiveCard\",\n                \"body\": [\n                    {\n                        \"type\": \"Input.Date\",\n                        \"id\": \"dueDate\"\n                    },\n                    {\n                        \"type\": \"Input.Text\",\n                        \"id\": \"comment\",\n                        \"placeholder\": \"Add a comment\",\n                        \"isMultiline\": true\n                    }\n                ],\n                \"actions\": [\n                    {\n                        \"type\": \"Action.Submit\",\n                        \"title\": \"OK\"\n                    }\n                ],\n                \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\n            }\n        },\n        {\n            \"type\": \"Action.OpenUrl\",\n            \"title\": \"View\",\n            \"url\": \"{viewUrl}\"\n        }\n    ],\n    \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n    \"version\": \"1.0\"\n}";
exports.defaultDataPayload = "{\n    \"title\": \"Publish Adaptive Card Schema\",\n    \"description\": \"Now that we have defined the main rules and features of the format, we need to produce a schema and publish it to GitHub. The schema will be the starting point of our reference documentation.\",\n    \"creator\": {\n        \"name\": \"Matt Hidinger\",\n        \"profileImage\": \"https://matthidinger.com/images/bio-photo.jpg\"\n    },\n    \"createdUtc\": \"2017-02-14T06:08:39Z\",\n    \"viewUrl\": \"https://adaptivecards.io\",\n    \"properties\": [\n        { \"key\": \"Board\", \"value\": \"Adaptive Cards\" },\n        { \"key\": \"List\", \"value\": \"Backlog\" },\n        { \"key\": \"Assigned to\", \"value\": \"Matt Hidinger\" },\n        { \"key\": \"Due date\", \"value\": \"Not set\" }\n    ]\n}";


/***/ }),

/***/ "./src/containers/bf-image/bf-image-container.ts":
/*!*******************************************************!*\
  !*** ./src/containers/bf-image/bf-image-container.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BotFrameworkContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var hostConfig = __webpack_require__(/*! ../../hostConfigs/render-to-image.json */ "./src/hostConfigs/render-to-image.json");
var BotFrameworkContainer = /** @class */ (function (_super) {
    __extends(BotFrameworkContainer, _super);
    function BotFrameworkContainer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BotFrameworkContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.add("bf-images-card");
        var frame = document.createElement("div");
        frame.className = "bf-images-frame";
        frame.appendChild(this.cardHost);
        hostElement.appendChild(frame);
    };
    BotFrameworkContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(hostConfig);
    };
    Object.defineProperty(BotFrameworkContainer.prototype, "enableDeviceEmulation", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    return BotFrameworkContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.BotFrameworkContainer = BotFrameworkContainer;


/***/ }),

/***/ "./src/containers/cortana-classic/cortana-classic-container.ts":
/*!*********************************************************************!*\
  !*** ./src/containers/cortana-classic/cortana-classic-container.ts ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CortanaClassicContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var hostConfig = __webpack_require__(/*! ../../hostConfigs/cortana-skills-classic.json */ "./src/hostConfigs/cortana-skills-classic.json");
var CortanaClassicContainer = /** @class */ (function (_super) {
    __extends(CortanaClassicContainer, _super);
    function CortanaClassicContainer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CortanaClassicContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.add("cortana-card");
        var leftSide = document.createElement("div");
        leftSide.classList.add("cortana-leftside");
        var topLeft = document.createElement("div");
        topLeft.classList.add("cortana-topleft");
        var middleLeft = document.createElement("div");
        middleLeft.classList.add("cortana-middleleft");
        var bottomLeft = document.createElement("div");
        bottomLeft.classList.add("cortana-bottomleft");
        leftSide.appendChild(topLeft);
        leftSide.appendChild(middleLeft);
        leftSide.appendChild(bottomLeft);
        var rightSide = document.createElement("div");
        rightSide.classList.add("cortana-rightside");
        var header = document.createElement("div");
        header.classList.add("cortana-header");
        var searchBox = document.createElement("div");
        searchBox.classList.add("cortana-searchbox");
        var magnifyingGlass = document.createElement("div");
        magnifyingGlass.classList.add("cortana-searchbox-magnifyingglass");
        var searchBoxMiddle = document.createElement("div");
        searchBoxMiddle.classList.add("cortana-searchbox-middle");
        var microphone = document.createElement("div");
        microphone.classList.add("cortana-searchbox-microphone");
        searchBox.appendChild(magnifyingGlass);
        searchBox.appendChild(searchBoxMiddle);
        searchBox.appendChild(microphone);
        rightSide.appendChild(header);
        rightSide.appendChild(this.cardHost);
        rightSide.appendChild(searchBox);
        var frame = document.createElement("div");
        frame.classList.add("cortana-frame");
        frame.appendChild(leftSide);
        frame.appendChild(rightSide);
        hostElement.classList.add("cortana-outer-frame");
        hostElement.appendChild(frame);
    };
    CortanaClassicContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(hostConfig);
    };
    return CortanaClassicContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.CortanaClassicContainer = CortanaClassicContainer;


/***/ }),

/***/ "./src/containers/cortana/cortana-container.ts":
/*!*****************************************************!*\
  !*** ./src/containers/cortana/cortana-container.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CortanaContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var multi_theme_host_container_1 = __webpack_require__(/*! ../multi-theme-host-container */ "./src/containers/multi-theme-host-container.ts");
var hostConfigLight = __webpack_require__(/*! ../../hostConfigs/cortana-skills-light.json */ "./src/hostConfigs/cortana-skills-light.json");
var hostConfigDark = __webpack_require__(/*! ../../hostConfigs/cortana-skills-dark.json */ "./src/hostConfigs/cortana-skills-dark.json");
var CortanaContainer = /** @class */ (function (_super) {
    __extends(CortanaContainer, _super);
    function CortanaContainer() {
        return _super.call(this, "Cortana Skills", "cortana-container", hostConfigLight, hostConfigDark, "#F6F6F6", "#201E1F") || this;
    }
    CortanaContainer.prototype.renderTo = function (hostElement) {
        var frame = document.createElement("div");
        frame.appendChild(this.cardHost);
        hostElement.appendChild(frame);
    };
    Object.defineProperty(CortanaContainer.prototype, "targetVersion", {
        get: function () {
            return Adaptive.Versions.v1_2;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CortanaContainer.prototype, "enableDeviceEmulation", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    return CortanaContainer;
}(multi_theme_host_container_1.MultiThemeHostContainer));
exports.CortanaContainer = CortanaContainer;


/***/ }),

/***/ "./src/containers/default/default-container.ts":
/*!*****************************************************!*\
  !*** ./src/containers/default/default-container.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DefaultContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var DefaultContainer = /** @class */ (function (_super) {
    __extends(DefaultContainer, _super);
    function DefaultContainer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DefaultContainer.prototype.renderTo = function (hostElement) {
        hostElement.classList.add("card-frame");
        hostElement.appendChild(this.cardHost);
    };
    return DefaultContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.DefaultContainer = DefaultContainer;


/***/ }),

/***/ "./src/containers/federated-search/federated-search-container.ts":
/*!***********************************************************************!*\
  !*** ./src/containers/federated-search/federated-search-container.ts ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FederatedSearchContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var hostConfig = __webpack_require__(/*! ../../hostConfigs/federated-search.json */ "./src/hostConfigs/federated-search.json");
var FederatedSearchContainer = /** @class */ (function (_super) {
    __extends(FederatedSearchContainer, _super);
    function FederatedSearchContainer(name, styleSheet) {
        var _this = _super.call(this, name, styleSheet) || this;
        _this.actionsRegistry.unregister("Action.Submit");
        _this.elementsRegistry.unregister("Input.Text");
        _this.elementsRegistry.unregister("Input.Date");
        _this.elementsRegistry.unregister("Input.Time");
        _this.elementsRegistry.unregister("Input.Toggle");
        _this.elementsRegistry.unregister("Input.ChoiceSet");
        _this.elementsRegistry.unregister("Input.Number");
        return _this;
    }
    FederatedSearchContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.add("fedsearch-card");
        hostElement.appendChild(this.cardHost);
    };
    FederatedSearchContainer.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
    };
    FederatedSearchContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(hostConfig);
    };
    Object.defineProperty(FederatedSearchContainer.prototype, "targetVersion", {
        get: function () {
            return Adaptive.Versions.v1_4;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FederatedSearchContainer.prototype, "enableDeviceEmulation", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    return FederatedSearchContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.FederatedSearchContainer = FederatedSearchContainer;


/***/ }),

/***/ "./src/containers/host-container.ts":
/*!******************************************!*\
  !*** ./src/containers/host-container.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HostContainer = exports.ColorTheme = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var adaptivecards_1 = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var hostConfig = __webpack_require__(/*! ../hostConfigs/sample.json */ "./src/hostConfigs/sample.json");
var ColorTheme;
(function (ColorTheme) {
    ColorTheme["Light"] = "Light";
    ColorTheme["Dark"] = "Dark";
})(ColorTheme = exports.ColorTheme || (exports.ColorTheme = {}));
;
var HostContainer = /** @class */ (function () {
    function HostContainer(name) {
        this._elementsRegistry = new adaptivecards_1.CardObjectRegistry();
        this._actionsRegistry = new adaptivecards_1.CardObjectRegistry();
        this.supportsActionBar = false;
        this.name = name;
        this._cardHost = document.createElement("div");
        this._cardHost.className = "cardHost";
        adaptivecards_1.GlobalRegistry.populateWithDefaultElements(this._elementsRegistry);
        adaptivecards_1.GlobalRegistry.populateWithDefaultActions(this._actionsRegistry);
    }
    HostContainer.prototype.initialize = function () {
        adaptivecards_1.GlobalSettings.useMarkdownInRadioButtonAndCheckbox = true;
        adaptivecards_1.GlobalSettings.useAdvancedCardBottomTruncation = false;
        adaptivecards_1.GlobalSettings.useAdvancedTextBlockTruncation = true;
    };
    HostContainer.prototype.createSerializationContext = function (targetVersion) {
        var context = new adaptivecards_1.SerializationContext(targetVersion);
        context.setElementRegistry(this.elementsRegistry);
        context.setActionRegistry(this.actionsRegistry);
        return context;
    };
    HostContainer.prototype.getBackgroundColor = function () {
        return "#F6F6F6";
    };
    HostContainer.prototype.parseElement = function (element, source, context) {
        // Do nothing in base implementation
    };
    HostContainer.prototype.anchorClicked = function (element, anchor) {
        // Not handled by the host container by default
        return false;
    };
    HostContainer.prototype.getHostConfig = function () {
        return new adaptivecards_1.HostConfig(hostConfig);
    };
    HostContainer.prototype.requiresOverflowStyling = function () {
        // By default, overflow styling is not handled
        return false;
    };
    HostContainer.prototype.adjustStyleForBackground = function () {
        // By default, we make no adjustments
        return;
    };
    Object.defineProperty(HostContainer.prototype, "cardHost", {
        get: function () {
            return this._cardHost;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "isFixedHeight", {
        get: function () {
            return false;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "elementsRegistry", {
        get: function () {
            return this._elementsRegistry;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "actionsRegistry", {
        get: function () {
            return this._actionsRegistry;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "targetVersion", {
        get: function () {
            return adaptivecards_1.Versions.v1_0;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "enableDeviceEmulation", {
        get: function () {
            return false;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "supportsMultipleSizes", {
        get: function () {
            // By default, we do not support different container sizes
            return false;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer, "supportedContainerThemes", {
        // if various containers support different themes in the future, we can override this method
        get: function () {
            return Object.values(ColorTheme);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "supportsMultipleThemes", {
        get: function () {
            // By default, we do not support different color themes
            return false;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "colorTheme", {
        set: function (value) {
            // Not handled by the host container by default
        },
        enumerable: false,
        configurable: true
    });
    return HostContainer;
}());
exports.HostContainer = HostContainer;


/***/ }),

/***/ "./src/containers/index.ts":
/*!*********************************!*\
  !*** ./src/containers/index.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
__exportStar(__webpack_require__(/*! ./host-container */ "./src/containers/host-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./default/default-container */ "./src/containers/default/default-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./widget/widget-container */ "./src/containers/widget/widget-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./bf-image/bf-image-container */ "./src/containers/bf-image/bf-image-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./cortana-classic/cortana-classic-container */ "./src/containers/cortana-classic/cortana-classic-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./cortana/cortana-container */ "./src/containers/cortana/cortana-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./notifications/toast-container */ "./src/containers/notifications/toast-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./outlook/outlook-container */ "./src/containers/outlook/outlook-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./skype/skype-container */ "./src/containers/skype/skype-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./teams/teams-container */ "./src/containers/teams/teams-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./timeline/timeline-container */ "./src/containers/timeline/timeline-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./webchat/webchat-container */ "./src/containers/webchat/webchat-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./viva-connections/viva-connections-container */ "./src/containers/viva-connections/viva-connections-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./federated-search/federated-search-container */ "./src/containers/federated-search/federated-search-container.ts"), exports);


/***/ }),

/***/ "./src/containers/multi-theme-host-container.ts":
/*!******************************************************!*\
  !*** ./src/containers/multi-theme-host-container.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MultiThemeHostContainer = exports.ColorTheme = void 0;
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var host_container_1 = __webpack_require__(/*! ./host-container */ "./src/containers/host-container.ts");
var ColorTheme;
(function (ColorTheme) {
    ColorTheme["Light"] = "Light";
    ColorTheme["Dark"] = "Dark";
})(ColorTheme = exports.ColorTheme || (exports.ColorTheme = {}));
var MultiThemeHostContainer = /** @class */ (function (_super) {
    __extends(MultiThemeHostContainer, _super);
    function MultiThemeHostContainer(name, cssFileName, hostConfigLight, hostConfigDark, lightBackground, darkBackground) {
        var _this = _super.call(this, name) || this;
        _this._colorTheme = ColorTheme.Light;
        _this._cssFileName = cssFileName;
        _this._hostConfigLight = hostConfigLight;
        _this._hostConfigDark = hostConfigDark;
        _this._lightBackground = lightBackground;
        _this._darkBackground = darkBackground;
        return _this;
    }
    MultiThemeHostContainer.prototype.getCurrentStyleSheet = function () {
        return "containers/" + this._cssFileName + "-" + this._colorTheme.toLowerCase() + ".css";
    };
    MultiThemeHostContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(this._colorTheme === ColorTheme.Light ? this._hostConfigLight : this._hostConfigDark);
    };
    MultiThemeHostContainer.prototype.getBackgroundColor = function () {
        return this._colorTheme === ColorTheme.Light ? this._lightBackground : this._darkBackground;
    };
    Object.defineProperty(MultiThemeHostContainer.prototype, "colorTheme", {
        set: function (value) {
            this._colorTheme = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultiThemeHostContainer.prototype, "supportsMultipleThemes", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    return MultiThemeHostContainer;
}(host_container_1.HostContainer));
exports.MultiThemeHostContainer = MultiThemeHostContainer;


/***/ }),

/***/ "./src/containers/notifications/toast-container.ts":
/*!*********************************************************!*\
  !*** ./src/containers/notifications/toast-container.ts ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToastContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var hostConfig = __webpack_require__(/*! ../../hostConfigs/windows-notification.json */ "./src/hostConfigs/windows-notification.json");
var ToastContainer = /** @class */ (function (_super) {
    __extends(ToastContainer, _super);
    function ToastContainer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ToastContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.add("toast-card");
        var frame = document.createElement("div");
        frame.className = "toast-frame";
        frame.appendChild(this.cardHost);
        hostElement.appendChild(frame);
    };
    ToastContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(hostConfig);
    };
    return ToastContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.ToastContainer = ToastContainer;


/***/ }),

/***/ "./src/containers/outlook/outlook-container.ts":
/*!*****************************************************!*\
  !*** ./src/containers/outlook/outlook-container.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OutlookContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var hostConfig = __webpack_require__(/*! ../../hostConfigs/outlook-desktop.json */ "./src/hostConfigs/outlook-desktop.json");
var OutlookContainer = /** @class */ (function (_super) {
    __extends(OutlookContainer, _super);
    function OutlookContainer(name, styleSheet) {
        var _this = _super.call(this, name, styleSheet) || this;
        _this.actionsRegistry.unregister("Action.Submit");
        _this.actionsRegistry.register("Action.Http", Adaptive.HttpAction);
        return _this;
    }
    OutlookContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.add("outlook-frame");
        hostElement.appendChild(this.cardHost);
    };
    OutlookContainer.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        Adaptive.GlobalSettings.useMarkdownInRadioButtonAndCheckbox = false;
    };
    OutlookContainer.prototype.parsePadding = function (source) {
        if (source) {
            if (typeof source === "string") {
                var uniformPadding = Adaptive.parseEnum(Adaptive.Spacing, source, Adaptive.Spacing.None);
                return new Adaptive.PaddingDefinition(uniformPadding, uniformPadding, uniformPadding, uniformPadding);
            }
            else if (typeof source === "object") {
                return new Adaptive.PaddingDefinition(Adaptive.parseEnum(Adaptive.Spacing, source["top"], Adaptive.Spacing.None), Adaptive.parseEnum(Adaptive.Spacing, source["right"], Adaptive.Spacing.None), Adaptive.parseEnum(Adaptive.Spacing, source["bottom"], Adaptive.Spacing.None), Adaptive.parseEnum(Adaptive.Spacing, source["left"], Adaptive.Spacing.None));
            }
        }
        return null;
    };
    OutlookContainer.prototype.parseElement = function (element, source, context) {
        if (element instanceof Adaptive.Container && typeof source["rtl"] === "boolean") {
            element.rtl = source["rtl"];
        }
        if (element instanceof Adaptive.AdaptiveCard) {
            var card = element;
            var actionArray = [];
            card["resources"] = { actions: actionArray };
            if (typeof source["resources"] === "object") {
                var actionResources = source["resources"]["actions"];
                for (var i = 0; i < actionResources.length; i++) {
                    var action = this.actionsRegistry.createInstance(actionResources[i]["type"], context.targetVersion);
                    if (action) {
                        action.parse(actionResources[i], context);
                        action.setParent(card);
                        actionArray.push(action);
                    }
                }
            }
        }
        if (element instanceof Adaptive.Image) {
            element.backgroundColor = source["backgroundColor"];
        }
        if (element instanceof Adaptive.Container) {
            var padding = this.parsePadding(source["padding"]);
            if (padding) {
                element.padding = padding;
            }
        }
        if (element instanceof Adaptive.ColumnSet) {
            var padding = this.parsePadding(source["padding"]);
            if (padding) {
                element.padding = padding;
            }
        }
    };
    OutlookContainer.prototype.anchorClicked = function (element, anchor) {
        var regEx = /^action:([a-z0-9]+)$/ig;
        var rootCard = element.getRootElement();
        var matches = regEx.exec(anchor.href);
        if (matches) {
            var actionId = matches[1];
            if (rootCard) {
                var actionArray = rootCard["resources"]["actions"];
                for (var i = 0; i < actionArray.length; i++) {
                    if (actionArray[i].id == actionId) {
                        actionArray[i].execute();
                        return true;
                    }
                }
            }
        }
        return false;
    };
    OutlookContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(hostConfig);
    };
    Object.defineProperty(OutlookContainer.prototype, "targetVersion", {
        get: function () {
            return Adaptive.Versions.v1_4;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(OutlookContainer.prototype, "enableDeviceEmulation", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    return OutlookContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.OutlookContainer = OutlookContainer;


/***/ }),

/***/ "./src/containers/single-theme-host-container.ts":
/*!*******************************************************!*\
  !*** ./src/containers/single-theme-host-container.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SingleThemeHostContainer = void 0;
var host_container_1 = __webpack_require__(/*! ./host-container */ "./src/containers/host-container.ts");
var SingleThemeHostContainer = /** @class */ (function (_super) {
    __extends(SingleThemeHostContainer, _super);
    function SingleThemeHostContainer(name, styleSheet) {
        var _this = _super.call(this, name) || this;
        _this._styleSheet = styleSheet;
        return _this;
    }
    SingleThemeHostContainer.prototype.getCurrentStyleSheet = function () {
        return this._styleSheet;
    };
    return SingleThemeHostContainer;
}(host_container_1.HostContainer));
exports.SingleThemeHostContainer = SingleThemeHostContainer;


/***/ }),

/***/ "./src/containers/skype/skype-container.ts":
/*!*************************************************!*\
  !*** ./src/containers/skype/skype-container.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SkypeContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var hostConfig = __webpack_require__(/*! ../../hostConfigs/skype.json */ "./src/hostConfigs/skype.json");
var SkypeContainer = /** @class */ (function (_super) {
    __extends(SkypeContainer, _super);
    function SkypeContainer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    SkypeContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.add("skype-card");
        var frame = document.createElement("div");
        frame.className = "skype-frame";
        // Draw the hexagon bot logo
        var hexagonOuter = document.createElement("div");
        hexagonOuter.className = "skype-hexagon-outer";
        var hexagonInner = document.createElement("div");
        hexagonInner.className = "skype-hexagon-inner";
        var botLogo = document.createElement("div");
        botLogo.className = "skype-bot-logo";
        hexagonOuter.appendChild(hexagonInner);
        hexagonInner.appendChild(botLogo);
        frame.appendChild(hexagonOuter);
        frame.appendChild(this.cardHost);
        hostElement.appendChild(frame);
    };
    SkypeContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(hostConfig);
    };
    return SkypeContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.SkypeContainer = SkypeContainer;


/***/ }),

/***/ "./src/containers/teams/teams-container.ts":
/*!*************************************************!*\
  !*** ./src/containers/teams/teams-container.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TeamsContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var multi_theme_host_container_1 = __webpack_require__(/*! ../multi-theme-host-container */ "./src/containers/multi-theme-host-container.ts");
var hostConfigLight = __webpack_require__(/*! ../../hostConfigs/microsoft-teams-light.json */ "./src/hostConfigs/microsoft-teams-light.json");
var hostConfigDark = __webpack_require__(/*! ../../hostConfigs/microsoft-teams-dark.json */ "./src/hostConfigs/microsoft-teams-dark.json");
var TeamsContainer = /** @class */ (function (_super) {
    __extends(TeamsContainer, _super);
    function TeamsContainer() {
        return _super.call(this, "Microsoft Teams", "teams-container", hostConfigLight, hostConfigDark, "#F6F6F6", "#201E1F") || this;
    }
    TeamsContainer.prototype.renderTo = function (hostElement) {
        var outerFrame = document.createElement("div");
        outerFrame.className = "teams-frame";
        // Draw the hexagon bot logo
        var hexagonOuter = document.createElement("div");
        hexagonOuter.className = "teams-hexagon-outer";
        var hexagonInner = document.createElement("div");
        hexagonInner.className = "teams-hexagon-inner";
        var botLogo = document.createElement("div");
        botLogo.className = "teams-bot-logo";
        hexagonOuter.appendChild(hexagonInner);
        hexagonInner.appendChild(botLogo);
        outerFrame.appendChild(hexagonOuter);
        var innerFrame = document.createElement("div");
        innerFrame.className = "teams-inner-frame";
        this.cardHost.classList.add("teams-card");
        var botNameAndTime = document.createElement("div");
        botNameAndTime.className = "teams-botNameAndTime";
        botNameAndTime.innerText = "Test Bot    2:36 PM";
        innerFrame.appendChild(botNameAndTime);
        innerFrame.appendChild(this.cardHost);
        outerFrame.appendChild(innerFrame);
        hostElement.appendChild(outerFrame);
    };
    Object.defineProperty(TeamsContainer.prototype, "targetVersion", {
        get: function () {
            return Adaptive.Versions.v1_4;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TeamsContainer.prototype, "enableDeviceEmulation", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    return TeamsContainer;
}(multi_theme_host_container_1.MultiThemeHostContainer));
exports.TeamsContainer = TeamsContainer;


/***/ }),

/***/ "./src/containers/timeline/timeline-container.ts":
/*!*******************************************************!*\
  !*** ./src/containers/timeline/timeline-container.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TimelineContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var hostConfig = __webpack_require__(/*! ../../hostConfigs/windows-timeline.json */ "./src/hostConfigs/windows-timeline.json");
var TimelineContainer = /** @class */ (function (_super) {
    __extends(TimelineContainer, _super);
    function TimelineContainer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TimelineContainer.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        Adaptive.GlobalSettings.useMarkdownInRadioButtonAndCheckbox = true;
        Adaptive.GlobalSettings.useAdvancedCardBottomTruncation = true;
        Adaptive.GlobalSettings.useAdvancedTextBlockTruncation = true;
    };
    TimelineContainer.prototype.renderTo = function (hostElement) {
        var target = document.getElementById("designerHost");
        var frame = document.createElement("div");
        frame.className = "timeline-frame";
        target.appendChild(frame);
        var cardContainer = document.createElement("div");
        cardContainer.className = "timeline-card";
        frame.appendChild(cardContainer);
        this.cardHost.style.height = "100%";
        this.cardHost.style.width = "100%";
        this.cardHost.style.overflow = "hidden";
        cardContainer.appendChild(this.cardHost);
        hostElement.appendChild(frame);
    };
    TimelineContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(hostConfig);
    };
    Object.defineProperty(TimelineContainer.prototype, "isFixedHeight", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    return TimelineContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.TimelineContainer = TimelineContainer;


/***/ }),

/***/ "./src/containers/viva-connections/viva-connections-container.ts":
/*!***********************************************************************!*\
  !*** ./src/containers/viva-connections/viva-connections-container.ts ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VivaConnectionsContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var multi_theme_host_container_1 = __webpack_require__(/*! ../multi-theme-host-container */ "./src/containers/multi-theme-host-container.ts");
var hostConfigLight = __webpack_require__(/*! ../../hostConfigs/viva-connections-light.json */ "./src/hostConfigs/viva-connections-light.json");
var hostConfigDark = __webpack_require__(/*! ../../hostConfigs/viva-connections-dark.json */ "./src/hostConfigs/viva-connections-dark.json");
var VivaConnectionsContainer = /** @class */ (function (_super) {
    __extends(VivaConnectionsContainer, _super);
    function VivaConnectionsContainer() {
        return _super.call(this, "Viva Connections", "viva-connections-container", hostConfigLight, hostConfigDark, "#F6F6F6", "#1b1a19") || this;
    }
    VivaConnectionsContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.add("vivaConnectionsContainer");
        var vcContainer = document.createElement("div");
        vcContainer.className = "vivaConnectionsContainer";
        vcContainer.appendChild(this.cardHost);
        hostElement.appendChild(vcContainer);
    };
    Object.defineProperty(VivaConnectionsContainer.prototype, "targetVersion", {
        get: function () {
            return Adaptive.Versions.v1_3;
        },
        enumerable: false,
        configurable: true
    });
    return VivaConnectionsContainer;
}(multi_theme_host_container_1.MultiThemeHostContainer));
exports.VivaConnectionsContainer = VivaConnectionsContainer;


/***/ }),

/***/ "./src/containers/webchat/webchat-container.ts":
/*!*****************************************************!*\
  !*** ./src/containers/webchat/webchat-container.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebChatContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var single_theme_host_container_1 = __webpack_require__(/*! ../single-theme-host-container */ "./src/containers/single-theme-host-container.ts");
var hostConfig = __webpack_require__(/*! ../../hostConfigs/webchat.json */ "./src/hostConfigs/webchat.json");
var WebChatContainer = /** @class */ (function (_super) {
    __extends(WebChatContainer, _super);
    function WebChatContainer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    WebChatContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.add("webChatOuterContainer");
        var frame = document.createElement("div");
        frame.className = "webChatInnerContainer";
        frame.appendChild(this.cardHost);
        hostElement.appendChild(frame);
    };
    WebChatContainer.prototype.getHostConfig = function () {
        return new Adaptive.HostConfig(hostConfig);
    };
    Object.defineProperty(WebChatContainer.prototype, "targetVersion", {
        get: function () {
            return Adaptive.Versions.v1_3;
        },
        enumerable: false,
        configurable: true
    });
    return WebChatContainer;
}(single_theme_host_container_1.SingleThemeHostContainer));
exports.WebChatContainer = WebChatContainer;


/***/ }),

/***/ "./src/containers/widget/widget-container.ts":
/*!***************************************************!*\
  !*** ./src/containers/widget/widget-container.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WidgetContainer = exports.ContainerSize = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var multi_theme_host_container_1 = __webpack_require__(/*! ../multi-theme-host-container */ "./src/containers/multi-theme-host-container.ts");
var hostConfigLight = __webpack_require__(/*! ../../hostConfigs/widget-light.json */ "./src/hostConfigs/widget-light.json");
var hostConfigDark = __webpack_require__(/*! ../../hostConfigs/widget-dark.json */ "./src/hostConfigs/widget-dark.json");
var ContainerSize;
(function (ContainerSize) {
    ContainerSize["Small"] = "Small";
    ContainerSize["Medium"] = "Medium";
    ContainerSize["Large"] = "Large";
})(ContainerSize = exports.ContainerSize || (exports.ContainerSize = {}));
var WidgetContainer = /** @class */ (function (_super) {
    __extends(WidgetContainer, _super);
    function WidgetContainer(size) {
        var _this = _super.call(this, "Widgets Board", "widget-container", hostConfigLight, hostConfigDark, "#D2D2D2", "#616161") || this;
        _this._containerSize = size;
        return _this;
    }
    WidgetContainer.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        Adaptive.GlobalSettings.removePaddingFromContainersWithBackgroundImage = true;
    };
    WidgetContainer.prototype.renderTo = function (hostElement) {
        this.cardHost.classList.remove("widget-small-card", "widget-medium-card", "widget-large-card");
        this.cardHost.classList.add("widget-" + this._containerSize.toLowerCase() + "-card");
        this._outerFrame = document.createElement("div");
        this._outerFrame.classList.add("widget-outer-container");
        this._outerFrame.classList.add("widget-" + this._containerSize.toLowerCase() + "-container");
        var header = document.createElement("div");
        header.className = "widget-header";
        this._outerFrame.appendChild(header);
        var headerText = document.createElement("p");
        headerText.className = "widget-header-text";
        headerText.textContent = "Widget Header";
        header.appendChild(headerText);
        var moreButton = document.createElement("div");
        moreButton.className = "widget-header-more-button";
        moreButton.setAttribute("role", "button");
        moreButton.tabIndex = 0;
        header.appendChild(moreButton);
        var innerFrame = document.createElement("div");
        innerFrame.className = "widget-inner-container";
        innerFrame.appendChild(this.cardHost);
        this._outerFrame.appendChild(innerFrame);
        hostElement.appendChild(this._outerFrame);
    };
    WidgetContainer.prototype.requiresOverflowStyling = function () {
        var renderedCard = document.getElementsByClassName("ac-adaptiveCard")[0];
        var cardHeight = renderedCard.getBoundingClientRect().height;
        var widgetHeight = this.cardHost.getBoundingClientRect().height;
        if (cardHeight > widgetHeight) {
            this.applyWidgetOverflowStyling(renderedCard);
            return true;
        }
        return false;
    };
    WidgetContainer.prototype.applyWidgetOverflowStyling = function (renderedCard) {
        renderedCard.style.height = "100%";
        var cardElementsWrapper = this.addCardElementsWrapper(renderedCard);
        cardElementsWrapper.classList.add("no-overflow");
        var carouselElements = renderedCard.getElementsByClassName("ac-carousel-container");
        for (var i = 0; i < carouselElements.length; i++) {
            var currentCarousel = carouselElements[i];
            var carouselRect = currentCarousel.getBoundingClientRect();
            var wrapperRect = cardElementsWrapper.getBoundingClientRect();
            // pagination will be in the bottom 16px of a carousel
            var paginationTop = carouselRect.bottom - 16;
            var paginationBottom = carouselRect.bottom;
            var paginationOverlapsBoundary = ((paginationBottom >= wrapperRect.bottom) && (paginationBottom < (wrapperRect.bottom + WidgetContainer.widgetPadding)) ||
                (paginationTop >= wrapperRect.bottom) && (paginationTop < (wrapperRect.bottom + WidgetContainer.widgetPadding)));
            if (paginationOverlapsBoundary) {
                // Hide overflow on the cardElement instead of the wrapper since pagination dots are in the margin
                renderedCard.classList.add("no-overflow");
                cardElementsWrapper.classList.remove("no-overflow");
                // Add the padding to the carousel if the pagination dots are in the margin
                currentCarousel.style.marginBottom = WidgetContainer.widgetPadding + "px";
                break;
            }
        }
    };
    WidgetContainer.prototype.addCardElementsWrapper = function (parentElement) {
        var cardElementsWrapper = document.createElement("div");
        cardElementsWrapper.classList.add("ac-card-elements-wrapper");
        Array.from(parentElement.children).forEach(function (child) {
            cardElementsWrapper.appendChild(child);
        });
        parentElement.appendChild(cardElementsWrapper);
        return cardElementsWrapper;
    };
    WidgetContainer.prototype.adjustStyleForBackground = function () {
        this._outerFrame.classList.remove("widget-small-container-no-border", "widget-medium-container-no-border", "widget-large-container-no-border");
        var renderedCard = document.getElementsByClassName("ac-adaptiveCard")[0];
        if (renderedCard.style.backgroundImage) {
            // If there is a background image present, we should remove the border
            this._outerFrame.classList.add("widget-" + this._containerSize.toLowerCase() + "-container-no-border");
        }
    };
    Object.defineProperty(WidgetContainer.prototype, "targetVersion", {
        get: function () {
            return Adaptive.Versions.v1_6;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(WidgetContainer.prototype, "isFixedHeight", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(WidgetContainer.prototype, "containerSize", {
        set: function (value) {
            this._containerSize = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(WidgetContainer.prototype, "supportsMultipleSizes", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(WidgetContainer, "supportedContainerSizes", {
        get: function () {
            return Object.values(ContainerSize);
        },
        enumerable: false,
        configurable: true
    });
    WidgetContainer.widgetPadding = 16;
    return WidgetContainer;
}(multi_theme_host_container_1.MultiThemeHostContainer));
exports.WidgetContainer = WidgetContainer;


/***/ }),

/***/ "./src/data-treeitem.ts":
/*!******************************!*\
  !*** ./src/data-treeitem.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DataTreeItem = void 0;
var base_tree_item_1 = __webpack_require__(/*! ./base-tree-item */ "./src/base-tree-item.ts");
var DataTreeItem = /** @class */ (function (_super) {
    __extends(DataTreeItem, _super);
    function DataTreeItem(field) {
        var _this = _super.call(this) || this;
        _this._children = null;
        _this.field = field;
        _this._level = 0;
        var currentField = field;
        while (currentField) {
            _this._level++;
            currentField = currentField.parent;
        }
        return _this;
    }
    DataTreeItem.prototype.buildChildList = function () {
        if (!this._children) {
            this._children = [];
            var properties = this.field.children;
            if (properties) {
                var keys = Object.keys(properties);
                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
                    var key = keys_1[_i];
                    this._children.push(new DataTreeItem(properties[key]));
                }
            }
        }
    };
    DataTreeItem.prototype.getLabelText = function () {
        return this.field.displayName;
    };
    DataTreeItem.prototype.getAdditionalText = function () {
        return this.field.valueType;
    };
    DataTreeItem.prototype.getAdditionalTextClass = function () {
        return "acd-data-tree-item-additionalText";
    };
    DataTreeItem.prototype.isDraggable = function () {
        return false;
    };
    DataTreeItem.prototype.getChildCount = function () {
        this.buildChildList();
        return this._children.length;
    };
    DataTreeItem.prototype.getChildAt = function (index) {
        this.buildChildList();
        return this._children[index];
    };
    return DataTreeItem;
}(base_tree_item_1.BaseTreeItem));
exports.DataTreeItem = DataTreeItem;


/***/ }),

/***/ "./src/data.ts":
/*!*********************!*\
  !*** ./src/data.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FieldDefinition = exports.ObjectData = exports.ArrayData = exports.ValueTypeData = exports.DataType = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
function shouldUseIndexerSyntax(name) {
    var regEx = /[a-zA-Z0-9_$]*/;
    var matches = regEx.exec(name);
    // If name doesn't only contain letters/digits/_
    // the accessor must use the indexer syntax
    return !(matches && matches[0] === name);
}
var DataType = /** @class */ (function () {
    function DataType(owner) {
        this.owner = owner;
    }
    DataType.parse = function (parent, data) {
        switch (data.valueType) {
            case "String":
                return new ValueTypeData(parent, "Sample data", data.sampleValue);
            case "Number":
                return new ValueTypeData(parent, 123, data.sampleValue);
            case "Boolean":
                return new ValueTypeData(parent, true, data.sampleValue);
            case "Array":
                return ArrayData.parse(parent, data);
            case "Object":
                return ObjectData.parse(parent, data);
        }
    };
    DataType.deriveFrom = function (parent, value) {
        if (typeof value === "string") {
            return new ValueTypeData(parent, "Sample data", value);
        }
        else if (typeof value === "boolean") {
            return new ValueTypeData(parent, true, value);
        }
        else if (typeof value === "number") {
            return new ValueTypeData(parent, 123, value);
        }
        else if (typeof value === "object") {
            if (Array.isArray(value)) {
                return ArrayData.deriveFrom(parent, value);
            }
            else {
                return ObjectData.deriveFrom(parent, value);
            }
        }
        else {
            throw new Error("Unsupported data type: " + typeof value);
        }
    };
    DataType.prototype.getChildFields = function () {
        return null;
    };
    DataType.prototype.qualifyFieldName = function (fieldName, fieldIsLeaf) {
        return fieldName;
    };
    Object.defineProperty(DataType.prototype, "isCollection", {
        get: function () {
            return false;
        },
        enumerable: false,
        configurable: true
    });
    return DataType;
}());
exports.DataType = DataType;
var ValueTypeData = /** @class */ (function (_super) {
    __extends(ValueTypeData, _super);
    function ValueTypeData(owner, defaultSampleValue, sampleValue) {
        var _this = _super.call(this, owner) || this;
        _this.owner = owner;
        _this.defaultSampleValue = defaultSampleValue;
        _this._sampleValue = sampleValue;
        return _this;
    }
    ValueTypeData.prototype.generateSampleData = function () {
        return this.sampleValue ? this.sampleValue : this.defaultSampleValue;
    };
    Object.defineProperty(ValueTypeData.prototype, "sampleValue", {
        get: function () {
            return this._sampleValue;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ValueTypeData.prototype, "valueType", {
        get: function () {
            switch (typeof this.defaultSampleValue) {
                case "string":
                    return "String";
                case "number":
                    return "Number";
                case "boolean":
                    return "Boolean";
            }
        },
        enumerable: false,
        configurable: true
    });
    return ValueTypeData;
}(DataType));
exports.ValueTypeData = ValueTypeData;
var ArrayData = /** @class */ (function (_super) {
    __extends(ArrayData, _super);
    function ArrayData(owner) {
        var _this = _super.call(this, owner) || this;
        _this.owner = owner;
        _this.dataType = undefined;
        return _this;
    }
    ArrayData.parse = function (parent, data) {
        var result = new ArrayData(parent);
        result.dataType = DataType.parse(parent, data.itemType);
        return result;
    };
    ArrayData.deriveFrom = function (parent, input) {
        if (!Array.isArray(input)) {
            throw new Error("Input is not an array.");
        }
        var result = new ArrayData(parent);
        if (input.length > 0) {
            result.dataType = DataType.deriveFrom(parent, input[0]);
        }
        return result;
    };
    ArrayData.prototype.generateSampleData = function () {
        var result = [];
        if (this.dataType) {
            for (var i = 1; i <= 3; i++) {
                result.push(this.dataType.generateSampleData());
            }
        }
        return result;
    };
    ArrayData.prototype.getChildFields = function () {
        return this.dataType ? this.dataType.getChildFields() : [];
    };
    ArrayData.prototype.qualifyFieldName = function (fieldName, fieldIsLeaf) {
        if (!fieldIsLeaf) {
            return fieldName + "[0]";
        }
        else {
            return _super.prototype.qualifyFieldName.call(this, fieldName, fieldIsLeaf);
        }
    };
    Object.defineProperty(ArrayData.prototype, "isCollection", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ArrayData.prototype, "valueType", {
        get: function () {
            return "Array";
        },
        enumerable: false,
        configurable: true
    });
    return ArrayData;
}(DataType));
exports.ArrayData = ArrayData;
var ObjectData = /** @class */ (function (_super) {
    __extends(ObjectData, _super);
    function ObjectData(owner) {
        var _this = _super.call(this, owner) || this;
        _this.owner = owner;
        _this.fields = [];
        return _this;
    }
    ObjectData.parse = function (parent, data) {
        var result = new ObjectData(parent);
        for (var _i = 0, _a = data.fields; _i < _a.length; _i++) {
            var field = _a[_i];
            var fieldDefinition = new FieldDefinition(parent);
            fieldDefinition.name = field.name;
            fieldDefinition.displayName = field.displayName;
            fieldDefinition.dataType = DataType.parse(fieldDefinition, field);
            result.fields.push(fieldDefinition);
        }
        return result;
    };
    ObjectData.deriveFrom = function (parent, input) {
        var result = new ObjectData(parent);
        if (input !== null) {
            for (var _i = 0, _a = Object.keys(input); _i < _a.length; _i++) {
                var key = _a[_i];
                var field = new FieldDefinition(parent);
                field.dataType = DataType.deriveFrom(field, input[key]);
                field.name = key;
                result.fields.push(field);
            }
        }
        return result;
    };
    ObjectData.prototype.generateSampleData = function () {
        var result = {};
        for (var _i = 0, _a = this.fields; _i < _a.length; _i++) {
            var field = _a[_i];
            result[field.name] = field.dataType.generateSampleData();
        }
        return result;
    };
    ObjectData.prototype.getChildFields = function () {
        return this.fields;
    };
    Object.defineProperty(ObjectData.prototype, "valueType", {
        get: function () {
            return "Object";
        },
        enumerable: false,
        configurable: true
    });
    return ObjectData;
}(DataType));
exports.ObjectData = ObjectData;
var FieldDefinition = /** @class */ (function () {
    function FieldDefinition(parent) {
        this.parent = parent;
    }
    FieldDefinition.parse = function (data) {
        var field = new FieldDefinition(null);
        field.name = "$root";
        field.dataType = DataType.parse(field, data);
        return field;
    };
    FieldDefinition.deriveFrom = function (input) {
        var field = new FieldDefinition(null);
        field.name = "$root";
        field.dataType = DataType.deriveFrom(field, input);
        return field;
    };
    FieldDefinition.prototype.asExpression = function () {
        return "${" + this.getPath() + "}";
    };
    FieldDefinition.prototype.getPath = function (asLeaf) {
        if (asLeaf === void 0) { asLeaf = true; }
        var currentField = this;
        var path = [];
        while (currentField) {
            path.push(currentField);
            currentField = currentField.parent;
        }
        var result = "";
        var forceIndexerSyntax = false;
        for (var i = path.length - 1; i >= 0; i--) {
            var qualifiedName = path[i].qualifiedName(false);
            if (shouldUseIndexerSyntax(qualifiedName) || forceIndexerSyntax) {
                qualifiedName = "['" + qualifiedName + "']";
                forceIndexerSyntax = true;
            }
            else {
                if (result) {
                    result += ".";
                }
            }
            result += qualifiedName;
        }
        return result;
    };
    FieldDefinition.prototype.qualifiedName = function (asLeaf) {
        return this.dataType.qualifyFieldName(this.name, asLeaf);
    };
    Object.defineProperty(FieldDefinition.prototype, "displayName", {
        get: function () {
            return this._displayName ? this._displayName : this.name;
        },
        set: function (value) {
            this._displayName = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FieldDefinition.prototype, "children", {
        get: function () {
            return this.dataType.getChildFields();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FieldDefinition.prototype, "isCollection", {
        get: function () {
            return this.dataType.isCollection;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FieldDefinition.prototype, "valueType", {
        get: function () {
            return this.dataType.valueType;
        },
        enumerable: false,
        configurable: true
    });
    return FieldDefinition;
}());
exports.FieldDefinition = FieldDefinition;


/***/ }),

/***/ "./src/designer-peer-treeitem.ts":
/*!***************************************!*\
  !*** ./src/designer-peer-treeitem.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DesignerPeerTreeItem = void 0;
// Copyright (C) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var base_tree_item_1 = __webpack_require__(/*! ./base-tree-item */ "./src/base-tree-item.ts");
var designer_peers_1 = __webpack_require__(/*! ./designer-peers */ "./src/designer-peers.ts");
var DesignerPeerTreeItem = /** @class */ (function (_super) {
    __extends(DesignerPeerTreeItem, _super);
    function DesignerPeerTreeItem(owner, isExpanded) {
        if (isExpanded === void 0) { isExpanded = true; }
        var _this = _super.call(this, isExpanded) || this;
        _this.owner = owner;
        _this.owner.onParentChanged = function (sender) {
            _this.computeLevel();
        };
        _this.computeLevel();
        return _this;
    }
    DesignerPeerTreeItem.prototype.computeLevel = function () {
        this._level = 0;
        var peer = this.owner;
        while (peer) {
            this._level++;
            peer = peer.parent;
        }
        for (var i = 0; i < this.getChildCount(); i++) {
            this.getChildAt(i).computeLevel();
        }
    };
    DesignerPeerTreeItem.prototype.getIconClass = function () {
        return this.owner.registration.iconClass;
    };
    DesignerPeerTreeItem.prototype.getLabelText = function () {
        return this.owner.getCardObject().getJsonTypeName();
    };
    DesignerPeerTreeItem.prototype.getAdditionalText = function () {
        return this.owner.getTreeItemText();
    };
    DesignerPeerTreeItem.prototype.selectedChanged = function (scrollIntoView) {
        _super.prototype.selectedChanged.call(this, scrollIntoView);
        this.owner.isSelected = this.isSelected;
    };
    DesignerPeerTreeItem.prototype.getChildCount = function () {
        return this.owner.getChildCount();
    };
    DesignerPeerTreeItem.prototype.getChildAt = function (index) {
        return this.owner.getChildAt(index).treeItem;
    };
    DesignerPeerTreeItem.prototype.click = function (e) {
        _super.prototype.click.call(this, e);
        var currentPeer = this.owner;
        while (currentPeer) {
            if (currentPeer instanceof designer_peers_1.CardElementPeer && currentPeer.bringCardElementIntoView()) {
                break;
            }
            currentPeer = currentPeer.parent;
        }
    };
    return DesignerPeerTreeItem;
}(base_tree_item_1.BaseTreeItem));
exports.DesignerPeerTreeItem = DesignerPeerTreeItem;


/***/ }),

/***/ "./src/designer-peers.ts":
/*!*******************************!*\
  !*** ./src/designer-peers.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InputPeer = exports.FactSetPeer = exports.MediaPeer = exports.ImagePeer = exports.ImageSetPeer = exports.ActionSetPeer = exports.ContainerPeer = exports.ColumnSetPeer = exports.ColumnPeer = exports.AdaptiveCardPeer = exports.TypedCardElementPeer = exports.CardElementPeer = exports.ToggleVisibilityActionPeer = exports.ShowCardActionPeer = exports.OpenUrlActionPeer = exports.ExecuteActionPeer = exports.SubmitActionPeer = exports.BaseSubmitActionPeer = exports.HttpActionPeer = exports.TypedActionPeer = exports.ActionPeer = exports.DesignerPeer = exports.EnumPropertyEditor = exports.CompoundPropertyEditor = exports.ActionPropertyEditor = exports.CarouselTimerPropertyEditor = exports.SizeAndUnitPropertyEditor = exports.HeightPropertyEditor = exports.ColumnWidthPropertyEditor = exports.NullableBooleanPropertyEditor = exports.ContainerStylePropertyEditor = exports.ChoicePropertyEditor = exports.BooleanPropertyEditor = exports.CustomCardObjectPropertyEditor = exports.ObjectPropertyEditor = exports.NumberPropertyEditor = exports.StringArrayPropertyEditor = exports.StringPropertyEditor = exports.BaseStringPropertyEditor = exports.SingleInputPropertyEditor = exports.CustomPropertySheetEntry = exports.SubPropertySheetEntry = exports.PropertySheetEntry = exports.PropertySheetContext = exports.PropertySheet = exports.PropertySheetCategory = exports.DesignerPeerRegistration = exports.DesignerPeerRegistrationBase = exports.CardElementPeerInplaceEditor = exports.DesignerPeerInplaceEditor = void 0;
exports.CarouselPagePeer = exports.CarouselPeer = exports.TablePeer = exports.TableRowPeer = exports.TableCellPeer = exports.RichTextBlockPeer = exports.TextBlockPeer = exports.ChoiceSetInputPeer = exports.ToggleInputPeer = exports.TimeInputPeer = exports.DateInputPeer = exports.NumberInputPeer = exports.TextInputPeer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var Controls = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var draggable_element_1 = __webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts");
var peer_command_1 = __webpack_require__(/*! ./peer-command */ "./src/peer-command.ts");
var card_designer_surface_1 = __webpack_require__(/*! ./card-designer-surface */ "./src/card-designer-surface.ts");
var designer_peer_treeitem_1 = __webpack_require__(/*! ./designer-peer-treeitem */ "./src/designer-peer-treeitem.ts");
var miscellaneous_1 = __webpack_require__(/*! ./miscellaneous */ "./src/miscellaneous.ts");
var shared_1 = __webpack_require__(/*! ./shared */ "./src/shared.ts");
var field_picker_1 = __webpack_require__(/*! ./field-picker */ "./src/field-picker.ts");
var strings_1 = __webpack_require__(/*! ./strings */ "./src/strings.ts");
var DesignerPeerInplaceEditor = /** @class */ (function () {
    function DesignerPeerInplaceEditor() {
    }
    return DesignerPeerInplaceEditor;
}());
exports.DesignerPeerInplaceEditor = DesignerPeerInplaceEditor;
var CardElementPeerInplaceEditor = /** @class */ (function (_super) {
    __extends(CardElementPeerInplaceEditor, _super);
    function CardElementPeerInplaceEditor(cardElement) {
        var _this = _super.call(this) || this;
        _this.cardElement = cardElement;
        return _this;
    }
    return CardElementPeerInplaceEditor;
}(DesignerPeerInplaceEditor));
exports.CardElementPeerInplaceEditor = CardElementPeerInplaceEditor;
var DesignerPeerRegistrationBase = /** @class */ (function () {
    function DesignerPeerRegistrationBase(category, iconClass) {
        this.category = category;
        this._iconClass = iconClass;
    }
    Object.defineProperty(DesignerPeerRegistrationBase.prototype, "iconClass", {
        get: function () {
            return this._iconClass ? this._iconClass : "acd-icon-defaultElementIcon";
        },
        enumerable: false,
        configurable: true
    });
    return DesignerPeerRegistrationBase;
}());
exports.DesignerPeerRegistrationBase = DesignerPeerRegistrationBase;
var DesignerPeerRegistration = /** @class */ (function (_super) {
    __extends(DesignerPeerRegistration, _super);
    function DesignerPeerRegistration(sourceType, peerType, category, iconClass) {
        if (iconClass === void 0) { iconClass = null; }
        var _this = _super.call(this, category, iconClass) || this;
        _this.sourceType = sourceType;
        _this.peerType = peerType;
        return _this;
    }
    return DesignerPeerRegistration;
}(DesignerPeerRegistrationBase));
exports.DesignerPeerRegistration = DesignerPeerRegistration;
var PropertySheetCategory = /** @class */ (function () {
    function PropertySheetCategory(name) {
        this.name = name;
        this._entries = [];
    }
    PropertySheetCategory.prototype.render = function (container, context, displayCategoryName) {
        var entriesToRender = [];
        for (var _i = 0, _a = this._entries; _i < _a.length; _i++) {
            var entry = _a[_i];
            if (Adaptive.isVersionLessOrEqual(entry.targetVersion, context.designContext.targetVersion)) {
                entriesToRender.push(entry);
            }
        }
        if (entriesToRender.length > 0) {
            if (displayCategoryName) {
                var header = new Adaptive.TextBlock();
                header.separator = true;
                header.text = "**" + (this.name === PropertySheetCategory.DefaultCategory ? context.peer.getCardObject().getJsonTypeName() : this.name) + "**";
                container.addItem(header);
            }
            for (var _b = 0, entriesToRender_1 = entriesToRender; _b < entriesToRender_1.length; _b++) {
                var entry = entriesToRender_1[_b];
                if (Adaptive.isVersionLessOrEqual(entry.targetVersion, context.designContext.targetVersion)) {
                    container.addItem(entry.render(context));
                }
            }
        }
    };
    PropertySheetCategory.prototype.add = function () {
        var entries = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            entries[_i] = arguments[_i];
        }
        this._entries = this._entries.concat(entries);
    };
    PropertySheetCategory.prototype.remove = function () {
        var entries = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            entries[_i] = arguments[_i];
        }
        for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {
            var entry = entries_1[_a];
            var index = void 0;
            do {
                var index_1 = this._entries.indexOf(entry);
                if (index_1 >= 0) {
                    this._entries.splice(index_1, 1);
                }
            } while (index >= 0);
        }
    };
    PropertySheetCategory.prototype.getEntryAt = function (index) {
        return this._entries[index];
    };
    Object.defineProperty(PropertySheetCategory.prototype, "length", {
        get: function () {
            return this._entries.length;
        },
        enumerable: false,
        configurable: true
    });
    PropertySheetCategory.DefaultCategory = "__defaultCategory";
    PropertySheetCategory.LayoutCategory = "Layout";
    PropertySheetCategory.StyleCategory = "Style";
    PropertySheetCategory.SelectionAction = "Selection action";
    PropertySheetCategory.InlineAction = "Inline action";
    PropertySheetCategory.Validation = "Validation";
    PropertySheetCategory.Refresh = "Refresh";
    return PropertySheetCategory;
}());
exports.PropertySheetCategory = PropertySheetCategory;
var PropertySheet = /** @class */ (function () {
    function PropertySheet(displayCategoryNames) {
        if (displayCategoryNames === void 0) { displayCategoryNames = true; }
        this.displayCategoryNames = displayCategoryNames;
        this._categories = {};
        this._categories[PropertySheetCategory.DefaultCategory] = new PropertySheetCategory(PropertySheetCategory.DefaultCategory);
        this._categories[PropertySheetCategory.LayoutCategory] = new PropertySheetCategory(PropertySheetCategory.LayoutCategory);
        this._categories[PropertySheetCategory.StyleCategory] = new PropertySheetCategory(PropertySheetCategory.StyleCategory);
    }
    PropertySheet.prototype.add = function (categoryName) {
        var entries = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            entries[_i - 1] = arguments[_i];
        }
        var category = this._categories[categoryName];
        if (!category) {
            category = new PropertySheetCategory(categoryName);
            this._categories[categoryName] = category;
        }
        category.add.apply(category, entries);
    };
    PropertySheet.prototype.addActionProperties = function (targetVersion, peer, action, category, excludeProperties) {
        if (excludeProperties === void 0) { excludeProperties = [ActionPeer.iconUrlProperty, ActionPeer.styleProperty, ActionPeer.modeProperty]; }
        var actionPeer = card_designer_surface_1.CardDesignerSurface.actionPeerRegistry.createPeerInstance(peer.designerSurface, null, action);
        actionPeer.onChanged = function (sender, updatePropertySheet) { peer.changed(updatePropertySheet); };
        var subPropertySheet = new PropertySheet(false);
        actionPeer.populatePropertySheet(subPropertySheet, category);
        if (excludeProperties.length > 0) {
            subPropertySheet.remove.apply(subPropertySheet, excludeProperties);
        }
        this.add(category, new SubPropertySheetEntry(targetVersion, action, subPropertySheet));
    };
    PropertySheet.prototype.remove = function () {
        var _a;
        var entries = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            entries[_i] = arguments[_i];
        }
        for (var _b = 0, _c = Object.keys(this._categories); _b < _c.length; _b++) {
            var categoryName = _c[_b];
            (_a = this._categories[categoryName]).remove.apply(_a, entries);
        }
    };
    PropertySheet.prototype.render = function (container, context) {
        for (var _i = 0, _a = Object.keys(this._categories); _i < _a.length; _i++) {
            var categoryName = _a[_i];
            this._categories[categoryName].render(container, context, this.displayCategoryNames);
        }
    };
    return PropertySheet;
}());
exports.PropertySheet = PropertySheet;
var PropertySheetContext = /** @class */ (function () {
    function PropertySheetContext(designContext, peer, target) {
        if (target === void 0) { target = undefined; }
        this.designContext = designContext;
        this.peer = peer;
        this._target = undefined;
        this._target = target;
    }
    Object.defineProperty(PropertySheetContext.prototype, "target", {
        get: function () {
            return this._target != undefined ? this._target : this.peer.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    return PropertySheetContext;
}());
exports.PropertySheetContext = PropertySheetContext;
var PropertySheetEntry = /** @class */ (function () {
    function PropertySheetEntry(targetVersion) {
        this.targetVersion = targetVersion;
    }
    return PropertySheetEntry;
}());
exports.PropertySheetEntry = PropertySheetEntry;
var SubPropertySheetEntry = /** @class */ (function () {
    function SubPropertySheetEntry(targetVersion, target, propertySheet) {
        this.targetVersion = targetVersion;
        this.target = target;
        this.propertySheet = propertySheet;
    }
    SubPropertySheetEntry.prototype.render = function (context) {
        var container = new Adaptive.Container();
        container.spacing = Adaptive.Spacing.Small;
        this.propertySheet.render(container, new PropertySheetContext(context.designContext, context.peer, this.target));
        return container;
    };
    return SubPropertySheetEntry;
}());
exports.SubPropertySheetEntry = SubPropertySheetEntry;
var CustomPropertySheetEntry = /** @class */ (function (_super) {
    __extends(CustomPropertySheetEntry, _super);
    function CustomPropertySheetEntry(targetVersion, onRender) {
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.onRender = onRender;
        return _this;
    }
    CustomPropertySheetEntry.prototype.render = function (context) {
        if (this.onRender) {
            return this.onRender(context);
        }
    };
    return CustomPropertySheetEntry;
}(PropertySheetEntry));
exports.CustomPropertySheetEntry = CustomPropertySheetEntry;
var SingleInputPropertyEditor = /** @class */ (function (_super) {
    __extends(SingleInputPropertyEditor, _super);
    function SingleInputPropertyEditor(targetVersion, propertyName, label, causesPropertySheetRefresh) {
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        return _this;
    }
    SingleInputPropertyEditor.prototype.getPropertyValue = function (context) {
        return context.target[this.propertyName];
    };
    SingleInputPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.target[this.propertyName] = value;
    };
    SingleInputPropertyEditor.prototype.getAdditionalCommands = function (context) {
        return [];
    };
    SingleInputPropertyEditor.prototype.render = function (context) {
        var _this = this;
        var leftColumn = new Adaptive.Column();
        leftColumn.width = new Adaptive.SizeAndUnit(100, Adaptive.SizeUnit.Pixel);
        leftColumn.verticalContentAlignment = Adaptive.VerticalAlignment.Center;
        var rightColumn = new Adaptive.Column();
        rightColumn.width = "stretch";
        rightColumn.verticalContentAlignment = Adaptive.VerticalAlignment.Center;
        var columnSet = new Adaptive.ColumnSet();
        columnSet.spacing = Adaptive.Spacing.Small;
        columnSet.addColumn(leftColumn);
        columnSet.addColumn(rightColumn);
        var label = new Adaptive.TextBlock();
        label.horizontalAlignment = Adaptive.HorizontalAlignment.Right;
        label.wrap = true;
        label.text = this.label;
        label.id = Adaptive.generateUniqueId();
        var input = this.createInput(context);
        input.labelledBy = label.id;
        input.onValueChanged = function () {
            _this.setPropertyValue(context, input.value);
            context.peer.changed(_this.causesPropertySheetRefresh);
        };
        leftColumn.addItem(label);
        rightColumn.addItem(input);
        var additionalCommands = this.getAdditionalCommands(context);
        if (additionalCommands && additionalCommands.length > 0) {
            var commandColumn = new Adaptive.Column();
            commandColumn.width = "auto";
            commandColumn.spacing = Adaptive.Spacing.Small;
            commandColumn.verticalContentAlignment = Adaptive.VerticalAlignment.Center;
            var actionSet = new Adaptive.ActionSet();
            var _loop_1 = function (command) {
                var action = new Adaptive.SubmitAction();
                action.id = command.id;
                action.title = command.caption;
                action.tooltip = command.altText;
                if (command.expanded) {
                    action.state = 1 /* Expanded */;
                }
                action.onExecute = function (sender) { command.onExecute(_this, sender.renderedElement); };
                actionSet.addAction(action);
            };
            for (var _i = 0, additionalCommands_1 = additionalCommands; _i < additionalCommands_1.length; _i++) {
                var command = additionalCommands_1[_i];
                _loop_1(command);
            }
            commandColumn.addItem(actionSet);
            columnSet.addColumn(commandColumn);
        }
        return columnSet;
    };
    return SingleInputPropertyEditor;
}(PropertySheetEntry));
exports.SingleInputPropertyEditor = SingleInputPropertyEditor;
var BaseStringPropertyEditor = /** @class */ (function (_super) {
    __extends(BaseStringPropertyEditor, _super);
    function BaseStringPropertyEditor(targetVersion, propertyName, label, allowBinding, isMultiline, causesPropertySheetRefresh) {
        if (allowBinding === void 0) { allowBinding = false; }
        if (isMultiline === void 0) { isMultiline = false; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.allowBinding = allowBinding;
        _this.isMultiline = isMultiline;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        _this.placeHolder = "(not set)";
        return _this;
    }
    BaseStringPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.TextInput();
        input.defaultValue = this.getPropertyValue(context);
        input.placeholder = this.placeHolder;
        input.isMultiline = this.isMultiline;
        return input;
    };
    return BaseStringPropertyEditor;
}(SingleInputPropertyEditor));
exports.BaseStringPropertyEditor = BaseStringPropertyEditor;
var StringPropertyEditor = /** @class */ (function (_super) {
    __extends(StringPropertyEditor, _super);
    function StringPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StringPropertyEditor.prototype.getAdditionalCommands = function (context) {
        var _this = this;
        if (shared_1.GlobalSettings.enableDataBindingSupport && this.allowBinding) {
            return [
                {
                    id: this.propertyName + "BindData",
                    caption: strings_1.Strings.toolboxes.propertySheet.commands.bindData.displayText(),
                    altText: strings_1.Strings.toolboxes.propertySheet.commands.bindData.accessibleText(this.label),
                    expanded: false,
                    onExecute: function (sender, clickedElement) {
                        clickedElement.setAttribute("aria-expanded", "true");
                        // TODO: Add host parameter to field picker
                        var fieldPicker = new field_picker_1.FieldPicker(context.designContext.dataStructure);
                        fieldPicker.onClose = function (sender, wasCancelled) {
                            clickedElement.setAttribute("aria-expanded", "false");
                            if (!wasCancelled) {
                                _this.setPropertyValue(context, fieldPicker.selectedField.asExpression());
                                clickedElement.focus();
                                context.peer.changed(true);
                            }
                            clickedElement.focus();
                        };
                        fieldPicker.popup(clickedElement);
                    }
                }
            ];
        }
        else {
            return _super.prototype.getAdditionalCommands.call(this, context);
        }
    };
    return StringPropertyEditor;
}(BaseStringPropertyEditor));
exports.StringPropertyEditor = StringPropertyEditor;
var StringArrayPropertyEditor = /** @class */ (function (_super) {
    __extends(StringArrayPropertyEditor, _super);
    function StringArrayPropertyEditor(targetVersion, propertyName, label, allowBinding, isMultiline, causesPropertySheetRefresh) {
        if (allowBinding === void 0) { allowBinding = false; }
        if (isMultiline === void 0) { isMultiline = false; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, allowBinding, isMultiline, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.allowBinding = allowBinding;
        _this.isMultiline = isMultiline;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        _this.placeHolder = "(not set, comma-separated list)";
        return _this;
    }
    StringArrayPropertyEditor.prototype.getPropertyValue = function (context) {
        var rawValue = context.target[this.propertyName];
        var result = [];
        if (rawValue !== undefined && Array.isArray(rawValue)) {
            for (var _i = 0, rawValue_1 = rawValue; _i < rawValue_1.length; _i++) {
                var item = rawValue_1[_i];
                if (typeof item === "string") {
                    result.push(item);
                }
            }
        }
        return result.length > 0 ? result.join(",") : undefined;
    };
    StringArrayPropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value !== undefined) {
            var rawValues = value.split(",");
            var result = [];
            for (var _i = 0, rawValues_1 = rawValues; _i < rawValues_1.length; _i++) {
                var rawValue = rawValues_1[_i];
                if (rawValue) {
                    result.push(rawValue);
                }
            }
            context.target[this.propertyName] = result.length > 0 ? result : undefined;
        }
    };
    return StringArrayPropertyEditor;
}(BaseStringPropertyEditor));
exports.StringArrayPropertyEditor = StringArrayPropertyEditor;
var NumberPropertyEditor = /** @class */ (function (_super) {
    __extends(NumberPropertyEditor, _super);
    function NumberPropertyEditor(targetVersion, propertyName, label, defaultValue, causesPropertySheetRefresh) {
        if (defaultValue === void 0) { defaultValue = undefined; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.defaultValue = defaultValue;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        return _this;
    }
    NumberPropertyEditor.prototype.setPropertyValue = function (context, value) {
        try {
            context.target[this.propertyName] = parseFloat(value);
        }
        catch (_a) {
            context.target[this.propertyName] = this.defaultValue;
        }
    };
    NumberPropertyEditor.prototype.createInput = function (context) {
        var _a;
        var input = new Adaptive.NumberInput();
        input.defaultValue = (_a = this.getPropertyValue(context)) !== null && _a !== void 0 ? _a : this.defaultValue;
        input.placeholder = "(not set)";
        this._input = input;
        return this._input;
    };
    return NumberPropertyEditor;
}(SingleInputPropertyEditor));
exports.NumberPropertyEditor = NumberPropertyEditor;
var ObjectPropertyEditor = /** @class */ (function (_super) {
    __extends(ObjectPropertyEditor, _super);
    function ObjectPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ObjectPropertyEditor.prototype.getPropertyValue = function (context) {
        return JSON.stringify(context.target[this.propertyName]);
    };
    ObjectPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.target[this.propertyName] = JSON.parse(value);
    };
    return ObjectPropertyEditor;
}(StringPropertyEditor));
exports.ObjectPropertyEditor = ObjectPropertyEditor;
var CustomCardObjectPropertyEditor = /** @class */ (function (_super) {
    __extends(CustomCardObjectPropertyEditor, _super);
    function CustomCardObjectPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CustomCardObjectPropertyEditor.prototype.getPropertyValue = function (context) {
        return context.peer.getCardObject().getCustomProperty(this.propertyName);
    };
    CustomCardObjectPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.peer.getCardObject().setCustomProperty(this.propertyName, value);
    };
    return CustomCardObjectPropertyEditor;
}(StringPropertyEditor));
exports.CustomCardObjectPropertyEditor = CustomCardObjectPropertyEditor;
var BooleanPropertyEditor = /** @class */ (function (_super) {
    __extends(BooleanPropertyEditor, _super);
    function BooleanPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BooleanPropertyEditor.prototype.getPropertyValue = function (context) {
        var v = context.target[this.propertyName];
        return typeof v === "boolean" ? v.toString() : "false";
    };
    BooleanPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.target[this.propertyName] = value == "true";
    };
    BooleanPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.ToggleInput();
        input.defaultValue = this.getPropertyValue(context);
        return input;
    };
    return BooleanPropertyEditor;
}(SingleInputPropertyEditor));
exports.BooleanPropertyEditor = BooleanPropertyEditor;
var NotSetValue = "@@not_set@@";
var ChoicePropertyEditor = /** @class */ (function (_super) {
    __extends(ChoicePropertyEditor, _super);
    function ChoicePropertyEditor(targetVersion, propertyName, label, choices, causesPropertySheetRefresh, isNullable) {
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        if (isNullable === void 0) { isNullable = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.choices = choices;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        _this.isNullable = isNullable;
        return _this;
    }
    ChoicePropertyEditor.prototype.getPropertyValue = function (context) {
        var currentValue = context.target[this.propertyName];
        return currentValue !== undefined ? currentValue.toString() : NotSetValue;
    };
    ChoicePropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value === NotSetValue) {
            context.target[this.propertyName] = undefined;
        }
        else {
            context.target[this.propertyName] = value;
        }
    };
    ChoicePropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.ChoiceSetInput();
        input.defaultValue = this.getPropertyValue(context);
        input.isCompact = true;
        if (this.isNullable) {
            input.choices.push(new Adaptive.Choice("(not set)", NotSetValue));
        }
        else {
            input.placeholder = "(not set)";
        }
        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {
            var choice = _a[_i];
            if (Adaptive.isVersionLessOrEqual(choice.targetVersion, context.designContext.targetVersion)) {
                input.choices.push(new Adaptive.Choice(choice.name, choice.value));
            }
        }
        return input;
    };
    return ChoicePropertyEditor;
}(SingleInputPropertyEditor));
exports.ChoicePropertyEditor = ChoicePropertyEditor;
var ContainerStylePropertyEditor = /** @class */ (function (_super) {
    __extends(ContainerStylePropertyEditor, _super);
    function ContainerStylePropertyEditor(targetVersion, propertyName, label) {
        var _this = _super.call(this, targetVersion, propertyName, label, [
            { targetVersion: Adaptive.Versions.v1_0, name: "(not set)", value: NotSetValue },
            { targetVersion: Adaptive.Versions.v1_0, name: "Default", value: "default" },
            { targetVersion: Adaptive.Versions.v1_0, name: "Emphasis", value: "emphasis" },
            { targetVersion: Adaptive.Versions.v1_2, name: "Accent", value: "accent" },
            { targetVersion: Adaptive.Versions.v1_2, name: "Good", value: "good" },
            { targetVersion: Adaptive.Versions.v1_2, name: "Attention", value: "attention" },
            { targetVersion: Adaptive.Versions.v1_2, name: "Warning", value: "warning" }
        ]) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        return _this;
    }
    ContainerStylePropertyEditor.prototype.getPropertyValue = function (context) {
        var currentStyle = context.target[this.propertyName];
        return currentStyle ? currentStyle.toString() : NotSetValue;
    };
    ContainerStylePropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value == NotSetValue) {
            context.target[this.propertyName] = undefined;
        }
        else {
            context.target[this.propertyName] = value;
        }
    };
    return ContainerStylePropertyEditor;
}(ChoicePropertyEditor));
exports.ContainerStylePropertyEditor = ContainerStylePropertyEditor;
var NullableBooleanPropertyEditor = /** @class */ (function (_super) {
    __extends(NullableBooleanPropertyEditor, _super);
    function NullableBooleanPropertyEditor(targetVersion, propertyName, label) {
        var _this = _super.call(this, targetVersion, propertyName, label, [
            { targetVersion: Adaptive.Versions.v1_0, name: "(not set)", value: NotSetValue },
            { targetVersion: Adaptive.Versions.v1_0, name: "True", value: "true" },
            { targetVersion: Adaptive.Versions.v1_0, name: "False", value: "false" }
        ]) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        return _this;
    }
    NullableBooleanPropertyEditor.prototype.getPropertyValue = function (context) {
        var currentValue = context.target[this.propertyName];
        return typeof currentValue === "boolean" ? currentValue.toString() : NotSetValue;
    };
    NullableBooleanPropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value === NotSetValue) {
            context.target[this.propertyName] = undefined;
        }
        else {
            context.target[this.propertyName] = value === "true";
        }
    };
    return NullableBooleanPropertyEditor;
}(ChoicePropertyEditor));
exports.NullableBooleanPropertyEditor = NullableBooleanPropertyEditor;
var ColumnWidthPropertyEditor = /** @class */ (function (_super) {
    __extends(ColumnWidthPropertyEditor, _super);
    function ColumnWidthPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ColumnWidthPropertyEditor.prototype.getPropertyValue = function (context) {
        if (context.target[this.propertyName] instanceof Adaptive.SizeAndUnit) {
            if (context.target[this.propertyName].unit == Adaptive.SizeUnit.Pixel) {
                return "pixels";
            }
            else {
                return "weighted";
            }
        }
        else {
            return context.target[this.propertyName].toString();
        }
    };
    ColumnWidthPropertyEditor.prototype.setPropertyValue = function (context, value) {
        switch (value) {
            case "auto":
                context.target[this.propertyName] = "auto";
                break;
            case "pixels":
                context.target[this.propertyName] = new Adaptive.SizeAndUnit(50, Adaptive.SizeUnit.Pixel);
                break;
            case "weighted":
                context.target[this.propertyName] = new Adaptive.SizeAndUnit(50, Adaptive.SizeUnit.Weight);
                break;
            case "stretch":
            default:
                context.target[this.propertyName] = "stretch";
                break;
        }
    };
    return ColumnWidthPropertyEditor;
}(ChoicePropertyEditor));
exports.ColumnWidthPropertyEditor = ColumnWidthPropertyEditor;
var HeightPropertyEditor = /** @class */ (function (_super) {
    __extends(HeightPropertyEditor, _super);
    function HeightPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HeightPropertyEditor.prototype.setPropertyValue = function (context, value) {
        var processedValue;
        switch (value) {
            case "auto":
            case "stretch":
                processedValue = value;
                break;
            default:
                processedValue = "auto";
                break;
        }
        context.target[this.propertyName] = processedValue;
    };
    return HeightPropertyEditor;
}(ChoicePropertyEditor));
exports.HeightPropertyEditor = HeightPropertyEditor;
var SizeAndUnitPropertyEditor = /** @class */ (function (_super) {
    __extends(SizeAndUnitPropertyEditor, _super);
    function SizeAndUnitPropertyEditor(targetVersion, propertyName, label, sizeUnit, defaultValue, causesPropertySheetRefresh) {
        if (defaultValue === void 0) { defaultValue = undefined; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, defaultValue, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.sizeUnit = sizeUnit;
        _this.defaultValue = defaultValue;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        return _this;
    }
    SizeAndUnitPropertyEditor.prototype.getPropertyValue = function (context) {
        return context.target[this.propertyName].physicalSize.toString();
    };
    SizeAndUnitPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.target[this.propertyName] = new Adaptive.SizeAndUnit(parseInt(value), this.sizeUnit);
    };
    return SizeAndUnitPropertyEditor;
}(NumberPropertyEditor));
exports.SizeAndUnitPropertyEditor = SizeAndUnitPropertyEditor;
var CarouselTimerPropertyEditor = /** @class */ (function (_super) {
    __extends(CarouselTimerPropertyEditor, _super);
    function CarouselTimerPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CarouselTimerPropertyEditor.prototype.setPropertyValue = function (context, value) {
        try {
            var parsedValue = parseFloat(value);
            var minAutoplayDelay = context.designContext.hostContainer.getHostConfig().carousel.minAutoplayDelay;
            if (parsedValue < minAutoplayDelay) {
                // TODO: This causes a strange bug - basically cannot clear NumberInput and type a new number
                // Need to update where we call setPropertyValue/at least display a visual warning
                this._input.value = minAutoplayDelay;
                console.warn(Adaptive.Strings.errors.tooLittleTimeDelay);
                context.target[this.propertyName] = minAutoplayDelay;
            }
            else {
                context.target[this.propertyName] = parsedValue;
            }
        }
        catch (_a) {
            context.target[this.propertyName] = this.defaultValue;
        }
    };
    return CarouselTimerPropertyEditor;
}(NumberPropertyEditor));
exports.CarouselTimerPropertyEditor = CarouselTimerPropertyEditor;
var ActionPropertyEditor = /** @class */ (function (_super) {
    __extends(ActionPropertyEditor, _super);
    function ActionPropertyEditor(targetVersion, propertyName, label, forbiddenActionTypes, causesPropertySheetRefresh) {
        if (forbiddenActionTypes === void 0) { forbiddenActionTypes = []; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.forbiddenActionTypes = forbiddenActionTypes;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        return _this;
    }
    ActionPropertyEditor.prototype.getPropertyValue = function (context) {
        var action = context.target[this.propertyName];
        return action ? action.getJsonTypeName() : "none";
    };
    ActionPropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value == "none") {
            context.target[this.propertyName] = undefined;
        }
        else {
            context.target[this.propertyName] = context.designContext.hostContainer.actionsRegistry.createInstance(value, context.designContext.targetVersion);
        }
    };
    ActionPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.ChoiceSetInput();
        input.defaultValue = this.getPropertyValue(context);
        input.isCompact = true;
        input.placeholder = "(not set)";
        input.choices.push(new Adaptive.Choice("(not set)", "none"));
        for (var i = 0; i < context.designContext.hostContainer.actionsRegistry.getItemCount(); i++) {
            var actionType = context.designContext.hostContainer.actionsRegistry.getItemAt(i).typeName;
            var excludeAction = true;
            if (this.forbiddenActionTypes) {
                // If the list contains "*", all action types are disallowed...
                excludeAction = this.forbiddenActionTypes.indexOf("*") >= 0 || this.forbiddenActionTypes.indexOf(actionType) >= 0;
                if (excludeAction) {
                    // ...except if the list explicitly contains the type name prefixed with a "-" character
                    // Example:
                    //    [ "*", "-Action.Execute", "-Action.Submit" ]
                    //    Meaning: all actions are disallowed except Action.Execute and Action.Submit
                    excludeAction = this.forbiddenActionTypes.indexOf("-" + actionType) < 0;
                }
            }
            if (!excludeAction) {
                var choice = new Adaptive.Choice(actionType, actionType);
                input.choices.push(choice);
            }
        }
        return input;
    };
    return ActionPropertyEditor;
}(SingleInputPropertyEditor));
exports.ActionPropertyEditor = ActionPropertyEditor;
var CompoundPropertyEditor = /** @class */ (function (_super) {
    __extends(CompoundPropertyEditor, _super);
    function CompoundPropertyEditor(targetVersion, propertyName, entries, initializeProperty) {
        if (entries === void 0) { entries = []; }
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.entries = entries;
        _this.initializeProperty = initializeProperty;
        return _this;
    }
    CompoundPropertyEditor.prototype.render = function (context) {
        var container = new Adaptive.Container();
        var target = context.target[this.propertyName];
        if (target === undefined && this.initializeProperty) {
            target = this.initializeProperty();
            context.target[this.propertyName] = target;
        }
        if (target) {
            for (var _i = 0, _a = this.entries; _i < _a.length; _i++) {
                var entry = _a[_i];
                if (Adaptive.isVersionLessOrEqual(entry.targetVersion, context.designContext.targetVersion)) {
                    container.addItem(entry.render(new PropertySheetContext(context.designContext, context.peer, target)));
                }
            }
        }
        return container;
    };
    return CompoundPropertyEditor;
}(PropertySheetEntry));
exports.CompoundPropertyEditor = CompoundPropertyEditor;
var EnumPropertyEditor = /** @class */ (function (_super) {
    __extends(EnumPropertyEditor, _super);
    function EnumPropertyEditor(targetVersion, propertyName, label, enumType, causesPropertySheetRefresh, isNullable) {
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        if (isNullable === void 0) { isNullable = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.enumType = enumType;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        _this.isNullable = isNullable;
        return _this;
    }
    EnumPropertyEditor.prototype.getPropertyValue = function (context) {
        var value = context.target[this.propertyName];
        return value !== undefined ? value : "-1";
    };
    EnumPropertyEditor.prototype.setPropertyValue = function (context, value) {
        var valueAsInt = parseInt(value, 10);
        if (valueAsInt >= 0) {
            context.target[this.propertyName] = valueAsInt;
        }
        else {
            context.target[this.propertyName] = undefined;
        }
    };
    EnumPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.ChoiceSetInput();
        input.isCompact = true;
        var defaultValue = this.getPropertyValue(context);
        input.defaultValue = defaultValue !== undefined ? defaultValue : "-1";
        if (this.isNullable) {
            input.choices.push(new Adaptive.Choice("(not set)", "-1"));
        }
        else {
            input.placeholder = "(not set)";
        }
        for (var key in this.enumType) {
            var v = parseInt(key, 10);
            if (!isNaN(v)) {
                input.choices.push(new Adaptive.Choice(this.enumType[key], key));
            }
        }
        return input;
    };
    return EnumPropertyEditor;
}(SingleInputPropertyEditor));
exports.EnumPropertyEditor = EnumPropertyEditor;
var NameValuePairPropertyEditor = /** @class */ (function (_super) {
    __extends(NameValuePairPropertyEditor, _super);
    function NameValuePairPropertyEditor(targetVersion, collectionPropertyName, namePropertyName, valuePropertyName, createCollectionItem, namePropertyLabel, valuePropertyLabel, addButtonTitle, messageIfEmpty) {
        if (namePropertyLabel === void 0) { namePropertyLabel = "Name"; }
        if (valuePropertyLabel === void 0) { valuePropertyLabel = "Value"; }
        if (addButtonTitle === void 0) { addButtonTitle = "Add"; }
        if (messageIfEmpty === void 0) { messageIfEmpty = "This collection is empty"; }
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.collectionPropertyName = collectionPropertyName;
        _this.namePropertyName = namePropertyName;
        _this.valuePropertyName = valuePropertyName;
        _this.createCollectionItem = createCollectionItem;
        _this.namePropertyLabel = namePropertyLabel;
        _this.valuePropertyLabel = valuePropertyLabel;
        _this.addButtonTitle = addButtonTitle;
        _this.messageIfEmpty = messageIfEmpty;
        return _this;
    }
    NameValuePairPropertyEditor.prototype.collectionChanged = function (context, nameValuePairs, refreshPropertySheet) {
        context.target[this.collectionPropertyName] = [];
        for (var _i = 0, nameValuePairs_1 = nameValuePairs; _i < nameValuePairs_1.length; _i++) {
            var nameValuePair = nameValuePairs_1[_i];
            var item = this.createCollectionItem(nameValuePair.name, nameValuePair.value);
            context.target[this.collectionPropertyName].push(item);
        }
        context.peer.changed(refreshPropertySheet);
    };
    NameValuePairPropertyEditor.prototype.render = function (context) {
        var _this = this;
        var result = new Adaptive.Container();
        var collection = context.target[this.collectionPropertyName];
        if (!Array.isArray(collection)) {
            throw new Error("The " + this.collectionPropertyName + " property on " + context.peer.getCardObject().getJsonTypeName() + " either doesn't exist or isn't an array.");
        }
        var nameValuePairs = [];
        for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {
            var pair = collection_1[_i];
            nameValuePairs.push({
                name: pair[this.namePropertyName],
                value: pair[this.valuePropertyName]
            });
        }
        if (nameValuePairs.length == 0) {
            var messageTextBlock = new Adaptive.TextBlock();
            messageTextBlock.spacing = Adaptive.Spacing.Small;
            messageTextBlock.text = this.messageIfEmpty;
            result.addItem(messageTextBlock);
        }
        else {
            var _loop_2 = function (i) {
                var textInput = new Adaptive.TextInput();
                textInput.placeholder = this_1.namePropertyLabel;
                textInput.defaultValue = nameValuePairs[i].name;
                textInput.onValueChanged = function (sender) {
                    nameValuePairs[i].name = sender.value;
                    _this.collectionChanged(context, nameValuePairs, false);
                };
                var nameColumn = new Adaptive.Column("stretch");
                nameColumn.addItem(textInput);
                textInput = new Adaptive.TextInput();
                textInput.placeholder = this_1.valuePropertyLabel;
                textInput.defaultValue = nameValuePairs[i].value;
                textInput.onValueChanged = function (sender) {
                    nameValuePairs[i].value = sender.value;
                    _this.collectionChanged(context, nameValuePairs, false);
                };
                var valueColumn = new Adaptive.Column("stretch");
                valueColumn.spacing = Adaptive.Spacing.Small;
                valueColumn.addItem(textInput);
                var removeAction = new Adaptive.SubmitAction();
                removeAction.iconUrl = __webpack_require__(/*! ./assets/xmark.svg */ "./src/assets/xmark.svg");
                removeAction.tooltip = "Remove";
                removeAction.onExecute = function (sender) {
                    nameValuePairs.splice(i, 1);
                    _this.collectionChanged(context, nameValuePairs, true);
                };
                var actionSet_1 = new Adaptive.ActionSet();
                actionSet_1.addAction(removeAction);
                var removeColumn = new Adaptive.Column("auto");
                removeColumn.spacing = Adaptive.Spacing.Small;
                removeColumn.addItem(actionSet_1);
                var columnSet = new Adaptive.ColumnSet();
                columnSet.spacing = Adaptive.Spacing.Small;
                columnSet.addColumn(nameColumn);
                columnSet.addColumn(valueColumn);
                columnSet.addColumn(removeColumn);
                result.addItem(columnSet);
            };
            var this_1 = this;
            for (var i = 0; i < nameValuePairs.length; i++) {
                _loop_2(i);
            }
        }
        var addAction = new Adaptive.SubmitAction();
        addAction.title = this.addButtonTitle;
        addAction.onExecute = function (sender) {
            nameValuePairs.push({ name: "", value: "" });
            _this.collectionChanged(context, nameValuePairs, true);
        };
        var actionSet = new Adaptive.ActionSet();
        actionSet.spacing = Adaptive.Spacing.Small;
        actionSet.addAction(addAction);
        result.addItem(actionSet);
        return result;
    };
    return NameValuePairPropertyEditor;
}(PropertySheetEntry));
var InnerStructPropertyEditor = /** @class */ (function (_super) {
    __extends(InnerStructPropertyEditor, _super);
    function InnerStructPropertyEditor(targetVersion, collectionPropertyName, innerPropertiesDefaults, createCollectionItem, addButtonTitle, messageIfEmpty) {
        if (addButtonTitle === void 0) { addButtonTitle = "Add"; }
        if (messageIfEmpty === void 0) { messageIfEmpty = "This collection is empty"; }
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.collectionPropertyName = collectionPropertyName;
        _this.innerPropertiesDefaults = innerPropertiesDefaults;
        _this.createCollectionItem = createCollectionItem;
        _this.addButtonTitle = addButtonTitle;
        _this.messageIfEmpty = messageIfEmpty;
        return _this;
    }
    InnerStructPropertyEditor.prototype.collectionChanged = function (context, innerPropertiesList, refreshPropertySheet) {
        var _a;
        var _this = this;
        context.target[this.collectionPropertyName] = [];
        var collectionItems = innerPropertiesList.map(function (e) { return _this.createCollectionItem(e); });
        (_a = context.target[this.collectionPropertyName]).push.apply(_a, collectionItems);
        context.peer.changed(refreshPropertySheet);
    };
    InnerStructPropertyEditor.prototype.render = function (context) {
        var _this = this;
        var result = new Adaptive.Container();
        var collection = context.target[this.collectionPropertyName];
        if (!Array.isArray(collection)) {
            throw new Error("The " + this.collectionPropertyName + " property on " + context.peer.getCardObject().getJsonTypeName() + " either doesn't exist or isn't an array.");
        }
        var innerPropertiesList = [];
        var _loop_3 = function (innerProperties) {
            newItem = {};
            Object.keys(this_2.innerPropertiesDefaults).forEach(function (key) { return newItem[key] = { name: _this.innerPropertiesDefaults[key].name, value: innerProperties[key] }; });
            innerPropertiesList.push(newItem);
        };
        var this_2 = this, newItem;
        for (var _i = 0, collection_2 = collection; _i < collection_2.length; _i++) {
            var innerProperties = collection_2[_i];
            _loop_3(innerProperties);
        }
        if (innerPropertiesList.length == 0) {
            var messageTextBlock = new Adaptive.TextBlock();
            messageTextBlock.spacing = Adaptive.Spacing.Small;
            messageTextBlock.text = this.messageIfEmpty;
            result.addItem(messageTextBlock);
        }
        else {
            var _loop_4 = function (i) {
                var columnSet = new Adaptive.ColumnSet();
                columnSet.spacing = Adaptive.Spacing.Medium;
                columnSet.separator = true;
                var newColumn = new Adaptive.Column("stretch");
                Object.keys(innerPropertiesList[i]).forEach(function (key) {
                    var textInput = new Adaptive.TextInput();
                    textInput.defaultValue = innerPropertiesList[i][key].value;
                    textInput.placeholder = innerPropertiesList[i][key].name;
                    textInput.label = innerPropertiesList[i][key].name;
                    textInput.onValueChanged = function (sender) {
                        innerPropertiesList[i][key].value = sender.value;
                        _this.collectionChanged(context, innerPropertiesList, false);
                    };
                    textInput.spacing = Adaptive.Spacing.Small;
                    newColumn.addItem(textInput);
                });
                columnSet.addColumn(newColumn);
                var removeAction = new Adaptive.SubmitAction();
                removeAction.title = "X";
                removeAction.tooltip = "Remove";
                removeAction.onExecute = function (sender) {
                    innerPropertiesList.splice(i, 1);
                    _this.collectionChanged(context, innerPropertiesList, true);
                };
                var actionSet_2 = new Adaptive.ActionSet();
                actionSet_2.addAction(removeAction);
                var removeColumn = new Adaptive.Column("auto");
                removeColumn.spacing = Adaptive.Spacing.Small;
                removeColumn.verticalContentAlignment = Adaptive.VerticalAlignment.Center;
                removeColumn.addItem(actionSet_2);
                columnSet.addColumn(removeColumn);
                result.addItem(columnSet);
            };
            for (var i = 0; i < innerPropertiesList.length; i++) {
                _loop_4(i);
            }
        }
        var addAction = new Adaptive.SubmitAction();
        addAction.title = this.addButtonTitle;
        addAction.onExecute = function (sender) {
            innerPropertiesList.push(__assign({}, _this.innerPropertiesDefaults));
            _this.collectionChanged(context, innerPropertiesList, true);
        };
        var actionSet = new Adaptive.ActionSet();
        actionSet.spacing = Adaptive.Spacing.Small;
        actionSet.addAction(addAction);
        result.addItem(actionSet);
        return result;
    };
    return InnerStructPropertyEditor;
}(PropertySheetEntry));
var DesignerPeer = /** @class */ (function (_super) {
    __extends(DesignerPeer, _super);
    function DesignerPeer(parent, designerSurface, registration, cardObject) {
        var _this = _super.call(this) || this;
        _this._children = [];
        _this._isSelected = false;
        _this._inplaceEditor = null;
        _this._insertAfterNeighbor = false;
        _this._parentCarouselPagePeer = undefined;
        _this._parent = parent;
        _this.registration = registration;
        _this.designerSurface = designerSurface;
        _this._cardObject = cardObject;
        _this.treeItem = new designer_peer_treeitem_1.DesignerPeerTreeItem(_this, _this.isTreeItemExpandedByDefault);
        return _this;
    }
    DesignerPeer.prototype.closeInplaceEditor = function (applyChanges) {
        if (this._inplaceEditor) {
            if (applyChanges) {
                this._inplaceEditor.applyChanges();
                this.changed(true);
            }
            this._inplaceEditor = null;
            this._inplaceEditorOverlay.parentNode.removeChild(this._inplaceEditorOverlay);
        }
    };
    DesignerPeer.prototype.tryOpenInplaceEditor = function () {
        var _this = this;
        this._inplaceEditor = this.createInplaceEditor();
        if (this._inplaceEditor) {
            this._inplaceEditor.onClose = function (applyChanges) {
                _this.closeInplaceEditor(applyChanges);
            };
            this._inplaceEditorOverlay = document.createElement("div");
            this._inplaceEditorOverlay.tabIndex = 0;
            this._inplaceEditorOverlay.style.zIndex = "600";
            this._inplaceEditorOverlay.style.backgroundColor = "transparent";
            this._inplaceEditorOverlay.style.position = "absolute";
            this._inplaceEditorOverlay.style.left = "0";
            this._inplaceEditorOverlay.style.top = "0";
            this._inplaceEditorOverlay.style.width = document.documentElement.scrollWidth + "px";
            this._inplaceEditorOverlay.style.height = document.documentElement.scrollHeight + "px";
            this._inplaceEditorOverlay.onfocus = function (e) { _this.closeInplaceEditor(true); };
            var cardObjectBoundingRect = this.getCardObjectBoundingRect();
            var peerBoundingRect = this.getBoundingRect();
            var topPadding = peerBoundingRect.height - cardObjectBoundingRect.height;
            var inplaceEditorHost = document.createElement("div");
            inplaceEditorHost.className = "acd-inplace-editor-host";
            inplaceEditorHost.style.left = Math.floor(cardObjectBoundingRect.left + pageXOffset) + "px";
            inplaceEditorHost.style.top = Math.floor(cardObjectBoundingRect.top + pageYOffset - topPadding) + "px";
            inplaceEditorHost.style.width = Math.ceil(peerBoundingRect.width) + "px";
            inplaceEditorHost.style.height = Math.ceil(peerBoundingRect.height) + "px";
            inplaceEditorHost.style.paddingTop = topPadding + "px";
            var renderedInplaceEditor = this._inplaceEditor.render();
            renderedInplaceEditor.classList.add("acd-inplace-editor");
            renderedInplaceEditor.tabIndex = 0;
            renderedInplaceEditor.onblur = function (e) { _this.closeInplaceEditor(true); };
            inplaceEditorHost.appendChild(renderedInplaceEditor);
            this._inplaceEditorOverlay.appendChild(inplaceEditorHost);
            document.body.appendChild(this._inplaceEditorOverlay);
            this._inplaceEditor.initialize();
            return true;
        }
        return false;
    };
    DesignerPeer.prototype.click = function (e) {
        _super.prototype.click.call(this, e);
        this.isSelected = true;
    };
    DesignerPeer.prototype.doubleClick = function (e) {
        _super.prototype.doubleClick.call(this, e);
        this.tryOpenInplaceEditor();
    };
    DesignerPeer.prototype.isContainer = function () {
        return false;
    };
    DesignerPeer.prototype.getToolTip = function () {
        return null;
    };
    DesignerPeer.prototype.internalAddCommands = function (context, commands) {
        // Do nothing in base implementation
    };
    DesignerPeer.prototype.internalRender = function () {
        var _this = this;
        var element = document.createElement("div");
        element.classList.add("acd-peer");
        element.tabIndex = 0;
        element.onfocus = function (e) {
            _this.isSelected = true;
        };
        var toolTip = this.getToolTip();
        if (toolTip) {
            element.title = toolTip;
        }
        if (this.isContainer()) {
            element.classList.add("container");
        }
        element.style.position = "absolute";
        // Issue: I believe this stops us from interacting with the elements - this could be okay since it shouldn't be an issue in preview mode
        // Ensure that the peer is in front of the card
        element.style.zIndex = "10";
        return element;
    };
    DesignerPeer.prototype.internalUpdateCssStyles = function () {
        if (this.isSelected) {
            this.renderedElement.classList.add("selected");
        }
        else {
            this.renderedElement.classList.remove("selected");
        }
        if (this.dragging) {
            this.renderedElement.classList.add("dragging");
        }
        else {
            this.renderedElement.classList.remove("dragging");
        }
    };
    DesignerPeer.prototype.peerAdded = function (newPeer) {
        this.changed(false);
        if (this.onPeerAdded) {
            this.onPeerAdded(this, newPeer);
        }
    };
    DesignerPeer.prototype.peerRemoved = function (peer) {
        if (this.onPeerRemoved) {
            this.onPeerRemoved(peer);
        }
    };
    DesignerPeer.prototype.internalUpdateLayout = function () {
        if (this.renderedElement) {
            var clientRect = this.getBoundingRect();
            this.renderedElement.style.width = clientRect.width + "px";
            this.renderedElement.style.height = clientRect.height + "px";
            this.renderedElement.style.left = clientRect.left + "px";
            this.renderedElement.style.top = clientRect.top + "px";
        }
    };
    DesignerPeer.prototype.createInplaceEditor = function () {
        return null;
    };
    DesignerPeer.prototype.internalGetTreeItemText = function () {
        return null;
    };
    DesignerPeer.prototype.getCardObject = function () {
        return this._cardObject;
    };
    DesignerPeer.prototype.updateChildren = function () {
        for (var i = 0; i < this.getChildCount(); i++) {
            this.getChildAt(i).updateChildren();
        }
    };
    DesignerPeer.prototype.changed = function (updatePropertySheet) {
        if (this.onChanged) {
            this.onChanged(this, updatePropertySheet);
        }
    };
    DesignerPeer.prototype.getTreeItemText = function () {
        return this.internalGetTreeItemText();
    };
    DesignerPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        // Do nothing in base implementation
    };
    DesignerPeer.prototype.canDrop = function (peer) {
        return false;
    };
    DesignerPeer.prototype.canBeRemoved = function () {
        return true;
    };
    DesignerPeer.prototype.tryDrop = function (peer, insertionPoint) {
        return false;
    };
    DesignerPeer.prototype.tryAdd = function (peer) {
        return false;
    };
    DesignerPeer.prototype.insertChild = function (peer, index) {
        if (index === void 0) { index = -1; }
        if (index == -1) {
            this._children.push(peer);
        }
        else {
            this._children.splice(index, 0, peer);
        }
        peer.parent = this;
        this.peerAdded(peer);
    };
    DesignerPeer.prototype.removeChild = function (peer) {
        var index = this._children.indexOf(peer);
        if (index >= 0) {
            peer.parent = null;
            this._children.splice(index, 1);
        }
    };
    DesignerPeer.prototype.getChildCount = function () {
        return this._children.length;
    };
    DesignerPeer.prototype.getChildAt = function (index) {
        return this._children[index];
    };
    DesignerPeer.prototype.getCommands = function (context, promoteParentCommands) {
        if (promoteParentCommands === void 0) { promoteParentCommands = false; }
        var result = [];
        this.internalAddCommands(context, result);
        if (promoteParentCommands && this.parent) {
            var parentCommands = this.parent.getCommands(context);
            for (var _i = 0, parentCommands_1 = parentCommands; _i < parentCommands_1.length; _i++) {
                var command = parentCommands_1[_i];
                if (command.isPromotable) {
                    result.push(command);
                }
            }
        }
        return result;
    };
    DesignerPeer.prototype.remove = function (onlyFromCard, removeChildren) {
        if (removeChildren) {
            while (this._children.length > 0) {
                this._children[0].remove(onlyFromCard, removeChildren);
            }
        }
        var result = this.internalRemove();
        if (result && !onlyFromCard) {
            if (this.parent) {
                this.parent.removeChild(this);
            }
            this.removeElementsFromDesignerSurface();
            this.peerRemoved(this);
        }
        return result;
    };
    DesignerPeer.prototype.addElementsToDesignerSurface = function (designerSurface, neighbor) {
        if (neighbor === void 0) { neighbor = undefined; }
        if (this.renderedElement) {
            if (neighbor) {
                // Adds the rendered element after its neighbor
                neighbor.after(this.renderedElement);
                if (this.getChildCount() >= 0) {
                    neighbor = this.renderedElement;
                    for (var i = 0; i < this.getChildCount(); i++) {
                        // We need to update the neighbor with the most recently added element
                        neighbor = this.getChildAt(i).addElementsToDesignerSurface(designerSurface, neighbor);
                    }
                }
            }
            else {
                // The first time we render the card, we can append the elements in order
                designerSurface.appendChild(this.renderedElement);
            }
        }
        return neighbor;
    };
    DesignerPeer.prototype.removeElementsFromDesignerSurface = function (processChildren) {
        if (processChildren === void 0) { processChildren = false; }
        this.renderedElement.parentNode.removeChild(this.renderedElement);
        if (processChildren) {
            for (var i = 0; i < this.getChildCount(); i++) {
                this.getChildAt(i).removeElementsFromDesignerSurface(processChildren);
            }
        }
    };
    DesignerPeer.prototype.buildPropertySheetCard = function (context) {
        var card = new Adaptive.AdaptiveCard();
        card.padding = new Adaptive.PaddingDefinition(Adaptive.Spacing.Small, Adaptive.Spacing.Small, Adaptive.Spacing.Small, Adaptive.Spacing.Small);
        var propertySheet = new PropertySheet();
        this.populatePropertySheet(propertySheet);
        if (DesignerPeer.onPopulatePropertySheet) {
            DesignerPeer.onPopulatePropertySheet(this, propertySheet);
        }
        propertySheet.render(card, new PropertySheetContext(context, this));
        var actionSet = new Adaptive.ActionSet();
        var commands = this.getCommands(context, true);
        var _loop_5 = function (command) {
            if (command.showInPropertySheet) {
                var action_1 = new Adaptive.SubmitAction();
                action_1.title = command.name;
                action_1.onExecute = function (sender) {
                    command.execute(command, action_1.renderedElement);
                };
                actionSet.addAction(action_1);
            }
        };
        for (var _i = 0, commands_1 = commands; _i < commands_1.length; _i++) {
            var command = commands_1[_i];
            _loop_5(command);
        }
        actionSet.separator = true;
        card.addItem(actionSet);
        return card;
    };
    DesignerPeer.prototype.scrollIntoView = function () {
        if (this.renderedElement) {
            this.renderedElement.scrollIntoView();
        }
        if (this.treeItem && this.treeItem.renderedElement) {
            this.treeItem.renderedElement.scrollIntoView();
        }
    };
    DesignerPeer.prototype.updateParentCarouselPagePeer = function (value) {
        // If the value has changed, we should update it and the current peer's children
        if (value !== this._parentCarouselPagePeer) {
            this._parentCarouselPagePeer = value;
            for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
                var child = _a[_i];
                child.updateParentCarouselPagePeer(this._parentCarouselPagePeer);
            }
        }
    };
    Object.defineProperty(DesignerPeer.prototype, "isTreeItemExpandedByDefault", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DesignerPeer.prototype, "parent", {
        get: function () {
            return this._parent;
        },
        set: function (value) {
            var _a;
            this._parent = value;
            this.updateParentCarouselPagePeer(this._parent instanceof CarouselPagePeer ? this._parent : (_a = this._parent) === null || _a === void 0 ? void 0 : _a._parentCarouselPagePeer);
            if (this.onParentChanged) {
                this.onParentChanged(this);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DesignerPeer.prototype, "isSelected", {
        get: function () {
            return this._isSelected;
        },
        set: function (value) {
            if (value != this._isSelected) {
                this._isSelected = value;
                this.updateLayout();
                this.treeItem.isSelected = this._isSelected;
                if (this.onSelectedChanged) {
                    this.onSelectedChanged(this);
                }
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DesignerPeer.prototype, "insertAfterNeighbor", {
        get: function () {
            return this._insertAfterNeighbor;
        },
        set: function (insertAfterNeighbor) {
            this._insertAfterNeighbor = insertAfterNeighbor;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DesignerPeer.prototype, "children", {
        get: function () {
            return this._children;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DesignerPeer.prototype, "parentCarouselPagePeer", {
        get: function () {
            return this._parentCarouselPagePeer;
        },
        enumerable: false,
        configurable: true
    });
    DesignerPeer.idProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "id", "Id");
    return DesignerPeer;
}(draggable_element_1.DraggableElement));
exports.DesignerPeer = DesignerPeer;
var ActionPeer = /** @class */ (function (_super) {
    __extends(ActionPeer, _super);
    function ActionPeer(parent, designerSurface, registration, action) {
        return _super.call(this, parent, designerSurface, registration, action) || this;
    }
    ActionPeer.prototype.doubleClick = function (e) {
        _super.prototype.doubleClick.call(this, e);
        this.action.renderedElement.click();
    };
    ActionPeer.prototype.internalRemove = function () {
        return this.action.remove();
    };
    ActionPeer.prototype.internalGetTreeItemText = function () {
        if (this.action.title && this.action.title != "") {
            return this.action.title;
        }
        else {
            return _super.prototype.internalGetTreeItemText.call(this);
        }
    };
    ActionPeer.prototype.internalUpdateLayout = function () {
        if (this.action.renderedElement) {
            _super.prototype.internalUpdateLayout.call(this);
        }
    };
    ActionPeer.prototype.isDraggable = function () {
        return false;
    };
    ActionPeer.prototype.getBoundingRect = function () {
        var designSurfaceOffset = this.designerSurface.getDesignerSurfaceOffset();
        var actionBoundingRect = this.action.renderedElement.getBoundingClientRect();
        return new miscellaneous_1.Rect(actionBoundingRect.top - designSurfaceOffset.y, actionBoundingRect.right - designSurfaceOffset.x, actionBoundingRect.bottom - designSurfaceOffset.y, actionBoundingRect.left - designSurfaceOffset.x);
    };
    ActionPeer.prototype.getCardObjectBoundingRect = function () {
        var actionBoundingRect = this.action.renderedElement.getBoundingClientRect();
        return new miscellaneous_1.Rect(actionBoundingRect.top, actionBoundingRect.right, actionBoundingRect.bottom, actionBoundingRect.left);
    };
    ActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ActionPeer.idProperty, ActionPeer.isEnabledProperty, ActionPeer.titleProperty, ActionPeer.tooltipProperty, ActionPeer.modeProperty, ActionPeer.styleProperty, ActionPeer.iconUrlProperty);
    };
    Object.defineProperty(ActionPeer.prototype, "action", {
        get: function () {
            return this.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    var _a, _b, _c, _d, _e;
    ActionPeer.titleProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "title", "Title", true);
    ActionPeer.modeProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_5, "mode", "Mode", [
        { targetVersion: Adaptive.Versions.v1_5, name: "Primary", value: (_a = Adaptive.ActionMode) === null || _a === void 0 ? void 0 : _a.Primary },
        { targetVersion: Adaptive.Versions.v1_5, name: "Secondary", value: (_b = Adaptive.ActionMode) === null || _b === void 0 ? void 0 : _b.Secondary }
    ]);
    ActionPeer.styleProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_2, "style", "Style", [
        { targetVersion: Adaptive.Versions.v1_2, name: "Default", value: (_c = Adaptive.ActionStyle) === null || _c === void 0 ? void 0 : _c.Default },
        { targetVersion: Adaptive.Versions.v1_2, name: "Positive", value: (_d = Adaptive.ActionStyle) === null || _d === void 0 ? void 0 : _d.Positive },
        { targetVersion: Adaptive.Versions.v1_2, name: "Destructive", value: (_e = Adaptive.ActionStyle) === null || _e === void 0 ? void 0 : _e.Destructive }
    ]);
    ActionPeer.iconUrlProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "iconUrl", "Icon URL");
    ActionPeer.tooltipProperty = new StringPropertyEditor(Adaptive.Versions.v1_5, "tooltip", "Tooltip");
    ActionPeer.isEnabledProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_5, "isEnabled", "Enabled");
    return ActionPeer;
}(DesignerPeer));
exports.ActionPeer = ActionPeer;
var TypedActionPeer = /** @class */ (function (_super) {
    __extends(TypedActionPeer, _super);
    function TypedActionPeer(parent, designerSurface, registration, action) {
        return _super.call(this, parent, designerSurface, registration, action) || this;
    }
    Object.defineProperty(TypedActionPeer.prototype, "action", {
        get: function () {
            return this.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    return TypedActionPeer;
}(ActionPeer));
exports.TypedActionPeer = TypedActionPeer;
var HttpActionPeer = /** @class */ (function (_super) {
    __extends(HttpActionPeer, _super);
    function HttpActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HttpActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(PropertySheetCategory.DefaultCategory, HttpActionPeer.ignoreInputValidationProperty);
        propertySheet.add(defaultCategory, HttpActionPeer.methodProperty, HttpActionPeer.urlProperty);
        if (this.action.method == "POST") {
            propertySheet.add(defaultCategory, HttpActionPeer.bodyProperty);
        }
        propertySheet.add("HTTP headers", HttpActionPeer.headersProperty);
    };
    HttpActionPeer.ignoreInputValidationProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_3, "ignoreInputValidation", "Ignore input validation");
    HttpActionPeer.methodProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_0, "method", "Method", [
        { targetVersion: Adaptive.Versions.v1_0, name: "GET", value: "GET" },
        { targetVersion: Adaptive.Versions.v1_0, name: "POST", value: "POST" }
    ], true);
    HttpActionPeer.urlProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "url", "Url");
    HttpActionPeer.bodyProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "body", "Body", false, true);
    HttpActionPeer.headersProperty = new NameValuePairPropertyEditor(Adaptive.Versions.v1_0, "headers", "name", "value", function (name, value) { return new Adaptive.HttpHeader(name, value); }, "Name", "Value", "Add a new header", "This action has no header.");
    return HttpActionPeer;
}(TypedActionPeer));
exports.HttpActionPeer = HttpActionPeer;
var BaseSubmitActionPeer = /** @class */ (function (_super) {
    __extends(BaseSubmitActionPeer, _super);
    function BaseSubmitActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BaseSubmitActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, BaseSubmitActionPeer.dataProperty, BaseSubmitActionPeer.associatedInputsProperty, BaseSubmitActionPeer.disabledUnlessAssociatedInputsChangeProperty);
    };
    BaseSubmitActionPeer.dataProperty = new ObjectPropertyEditor(Adaptive.Versions.v1_0, "data", "Data");
    BaseSubmitActionPeer.associatedInputsProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_3, "associatedInputs", "Associated inputs", [
        { targetVersion: Adaptive.Versions.v1_3, name: "Automatic", value: "auto" },
        { targetVersion: Adaptive.Versions.v1_3, name: "None", value: "none" }
    ]);
    BaseSubmitActionPeer.disabledUnlessAssociatedInputsChangeProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_6, "disabledUnlessAssociatedInputsChange", "Only enable when associated inputs change");
    return BaseSubmitActionPeer;
}(TypedActionPeer));
exports.BaseSubmitActionPeer = BaseSubmitActionPeer;
var SubmitActionPeer = /** @class */ (function (_super) {
    __extends(SubmitActionPeer, _super);
    function SubmitActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return SubmitActionPeer;
}(BaseSubmitActionPeer));
exports.SubmitActionPeer = SubmitActionPeer;
var ExecuteActionPeer = /** @class */ (function (_super) {
    __extends(ExecuteActionPeer, _super);
    function ExecuteActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ExecuteActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ExecuteActionPeer.verbProperty);
    };
    ExecuteActionPeer.verbProperty = new StringPropertyEditor(Adaptive.Versions.v1_4, "verb", "Verb");
    return ExecuteActionPeer;
}(BaseSubmitActionPeer));
exports.ExecuteActionPeer = ExecuteActionPeer;
var OpenUrlActionPeer = /** @class */ (function (_super) {
    __extends(OpenUrlActionPeer, _super);
    function OpenUrlActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OpenUrlActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, OpenUrlActionPeer.urlProperty);
    };
    OpenUrlActionPeer.urlProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "url", "Url");
    return OpenUrlActionPeer;
}(TypedActionPeer));
exports.OpenUrlActionPeer = OpenUrlActionPeer;
var ShowCardActionPeer = /** @class */ (function (_super) {
    __extends(ShowCardActionPeer, _super);
    function ShowCardActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ShowCardActionPeer.prototype.getToolTip = function () {
        return "Double click to open/close";
    };
    return ShowCardActionPeer;
}(TypedActionPeer));
exports.ShowCardActionPeer = ShowCardActionPeer;
var ToggleVisibilityActionPeer = /** @class */ (function (_super) {
    __extends(ToggleVisibilityActionPeer, _super);
    function ToggleVisibilityActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return ToggleVisibilityActionPeer;
}(TypedActionPeer));
exports.ToggleVisibilityActionPeer = ToggleVisibilityActionPeer;
var CardElementPeer = /** @class */ (function (_super) {
    __extends(CardElementPeer, _super);
    function CardElementPeer(parent, designerSurface, registration, cardElement, initializeCardElement) {
        var _this = _super.call(this, parent, designerSurface, registration, cardElement) || this;
        if (initializeCardElement === true) {
            _this.initializeCardElement();
        }
        _this.updateChildren();
        return _this;
    }
    CardElementPeer.prototype.insertElementAfter = function (newElement) {
        if (this.cardElement.parent instanceof Adaptive.Container) {
            this.cardElement.parent.insertItemAfter(newElement, this.cardElement);
            var newPeer = card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(this.designerSurface, this, newElement);
            this.peerAdded(newPeer);
        }
    };
    CardElementPeer.prototype.internalRemove = function () {
        return this.cardElement.remove();
    };
    CardElementPeer.prototype.internalUpdateCssStyles = function () {
        _super.prototype.internalUpdateCssStyles.call(this);
        if (this.cardElement.isVisible) {
            this.renderedElement.classList.remove("invisible");
        }
        else {
            this.renderedElement.classList.add("invisible");
        }
    };
    CardElementPeer.prototype.findCardElementChild = function (element) {
        for (var i = 0; i < this.getChildCount(); i++) {
            var peer = this.getChildAt(i);
            if (peer instanceof CardElementPeer && peer.cardElement === element) {
                return peer;
            }
        }
        return undefined;
    };
    CardElementPeer.prototype.findActionChild = function (action) {
        for (var i = 0; i < this.getChildCount(); i++) {
            var peer = this.getChildAt(i);
            if (peer instanceof ActionPeer && peer.action === action) {
                return peer;
            }
        }
        return undefined;
    };
    CardElementPeer.prototype.updateChildren = function (initializeCardElement) {
        // Remove all peers from the designer surface
        for (var i = 0; i < this.getChildCount(); i++) {
            var existingPeer = this.getChildAt(i);
            if (existingPeer instanceof CardElementPeer && this.cardElement.indexOf(existingPeer.cardElement) < 0) {
                this.removeChild(existingPeer);
            }
            if (existingPeer instanceof ActionPeer && this.cardElement.indexOfAction(existingPeer.action) < 0) {
                this.removeChild(existingPeer);
            }
        }
        var itemCount = 0;
        if (this.cardElement instanceof Adaptive.CardElementContainer) {
            itemCount = this.cardElement.getItemCount();
            for (var i = 0; i < itemCount; i++) {
                var existingPeer = this.findCardElementChild(this.cardElement.getItemAt(i));
                if (!existingPeer) {
                    var peer = card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(this.designerSurface, this, this.cardElement.getItemAt(i), initializeCardElement);
                    this.insertChild(peer, i);
                }
            }
        }
        for (var i = 0; i < this.cardElement.getActionCount(); i++) {
            var existingPeer = this.findActionChild(this.cardElement.getActionAt(i));
            if (!existingPeer) {
                this.insertChild(card_designer_surface_1.CardDesignerSurface.actionPeerRegistry.createPeerInstance(this.designerSurface, this, this.cardElement.getActionAt(i)), itemCount + i);
            }
        }
        _super.prototype.updateChildren.call(this);
    };
    CardElementPeer.prototype.getTreeItemText = function () {
        var text = _super.prototype.getTreeItemText.call(this);
        if (this.cardElement.isVisible) {
            return text;
        }
        else {
            var result = "Hidden";
            if (text) {
                result += " - " + text;
            }
            return result;
        }
    };
    CardElementPeer.prototype.initializeCardElement = function () {
        // Do nothing in base implementation
    };
    CardElementPeer.prototype.canDrop = function (peer) {
        var parent = this.parent;
        var parentCanContainElement = true;
        while (parent) {
            if (parent instanceof CarouselPagePeer) {
                parentCanContainElement = parent.canDrop(peer);
                break;
            }
            parent = parent.parent;
        }
        return this.cardElement instanceof Adaptive.Container && peer instanceof CardElementPeer && parentCanContainElement;
    };
    CardElementPeer.prototype.tryDrop = function (peer, insertionPoint) {
        // Even though Carousel is a Container, we do not want to be able to drop peers
        if (this.cardElement instanceof Adaptive.Container && peer instanceof CardElementPeer && !(this.cardElement instanceof Adaptive.Carousel)) {
            var targetChild = null;
            var insertAfter = void 0;
            for (var i = 0; i < this.getChildCount(); i++) {
                var rect = this.getChildAt(i).getBoundingRect();
                if (rect.isInside(insertionPoint)) {
                    targetChild = this.getChildAt(i);
                    insertAfter = (insertionPoint.y - rect.top) >= (rect.height / 2);
                    break;
                }
            }
            if (targetChild != peer) {
                if (peer.cardElement.parent) {
                    if (!peer.remove(true, false)) {
                        return false;
                    }
                    peer.parent.removeChild(peer);
                }
                if (!targetChild) {
                    var rect = this.getBoundingRect();
                    insertAfter = (insertionPoint.y - rect.top) >= (rect.height / 2);
                    if (this.cardElement.getItemCount() > 0 && insertAfter) {
                        this.cardElement.insertItemAfter(peer.cardElement, this.cardElement.getItemAt(this.cardElement.getItemCount() - 1));
                    }
                    else {
                        this.cardElement.insertItemAfter(peer.cardElement, null);
                    }
                }
                else {
                    if (insertAfter) {
                        this.cardElement.insertItemAfter(peer.cardElement, targetChild.cardElement);
                    }
                    else {
                        this.cardElement.insertItemBefore(peer.cardElement, targetChild.cardElement);
                    }
                }
                this.insertChild(peer, peer.cardElement.index);
                this.changed(false);
                return true;
            }
        }
        return false;
    };
    CardElementPeer.prototype.tryAdd = function (peer) {
        if (this.cardElement instanceof Adaptive.Container && peer instanceof CardElementPeer) {
            if (peer.cardElement.parent) {
                if (!peer.remove(true, false)) {
                    return false;
                }
                peer.parent.removeChild(peer);
            }
            this.cardElement.addItem(peer.cardElement);
            this.insertChild(peer, peer.cardElement.index);
            this.changed(false);
            return true;
        }
        return false;
    };
    CardElementPeer.prototype.getBoundingRect = function () {
        var _a;
        var designSurfaceOffset = this.designerSurface.getDesignerSurfaceOffset();
        var cardElementBoundingRect = this.cardElement.renderedElement.getBoundingClientRect();
        var returnRect = undefined;
        if (this.cardElement.hasVisibleSeparator) {
            var separatorBoundingRect = this.cardElement.separatorElement.getBoundingClientRect();
            returnRect = new miscellaneous_1.Rect(Math.min(separatorBoundingRect.top, cardElementBoundingRect.top) - designSurfaceOffset.y, Math.max(separatorBoundingRect.right, cardElementBoundingRect.right) - designSurfaceOffset.x, Math.max(separatorBoundingRect.bottom, cardElementBoundingRect.bottom) - designSurfaceOffset.y, Math.min(separatorBoundingRect.left, cardElementBoundingRect.left) - designSurfaceOffset.x);
        }
        else {
            returnRect = new miscellaneous_1.Rect(cardElementBoundingRect.top - designSurfaceOffset.y, cardElementBoundingRect.right - designSurfaceOffset.x, cardElementBoundingRect.bottom - designSurfaceOffset.y, cardElementBoundingRect.left - designSurfaceOffset.x);
        }
        // If we are displaying a carousel, we need to make sure that all of the child peers are in the correct location
        // First check if the peer has a parent that is a CarouselPagePeer and it is the visible page
        // Then see if the bounding rect needs to be adjusted
        if (((_a = this.parentCarouselPagePeer) === null || _a === void 0 ? void 0 : _a.isVisible()) && !this.parentCarouselPagePeer.peerInCorrectLocation({ x: returnRect.x, y: returnRect.y })) {
            returnRect.left = returnRect.left - this.parentCarouselPagePeer.pageOffset;
            returnRect.right = returnRect.right - this.parentCarouselPagePeer.pageOffset;
        }
        return returnRect;
    };
    CardElementPeer.prototype.getCardObjectBoundingRect = function () {
        var cardElementBoundingRect = this.cardElement.renderedElement.getBoundingClientRect();
        return new miscellaneous_1.Rect(cardElementBoundingRect.top, cardElementBoundingRect.right, cardElementBoundingRect.bottom, cardElementBoundingRect.left);
    };
    CardElementPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        if (shared_1.GlobalSettings.enableDataBindingSupport) {
            propertySheet.add(defaultCategory, CardElementPeer.dataContextProperty, CardElementPeer.whenProperty);
        }
        propertySheet.add(defaultCategory, CardElementPeer.idProperty, CardElementPeer.isVisibleProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, CardElementPeer.spacingProperty, CardElementPeer.separatorProperty, CardElementPeer.horizontalAlignmentProperty, CardElementPeer.heightProperty);
    };
    Object.defineProperty(CardElementPeer.prototype, "cardElement", {
        get: function () {
            return this.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    CardElementPeer.prototype.isVisible = function () {
        if (this.parent instanceof CardElementPeer) {
            return this.parent.isVisible();
        }
        return true;
    };
    CardElementPeer.prototype.bringCardElementIntoView = function () {
        return false;
    };
    CardElementPeer.dataContextProperty = new CustomCardObjectPropertyEditor("*", "$data", "Data context", true);
    CardElementPeer.whenProperty = new CustomCardObjectPropertyEditor("*", "$when", "Only show when", true);
    CardElementPeer.idProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "id", "Id");
    CardElementPeer.isVisibleProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_2, "isVisible", "Initially visible");
    CardElementPeer.spacingProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "spacing", "Spacing", Adaptive.Spacing);
    CardElementPeer.separatorProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_0, "separator", "Separator");
    CardElementPeer.horizontalAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "horizontalAlignment", "Horizontal alignment", Adaptive.HorizontalAlignment);
    CardElementPeer.heightProperty = new HeightPropertyEditor(Adaptive.Versions.v1_1, "height", "Height", [
        { targetVersion: Adaptive.Versions.v1_1, name: "Automatic", value: "auto" },
        { targetVersion: Adaptive.Versions.v1_1, name: "Stretch", value: "stretch" }
    ]);
    return CardElementPeer;
}(DesignerPeer));
exports.CardElementPeer = CardElementPeer;
var TypedCardElementPeer = /** @class */ (function (_super) {
    __extends(TypedCardElementPeer, _super);
    function TypedCardElementPeer(parent, designerSurface, registration, cardElement, initializeCardElement) {
        return _super.call(this, parent, designerSurface, registration, cardElement, initializeCardElement) || this;
    }
    Object.defineProperty(TypedCardElementPeer.prototype, "cardElement", {
        get: function () {
            return this.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    return TypedCardElementPeer;
}(CardElementPeer));
exports.TypedCardElementPeer = TypedCardElementPeer;
var AdaptiveCardPeer = /** @class */ (function (_super) {
    __extends(AdaptiveCardPeer, _super);
    function AdaptiveCardPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AdaptiveCardPeer.prototype.addAction = function (action) {
        this.cardElement.addAction(action);
        this.insertChild(card_designer_surface_1.CardDesignerSurface.actionPeerRegistry.createPeerInstance(this.designerSurface, this, action));
    };
    AdaptiveCardPeer.prototype.internalRemove = function () {
        return true;
    };
    AdaptiveCardPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        var availableActions = [];
        for (var i = 0; i < context.hostContainer.actionsRegistry.getItemCount(); i++) {
            var typeRegistration = context.hostContainer.actionsRegistry.getItemAt(i);
            if (typeRegistration.schemaVersion.compareTo(context.targetVersion) <= 0) {
                availableActions.push(typeRegistration);
            }
        }
        if (availableActions.length > 0) {
            commands.push(new peer_command_1.PeerCommand({
                name: "Add an action",
                alwaysShowName: true,
                iconClass: "acd-icon-bolt",
                showInPropertySheet: true,
                execute: function (command, clickedElement) {
                    var popupMenu = new Controls.PopupMenu();
                    var _loop_6 = function (i) {
                        var menuItem = new Controls.DropDownItem(i.toString(), availableActions[i].typeName);
                        menuItem.onClick = function (clickedItem) {
                            var registration = availableActions[i];
                            var action = new registration.objectType();
                            action.title = registration.typeName;
                            _this.addAction(action);
                            popupMenu.closePopup(false);
                        };
                        popupMenu.items.add(menuItem);
                    };
                    for (var i = 0; i < availableActions.length; i++) {
                        _loop_6(i);
                    }
                    popupMenu.popup(clickedElement);
                }
            }));
        }
    };
    AdaptiveCardPeer.prototype.isDraggable = function () {
        return false;
    };
    AdaptiveCardPeer.prototype.canBeRemoved = function () {
        return false;
    };
    AdaptiveCardPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.remove(DesignerPeer.idProperty, CardElementPeer.isVisibleProperty, CardElementPeer.horizontalAlignmentProperty, CardElementPeer.separatorProperty, CardElementPeer.heightProperty, CardElementPeer.spacingProperty);
        propertySheet.add(defaultCategory, AdaptiveCardPeer.langProperty, AdaptiveCardPeer.fallbackTextProperty, AdaptiveCardPeer.speakProperty);
        propertySheet.add(PropertySheetCategory.Refresh, AdaptiveCardPeer.refreshProperty);
        if (this.cardElement.refresh && this.cardElement.refresh.action) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_4, this, this.cardElement.refresh.action, PropertySheetCategory.Refresh, [BaseSubmitActionPeer.associatedInputsProperty, ActionPeer.iconUrlProperty, ActionPeer.styleProperty, ActionPeer.modeProperty]);
        }
        propertySheet.add(PropertySheetCategory.LayoutCategory, ContainerPeer.minHeightProperty, ContainerPeer.verticalContentAlignmentProperty, ContainerPeer.rtlProperty);
        propertySheet.add("Background image", ContainerPeer.backgroundImageProperty);
        propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
        if (this.cardElement.selectAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
        }
    };
    AdaptiveCardPeer.langProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "lang", "Language");
    AdaptiveCardPeer.fallbackTextProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "fallbackText", "Fallback text", false, true);
    AdaptiveCardPeer.speakProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "speak", "Speak");
    AdaptiveCardPeer.refreshProperty = new CompoundPropertyEditor(Adaptive.Versions.v1_4, "refresh", [
        new StringArrayPropertyEditor(Adaptive.Versions.v1_4, "userIds", "User IDs", false, true),
        new ActionPropertyEditor(Adaptive.Versions.v1_4, "action", "Action", ["*", "-Action.Execute"], true)
    ], function () { return new Adaptive.RefreshDefinition(); });
    return AdaptiveCardPeer;
}(TypedCardElementPeer));
exports.AdaptiveCardPeer = AdaptiveCardPeer;
var ColumnPeer = /** @class */ (function (_super) {
    __extends(ColumnPeer, _super);
    function ColumnPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ColumnPeer.prototype.isContainer = function () {
        return true;
    };
    ColumnPeer.prototype.internalGetTreeItemText = function () {
        if (this.cardElement.width instanceof Adaptive.SizeAndUnit) {
            switch (this.cardElement.width.unit) {
                case Adaptive.SizeUnit.Weight:
                    return "Weight: " + this.cardElement.width.physicalSize;
                default:
                    return this.cardElement.width.physicalSize + " pixels";
            }
        }
        else {
            switch (this.cardElement.width) {
                case "stretch":
                    return "Stretch";
                case "auto":
                    return "Automatic";
                default:
                    return "";
            }
        }
    };
    ColumnPeer.prototype.isDraggable = function () {
        return false;
    };
    ColumnPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(PropertySheetCategory.LayoutCategory, ColumnPeer.widthProperty);
        if (this.cardElement.width instanceof Adaptive.SizeAndUnit) {
            if (this.cardElement.width.unit == Adaptive.SizeUnit.Pixel) {
                propertySheet.add(PropertySheetCategory.LayoutCategory, ColumnPeer.pixelWidthProperty);
            }
            else {
                propertySheet.add(PropertySheetCategory.LayoutCategory, ColumnPeer.weightProperty);
            }
        }
        propertySheet.add(PropertySheetCategory.LayoutCategory, ContainerPeer.minHeightProperty, ContainerPeer.verticalContentAlignmentProperty, ContainerPeer.rtlProperty);
        propertySheet.add(PropertySheetCategory.StyleCategory, ContainerPeer.styleProperty, ContainerPeer.bleedProperty);
        propertySheet.add("Background image", ContainerPeer.backgroundImageProperty);
        propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
        if (this.cardElement.selectAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
        }
    };
    ColumnPeer.pixelWidthProperty = new SizeAndUnitPropertyEditor(Adaptive.Versions.v1_1, "width", "Width in pixels", Adaptive.SizeUnit.Pixel);
    ColumnPeer.weightProperty = new SizeAndUnitPropertyEditor(Adaptive.Versions.v1_0, "width", "Weight", Adaptive.SizeUnit.Weight);
    ColumnPeer.widthProperty = new ColumnWidthPropertyEditor(Adaptive.Versions.v1_0, "width", "Width", [
        { targetVersion: Adaptive.Versions.v1_0, name: "Automatic", value: "auto" },
        { targetVersion: Adaptive.Versions.v1_0, name: "Stretch", value: "stretch" },
        { targetVersion: Adaptive.Versions.v1_0, name: "Weighted", value: "weighted" },
        { targetVersion: Adaptive.Versions.v1_1, name: "Pixels", value: "pixels" }
    ], true);
    return ColumnPeer;
}(TypedCardElementPeer));
exports.ColumnPeer = ColumnPeer;
var ColumnSetPeer = /** @class */ (function (_super) {
    __extends(ColumnSetPeer, _super);
    function ColumnSetPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ColumnSetPeer.prototype.isContainer = function () {
        return true;
    };
    ColumnSetPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        commands.push(new peer_command_1.PeerCommand({
            name: "Add a column",
            iconClass: "acd-icon-addColumn",
            isPromotable: true,
            execute: function (command, clickedElement) {
                var column = new Adaptive.Column();
                column.width = "stretch";
                _this.cardElement.addColumn(column);
                var newPeer = card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(_this.designerSurface, _this, column);
                newPeer.insertAfterNeighbor = true;
                _this.insertChild(newPeer);
            }
        }));
    };
    ColumnSetPeer.prototype.internalGetTreeItemText = function () {
        var columnCount = this.cardElement.getItemCount();
        switch (columnCount) {
            case 0:
                return "No column";
            case 1:
                return "1 column";
            default:
                return columnCount + " columns";
        }
    };
    ColumnSetPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ContainerPeer.minHeightProperty, ContainerPeer.styleProperty, ContainerPeer.bleedProperty);
        propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
        if (this.cardElement.selectAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
        }
    };
    ColumnSetPeer.prototype.canDrop = function (peer) {
        return true;
    };
    return ColumnSetPeer;
}(TypedCardElementPeer));
exports.ColumnSetPeer = ColumnSetPeer;
var ContainerPeer = /** @class */ (function (_super) {
    __extends(ContainerPeer, _super);
    function ContainerPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ContainerPeer.prototype.isContainer = function () {
        return true;
    };
    ContainerPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(PropertySheetCategory.LayoutCategory, ContainerPeer.minHeightProperty, ContainerPeer.verticalContentAlignmentProperty, ContainerPeer.rtlProperty);
        propertySheet.add(PropertySheetCategory.StyleCategory, ContainerPeer.styleProperty, ContainerPeer.bleedProperty);
        propertySheet.add("Background image", ContainerPeer.backgroundImageProperty);
        propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
        if (this.cardElement.selectAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
        }
    };
    ContainerPeer.selectActionProperty = new ActionPropertyEditor(Adaptive.Versions.v1_1, "selectAction", "Action type", [Adaptive.ShowCardAction.JsonTypeName], true);
    ContainerPeer.minHeightProperty = new NumberPropertyEditor(Adaptive.Versions.v1_2, "minPixelHeight", "Minimum height in pixels");
    ContainerPeer.verticalContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_1, "verticalContentAlignment", "Vertical content alignment", Adaptive.VerticalAlignment);
    ContainerPeer.styleProperty = new ContainerStylePropertyEditor(Adaptive.Versions.v1_0, "style", "Style");
    ContainerPeer.bleedProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_2, "bleed", "Bleed");
    ContainerPeer.backgroundImageProperty = new CompoundPropertyEditor(Adaptive.Versions.v1_0, "backgroundImage", [
        new StringPropertyEditor(Adaptive.Versions.v1_0, "url", "URL", true),
        new EnumPropertyEditor(Adaptive.Versions.v1_2, "fillMode", "Fill mode", Adaptive.FillMode),
        new EnumPropertyEditor(Adaptive.Versions.v1_2, "horizontalAlignment", "Horizontal alignment", Adaptive.HorizontalAlignment),
        new EnumPropertyEditor(Adaptive.Versions.v1_2, "verticalAlignment", "Vertical alignment", Adaptive.VerticalAlignment)
    ]);
    ContainerPeer.rtlProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_5, "rtl", "Present right to left");
    return ContainerPeer;
}(TypedCardElementPeer));
exports.ContainerPeer = ContainerPeer;
var ActionSetPeer = /** @class */ (function (_super) {
    __extends(ActionSetPeer, _super);
    function ActionSetPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ActionSetPeer.prototype.addAction = function (action) {
        this.cardElement.addAction(action);
        var newPeer = card_designer_surface_1.CardDesignerSurface.actionPeerRegistry.createPeerInstance(this.designerSurface, this, action);
        newPeer.insertAfterNeighbor = true;
        this.insertChild(newPeer);
    };
    ActionSetPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        var availableActions = [];
        for (var i = 0; i < context.hostContainer.actionsRegistry.getItemCount(); i++) {
            var typeRegistration = context.hostContainer.actionsRegistry.getItemAt(i);
            if (typeRegistration.schemaVersion.compareTo(context.targetVersion) <= 0) {
                availableActions.push(typeRegistration);
            }
        }
        if (availableActions.length > 0) {
            commands.push(new peer_command_1.PeerCommand({
                name: "Add an action",
                alwaysShowName: true,
                iconClass: "acd-icon-bolt",
                showInPropertySheet: true,
                execute: function (command, clickedElement) {
                    var popupMenu = new Controls.PopupMenu();
                    var _loop_7 = function (i) {
                        var menuItem = new Controls.DropDownItem(i.toString(), availableActions[i].typeName);
                        menuItem.onClick = function (clickedItem) {
                            var registration = availableActions[i];
                            var action = new registration.objectType();
                            action.title = registration.typeName;
                            _this.addAction(action);
                            popupMenu.closePopup(false);
                        };
                        popupMenu.items.add(menuItem);
                    };
                    for (var i = 0; i < availableActions.length; i++) {
                        _loop_7(i);
                    }
                    popupMenu.popup(clickedElement);
                }
            }));
        }
    };
    return ActionSetPeer;
}(TypedCardElementPeer));
exports.ActionSetPeer = ActionSetPeer;
var ImageSetPeer = /** @class */ (function (_super) {
    __extends(ImageSetPeer, _super);
    function ImageSetPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ImageSetPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        commands.push(new peer_command_1.PeerCommand({
            name: "Add an image",
            iconClass: "acd-icon-image",
            isPromotable: true,
            execute: function (command, clickedElement) {
                var newImage = new Adaptive.Image();
                _this.cardElement.addImage(newImage);
                var newPeer = card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(_this.designerSurface, _this, newImage);
                newPeer.insertAfterNeighbor = true;
                _this.insertChild(newPeer);
            }
        }));
    };
    ImageSetPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ImageSetPeer.ImageSizeProperty);
    };
    ImageSetPeer.ImageSizeProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "imageSize", "Image size", Adaptive.ImageSize);
    return ImageSetPeer;
}(TypedCardElementPeer));
exports.ImageSetPeer = ImageSetPeer;
var ImagePeer = /** @class */ (function (_super) {
    __extends(ImagePeer, _super);
    function ImagePeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(ImagePeer.prototype, "isParentImageSet", {
        get: function () {
            return this.parent && this.parent instanceof ImageSetPeer;
        },
        enumerable: false,
        configurable: true
    });
    ImagePeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        if (shared_1.GlobalSettings.enableDataBindingSupport && context.dataStructure) {
            commands.push(new peer_command_1.PeerCommand({
                name: "Bind...",
                alwaysShowName: true,
                toolTip: "Select a data field to bind this Image to.",
                execute: function (command, clickedElement) {
                    var fieldPicker = new field_picker_1.FieldPicker(context.dataStructure);
                    fieldPicker.onClose = function (sender, wasCancelled) {
                        if (!wasCancelled) {
                            _this.cardElement.url = fieldPicker.selectedField.asExpression();
                            _this.changed(true);
                        }
                    };
                    fieldPicker.popup(clickedElement);
                }
            }));
        }
    };
    ImagePeer.prototype.isDraggable = function () {
        return !this.isParentImageSet;
    };
    ImagePeer.prototype.getBoundingRect = function () {
        var _a;
        if (this.isParentImageSet) {
            var designSurfaceOffset = this.designerSurface.getDesignerSurfaceOffset();
            var actionBoundingRect = this.cardElement.renderedElement.getBoundingClientRect();
            var returnRect = new miscellaneous_1.Rect(actionBoundingRect.top - designSurfaceOffset.y, actionBoundingRect.right - designSurfaceOffset.x, actionBoundingRect.bottom - designSurfaceOffset.y, actionBoundingRect.left - designSurfaceOffset.x);
            // If we are displaying a carousel, we need to make sure that all of the child peers are in the correct location
            // First check if the peer has a parent that is a CarouselPagePeer and it is the visible page
            // Then see if the bounding rect needs to be adjusted
            if (((_a = this.parentCarouselPagePeer) === null || _a === void 0 ? void 0 : _a.isVisible()) && !this.parentCarouselPagePeer.peerInCorrectLocation({ x: returnRect.right, y: returnRect.bottom })) {
                returnRect.left = returnRect.left - this.parentCarouselPagePeer.pageOffset;
                returnRect.right = returnRect.right - this.parentCarouselPagePeer.pageOffset;
            }
            return returnRect;
        }
        else {
            return _super.prototype.getBoundingRect.call(this);
        }
    };
    ImagePeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ImagePeer.urlProperty, ImagePeer.altTextProperty);
        if (!this.isParentImageSet) {
            propertySheet.add(PropertySheetCategory.LayoutCategory, ImagePeer.sizeProperty, ImagePeer.pixelWidthProperty, ImagePeer.pixelHeightProperty);
            propertySheet.add(PropertySheetCategory.StyleCategory, ImagePeer.styleProperty, ImagePeer.backgroundColorProperty);
            propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
            if (this.cardElement.selectAction) {
                propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
            }
        }
    };
    ImagePeer.urlProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "url", "Url", true);
    ImagePeer.altTextProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "altText", "Alternate text", true);
    ImagePeer.sizeProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "size", "Size", Adaptive.Size);
    ImagePeer.pixelWidthProperty = new NumberPropertyEditor(Adaptive.Versions.v1_1, "pixelWidth", "Width in pixels");
    ImagePeer.pixelHeightProperty = new NumberPropertyEditor(Adaptive.Versions.v1_1, "pixelHeight", "Height in pixels");
    ImagePeer.styleProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "style", "Style", Adaptive.ImageStyle);
    ImagePeer.backgroundColorProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "backgroundColor", "Background color");
    return ImagePeer;
}(TypedCardElementPeer));
exports.ImagePeer = ImagePeer;
var MediaPeer = /** @class */ (function (_super) {
    __extends(MediaPeer, _super);
    function MediaPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    MediaPeer.prototype.internalGetTreeItemText = function () {
        if (this.cardElement.selectedMediaType == "audio") {
            return "audio";
        }
        else if (this.cardElement.selectedMediaType == "video") {
            return "video";
        }
        else {
            return _super.prototype.internalGetTreeItemText.call(this);
        }
    };
    MediaPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, MediaPeer.altTextProperty, MediaPeer.posterUrlProperty);
        propertySheet.add("Sources", MediaPeer.sourcesProperty);
        propertySheet.add("Caption Sources", MediaPeer.captionSourcesProperty);
    };
    MediaPeer.altTextProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "altText", "Alternate text", true);
    MediaPeer.posterUrlProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "posterUrl", "Poster URL", true);
    MediaPeer.sourcesProperty = new InnerStructPropertyEditor(Adaptive.Versions.v1_1, "sources", { "url": { name: "URL" }, "mimeType": { name: "MIME Type" } }, function (innerProperties) { return new Adaptive.MediaSource(innerProperties["url"].value, innerProperties["mimeType"].value); }, "Add a new source", "No source has been defined.");
    MediaPeer.captionSourcesProperty = new InnerStructPropertyEditor(Adaptive.Versions.v1_6, "captionSources", { "url": { name: "URL" }, "mimeType": { name: "MIME Type" }, "label": { name: "Label" } }, function (innerProperties) { return new Adaptive.CaptionSource(innerProperties["url"].value, innerProperties["mimeType"].value, innerProperties["label"].value); }, "Add a new caption source", "No caption source has been defined.");
    return MediaPeer;
}(TypedCardElementPeer));
exports.MediaPeer = MediaPeer;
var FactSetPeer = /** @class */ (function (_super) {
    __extends(FactSetPeer, _super);
    function FactSetPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FactSetPeer.prototype.internalGetTreeItemText = function () {
        if (this.cardElement.facts.length == 0) {
            return "No fact";
        }
        var allNames = this.cardElement.facts.map(function (value, index, array) {
            return value.name;
        });
        return allNames.join(", ");
    };
    FactSetPeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.facts.push(new Adaptive.Fact("Fact 1", "Value 1"), new Adaptive.Fact("Fact 2", "Value 2"));
    };
    FactSetPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add("Facts", FactSetPeer.factsProperty);
        propertySheet.remove(CardElementPeer.horizontalAlignmentProperty);
    };
    FactSetPeer.factsProperty = new NameValuePairPropertyEditor(Adaptive.Versions.v1_0, "facts", "name", "value", function (name, value) { return new Adaptive.Fact(name, value); }, "Name", "Value", "Add a new fact", "This FactSet is empty.");
    return FactSetPeer;
}(TypedCardElementPeer));
exports.FactSetPeer = FactSetPeer;
var InputPeer = /** @class */ (function (_super) {
    __extends(InputPeer, _super);
    function InputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InputPeer.prototype.internalGetTreeItemText = function () {
        return this.cardElement.id ? this.cardElement.id : _super.prototype.internalGetTreeItemText.call(this);
    };
    InputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, InputPeer.labelProperty);
        propertySheet.add(PropertySheetCategory.Validation, InputPeer.isRequiredProperty, InputPeer.errorMessageProperty);
        propertySheet.remove(CardElementPeer.horizontalAlignmentProperty, CardElementPeer.heightProperty);
    };
    InputPeer.labelProperty = new StringPropertyEditor(Adaptive.Versions.v1_3, "label", "Label");
    InputPeer.isRequiredProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_3, "isRequired", "Required");
    InputPeer.errorMessageProperty = new StringPropertyEditor(Adaptive.Versions.v1_3, "errorMessage", "Error message");
    return InputPeer;
}(TypedCardElementPeer));
exports.InputPeer = InputPeer;
var TextInputPeer = /** @class */ (function (_super) {
    __extends(TextInputPeer, _super);
    function TextInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TextInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, TextInputPeer.placeholderProperty, TextInputPeer.isMultilineProperty);
        if (!this.cardElement.isMultiline) {
            propertySheet.add(PropertySheetCategory.DefaultCategory, TextInputPeer.styleProperty);
        }
        else {
            propertySheet.add(PropertySheetCategory.LayoutCategory, CardElementPeer.heightProperty);
        }
        propertySheet.add(PropertySheetCategory.InlineAction, TextInputPeer.inlineActionProperty);
        if (this.cardElement.inlineAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_2, this, this.cardElement.inlineAction, PropertySheetCategory.InlineAction, [ActionPeer.styleProperty, ActionPeer.modeProperty]);
        }
        propertySheet.add(defaultCategory, TextInputPeer.maxLengthProperty, TextInputPeer.defaultValueProperty);
        propertySheet.add(PropertySheetCategory.Validation, TextInputPeer.regexProperty);
    };
    TextInputPeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.placeholder = "Placeholder text";
    };
    TextInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    TextInputPeer.placeholderProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "placeholder", "Placeholder");
    TextInputPeer.isMultilineProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_0, "isMultiline", "Multi-line", true);
    TextInputPeer.styleProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "style", "Style", Adaptive.InputTextStyle);
    TextInputPeer.maxLengthProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "maxLength", "Maximum length");
    TextInputPeer.inlineActionProperty = new ActionPropertyEditor(Adaptive.Versions.v1_2, "inlineAction", "Action type", [Adaptive.ShowCardAction.JsonTypeName], true);
    TextInputPeer.regexProperty = new StringPropertyEditor(Adaptive.Versions.v1_3, "regex", "Pattern");
    return TextInputPeer;
}(InputPeer));
exports.TextInputPeer = TextInputPeer;
var NumberInputPeer = /** @class */ (function (_super) {
    __extends(NumberInputPeer, _super);
    function NumberInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NumberInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, NumberInputPeer.placeholderProperty, NumberInputPeer.defaultValueProperty, NumberInputPeer.minProperty, NumberInputPeer.maxProperty);
    };
    NumberInputPeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.placeholder = "Placeholder text";
    };
    NumberInputPeer.defaultValueProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    NumberInputPeer.placeholderProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "placeholder", "Placeholder");
    NumberInputPeer.minProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "min", "Minimum value");
    NumberInputPeer.maxProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "max", "Maximum value");
    return NumberInputPeer;
}(InputPeer));
exports.NumberInputPeer = NumberInputPeer;
var DateInputPeer = /** @class */ (function (_super) {
    __extends(DateInputPeer, _super);
    function DateInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DateInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, DateInputPeer.defaultValueProperty, DateInputPeer.minProperty, DateInputPeer.maxProperty);
    };
    DateInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    DateInputPeer.minProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "min", "Minimum value");
    DateInputPeer.maxProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "max", "Maximum value");
    return DateInputPeer;
}(InputPeer));
exports.DateInputPeer = DateInputPeer;
var TimeInputPeer = /** @class */ (function (_super) {
    __extends(TimeInputPeer, _super);
    function TimeInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TimeInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, TimeInputPeer.defaultValueProperty, TimeInputPeer.minProperty, TimeInputPeer.maxProperty);
    };
    TimeInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    TimeInputPeer.minProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "min", "Minimum value");
    TimeInputPeer.maxProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "max", "Maximum value");
    return TimeInputPeer;
}(InputPeer));
exports.TimeInputPeer = TimeInputPeer;
var ToggleInputPeer = /** @class */ (function (_super) {
    __extends(ToggleInputPeer, _super);
    function ToggleInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ToggleInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ToggleInputPeer.titleProperty, ToggleInputPeer.valueOnProperty, ToggleInputPeer.valueOffProperty, ToggleInputPeer.defaultValueProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, ToggleInputPeer.wrapProperty);
    };
    ToggleInputPeer.prototype.initializeCardElement = function () {
        this.cardElement.title = "New Input.Toggle";
    };
    ToggleInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    ToggleInputPeer.titleProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "title", "Title", true);
    ToggleInputPeer.valueOnProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "valueOn", "Value when on");
    ToggleInputPeer.valueOffProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "valueOff", "Value when off");
    ToggleInputPeer.wrapProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_2, "wrap", "Wrap");
    return ToggleInputPeer;
}(InputPeer));
exports.ToggleInputPeer = ToggleInputPeer;
var ChoiceSetInputPeer = /** @class */ (function (_super) {
    __extends(ChoiceSetInputPeer, _super);
    function ChoiceSetInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ChoiceSetInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ChoiceSetInputPeer.placeholderProperty, ChoiceSetInputPeer.isMultiselectProperty, ChoiceSetInputPeer.styleProperty, ChoiceSetInputPeer.defaultValueProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, ToggleInputPeer.wrapProperty);
        propertySheet.add("Choices", ChoiceSetInputPeer.choicesProperty);
    };
    ChoiceSetInputPeer.prototype.initializeCardElement = function () {
        this.cardElement.placeholder = "Placeholder text";
        this.cardElement.choices.push(new Adaptive.Choice("Choice 1", "Choice 1"), new Adaptive.Choice("Choice 2", "Choice 2"));
    };
    ChoiceSetInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    ChoiceSetInputPeer.placeholderProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "placeholder", "Placeholder");
    ChoiceSetInputPeer.isMultiselectProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_0, "isMultiSelect", "Allow multi selection");
    ChoiceSetInputPeer.styleProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_0, "style", "Style", [
        { targetVersion: Adaptive.Versions.v1_0, name: "Compact", value: "compact" },
        { targetVersion: Adaptive.Versions.v1_0, name: "Expanded", value: "expanded" },
        { targetVersion: Adaptive.Versions.v1_5, name: "Filtered", value: "filtered" }
    ], true);
    ChoiceSetInputPeer.wrapProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_2, "wrap", "Wrap");
    ChoiceSetInputPeer.choicesProperty = new NameValuePairPropertyEditor(Adaptive.Versions.v1_0, "choices", "title", "value", function (name, value) { return new Adaptive.Choice(name, value); }, "Title", "Value", "Add a new choice", "This ChoiceSet is empty");
    return ChoiceSetInputPeer;
}(InputPeer));
exports.ChoiceSetInputPeer = ChoiceSetInputPeer;
var TextBlockPeerInplaceEditor = /** @class */ (function (_super) {
    __extends(TextBlockPeerInplaceEditor, _super);
    function TextBlockPeerInplaceEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TextBlockPeerInplaceEditor.prototype.close = function (applyChanges) {
        if (this.onClose) {
            this.onClose(applyChanges);
        }
    };
    TextBlockPeerInplaceEditor.prototype.initialize = function () {
        this._renderedElement.select();
    };
    TextBlockPeerInplaceEditor.prototype.applyChanges = function () {
        this.cardElement.text = this._renderedElement.value;
    };
    TextBlockPeerInplaceEditor.prototype.render = function () {
        var _this = this;
        this._renderedElement = document.createElement("textarea");
        this._renderedElement.className = "acd-textBlock-inplace-editor";
        this._renderedElement.value = this.cardElement.text;
        this._renderedElement.onkeydown = function (e) {
            switch (e.key) {
                case Controls.Constants.keys.escape:
                    _this.close(false);
                    e.preventDefault();
                    e.cancelBubble = true;
                    break;
                case Controls.Constants.keys.enter:
                    _this.close(true);
                    e.preventDefault();
                    e.cancelBubble = true;
                    break;
            }
            return !e.cancelBubble;
        };
        this.cardElement.applyStylesTo(this._renderedElement);
        return this._renderedElement;
    };
    return TextBlockPeerInplaceEditor;
}(CardElementPeerInplaceEditor));
var TextBlockPeer = /** @class */ (function (_super) {
    __extends(TextBlockPeer, _super);
    function TextBlockPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TextBlockPeer.prototype.createInplaceEditor = function () {
        return new TextBlockPeerInplaceEditor(this.cardElement);
    };
    TextBlockPeer.prototype.internalGetTreeItemText = function () {
        return this.cardElement.text;
    };
    TextBlockPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        if (context.dataStructure) {
            commands.push(new peer_command_1.PeerCommand({
                name: "Bind...",
                alwaysShowName: true,
                toolTip: "Select a data field to bind this TextBlock to.",
                execute: function (command, clickedElement) {
                    var fieldPicker = new field_picker_1.FieldPicker(context.dataStructure);
                    fieldPicker.onClose = function (sender, wasCancelled) {
                        if (!wasCancelled) {
                            _this.cardElement.text = fieldPicker.selectedField.asExpression();
                            _this.changed(true);
                        }
                    };
                    fieldPicker.popup(clickedElement);
                }
            }));
        }
    };
    TextBlockPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, TextBlockPeer.textProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, TextBlockPeer.wrapProperty, TextBlockPeer.maxLinesProperty);
        propertySheet.add(PropertySheetCategory.StyleCategory, TextBlockPeer.styleProperty, TextBlockPeer.fontTypeProperty, TextBlockPeer.sizeProperty, TextBlockPeer.weightProperty, TextBlockPeer.colorProperty, TextBlockPeer.subtleProperty);
    };
    TextBlockPeer.prototype.getToolTip = function () {
        return "Double click to edit";
    };
    TextBlockPeer.prototype.initializeCardElement = function () {
        if (!this.cardElement.text || this.cardElement.text == "") {
            this.cardElement.text = "New TextBlock";
        }
        this.cardElement.wrap = true;
    };
    TextBlockPeer.textProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "text", "Text", true, true);
    TextBlockPeer.wrapProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_0, "wrap", "Wrap");
    TextBlockPeer.maxLinesProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "maxLines", "Maximum lines", 0);
    TextBlockPeer.fontTypeProperty = new EnumPropertyEditor(Adaptive.Versions.v1_2, "fontType", "Font type", Adaptive.FontType, false, true);
    TextBlockPeer.sizeProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "size", "Size", Adaptive.TextSize, false, true);
    TextBlockPeer.weightProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "weight", "Weight", Adaptive.TextWeight, false, true);
    TextBlockPeer.colorProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "color", "Color", Adaptive.TextColor, false, true);
    TextBlockPeer.subtleProperty = new NullableBooleanPropertyEditor(Adaptive.Versions.v1_0, "isSubtle", "Subtle");
    TextBlockPeer.styleProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_5, "style", "Base style", [
        { targetVersion: Adaptive.Versions.v1_5, name: "Default", value: "default" },
        { targetVersion: Adaptive.Versions.v1_5, name: "Heading", value: "heading" },
        { targetVersion: Adaptive.Versions.v1_5, name: "Column header", value: "columnHeader" }
    ], false, true);
    return TextBlockPeer;
}(TypedCardElementPeer));
exports.TextBlockPeer = TextBlockPeer;
var RichTextBlockPeer = /** @class */ (function (_super) {
    __extends(RichTextBlockPeer, _super);
    function RichTextBlockPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    RichTextBlockPeer.prototype.internalGetTreeItemText = function () {
        return this.cardElement.asString();
    };
    RichTextBlockPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, new CustomPropertySheetEntry("*", function (context) {
            var infoTextBlock = new Adaptive.TextBlock();
            infoTextBlock.text = "Use the **Card Payload Editor** to edit the text of this RichTextBlock element.";
            infoTextBlock.wrap = true;
            infoTextBlock.spacing = Adaptive.Spacing.Large;
            infoTextBlock.separator = true;
            infoTextBlock.horizontalAlignment = Adaptive.HorizontalAlignment.Center;
            return infoTextBlock;
        }));
    };
    RichTextBlockPeer.prototype.initializeCardElement = function () {
        var textRun = new Adaptive.TextRun();
        textRun.text = "New RichTextBlock";
        this.cardElement.addInline(textRun);
    };
    return RichTextBlockPeer;
}(TypedCardElementPeer));
exports.RichTextBlockPeer = RichTextBlockPeer;
var TableCellPeer = /** @class */ (function (_super) {
    __extends(TableCellPeer, _super);
    function TableCellPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TableCellPeer.prototype.canBeRemoved = function () {
        return false;
    };
    TableCellPeer.prototype.isDraggable = function () {
        return false;
    };
    return TableCellPeer;
}(ContainerPeer));
exports.TableCellPeer = TableCellPeer;
var TableRowPeer = /** @class */ (function (_super) {
    __extends(TableRowPeer, _super);
    function TableRowPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TableRowPeer.prototype.isContainer = function () {
        return true;
    };
    TableRowPeer.prototype.isDraggable = function () {
        return false;
    };
    TableRowPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(PropertySheetCategory.StyleCategory, ContainerPeer.styleProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, TableRowPeer.horizontalCellContentAlignmentProperty, TableRowPeer.verticalCellContentAlignmentProperty);
    };
    Object.defineProperty(TableRowPeer.prototype, "isTreeItemExpandedByDefault", {
        get: function () {
            return false;
        },
        enumerable: false,
        configurable: true
    });
    TableRowPeer.horizontalCellContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_5, "horizontalCellContentAlignment", "Horizontal cell content alignment", Adaptive.HorizontalAlignment, false, true);
    TableRowPeer.verticalCellContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_5, "verticalCellContentAlignment", "Vertical cell content alignment", Adaptive.VerticalAlignment, false, true);
    return TableRowPeer;
}(TypedCardElementPeer));
exports.TableRowPeer = TableRowPeer;
var TableColumnsPropertyEditor = /** @class */ (function (_super) {
    __extends(TableColumnsPropertyEditor, _super);
    function TableColumnsPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TableColumnsPropertyEditor.prototype.columnsChanged = function (context, refreshPropertySheet) {
        context.peer.updateChildren();
        context.peer.changed(refreshPropertySheet);
    };
    TableColumnsPropertyEditor.prototype.render = function (context) {
        var _this = this;
        var result = new Adaptive.Container();
        var peer = context.peer;
        if (peer.cardElement.getColumnCount() === 0) {
            var messageTextBlock = new Adaptive.TextBlock();
            messageTextBlock.spacing = Adaptive.Spacing.Small;
            messageTextBlock.text = "No column has been defined";
            result.addItem(messageTextBlock);
        }
        else {
            var _loop_8 = function (i) {
                var columnDefinition = peer.cardElement.getColumnAt(i);
                var widthInput = new Adaptive.NumberInput();
                widthInput.placeholder = "Width";
                widthInput.min = 0;
                widthInput.defaultValue = columnDefinition.width.physicalSize;
                widthInput.onValueChanged = function (sender) {
                    columnDefinition.width.physicalSize = sender.value;
                    _this.columnsChanged(context, false);
                };
                var widthColumn = new Adaptive.Column("stretch");
                widthColumn.addItem(widthInput);
                var unitInput = new Adaptive.ChoiceSetInput();
                unitInput.placeholder = "Unit";
                unitInput.choices.push(new Adaptive.Choice("Pixels", Adaptive.SizeUnit.Pixel.toString()), new Adaptive.Choice("Weight", Adaptive.SizeUnit.Weight.toString()));
                unitInput.defaultValue = columnDefinition.width.unit.toString();
                unitInput.onValueChanged = function (sender) {
                    columnDefinition.width.unit = parseInt(sender.value);
                    _this.columnsChanged(context, false);
                };
                var unitColumn = new Adaptive.Column("stretch");
                unitColumn.spacing = Adaptive.Spacing.Small;
                unitColumn.addItem(unitInput);
                var removeAction = new Adaptive.SubmitAction();
                removeAction.title = "X";
                removeAction.tooltip = "Remove";
                removeAction.onExecute = function (sender) {
                    peer.cardElement.removeColumn(columnDefinition);
                    _this.columnsChanged(context, true);
                };
                var actionSet_3 = new Adaptive.ActionSet();
                actionSet_3.addAction(removeAction);
                var removeActionColumn = new Adaptive.Column("auto");
                removeActionColumn.spacing = Adaptive.Spacing.Small;
                removeActionColumn.addItem(actionSet_3);
                var columnSet = new Adaptive.ColumnSet();
                columnSet.spacing = Adaptive.Spacing.Small;
                columnSet.addColumn(widthColumn);
                columnSet.addColumn(unitColumn);
                columnSet.addColumn(removeActionColumn);
                result.addItem(columnSet);
            };
            for (var i = 0; i < peer.cardElement.getColumnCount(); i++) {
                _loop_8(i);
            }
        }
        var addAction = new Adaptive.SubmitAction();
        addAction.title = "Add a column";
        addAction.onExecute = function (sender) {
            peer.cardElement.addColumn(new Adaptive.TableColumnDefinition());
            _this.columnsChanged(context, true);
        };
        var actionSet = new Adaptive.ActionSet();
        actionSet.spacing = Adaptive.Spacing.Small;
        actionSet.addAction(addAction);
        result.addItem(actionSet);
        return result;
    };
    return TableColumnsPropertyEditor;
}(PropertySheetEntry));
var TablePeer = /** @class */ (function (_super) {
    __extends(TablePeer, _super);
    function TablePeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TablePeer.prototype.isContainer = function () {
        return true;
    };
    TablePeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        commands.push(new peer_command_1.PeerCommand({
            name: "Add a row",
            isPromotable: false,
            execute: function (command, clickedElement) {
                var row = new Adaptive.TableRow();
                _this.cardElement.addRow(row);
                var newPeer = card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(_this.designerSurface, _this, row);
                newPeer.insertAfterNeighbor = true;
                _this.insertChild(newPeer);
                // TODO: I'm not sure if this call is necessary
                // this.updateChildren();
            }
        }));
    };
    TablePeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.addColumn(new Adaptive.TableColumnDefinition());
        this.cardElement.addColumn(new Adaptive.TableColumnDefinition());
        this.cardElement.addColumn(new Adaptive.TableColumnDefinition());
        this.cardElement.addRow(new Adaptive.TableRow());
        this.cardElement.addRow(new Adaptive.TableRow());
        this.cardElement.addRow(new Adaptive.TableRow());
    };
    TablePeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, TablePeer.firstRowAsHeadersProperty);
        propertySheet.add("Columns", TablePeer.columnsProperty);
        propertySheet.add(PropertySheetCategory.StyleCategory, TablePeer.showGridLinesProperty, TablePeer.gridStyleProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, TablePeer.cellSpacingProperty, TablePeer.horizontalCellContentAlignmentProperty, TablePeer.verticalCellContentAlignmentProperty);
    };
    TablePeer.firstRowAsHeadersProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_5, "firstRowAsHeaders", "First row as headers");
    TablePeer.cellSpacingProperty = new NumberPropertyEditor(Adaptive.Versions.v1_5, "cellSpacing", "Cell spacing (in pixels)");
    TablePeer.showGridLinesProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_5, "showGridLines", "Grid lines");
    TablePeer.gridStyleProperty = new ContainerStylePropertyEditor(Adaptive.Versions.v1_5, "gridStyle", "Grid style");
    TablePeer.horizontalCellContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_5, "horizontalCellContentAlignment", "Horizontal cell content alignment", Adaptive.HorizontalAlignment, false, true);
    TablePeer.verticalCellContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_5, "verticalCellContentAlignment", "Vertical cell content alignment", Adaptive.VerticalAlignment, false, true);
    TablePeer.columnsProperty = new TableColumnsPropertyEditor(Adaptive.Versions.v1_5);
    return TablePeer;
}(TypedCardElementPeer));
exports.TablePeer = TablePeer;
var CarouselPeer = /** @class */ (function (_super) {
    __extends(CarouselPeer, _super);
    function CarouselPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CarouselPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        commands.push(new peer_command_1.PeerCommand({
            name: "Add a page",
            isPromotable: false,
            execute: function (command, clickedElement) {
                var page = new Adaptive.CarouselPage();
                _this.cardElement.addPage(page);
                _this.updateChildren();
            }
        }));
    };
    CarouselPeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.addPage(new Adaptive.CarouselPage());
    };
    CarouselPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.remove(CardElementPeer.isVisibleProperty, ContainerPeer.bleedProperty, ContainerPeer.styleProperty);
        propertySheet.add(defaultCategory, CarouselPeer.timerProperty, CarouselPeer.initialPageProperty);
    };
    CarouselPeer.prototype.canDrop = function (peer) {
        return false;
    };
    // Question: What do we want the default value to be here?
    CarouselPeer.timerProperty = new CarouselTimerPropertyEditor(Adaptive.Versions.v1_6, "timer", "Timer", 5000);
    CarouselPeer.initialPageProperty = new NumberPropertyEditor(Adaptive.Versions.v1_6, "initialPageIndex", "Initial page", 0);
    return CarouselPeer;
}(ContainerPeer));
exports.CarouselPeer = CarouselPeer;
var CarouselPagePeer = /** @class */ (function (_super) {
    __extends(CarouselPagePeer, _super);
    function CarouselPagePeer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._pageOffset = 0;
        return _this;
    }
    CarouselPagePeer.prototype.isDraggable = function () {
        return false;
    };
    CarouselPagePeer.prototype.getBoundingRect = function () {
        var boundingRect = _super.prototype.getBoundingRect.call(this);
        var carousel = this.cardElement.parent;
        var initialLeft = boundingRect.left;
        if (carousel === null || carousel === void 0 ? void 0 : carousel.carouselPageContainer) {
            var containerClientRect = carousel.carouselPageContainer.getBoundingClientRect();
            boundingRect.left = carousel.renderedElement.offsetLeft + carousel.carouselPageContainer.offsetLeft;
            boundingRect.right = boundingRect.left + (containerClientRect === null || containerClientRect === void 0 ? void 0 : containerClientRect.width);
            boundingRect.bottom = boundingRect.top + (containerClientRect === null || containerClientRect === void 0 ? void 0 : containerClientRect.height);
        }
        this._pageOffset = initialLeft - boundingRect.left;
        return boundingRect;
    };
    CarouselPagePeer.prototype.peerInCorrectLocation = function (currentLocation) {
        var rect = this.getBoundingRect();
        return rect.isInside(currentLocation);
    };
    CarouselPagePeer.prototype.isVisible = function () {
        var parentCarousel = this.parent;
        return this === (parentCarousel === null || parentCarousel === void 0 ? void 0 : parentCarousel.children[parentCarousel.cardElement.currentPageIndex]);
    };
    CarouselPagePeer.prototype.bringCardElementIntoView = function () {
        var carouselPeer = this.parent;
        if (carouselPeer && carouselPeer.cardElement) {
            this.designerSurface.shouldPersistSelectedElement = true;
            var index = carouselPeer.children.indexOf(this);
            carouselPeer.cardElement.slideTo(index);
        }
        return true;
    };
    CarouselPagePeer.prototype.canDrop = function (peer) {
        return !this.cardElement.getForbiddenChildElements().includes(peer.getCardObject().getJsonTypeName());
    };
    Object.defineProperty(CarouselPagePeer.prototype, "pageOffset", {
        get: function () {
            return this._pageOffset;
        },
        enumerable: false,
        configurable: true
    });
    return CarouselPagePeer;
}(ContainerPeer));
exports.CarouselPagePeer = CarouselPagePeer;


/***/ }),

/***/ "./src/dialog.ts":
/*!***********************!*\
  !*** ./src/dialog.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Dialog = exports.DialogButton = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var DialogButton = /** @class */ (function () {
    function DialogButton(caption) {
        this.caption = caption;
    }
    DialogButton.prototype.render = function () {
        var _this = this;
        var element = document.createElement("button");
        element.className = "acd-dialog-button";
        element.innerText = this.caption;
        element.onclick = function (e) {
            _this.clicked();
        };
        return element;
    };
    DialogButton.prototype.clicked = function () {
        if (this.onClick) {
            this.onClick(this);
        }
    };
    return DialogButton;
}());
exports.DialogButton = DialogButton;
var Dialog = /** @class */ (function () {
    function Dialog() {
        var _this = this;
        this._isOpen = false;
        this.onClose = null;
        // flag to prevent dialog close on overlay element click, default it's set to false, for Pi2Card it will be set to true
        this.preventLightDismissal = false;
        this.closeButton = new DialogButton("Close");
        this.closeButton.onClick = function (sender) {
            _this.close();
        };
    }
    Dialog.prototype.open = function () {
        var _this = this;
        var _a;
        if (!this._isOpen) {
            this._originalFocusedElement = document.activeElement;
            this._overlayElement = document.createElement("div");
            this._overlayElement.className = "acd-dialog-overlay";
            this._overlayElement.onclick = function (e) {
                // clicks on the overlay window should dismiss the dialog
                if (!_this.preventLightDismissal) {
                    _this.close();
                }
            };
            var dialogFrameElement = document.createElement("div");
            dialogFrameElement.className = "acd-dialog-frame";
            dialogFrameElement.style.width = this.width;
            dialogFrameElement.style.height = this.height;
            dialogFrameElement.setAttribute("aria-modal", "true");
            dialogFrameElement.setAttribute("role", "dialog");
            dialogFrameElement.setAttribute("aria-labelledby", "acd-dialog-title-element");
            dialogFrameElement.tabIndex = -1;
            dialogFrameElement.onclick = function (e) {
                // disable click bubbling from the frame element -- otherwise it'll get to the overlay, closing the
                // dialog unexpectedly
                if (!_this.preventLightDismissal) {
                    e.cancelBubble = true;
                    return false;
                }
            };
            // keyboard navigation support
            dialogFrameElement.onkeydown = function (e) {
                switch (e.key) {
                    case adaptivecards_controls_1.Constants.keys.tab:
                        if (e.shiftKey && document.activeElement === _this._firstFocusableElement) {
                            // backwards tab on first element. set focus on last
                            e.preventDefault();
                            _this._lastFocusableElement.focus();
                        }
                        else if (!e.shiftKey && document.activeElement === _this._lastFocusableElement) {
                            // forward tab on last element
                            e.preventDefault();
                            _this._firstFocusableElement.focus();
                        }
                        break;
                    case adaptivecards_controls_1.Constants.keys.escape:
                        _this.close();
                        e.preventDefault();
                        e.cancelBubble = true;
                        break;
                }
                return !e.cancelBubble;
            };
            var titleBarElement = document.createElement("div");
            titleBarElement.className = "acd-dialog-title-host";
            var titleElement = document.createElement("div");
            titleElement.className = "acd-dialog-title";
            titleElement.id = "acd-dialog-title-element";
            titleElement.innerText = this.title;
            titleElement.setAttribute("role", "heading");
            titleElement.setAttribute("aria-level", "1");
            titleElement.tabIndex = -1;
            var xButton = document.createElement("button");
            xButton.className = "acd-icon acd-dialog-titleBar-button acd-icon-remove";
            xButton.title = "Close";
            xButton.onclick = function (e) { _this.close(); };
            titleBarElement.appendChild(titleElement);
            titleBarElement.appendChild(xButton);
            var contentElement = this.renderContent();
            contentElement.style.flex = "1 1 auto";
            var buttonBarElement = document.createElement("div");
            buttonBarElement.className = "acd-dialog-buttonBar";
            if (((_a = this.buttons) === null || _a === void 0 ? void 0 : _a.length) > 0) {
                for (var _i = 0, _b = this.buttons; _i < _b.length; _i++) {
                    var button = _b[_i];
                    buttonBarElement.appendChild(button.render());
                }
            }
            buttonBarElement.appendChild(this.closeButton.render());
            dialogFrameElement.appendChild(titleBarElement);
            dialogFrameElement.appendChild(contentElement);
            dialogFrameElement.appendChild(buttonBarElement);
            this._overlayElement.appendChild(dialogFrameElement);
            document.body.appendChild(this._overlayElement);
            var focusableElements = dialogFrameElement.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');
            this._firstFocusableElement = focusableElements[0];
            this._lastFocusableElement = focusableElements[focusableElements.length - 1];
            this._firstFocusableElement.focus();
            this._isOpen = true;
        }
    };
    Dialog.prototype.close = function () {
        if (this._isOpen) {
            document.body.removeChild(this._overlayElement);
            this._isOpen = false;
            if (this.onClose) {
                this.onClose(this);
            }
            // Removing the focus action on close, it has been handled via onClose method of Dialog consume place.
            this._originalFocusedElement.focus();
            this._originalFocusedElement = null;
        }
    };
    return Dialog;
}());
exports.Dialog = Dialog;


/***/ }),

/***/ "./src/downloader.ts":
/*!***************************!*\
  !*** ./src/downloader.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Downloader = void 0;
var Downloader = /** @class */ (function () {
    function Downloader(url) {
        this.url = url;
        this.onError = null;
        this.onSuccess = null;
    }
    Downloader.prototype.error = function () {
        if (this.onError) {
            this.onError(this);
        }
    };
    Downloader.prototype.success = function () {
        if (this.onSuccess) {
            this.onSuccess(this);
        }
    };
    Downloader.prototype.download = function () {
        var _this = this;
        var request = new XMLHttpRequest();
        request.onerror = function () {
            _this.error();
        };
        request.onload = function () {
            _this._data = request.responseText;
            _this.success();
        };
        try {
            request.open("GET", this.url, true);
            request.send();
        }
        catch (e) {
            this.error();
        }
    };
    Object.defineProperty(Downloader.prototype, "data", {
        get: function () {
            return this._data;
        },
        enumerable: false,
        configurable: true
    });
    return Downloader;
}());
exports.Downloader = Downloader;


/***/ }),

/***/ "./src/draggable-element.ts":
/*!**********************************!*\
  !*** ./src/draggable-element.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DraggableElement = exports.DRAG_THRESHOLD = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
exports.DRAG_THRESHOLD = 10;
var DraggableElement = /** @class */ (function () {
    function DraggableElement() {
    }
    DraggableElement.prototype.releasePointerCapture = function (pointerId) {
        this.getDragSourceElement().releasePointerCapture(pointerId);
        this._isPointerDown = false;
    };
    Object.defineProperty(DraggableElement.prototype, "isPointerOver", {
        get: function () {
            return this._isPointerOver;
        },
        set: function (value) {
            if (value != this._isPointerOver) {
                this._isPointerOver = value;
                this.updateLayout();
            }
        },
        enumerable: false,
        configurable: true
    });
    DraggableElement.prototype.startDrag = function () {
        if (this.isDraggable() && !this.dragging) {
            this.dragging = true;
            if (this.onStartDrag) {
                this.onStartDrag(this);
            }
        }
    };
    DraggableElement.prototype.pointerDown = function (e) {
        if (!this._isPointerDown) {
            this._isPointerDown = true;
            this._lastClickedPoint = { x: e.offsetX, y: e.offsetY };
            this.getDragSourceElement().setPointerCapture(e.pointerId);
        }
    };
    DraggableElement.prototype.pointerUp = function (e) {
        if (this._isPointerDown) {
            this.releasePointerCapture(e.pointerId);
            this.endDrag();
        }
    };
    DraggableElement.prototype.pointerMove = function (e) {
        if (this._isPointerDown) {
            if (Math.abs(e.offsetX - this._lastClickedPoint.x) >= exports.DRAG_THRESHOLD || Math.abs(e.offsetY - this._lastClickedPoint.y) >= exports.DRAG_THRESHOLD) {
                this.releasePointerCapture(e.pointerId);
                this.startDrag();
            }
        }
    };
    DraggableElement.prototype.click = function (e) {
        if (this.onClick) {
            this.onClick(this);
        }
    };
    DraggableElement.prototype.doubleClick = function (e) {
        if (this.onDoubleClick) {
            this.onDoubleClick(this);
        }
    };
    DraggableElement.prototype.internalUpdateCssStyles = function () {
        // Do nothing in base implementation
    };
    DraggableElement.prototype.internalUpdateLayout = function () {
        // Do nothing in base implementation
    };
    DraggableElement.prototype.getDragSourceElement = function () {
        return this._renderedElement;
    };
    DraggableElement.prototype.isDraggable = function () {
        return true;
    };
    DraggableElement.prototype.endDrag = function () {
        if (this.dragging) {
            this.dragging = false;
            if (this.onEndDrag) {
                this.onEndDrag(this);
            }
        }
    };
    DraggableElement.prototype.updateLayout = function () {
        this.internalUpdateCssStyles();
        this.internalUpdateLayout();
    };
    DraggableElement.prototype.render = function () {
        var _this = this;
        this._renderedElement = this.internalRender();
        var dragSourceElement = this.getDragSourceElement();
        dragSourceElement.onclick = function (e) { _this.click(e); };
        dragSourceElement.onkeydown = function (e) {
            if (e.key === adaptivecards_controls_1.Constants.keys.enter || e.key === adaptivecards_controls_1.Constants.keys.space) {
                e.preventDefault();
                if (_this.onClick) {
                    _this.click(null);
                }
                else if (_this.onDoubleClick) {
                    _this.doubleClick(null);
                }
            }
        };
        dragSourceElement.ondblclick = function (e) { _this.doubleClick(e); };
        if (this.isDraggable()) {
            dragSourceElement.onmousedown = function (e) { e.preventDefault(); };
            dragSourceElement.onpointerenter = function () { _this.isPointerOver = true; };
            dragSourceElement.onpointerleave = function () { _this.isPointerOver = false; };
            dragSourceElement.onpointerdown = function (e) { _this.pointerDown(e); };
            dragSourceElement.onpointerup = function (e) { _this.pointerUp(e); };
            dragSourceElement.onpointermove = function (e) { _this.pointerMove(e); };
        }
        return this._renderedElement;
    };
    DraggableElement.prototype.focus = function () {
        if (this._renderedElement) {
            this._renderedElement.focus();
        }
    };
    Object.defineProperty(DraggableElement.prototype, "renderedElement", {
        get: function () {
            return this._renderedElement;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DraggableElement.prototype, "dragging", {
        get: function () {
            return this._dragging;
        },
        set: function (value) {
            this._dragging = value;
            this.internalUpdateCssStyles();
        },
        enumerable: false,
        configurable: true
    });
    return DraggableElement;
}());
exports.DraggableElement = DraggableElement;


/***/ }),

/***/ "./src/field-picker.ts":
/*!*****************************!*\
  !*** ./src/field-picker.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FieldPicker = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Controls = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var tree_view_1 = __webpack_require__(/*! ./tree-view */ "./src/tree-view.ts");
var data_treeitem_1 = __webpack_require__(/*! ./data-treeitem */ "./src/data-treeitem.ts");
var FieldPicker = /** @class */ (function (_super) {
    __extends(FieldPicker, _super);
    function FieldPicker(dataStructure) {
        var _this = _super.call(this) || this;
        _this.dataStructure = dataStructure;
        return _this;
    }
    FieldPicker.prototype.renderContent = function () {
        var _this = this;
        var element = document.createElement("div");
        element.className = "acd-fieldPicker-host";
        var treeItem = new data_treeitem_1.DataTreeItem(this.dataStructure);
        this._treeView = new tree_view_1.TreeView(treeItem);
        this._treeView.onSelectedItemChanged = function (sender) {
            _this._selectedField = _this._treeView.selectedItem.field;
            if (_this._selectedField) {
                _this.closePopup(false);
            }
        };
        element.appendChild(this._treeView.render());
        return element;
    };
    /**
     * @inheritdoc
     */
    FieldPicker.prototype.render = function (rootElementBounds) {
        var rootElement = _super.prototype.render.call(this, rootElementBounds);
        rootElement.tabIndex = -1;
        return rootElement;
    };
    /**
     * @inheritdoc
     */
    FieldPicker.prototype.focus = function () {
        if (this._treeView) {
            this._treeView.focus();
        }
    };
    FieldPicker.prototype.keyDown = function (e) {
        _super.prototype.keyDown.call(this, e);
        // TODO
    };
    Object.defineProperty(FieldPicker.prototype, "selectedField", {
        get: function () {
            return this._selectedField;
        },
        enumerable: false,
        configurable: true
    });
    return FieldPicker;
}(Controls.PopupControl));
exports.FieldPicker = FieldPicker;


/***/ }),

/***/ "./src/fullscreen-handler.ts":
/*!***********************************!*\
  !*** ./src/fullscreen-handler.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FullScreenHandler = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var FullScreenHandler = /** @class */ (function () {
    function FullScreenHandler() {
        var _this = this;
        var untypedBody = document.body;
        if (typeof untypedBody.onfullscreenchange !== "undefined") {
            untypedBody.onfullscreenchange = function () { return _this.fullScrerenChanged(); };
        }
        else if (typeof untypedBody.onwebkitfullscreenchange !== "undefined") {
            untypedBody.onwebkitfullscreenchange = function () { return _this.fullScrerenChanged(); };
        }
        else if (typeof untypedBody.onwebkitfullscreenchange !== "undefined") {
            untypedBody.onmozfullscreenchange = function () { return _this.fullScrerenChanged(); };
        }
        else if (typeof untypedBody.onwebkitfullscreenchange !== "undefined") {
            untypedBody.MSFullscreenChange = function () { return _this.fullScrerenChanged(); };
        }
    }
    FullScreenHandler.prototype.fullScrerenChanged = function () {
        if (this.onFullScreenChanged) {
            this.onFullScreenChanged(this.isFullScreen);
        }
    };
    FullScreenHandler.prototype.enterFullScreen = function () {
        if (!this.isFullScreen) {
            var untypedBody = document.body;
            if (untypedBody.requestFullscreen) {
                untypedBody.requestFullscreen();
            }
            else if (untypedBody.webkitRequestFullscreen) {
                untypedBody.webkitRequestFullscreen();
            }
            else if (untypedBody.mozRequestFullScreen) {
                untypedBody.mozRequestFullScreen();
            }
            else if (untypedBody.msRequestFullscreen) {
                untypedBody.msRequestFullscreen();
            }
            else {
                alert("Your browser doesn't support fullscreen.");
            }
        }
    };
    FullScreenHandler.prototype.exitFullScreen = function () {
        if (this.isFullScreen) {
            var untypedDocument = document;
            if (untypedDocument.exitFullscreen) {
                untypedDocument.exitFullscreen();
            }
            else if (untypedDocument.webkitExitFullscreen) {
                untypedDocument.webkitExitFullscreen();
            }
            else if (untypedDocument.mozCancelFullScreen) {
                untypedDocument.mozCancelFullScreen();
            }
            else if (untypedDocument.msExitFullscreen) {
                untypedDocument.msExitFullscreen();
            }
        }
    };
    FullScreenHandler.prototype.toggleFullScreen = function () {
        if (this.isFullScreen) {
            this.exitFullScreen();
        }
        else {
            this.enterFullScreen();
        }
    };
    Object.defineProperty(FullScreenHandler.prototype, "isFullScreen", {
        get: function () {
            var untypedDocument = document;
            return untypedDocument.fullscreen || untypedDocument.webkitIsFullScreen || untypedDocument.mozFullScreen;
        },
        enumerable: false,
        configurable: true
    });
    return FullScreenHandler;
}());
exports.FullScreenHandler = FullScreenHandler;


/***/ }),

/***/ "./src/help-dialog.ts":
/*!****************************!*\
  !*** ./src/help-dialog.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HelpDialog = void 0;
var dialog_1 = __webpack_require__(/*! ./dialog */ "./src/dialog.ts");
var HelpDialog = /** @class */ (function (_super) {
    __extends(HelpDialog, _super);
    function HelpDialog() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HelpDialog.prototype._getShortcutRow = function (shortcut, description, isHeader) {
        if (isHeader === void 0) { isHeader = false; }
        var shortcutText = document.createElement("b");
        shortcutText.innerText = shortcut;
        var shortcutCell = document.createElement(isHeader ? "th" : "td");
        shortcutCell.style.textAlign = "left";
        shortcutCell.appendChild(shortcutText);
        var descriptionCell = document.createElement(isHeader ? "th" : "td");
        descriptionCell.style.textAlign = "left";
        descriptionCell.innerText = description;
        var row = document.createElement("tr");
        row.appendChild(shortcutCell);
        row.appendChild(descriptionCell);
        return row;
    };
    HelpDialog.prototype.renderContent = function () {
        this._renderedElement = document.createElement("div");
        var cardHeading = document.createElement("h2");
        cardHeading.innerText = "Card Payload and Sample Data Editors";
        this._renderedElement.appendChild(cardHeading);
        var keyboardHeading = document.createElement("h3");
        keyboardHeading.innerText = "Keyboard Shortcuts";
        this._renderedElement.appendChild(keyboardHeading);
        var shortcutTable = document.createElement("table");
        var tableCaption = shortcutTable.createCaption();
        tableCaption.style.textAlign = "left";
        tableCaption.innerText = "These keyboard shortcuts only work when the keyboard focus is within either the card payload or sample data editors";
        shortcutTable.appendChild(document.createElement("br"));
        shortcutTable.appendChild(this._getShortcutRow("Shortcut", "Description", true));
        shortcutTable.appendChild(this._getShortcutRow("Alt-F1", "Show help dialog for editor"));
        shortcutTable.appendChild(this._getShortcutRow("Ctrl-M", "Toggle behavior of TAB key. By default, pressing TAB will insert a TAB character. When toggled, pressing TAB will navigate to the next focusable item."));
        this._renderedElement.appendChild(shortcutTable);
        return this._renderedElement;
    };
    return HelpDialog;
}(dialog_1.Dialog));
exports.HelpDialog = HelpDialog;


/***/ }),

/***/ "./src/miscellaneous.ts":
/*!******************************!*\
  !*** ./src/miscellaneous.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultHostConfig = exports.Utils = exports.Rect = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var Rect = /** @class */ (function () {
    function Rect(top, right, bottom, left) {
        if (top === void 0) { top = 0; }
        if (right === void 0) { right = 0; }
        if (bottom === void 0) { bottom = 0; }
        if (left === void 0) { left = 0; }
        this.top = top;
        this.right = right;
        this.bottom = bottom;
        this.left = left;
    }
    Rect.prototype.union = function (otherRect) {
        this.top = Math.min(this.top, otherRect.top);
        this.left = Math.min(this.left, otherRect.left);
        this.bottom = Math.max(this.bottom, otherRect.bottom);
        this.right = Math.max(this.right, otherRect.right);
    };
    Rect.prototype.isInside = function (point) {
        return point.x >= this.left && point.x <= this.right && point.y >= this.top && point.y <= this.bottom;
    };
    Object.defineProperty(Rect.prototype, "width", {
        get: function () {
            return this.right - this.left;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "height", {
        get: function () {
            return this.bottom - this.top;
        },
        enumerable: false,
        configurable: true
    });
    return Rect;
}());
exports.Rect = Rect;
var Utils = /** @class */ (function () {
    function Utils() {
    }
    Utils.isAbsoluteUrl = function (urlString) {
        return urlString.indexOf('http://') === 0
            || urlString.indexOf('https://') === 0;
    };
    Utils.joinPaths = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return args.map(function (part, i) {
            if (!part) {
                part = "";
            }
            if (i === 0) {
                return part.trim().replace(/[\/]*$/g, '');
            }
            else {
                return part.trim().replace(/(^[\/]*|[\/]*$)/g, '');
            }
        }).filter(function (x) { return x.length; }).join('/');
    };
    Utils.adjustPointForScroll = function (position) {
        var firstChild = document.firstElementChild;
        return {
            x: position.x + firstChild.scrollLeft,
            y: position.y + firstChild.scrollTop
        };
    };
    return Utils;
}());
exports.Utils = Utils;
exports.defaultHostConfig = new Adaptive.HostConfig({
    preExpandSingleShowCardAction: true,
    supportsInteractivity: true,
    spacing: {
        small: 10,
        default: 20,
        medium: 30,
        large: 40,
        extraLarge: 50,
        padding: 20
    },
    separator: {
        lineThickness: 1,
        lineColor: "#EEEEEE"
    },
    textAlign: {
        right: "right"
    },
    imageSizes: {
        small: 40,
        medium: 80,
        large: 160
    },
    fontStyles: {
        default: {
            fontFamily: "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",
            fontSizes: {
                small: 12,
                default: 14,
                medium: 17,
                large: 21,
                extraLarge: 26
            },
            fontWeights: {
                lighter: 200,
                default: 400,
                bolder: 600
            }
        },
        monospace: {
            fontFamily: "'Courier New', Courier, monospace",
            fontSizes: {
                small: 12,
                default: 14,
                medium: 17,
                large: 21,
                extraLarge: 26
            },
            fontWeights: {
                lighter: 200,
                default: 400,
                bolder: 600
            }
        }
    },
    containerStyles: {
        default: {
            backgroundColor: "#f9f9f9",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        emphasis: {
            backgroundColor: "#08000000",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        accent: {
            backgroundColor: "#C7DEF9",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                dark: {
                    default: "#000000",
                    subtle: "#66000000"
                },
                light: {
                    default: "#FFFFFF",
                    subtle: "#33000000"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        good: {
            backgroundColor: "#CCFFCC",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                dark: {
                    default: "#000000",
                    subtle: "#66000000"
                },
                light: {
                    default: "#FFFFFF",
                    subtle: "#33000000"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        attention: {
            backgroundColor: "#FFC5B2",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                dark: {
                    default: "#000000",
                    subtle: "#66000000"
                },
                light: {
                    default: "#FFFFFF",
                    subtle: "#33000000"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        warning: {
            backgroundColor: "#FFE2B2",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                dark: {
                    default: "#000000",
                    subtle: "#66000000"
                },
                light: {
                    default: "#FFFFFF",
                    subtle: "#33000000"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        }
    },
    actions: {
        maxActions: 5,
        spacing: Adaptive.Spacing.Default,
        buttonSpacing: 10,
        showCard: {
            actionMode: Adaptive.ShowCardActionMode.Inline,
            inlineTopMargin: 16
        },
        actionsOrientation: Adaptive.Orientation.Horizontal,
        actionAlignment: Adaptive.ActionAlignment.Left
    },
    adaptiveCard: {
        allowCustomStyle: true
    },
    imageSet: {
        imageSize: Adaptive.Size.Medium,
        maxImageHeight: 100
    },
    factSet: {
        title: {
            color: Adaptive.TextColor.Default,
            size: Adaptive.TextSize.Default,
            isSubtle: false,
            weight: Adaptive.TextWeight.Bolder,
            wrap: true,
            maxWidth: 150,
        },
        value: {
            color: Adaptive.TextColor.Default,
            size: Adaptive.TextSize.Default,
            isSubtle: false,
            weight: Adaptive.TextWeight.Default,
            wrap: true,
        },
        spacing: 10
    }
});
exports.defaultHostConfig.cssClassNamePrefix = "default";


/***/ }),

/***/ "./src/open-image-dialog.ts":
/*!**********************************!*\
  !*** ./src/open-image-dialog.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ImageItem = exports.OpenImageDialog = exports.FetchManager = void 0;
var dialog_1 = __webpack_require__(/*! ./dialog */ "./src/dialog.ts");
var pic2card_1 = __webpack_require__(/*! ./pic2card */ "./src/pic2card.ts");
var FetchManager = /** @class */ (function () {
    function FetchManager() {
        this.pic2cardService = pic2card_1.Pic2Card.pic2cardService !== '' ? pic2card_1.Pic2Card.pic2cardService : "https://ac-pic2card.azurewebsites.net";
        this.headers = {
            "Content-Type": "application/json",
            "Access-Control-Allow-Origin": "*",
        };
    }
    FetchManager.prototype.getSampleImages = function () {
        return __awaiter(this, void 0, void 0, function () {
            var option, sampleImages, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        option = {
                            method: "GET",
                            headers: this.headers,
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, fetch(this.pic2cardService + "/get_card_templates", option)];
                    case 2:
                        sampleImages = _a.sent();
                        return [4 /*yield*/, sampleImages.json()];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        err_1 = _a.sent();
                        console.log(err_1.message);
                        return [3 /*break*/, 5];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    FetchManager.prototype.getPredictedData = function (imageContent, isTemplateBindingEnabled) {
        return __awaiter(this, void 0, void 0, function () {
            var options, endPoint, picResponse, err_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        options = {
                            method: "POST",
                            headers: this.headers,
                            body: JSON.stringify({
                                image: imageContent.split(",")[1],
                            }),
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        endPoint = isTemplateBindingEnabled
                            ? "/predict_json?format=template"
                            : "/predict_json";
                        return [4 /*yield*/, fetch(this.pic2cardService + endPoint, options)];
                    case 2:
                        picResponse = _a.sent();
                        return [4 /*yield*/, picResponse.json()];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        err_2 = _a.sent();
                        console.log(err_2.message);
                        return [3 /*break*/, 5];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    return FetchManager;
}());
exports.FetchManager = FetchManager;
var OpenImageDialog = /** @class */ (function (_super) {
    __extends(OpenImageDialog, _super);
    function OpenImageDialog() {
        var _this = _super.call(this) || this;
        _this._uploadedImage = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABaCAYAAABKZyO0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAZqADAAQAAAABAAAAWgAAAADllkhhAAALRElEQVR4Ae2c6ZfVRBDFBwdxFwWVRVlmQHHX4xc/+v/r0aOouLA5uIAKiIIbuN3fYyrmdao7nbxkXshLnXNJ0um1bndVdecNu9bq5T5leVLYLzwq7NnGLl3HLH9pcLeFP4SfhGvC78KOSEq56+rBs8JRgftJ1tZuSAkXhJt9KyNGzD41fEpgdUxS1cAVJZ0V/qm+6ibFWwlHVPWLgveum1bv/Vow6Uze68LffQwnVD5ma7OPhkZY5wMaE+R8L/zb9fjKpuwpVf5KogGc4FUB+4pT7LwzqnNIcr8686CA8gl+YoJOzgid6sOI2a2K3xa4hnJHCTi8XmZG2NhAnx9Wv04KMYI+1zv005mYKTumGr1Gf1P6RwLRyCoLk/MHga3DXkcR+JzLQmerBmIAJsxWj25n8qf+hRSuk9zVAPsZfMtjgUKwNJj6W0F660fbPHINhXBwIiXUytrauYhenq5mbZ8CIezoQ8HBs9OdpKoB9i5b1eSZKzDX4LxulgQx2MdQfgwTpuc5DRCJhYIrIEjoRCDG2933fuTQSe+XVwnBAIFRKPifTgRiiNdDYZ8ySVoDno48XaZribyFmDAaI2tnYV+k3TEke+dk6LMT6ayiTnozVVJoYCKmUMWwbiZihsVH0ZuJmEIVw7qZiBkWH0VvJmIKVQzrZiJmWHwUvfG+vxQvl3DzhNp8RnhEYNJwiMqJLt/Ye/mEq3oHKUMhhn6cEA4GWuIcj0PW54QvhJX5LjQEU8aJ7FtCSIqSCuET7xsCq2klZAjEbErTD2Vq+3nl6+ygMLPNpWRbNjF8CTzcYOSYPIgcvSybGH6Z01Qos+x+N+1z4/zLHmCbD0v0eVFzhl/r7Ii+sdYzCiw7Kms7MbxPFRnDnX3iOK6M/LAR4fM5Pz3iB+SDkraK6WoQ/LKkjbT5kQhkEjwYKbRLKP66sOwJSl/mZNnE8NvfpvKzCrTZbJ5UuUNOYwQggyNnCMQ03TRecJRbl8RKSUV/gyNn2cTwCZsdvfeZ1lP210r8xXuRSKsjxYoOipxlE4NS8DMfCt6vTniPQOCWcJGHBpJLilU5GHL6IoZwlGOUXOHnUu8LKL/853SspGvCB8JXQpMfiaRI4WD0kuDJIMjpIxrhwHFTIArit7xnhLKy9egKJHy1DSYMaBvG4uhjPgVSPhHMfB7VfShGzmm9aNuHsM5Gzwy+Szmmyk4IkIJwOszhY+5ZGGUQlNZWIZDyLJU4QqDxqWCkYBovOflIMnL6mLyRJv9P7pIYZt7x/6su7tilQ04T01YUbnhTRworJQy1B0lOV8RAykZCiZDzptAnOazU1ErxSLEuQw4RnydLWTldEHNEo0mRYoPtc+VACr7NE8xXihQrc0E3gyFnUWJQxqaNLONqH7y6XDldkGJdh5xv7CG47ujKWYQYSEEpnhCFbXkvlGbksIIWlRQpHN3krJSwD+eVsHRy1tWJ42HP9PytkIqKsOU4Wk8ghT8RvCbgaPmr31B2K+Epgb8zCZ1xmDf2zErFjHoCKR8LbesmpL5feFwIhQn1pMCkDicXZ3/syRaWNiuG/UGMFHbxkGKnv8y884InrBwCgnBwXt4wrU9SrK1zumGCeoJZ80jz8rZKa0oMp7PsqD2xoxUjxfLUkUMo3YScnSDF+p4ix/L0cm1CDKS8EOlFjBTLniKHzWcuOUR/fZkv62t4hZzvwsS+n3OJOaiOpEgpm69YnxclB1LYL3nCifMiPsWrs5x2Vg87Sk4OMQfUqVPlXpbuzadwzZEccvY4FdWRwplWW0fvNOcmQc5l900PiXVRGT+weynSblNSrBpmN0r0ojUiof1COVqrI6XPlaKuFMKE2S0Qke0qUudvCAieEPiRCZMef/uv0FhoKCYpUmgQ85W7UsI2WDmItw9iUPgc6icCrDNfqbBexRcSCOA/VqAfezNqQp9MOJt09O17gZX2q5AtsRWD4mM+hXcfCm1Jsc7VrZyDymgDtDJ2pSwrpU9SaPtVAVLanlSwalhF1MFJ+00hq88xYliunnRFitWdIoe+ecLg+iSF0B2fignFtHYlWAI25pDFuJMmLkaMylVkUfNVqXA7IUVOWAZSTgtZsy4snPHM7GbTywayD8E0YhLxQ9eFaMCS8jEqV4iRkvMlsijU4Cblc6yavknhiIhApy5S/Vl5UCq6uL0NyhAcsNogl7pSqw1y3hI4y7slVAQG36mkzifQOD6lL1LKrT2nhxPlhO37vknBdL/utGtJrNAtAUd+xxITV/QKQQQu+xL5qOt9gYk/J3WmbCdJoWOeWeublIfULqTEVsolveN3CzeEf4RcQdk/CKwwHL+3P0P/mDXyzfmcFDE7TYr6NhPIuS4wsCvCeaGJQpQ9WzDlhOaYoFCw//w+4LKwSPtEr6w0IjsICgXCmBxz/+NVjBhI+UjYCfOlZipC+8y0RrF/pZb6hBPK4pkaTAzmm0kSE8zVYYFD3f3CbwL99oTVcFWAYMxmKPzNKb6m0HfM+TNTaGjMwiw95AwQJTL+1KSAFAgpl0fhHwuYvJh8rResTsLmUDaVgKWYmbSYXc1xcGHF99rzhjqMgkM5qwRWa0w8UsiLLl8T8BkpwTR75LHPOWAFY8TY+7FesfVPO4PDdOFTYhIjxfLnkMOK+FKYrQwruH09Zs+rSoxHCjq5YIpxrnWkWJEccvAl3gQoAoRVJQZnHcpPSoiZsFxSrM4ccrYsc3Cd9W0VicHpEwWFMheull42JcWK1pFjkafltyunBtFNlWUa4zXmnK9FBsspdzn6imRzkyHnFSEW/RJCh4L/W1/FFUO4GgqhcWwPMpvBYYEGz5ASmwwx07lnIuauhjlliIlHGP7I2+exw/dOjGPbj1i7D6wiMd6Zlad8I+qSbsrvMT+fCN4xzU2lnw7y23mZkisSI2xPzPZVahhRgnccn/q+Q2j7nsBpMYpE+SlhL5Sbn70MbYc8rIcJqQbH8s4zNR5Z5fGiPI5LciU3PxbL4+B2zJQRIo5VvNVRR0xfuvDMKm3NiCnbT+tArIC9v5evxQluaRBtf2xRqqLVLXsqT/5kxXiRwSNe7pGkeafGHCAugxzvBIKg4g7EeB1dNHYfMoexvYOnpL7H4bU5O/qHGG/Hy4aIKGSMwhfFW87AYgebTtZOktCxt0pnpwEQw2bJi8n5EMT7McqPzqD2Ks2bwU7WTpI2I7XMoj8UT/j4jZOJM5sXhTGS4xGDCvjUvMh4vW8s1BsKq/OxMFHPWK/ZptM6wSdPbxdKBW8IYwsGiMywFKEQJZ0MEyPPnm/2jmnC4pivF8LE7eeLlr6+fYMpw/Z6dpZDv8MCK8iIZGZ45k/J94ygWMYVCjOZfdyN8EXwTHmCJNsgck7mWZ5yMfTNRPd8yxWlFx/Pwo3khl4eFeoE8+etsLpyQ3vPpAt1YH3c0g1ImScUDZFsWr2AQsmFsIl9WfBOmpnk7wrF1iXsFM8bwhFhkrs/OfpCivBOC5roB1fwquCtFOo5I8z5PTNlvDTB9mLW9gkhcZZnVa5sPA8IEOP5lDo9YOaOC6eE2LHPlt59J8xJSvEcyxwTDgmpfHMVjvgBx44CiZyYuDFBV/hj/A8+zHyQbivCKvlMqJjLHIVDEKuHGJ8GebYgQLcrKaweiMIncNaIPtALYGPOtU6+VYbzQoUUCuYQQ75QMIFty4Z1De0ZC7HR4/gg4qxQRGC6r8hYlVsZaMMEnPVLAtcu5aYqOyfwMS0pEzFx9aAbHD/bh9jxfLz0/Bs2tBeFuchrPsv800TMvD68J3SEI4ck9iBeJKvkihDJESiAq4LrS5TuykSMq5ZoIk4e575XMGfPFaVbIMCVzSafFxqRofyF/AeKmggOi7OUtAAAAABJRU5ErkJggg==";
        _this.isTemplateOptionChecked = false;
        _this.allowedImageSize = 2; // In MB
        _this.fetchManager = new FetchManager();
        return _this;
    }
    OpenImageDialog.prototype.setContent = function (element) {
        this._renderedElement.appendChild(element);
    };
    OpenImageDialog.prototype.removeContent = function (element) {
        this._renderedElement.removeChild(element);
    };
    OpenImageDialog.prototype.renderTitle = function () {
        var title = document.createElement("div");
        title.className = "acd-image-title";
        title.innerText = "Upload your own card design";
        return title;
    };
    OpenImageDialog.prototype.renderTitleContent = function () {
        var content = document.createElement("div");
        content.className = "acd-image-title-content";
        content.innerText =
            "Design your card and upload it as a png or jpeg, and watch it magically convert to a functioning Adaptive Card";
        return content;
    };
    OpenImageDialog.prototype.renderUploadedImage = function () {
        this._imageElement = document.createElement("img");
        this._imageElement.className = "acd-image-placeholder";
        this._imageElement.setAttribute("src", this._uploadedImage);
        return this._imageElement;
    };
    OpenImageDialog.prototype.renderUploadButton = function (type) {
        var privacyLink = pic2card_1.Pic2Card.privacyLink;
        this._buttonContainer = document.createElement("div");
        this._buttonContainer.className = "acd-upload-button-container";
        var fileNote = document.createElement("div");
        fileNote.className = "acd-image-file-note";
        fileNote.innerHTML =
            "By using the upload feature you agree to our <a href=" + privacyLink + " target='_blank'><span class='link'> image usage policy</span></a>";
        type !== "file" &&
            this._buttonContainer.appendChild(this.renderCheckbox());
        this._buttonContainer.appendChild(type === "file"
            ? this.createFileButton()
            : this.createActionButton());
        this._buttonContainer.appendChild(fileNote);
        return this._buttonContainer;
    };
    OpenImageDialog.prototype.renderCheckbox = function () {
        var _this = this;
        var checkboxContainer = document.createElement("div");
        checkboxContainer.className = "acd-checkbox-container";
        var inputElement = document.createElement("INPUT");
        inputElement.className = "acd-checkbox-element";
        inputElement.setAttribute("id", "template-option");
        inputElement.setAttribute("type", "checkbox");
        inputElement.onclick = function () {
            var checkbox = document.getElementById("template-option");
            _this.isTemplateOptionChecked = checkbox.checked ? true : false;
        };
        inputElement.onfocus = function () {
            var customCheckbox = document.getElementById("acd-custom-checkbox-item");
            customCheckbox.className = "acd-custom-checkbox acd-custom-checkbox-foucs";
        };
        inputElement.addEventListener("focusout", function () {
            var customCheckbox = document.getElementById("acd-custom-checkbox-item");
            customCheckbox.className = "acd-custom-checkbox";
        });
        var customCheckboxElement = (document.createElement("SPAN"));
        customCheckboxElement.id = "acd-custom-checkbox-item";
        customCheckboxElement.className = "acd-custom-checkbox";
        checkboxContainer.appendChild(inputElement);
        checkboxContainer.appendChild(customCheckboxElement);
        checkboxContainer.appendChild(this.renderLabelText());
        return checkboxContainer;
    };
    OpenImageDialog.prototype.renderLabelText = function () {
        var labelElement = document.createElement("LABEL");
        labelElement.className = "acd-label-element";
        labelElement.setAttribute("for", "template-option");
        labelElement.innerHTML =
            "Create Adaptive Card with <a href='https://aka.ms/ACTemplating' target='_blank'><span class='link'>template bindings</span></a> and sample data";
        return labelElement;
    };
    OpenImageDialog.prototype.checkFileSize = function (file) {
        var filesize = parseInt((file.size / 1024 / 1024).toFixed(4)); // MB
        return filesize < this.allowedImageSize;
    };
    OpenImageDialog.prototype.createFileButton = function () {
        var _this = this;
        var inputElement = document.createElement("INPUT");
        inputElement.className = "acd-file-type";
        inputElement.setAttribute("type", "file");
        inputElement.setAttribute("button-name", "Browse File");
        inputElement.setAttribute("accept", "image/*");
        inputElement.setAttribute("aria-label", "Browse File");
        inputElement.onchange = function () {
            if (_this.checkFileSize(inputElement.files[0])) {
                var reader_1 = new FileReader();
                reader_1.readAsDataURL(inputElement.files[0]);
                reader_1.onload = function () { return _this.renderImage(reader_1.result, inputElement.files[0].name); };
                reader_1.onerror = function (error) { return console.log(error); };
            }
            else {
                _this._inputTemplate.removeChild(_this._buttonContainer);
                _this._inputTemplate.appendChild(_this.renderUploadButton("file"));
                _this.generateErrorText("Invalid file size. Try image under 2 MB");
                _this._uploadedImage =
                    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABaCAYAAABKZyO0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAZqADAAQAAAABAAAAWgAAAADllkhhAAALRElEQVR4Ae2c6ZfVRBDFBwdxFwWVRVlmQHHX4xc/+v/r0aOouLA5uIAKiIIbuN3fYyrmdao7nbxkXshLnXNJ0um1bndVdecNu9bq5T5leVLYLzwq7NnGLl3HLH9pcLeFP4SfhGvC78KOSEq56+rBs8JRgftJ1tZuSAkXhJt9KyNGzD41fEpgdUxS1cAVJZ0V/qm+6ibFWwlHVPWLgveum1bv/Vow6Uze68LffQwnVD5ma7OPhkZY5wMaE+R8L/zb9fjKpuwpVf5KogGc4FUB+4pT7LwzqnNIcr8686CA8gl+YoJOzgid6sOI2a2K3xa4hnJHCTi8XmZG2NhAnx9Wv04KMYI+1zv005mYKTumGr1Gf1P6RwLRyCoLk/MHga3DXkcR+JzLQmerBmIAJsxWj25n8qf+hRSuk9zVAPsZfMtjgUKwNJj6W0F660fbPHINhXBwIiXUytrauYhenq5mbZ8CIezoQ8HBs9OdpKoB9i5b1eSZKzDX4LxulgQx2MdQfgwTpuc5DRCJhYIrIEjoRCDG2933fuTQSe+XVwnBAIFRKPifTgRiiNdDYZ8ySVoDno48XaZribyFmDAaI2tnYV+k3TEke+dk6LMT6ayiTnozVVJoYCKmUMWwbiZihsVH0ZuJmEIVw7qZiBkWH0VvJmIKVQzrZiJmWHwUvfG+vxQvl3DzhNp8RnhEYNJwiMqJLt/Ye/mEq3oHKUMhhn6cEA4GWuIcj0PW54QvhJX5LjQEU8aJ7FtCSIqSCuET7xsCq2klZAjEbErTD2Vq+3nl6+ygMLPNpWRbNjF8CTzcYOSYPIgcvSybGH6Z01Qos+x+N+1z4/zLHmCbD0v0eVFzhl/r7Ii+sdYzCiw7Kms7MbxPFRnDnX3iOK6M/LAR4fM5Pz3iB+SDkraK6WoQ/LKkjbT5kQhkEjwYKbRLKP66sOwJSl/mZNnE8NvfpvKzCrTZbJ5UuUNOYwQggyNnCMQ03TRecJRbl8RKSUV/gyNn2cTwCZsdvfeZ1lP210r8xXuRSKsjxYoOipxlE4NS8DMfCt6vTniPQOCWcJGHBpJLilU5GHL6IoZwlGOUXOHnUu8LKL/853SspGvCB8JXQpMfiaRI4WD0kuDJIMjpIxrhwHFTIArit7xnhLKy9egKJHy1DSYMaBvG4uhjPgVSPhHMfB7VfShGzmm9aNuHsM5Gzwy+Szmmyk4IkIJwOszhY+5ZGGUQlNZWIZDyLJU4QqDxqWCkYBovOflIMnL6mLyRJv9P7pIYZt7x/6su7tilQ04T01YUbnhTRworJQy1B0lOV8RAykZCiZDzptAnOazU1ErxSLEuQw4RnydLWTldEHNEo0mRYoPtc+VACr7NE8xXihQrc0E3gyFnUWJQxqaNLONqH7y6XDldkGJdh5xv7CG47ujKWYQYSEEpnhCFbXkvlGbksIIWlRQpHN3krJSwD+eVsHRy1tWJ42HP9PytkIqKsOU4Wk8ghT8RvCbgaPmr31B2K+Epgb8zCZ1xmDf2zErFjHoCKR8LbesmpL5feFwIhQn1pMCkDicXZ3/syRaWNiuG/UGMFHbxkGKnv8y884InrBwCgnBwXt4wrU9SrK1zumGCeoJZ80jz8rZKa0oMp7PsqD2xoxUjxfLUkUMo3YScnSDF+p4ix/L0cm1CDKS8EOlFjBTLniKHzWcuOUR/fZkv62t4hZzvwsS+n3OJOaiOpEgpm69YnxclB1LYL3nCifMiPsWrs5x2Vg87Sk4OMQfUqVPlXpbuzadwzZEccvY4FdWRwplWW0fvNOcmQc5l900PiXVRGT+weynSblNSrBpmN0r0ojUiof1COVqrI6XPlaKuFMKE2S0Qke0qUudvCAieEPiRCZMef/uv0FhoKCYpUmgQ85W7UsI2WDmItw9iUPgc6icCrDNfqbBexRcSCOA/VqAfezNqQp9MOJt09O17gZX2q5AtsRWD4mM+hXcfCm1Jsc7VrZyDymgDtDJ2pSwrpU9SaPtVAVLanlSwalhF1MFJ+00hq88xYliunnRFitWdIoe+ecLg+iSF0B2fignFtHYlWAI25pDFuJMmLkaMylVkUfNVqXA7IUVOWAZSTgtZsy4snPHM7GbTywayD8E0YhLxQ9eFaMCS8jEqV4iRkvMlsijU4Cblc6yavknhiIhApy5S/Vl5UCq6uL0NyhAcsNogl7pSqw1y3hI4y7slVAQG36mkzifQOD6lL1LKrT2nhxPlhO37vknBdL/utGtJrNAtAUd+xxITV/QKQQQu+xL5qOt9gYk/J3WmbCdJoWOeWeublIfULqTEVsolveN3CzeEf4RcQdk/CKwwHL+3P0P/mDXyzfmcFDE7TYr6NhPIuS4wsCvCeaGJQpQ9WzDlhOaYoFCw//w+4LKwSPtEr6w0IjsICgXCmBxz/+NVjBhI+UjYCfOlZipC+8y0RrF/pZb6hBPK4pkaTAzmm0kSE8zVYYFD3f3CbwL99oTVcFWAYMxmKPzNKb6m0HfM+TNTaGjMwiw95AwQJTL+1KSAFAgpl0fhHwuYvJh8rResTsLmUDaVgKWYmbSYXc1xcGHF99rzhjqMgkM5qwRWa0w8UsiLLl8T8BkpwTR75LHPOWAFY8TY+7FesfVPO4PDdOFTYhIjxfLnkMOK+FKYrQwruH09Zs+rSoxHCjq5YIpxrnWkWJEccvAl3gQoAoRVJQZnHcpPSoiZsFxSrM4ccrYsc3Cd9W0VicHpEwWFMheull42JcWK1pFjkafltyunBtFNlWUa4zXmnK9FBsspdzn6imRzkyHnFSEW/RJCh4L/W1/FFUO4GgqhcWwPMpvBYYEGz5ASmwwx07lnIuauhjlliIlHGP7I2+exw/dOjGPbj1i7D6wiMd6Zlad8I+qSbsrvMT+fCN4xzU2lnw7y23mZkisSI2xPzPZVahhRgnccn/q+Q2j7nsBpMYpE+SlhL5Sbn70MbYc8rIcJqQbH8s4zNR5Z5fGiPI5LciU3PxbL4+B2zJQRIo5VvNVRR0xfuvDMKm3NiCnbT+tArIC9v5evxQluaRBtf2xRqqLVLXsqT/5kxXiRwSNe7pGkeafGHCAugxzvBIKg4g7EeB1dNHYfMoexvYOnpL7H4bU5O/qHGG/Hy4aIKGSMwhfFW87AYgebTtZOktCxt0pnpwEQw2bJi8n5EMT7McqPzqD2Ks2bwU7WTpI2I7XMoj8UT/j4jZOJM5sXhTGS4xGDCvjUvMh4vW8s1BsKq/OxMFHPWK/ZptM6wSdPbxdKBW8IYwsGiMywFKEQJZ0MEyPPnm/2jmnC4pivF8LE7eeLlr6+fYMpw/Z6dpZDv8MCK8iIZGZ45k/J94ygWMYVCjOZfdyN8EXwTHmCJNsgck7mWZ5yMfTNRPd8yxWlFx/Pwo3khl4eFeoE8+etsLpyQ3vPpAt1YH3c0g1ImScUDZFsWr2AQsmFsIl9WfBOmpnk7wrF1iXsFM8bwhFhkrs/OfpCivBOC5roB1fwquCtFOo5I8z5PTNlvDTB9mLW9gkhcZZnVa5sPA8IEOP5lDo9YOaOC6eE2LHPlt59J8xJSvEcyxwTDgmpfHMVjvgBx44CiZyYuDFBV/hj/A8+zHyQbivCKvlMqJjLHIVDEKuHGJ8GebYgQLcrKaweiMIncNaIPtALYGPOtU6+VYbzQoUUCuYQQ75QMIFty4Z1De0ZC7HR4/gg4qxQRGC6r8hYlVsZaMMEnPVLAtcu5aYqOyfwMS0pEzFx9aAbHD/bh9jxfLz0/Bs2tBeFuchrPsv800TMvD68J3SEI4ck9iBeJKvkihDJESiAq4LrS5TuykSMq5ZoIk4e575XMGfPFaVbIMCVzSafFxqRofyF/AeKmggOi7OUtAAAAABJRU5ErkJggg==";
                _this._imageElement.setAttribute("src", _this._uploadedImage);
            }
        };
        return inputElement;
    };
    OpenImageDialog.prototype.generateErrorText = function (text) {
        var errorContent = document.createElement("div");
        errorContent.setAttribute("role", "status");
        errorContent.className = "acd-error-text";
        errorContent.innerText = text;
        this._buttonContainer.appendChild(errorContent);
    };
    OpenImageDialog.prototype.onCardFailure = function (spinnerElement) {
        this.removeContent(spinnerElement);
        this._inputTemplate.removeChild(this._buttonContainer);
        var uploadButton = this.renderUploadButton("file");
        this._inputTemplate.appendChild(uploadButton);
        this.generateErrorText("Failed to generate card for selected Image");
        uploadButton.focus();
    };
    OpenImageDialog.prototype.createActionButton = function () {
        var _this = this;
        var uploadButton = document.createElement("INPUT");
        uploadButton.className = "acd-card-button";
        uploadButton.setAttribute("type", "BUTTON");
        uploadButton.setAttribute("button-name", "Convert to Adaptive Card");
        uploadButton.setAttribute("value", "Convert to Adaptive Card");
        uploadButton.onclick = function () {
            uploadButton.setAttribute("aria-label", "Conversion to Adaptive card button pressed. Adaptive Card conversion in Progress");
            var spinnerElement = _this.loadSpinner();
            _this.setContent(spinnerElement);
            spinnerElement.focus();
            _this.fetchManager
                .getPredictedData(_this._uploadedImage, _this.isTemplateOptionChecked)
                .then(function (res) {
                if (!res || res.error) {
                    _this.onCardFailure(spinnerElement);
                }
                else {
                    _this._predictedCardJSON = res.card_json;
                    _this.close();
                }
            });
        };
        return uploadButton;
    };
    OpenImageDialog.prototype.loadSpinner = function () {
        var spinnerHostElement = document.createElement("div");
        spinnerHostElement.className = "acd-spinner-host";
        var spinnerElement = document.createElement("div");
        spinnerElement.className = "acd-spinner acd-image-spinner";
        var spinnerText = document.createElement("div");
        spinnerText.setAttribute("role", "status");
        spinnerText.className = "acd-conversion-text";
        spinnerText.innerText = "Adaptive Card conversion in progress";
        spinnerHostElement.appendChild(spinnerElement);
        spinnerHostElement.appendChild(spinnerText);
        return spinnerHostElement;
    };
    OpenImageDialog.prototype.renderImage = function (imageContent, imageName) {
        this._imageElement.setAttribute("src", imageContent);
        this._imageElement.setAttribute("alt", imageName);
        this._uploadedImage = imageContent;
        this._inputTemplate.removeChild(this._buttonContainer);
        this._inputTemplate.appendChild(this.renderUploadButton("action"));
    };
    OpenImageDialog.prototype.renderUploadControl = function () {
        this._inputTemplate = document.createElement("div");
        this._inputTemplate.className = "acd-upload-control";
        this._inputTemplate.appendChild(this.renderUploadedImage());
        this._inputTemplate.appendChild(this.renderUploadButton("file"));
        return this._inputTemplate;
    };
    OpenImageDialog.prototype.renderUploadContainer = function () {
        var uploadTemplate = document.createElement("div");
        uploadTemplate.className = "acd-image-file-container";
        uploadTemplate.appendChild(this.renderUploadControl());
        return uploadTemplate;
    };
    OpenImageDialog.prototype.renderImageContainer = function () {
        var template = document.createElement("div");
        template.className = "acd-image-upload-container";
        template.appendChild(this.renderTitle());
        template.appendChild(this.renderTitleContent());
        template.appendChild(this.renderUploadContainer());
        return template;
    };
    OpenImageDialog.prototype.renderSampleTemplate = function () {
        var _this = this;
        var sampleImageTemplate = document.createElement("div");
        sampleImageTemplate.id = "acd-sample-images";
        sampleImageTemplate.tabIndex = 0;
        sampleImageTemplate.className = "acd-sample-image-container";
        sampleImageTemplate.style.flexDirection = "column";
        var spinnerElement = document.createElement("div");
        spinnerElement.className = "acd-spinner";
        spinnerElement.style.width = "28px";
        spinnerElement.style.height = "28px";
        var message = document.createElement("div");
        message.className = "acd-dialog-message";
        message.innerText = "Loading Sample Images...";
        message.style.marginTop = "10px";
        sampleImageTemplate.appendChild(spinnerElement);
        sampleImageTemplate.appendChild(message);
        this.fetchManager.getSampleImages().then(function (res) {
            if (res) {
                var imageTitle = document.createElement("div");
                imageTitle.innerText = "Choose from our Sample Images";
                imageTitle.className = "acd-image-title sample-info-text";
                sampleImageTemplate.style.flexDirection = "row";
                sampleImageTemplate.removeChild(spinnerElement);
                sampleImageTemplate.removeChild(message);
                sampleImageTemplate.appendChild(imageTitle);
                var imageContainer_1 = document.createElement("div");
                imageContainer_1.className = "acd-sample-list";
                imageContainer_1.setAttribute("role", "list");
                res.templates.map(function (template, index) {
                    var sampleImage = new ImageItem(template, index + 1);
                    sampleImage.onClick = function (selectedImage, imageName) {
                        _this.renderImage(selectedImage, imageName);
                    };
                    imageContainer_1.appendChild(sampleImage.render());
                });
                sampleImageTemplate.appendChild(imageContainer_1);
                var firstChild = imageContainer_1.firstElementChild;
                firstChild.focus();
            }
            else {
                var errorElement = document.createElement("div");
                errorElement.innerText = "Failed to reach pic2card service";
                errorElement.className = "acd-image-title error-info";
                errorElement.setAttribute("role", "status");
                sampleImageTemplate.removeChild(message);
                sampleImageTemplate.removeChild(spinnerElement);
                sampleImageTemplate.appendChild(errorElement);
            }
        });
        return sampleImageTemplate;
    };
    OpenImageDialog.prototype.renderContent = function () {
        this._renderedElement = document.createElement("div");
        this._renderedElement.className = "acd-pic2card-container";
        var poweredByContainer = document.createElement("div");
        poweredByContainer.className = "acd-poweredby-title";
        poweredByContainer.innerHTML =
            "Powered By <a class='poweredby-link' href='https://www.bigthinkcode.com/' target='_blank'><span class='link'>BigThinkCode</span></a>";
        var container = document.createElement("div");
        container.className = "acd-sample-container";
        container.appendChild(this.renderImageContainer());
        container.appendChild(this.renderSampleTemplate());
        this.setContent(poweredByContainer);
        this.setContent(container);
        return this._renderedElement;
    };
    Object.defineProperty(OpenImageDialog.prototype, "predictedCardJSON", {
        get: function () {
            return this._predictedCardJSON;
        },
        enumerable: false,
        configurable: true
    });
    return OpenImageDialog;
}(dialog_1.Dialog));
exports.OpenImageDialog = OpenImageDialog;
var ImageItem = /** @class */ (function () {
    function ImageItem(template, itemIndex) {
        this.template = template;
        this.itemIndex = itemIndex;
    }
    ImageItem.prototype.render = function () {
        var _this = this;
        var sampleImageName = "Sample Image " + this.itemIndex;
        var imagePlaceholder = (document.createElement("img"));
        imagePlaceholder.className = "acd-sample-image";
        imagePlaceholder.tabIndex = 0;
        imagePlaceholder.setAttribute("role", "listitem");
        imagePlaceholder.setAttribute("alt", sampleImageName);
        imagePlaceholder.setAttribute("src", "data:image/png;base64," + this.template);
        imagePlaceholder.onclick = function (event) {
            _this.onClick(event.target.src, sampleImageName);
            imagePlaceholder.setAttribute("alt", sampleImageName + " selected");
        };
        imagePlaceholder.onfocus = function () {
            imagePlaceholder.setAttribute("alt", sampleImageName);
        };
        imagePlaceholder.onkeydown = function (event) {
            if (event.code === "Enter") {
                _this.onClick(event.target.src, sampleImageName);
                imagePlaceholder.setAttribute("alt", sampleImageName + " selected");
            }
        };
        return imagePlaceholder;
    };
    return ImageItem;
}());
exports.ImageItem = ImageItem;


/***/ }),

/***/ "./src/open-json-schema-dialog.ts":
/*!****************************************!*\
  !*** ./src/open-json-schema-dialog.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OpenJsonSchemaDialog = void 0;
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var dialog_1 = __webpack_require__(/*! ./dialog */ "./src/dialog.ts");
var adaptivecards_templating_1 = __webpack_require__(/*! adaptivecards-templating */ "adaptivecards-templating");
var OpenJsonSchemaDialog = /** @class */ (function (_super) {
    __extends(OpenJsonSchemaDialog, _super);
    function OpenJsonSchemaDialog() {
        var _this = _super.call(this) || this;
        _this.submitButton = new dialog_1.DialogButton("Create");
        _this.submitButton.onClick = function (sender) {
            _this.close();
        };
        _this.buttons = [_this.submitButton];
        return _this;
    }
    OpenJsonSchemaDialog.prototype.open = function () {
        _super.prototype.open.call(this);
        this._editor.layout();
    };
    OpenJsonSchemaDialog.prototype.renderPreview = function () {
        var _a;
        var renderedElement = document.createElement("div");
        renderedElement.className = "acd-open-code-dialog-preview";
        var card = new Adaptive.AdaptiveCard();
        if ((_a = this.output) === null || _a === void 0 ? void 0 : _a.cardPayload) {
            try {
                var cardData = JSON.parse(this.output.cardPayload);
                card.parse(cardData);
            }
            catch (e) {
                console.error(e);
            }
        }
        else {
            card.parse({
                "type": "AdaptiveCard",
                "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
                "version": "1.0",
                "body": [
                    {
                        "type": "TextBlock",
                        "text": "Input JSON Schema to create a card!",
                        "wrap": true,
                        "size": "Large"
                    }
                ]
            });
        }
        card.render();
        card.renderedElement.style.width = "100%";
        renderedElement.appendChild(card.renderedElement);
        return renderedElement;
    };
    OpenJsonSchemaDialog.prototype.refreshPreview = function () {
        this._previewContainer.removeChild(this._previewElement);
        this._previewElement = this.renderPreview();
        this._previewContainer.appendChild(this._previewElement);
    };
    OpenJsonSchemaDialog.prototype.renderEditor = function () {
        var _this = this;
        var renderedElement = document.createElement("div");
        renderedElement.className = "acd-open-code-dialog-editor";
        var monaco = window["monaco"];
        this._editor = monaco.editor.create(renderedElement, {
            folding: true,
            fontSize: 13.5,
            language: 'json',
        });
        this._editor.layout();
        this._editor.onDidChangeModelContent(function () {
            try {
                var model = _this._editor.getValue();
                var json = JSON.parse(model);
                var card = (0, adaptivecards_templating_1.JSONSchemaCard)(json);
                _this._output = {
                    cardPayload: JSON.stringify(card),
                };
                _this.refreshPreview();
            }
            catch (e) {
                console.error(e);
            }
        });
        return renderedElement;
    };
    OpenJsonSchemaDialog.prototype.renderContent = function () {
        var renderedElement = document.createElement("div");
        renderedElement.className = "acd-open-code-dialog-container";
        var editorContainer = document.createElement("div");
        editorContainer.className = "acd-open-code-dialog-editor-container";
        renderedElement.appendChild(editorContainer);
        var editorLabel = document.createElement("h3");
        editorLabel.innerText = "JSON Schema";
        editorContainer.appendChild(editorLabel);
        var editorElement = this.renderEditor();
        editorContainer.appendChild(editorElement);
        this._previewContainer = document.createElement("div");
        this._previewContainer.className = "acd-open-code-dialog-preview-container";
        renderedElement.appendChild(this._previewContainer);
        this._previewElement = this.renderPreview();
        this._previewContainer.appendChild(this._previewElement);
        return renderedElement;
    };
    Object.defineProperty(OpenJsonSchemaDialog.prototype, "output", {
        get: function () {
            return this._output;
        },
        enumerable: false,
        configurable: true
    });
    return OpenJsonSchemaDialog;
}(dialog_1.Dialog));
exports.OpenJsonSchemaDialog = OpenJsonSchemaDialog;


/***/ }),

/***/ "./src/open-sample-dialog.ts":
/*!***********************************!*\
  !*** ./src/open-sample-dialog.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OpenSampleDialog = void 0;
var ACData = __webpack_require__(/*! adaptivecards-templating */ "adaptivecards-templating");
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var dialog_1 = __webpack_require__(/*! ./dialog */ "./src/dialog.ts");
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var OpenSampleItem = /** @class */ (function () {
    function OpenSampleItem(props) {
        this.props = props;
    }
    OpenSampleItem.getNewItemId = function (prefix) {
        var newId = prefix + "-" + OpenSampleItem._id;
        OpenSampleItem._id++;
        return newId;
    };
    OpenSampleItem.prototype.render = function () {
        var _this = this;
        var _a;
        var newItemId = OpenSampleItem.getNewItemId("acd-open-sample-item-title");
        var element = document.createElement("div");
        element.className = "acd-open-sample-item";
        element.tabIndex = 0;
        element.setAttribute("aria-labelledBy", newItemId);
        element.setAttribute("role", "listitem");
        element.onclick = (_a = this.props.onClick) !== null && _a !== void 0 ? _a : (function (e) {
            _this.onCardSelected();
        });
        element.onkeyup = function (e) {
            switch (e.key) {
                case adaptivecards_controls_1.Constants.keys.enter:
                    // If onKeyEnterEvent has been specified, we will follow that logic for selecting an OpenSampleItem
                    if (_this.props.onKeyEnterEvent) {
                        _this.props.onKeyEnterEvent(e);
                    }
                    else {
                        // If onKeyEnterEvent is not specified, we assume OpenSampleItem should be selected and loaded as usual
                        _this.onCardSelected();
                    }
                    break;
                case adaptivecards_controls_1.Constants.keys.down:
                    _this.navigateToNextElement(element);
                    break;
                case adaptivecards_controls_1.Constants.keys.up:
                    _this.navigateToPreviousElement(element);
                    break;
                case adaptivecards_controls_1.Constants.keys.right:
                    _this.navigateToNextElement(element);
                    break;
                case adaptivecards_controls_1.Constants.keys.left:
                    _this.navigateToPreviousElement(element);
                    break;
                default:
                    break;
            }
        };
        var thumbnailHost = document.createElement("div");
        thumbnailHost.className = "acd-open-sample-item-thumbnail";
        if (this.props.cardData instanceof Function) {
            var spinner_1 = document.createElement("div");
            spinner_1.className = "acd-spinner";
            spinner_1.style.width = "28px";
            spinner_1.style.height = "28px";
            thumbnailHost.appendChild(spinner_1);
            var cardData = this.props.cardData(function (cardData) {
                thumbnailHost.removeChild(spinner_1);
                if (cardData.thumbnail instanceof Function) {
                    thumbnailHost.appendChild(cardData.thumbnail());
                }
                else if (cardData.thumbnail) {
                    thumbnailHost.appendChild(cardData.thumbnail);
                }
            });
            if (cardData) {
                thumbnailHost.removeChild(spinner_1);
                if (cardData.thumbnail instanceof Function) {
                    thumbnailHost.appendChild(cardData.thumbnail());
                }
                else if (cardData.thumbnail) {
                    thumbnailHost.appendChild(cardData.thumbnail);
                }
            }
        }
        else if (this.props.cardData) {
            if (this.props.cardData.thumbnail instanceof Function) {
                thumbnailHost.appendChild(this.props.cardData.thumbnail());
            }
            else if (this.props.cardData.thumbnail) {
                thumbnailHost.appendChild(this.props.cardData.thumbnail);
            }
        }
        var displayNameElement = document.createElement("div");
        displayNameElement.className = "acd-open-sample-item-title";
        displayNameElement.id = newItemId;
        displayNameElement.innerText = this.props.label;
        element.appendChild(thumbnailHost);
        element.appendChild(displayNameElement);
        return element;
    };
    OpenSampleItem.prototype.navigateToNextElement = function (element) {
        if (element.nextSibling) {
            element.nextSibling.focus();
        }
        else {
            if (this.onNavigateToNextList) {
                this.onNavigateToNextList();
            }
        }
    };
    OpenSampleItem.prototype.navigateToPreviousElement = function (element) {
        if (element.previousSibling) {
            element.previousSibling.focus();
        }
        else {
            if (this.onNavigateToPreviousList) {
                this.onNavigateToPreviousList();
            }
        }
    };
    OpenSampleItem.prototype.onCardSelected = function () {
        if (this.onComplete) {
            if (this.props.cardData instanceof Function) {
                var cardData = this.props.cardData(this.onComplete);
                if (cardData) {
                    this.onComplete(cardData);
                }
            }
            else if (this.props.cardData) {
                this.onComplete(this.props.cardData);
            }
        }
    };
    OpenSampleItem._id = 0;
    return OpenSampleItem;
}());
var OpenSampleDialog = /** @class */ (function (_super) {
    __extends(OpenSampleDialog, _super);
    function OpenSampleDialog(props) {
        var _this = _super.call(this) || this;
        _this.props = props;
        _this._listElements = [];
        return _this;
    }
    OpenSampleDialog.prototype.renderSection = function (title, items) {
        var _this = this;
        var renderedElement = document.createElement("div");
        if (title) {
            var titleElement = document.createElement("div");
            titleElement.className = "acd-dialog-title";
            titleElement.innerText = title;
            titleElement.style.marginTop = "10px";
            renderedElement.appendChild(titleElement);
        }
        var listElement = document.createElement("div");
        listElement.className = "acd-open-sample-item-container";
        listElement.setAttribute("role", "list");
        this._listElements.push(listElement);
        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
            var item = items_1[_i];
            if (!item)
                continue;
            var itemElement = new OpenSampleItem(item);
            itemElement.onComplete = function (output) {
                _this._output = output;
                _this.close();
            };
            itemElement.onNavigateToNextList = function () {
                var _a;
                // Find the index of the current list
                var currentIndex = _this._listElements.indexOf(listElement);
                // If the next index has a valid list, we want to navigate to the first element
                if ((currentIndex !== -1) && (currentIndex + 1 < _this._listElements.length) && ((_a = _this._listElements.at(currentIndex + 1)) === null || _a === void 0 ? void 0 : _a.firstChild)) {
                    _this._listElements.at(currentIndex + 1).firstChild.focus();
                }
            };
            itemElement.onNavigateToPreviousList = function () {
                var _a;
                // Find the index of the current list
                var currentIndex = _this._listElements.indexOf(listElement);
                // If the previous index has a valid list, we want to navigate to the last element
                if ((currentIndex !== -1) && (currentIndex - 1 >= 0) && ((_a = _this._listElements.at(currentIndex - 1)) === null || _a === void 0 ? void 0 : _a.lastChild)) {
                    _this._listElements.at(currentIndex - 1).lastChild.focus();
                }
            };
            listElement.appendChild(itemElement.render());
        }
        renderedElement.appendChild(listElement);
        return renderedElement;
    };
    OpenSampleDialog.prototype.renderContent = function () {
        var _this = this;
        var renderedElement = document.createElement("div");
        renderedElement.style.overflow = "auto";
        var featuredSection = this.renderSection(null, OpenSampleDialog._builtinItems.concat(this.props.handlers));
        renderedElement.appendChild(featuredSection);
        if (this.props.catalogue) {
            var divider = document.createElement("hr");
            renderedElement.appendChild(divider);
            this.props.catalogue.onDownloaded = function (sender) {
                if (sender.isDownloaded) {
                    var catalogueSection = _this.renderSection("Explore", _this.props.catalogue.entries.map(function (entry) {
                        return {
                            label: entry.displayName,
                            cardData: function (callback) {
                                entry.onDownloaded = function (sender) {
                                    var success = sender.cardPayloadDownloaded;
                                    if (success) {
                                        try {
                                            var cardPayload = JSON.parse(sender.cardPayload);
                                            var card = new Adaptive.AdaptiveCard();
                                            var cardData = sender.sampleData ?
                                                new ACData.Template(cardPayload).expand({
                                                    $root: JSON.parse(sender.sampleData)
                                                })
                                                : cardPayload;
                                            card.parse(cardData);
                                            card.render();
                                            card.renderedElement.style.width = "100%";
                                            return callback({
                                                cardPayload: entry.cardPayload,
                                                sampleData: entry.sampleData,
                                                sampleHostData: "{}",
                                                thumbnail: card.renderedElement,
                                            });
                                        }
                                        catch (e) {
                                            // Swallow the exception
                                            console.error("Unable to load card sample. Error: " + e);
                                            success = false;
                                        }
                                    }
                                };
                                entry.download();
                            },
                        };
                    }));
                    renderedElement.appendChild(catalogueSection);
                }
                else {
                    console.error("Sender is not downloaded");
                }
            };
            this.props.catalogue.download();
        }
        var firstChild = featuredSection.firstElementChild;
        firstChild.focus();
        return renderedElement;
    };
    Object.defineProperty(OpenSampleDialog.prototype, "output", {
        get: function () {
            return this._output;
        },
        enumerable: false,
        configurable: true
    });
    OpenSampleDialog._builtinItems = [
        {
            label: "Blank Card",
            cardData: {
                cardPayload: JSON.stringify({
                    type: "AdaptiveCard",
                    $schema: "http://adaptivecards.io/schemas/adaptive-card.json",
                    version: "1.0",
                    body: []
                }),
            },
        },
    ];
    return OpenSampleDialog;
}(dialog_1.Dialog));
exports.OpenSampleDialog = OpenSampleDialog;


/***/ }),

/***/ "./src/peer-command.ts":
/*!*****************************!*\
  !*** ./src/peer-command.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PeerCommand = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var PeerCommand = /** @class */ (function () {
    function PeerCommand(init) {
        this.alwaysShowName = false;
        this.toolTip = undefined;
        this.isPromotable = false;
        this.showInPropertySheet = false;
        Object.assign(this, init);
    }
    PeerCommand.prototype.internalRender = function () {
        var _this = this;
        var buttonElement = document.createElement("button");
        buttonElement.classList.add("acd-peerButton");
        buttonElement.type = "button";
        buttonElement.title = this.toolTip ? this.toolTip : this.name;
        if (this.iconClass) {
            var iconElement = document.createElement("div");
            iconElement.classList.add("acd-peerButton-icon", this.iconClass);
            buttonElement.appendChild(iconElement);
        }
        if (this.name && (!this.iconClass || this.alwaysShowName)) {
            var nameElement = document.createElement("div");
            nameElement.classList.add("acd-peerButton-text");
            nameElement.innerText = this.name;
            buttonElement.classList.add("variableWidth");
            buttonElement.appendChild(nameElement);
        }
        else {
            buttonElement.classList.add("fixedWidth");
        }
        buttonElement.onclick = function (e) {
            if (_this.execute) {
                _this.execute(_this, buttonElement);
            }
        };
        buttonElement.onpointerdown = function (e) { e.cancelBubble = true; };
        return buttonElement;
    };
    PeerCommand.prototype.render = function () {
        this._renderedElement = this.internalRender();
        return this._renderedElement;
    };
    Object.defineProperty(PeerCommand.prototype, "renderedElement", {
        get: function () {
            return this._renderedElement;
        },
        enumerable: false,
        configurable: true
    });
    return PeerCommand;
}());
exports.PeerCommand = PeerCommand;


/***/ }),

/***/ "./src/pic2card.ts":
/*!*************************!*\
  !*** ./src/pic2card.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Pic2Card = void 0;
var Pic2Card = /** @class */ (function () {
    function Pic2Card() {
    }
    Pic2Card.pic2cardService = "";
    Pic2Card.privacyLink = "../privacy";
    return Pic2Card;
}());
exports.Pic2Card = Pic2Card;


/***/ }),

/***/ "./src/settings-manager.ts":
/*!*********************************!*\
  !*** ./src/settings-manager.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SettingsManager = void 0;
var SettingsManager = /** @class */ (function () {
    function SettingsManager() {
    }
    SettingsManager.determineIfStorageIsAvailable = function (type) {
        try {
            var storage = window[type];
            var x = '__storage_test__';
            storage.setItem(x, x);
            storage.removeItem(x);
            return true;
        }
        catch (e) {
            return e instanceof DOMException && (
            // everything except Firefox
            e.code === 22 ||
                // Firefox
                e.code === 1014 ||
                // test name field too, because code might not be present
                // everything except Firefox
                e.name === 'QuotaExceededError' ||
                // Firefox
                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&
                // acknowledge QuotaExceededError only if there's something already stored
                storage.length !== 0;
        }
    };
    SettingsManager.trySaveSetting = function (name, value) {
        if (SettingsManager.isLocalStorageAvailable) {
            localStorage.setItem(name, value);
        }
    };
    SettingsManager.tryLoadStringSetting = function (name) {
        if (SettingsManager.isLocalStorageAvailable) {
            var returnValue = localStorage.getItem(name);
            return {
                succeeded: true,
                value: returnValue
            };
        }
        else {
            return { succeeded: false };
        }
    };
    SettingsManager.tryLoadNumberSetting = function (name) {
        if (SettingsManager.isLocalStorageAvailable) {
            var returnValue = localStorage.getItem(name);
            return {
                succeeded: true,
                value: returnValue ? parseFloat(returnValue) : undefined
            };
        }
        else {
            return { succeeded: false };
        }
    };
    SettingsManager.tryLoadBooleanSetting = function (name, defaultValue) {
        if (SettingsManager.isLocalStorageAvailable) {
            var returnValue = localStorage.getItem(name);
            return {
                succeeded: true,
                value: returnValue ? returnValue == "true" : defaultValue
            };
        }
        else {
            return { succeeded: false };
        }
    };
    Object.defineProperty(SettingsManager, "isLocalStorageAvailable", {
        get: function () {
            if (!SettingsManager._isLocalStorageAvailable) {
                SettingsManager._isLocalStorageAvailable = SettingsManager.determineIfStorageIsAvailable("localStorage");
            }
            return SettingsManager._isLocalStorageAvailable;
        },
        enumerable: false,
        configurable: true
    });
    SettingsManager._isLocalStorageAvailable = undefined;
    return SettingsManager;
}());
exports.SettingsManager = SettingsManager;


/***/ }),

/***/ "./src/shared.ts":
/*!***********************!*\
  !*** ./src/shared.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GlobalSettings = void 0;
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var GlobalSettings = /** @class */ (function () {
    function GlobalSettings() {
    }
    GlobalSettings.enableDataBindingSupport = false;
    GlobalSettings.showDataStructureToolbox = false;
    GlobalSettings.showSampleDataEditorToolbox = false;
    GlobalSettings.showSampleHostDataEditorToolbox = false;
    GlobalSettings.showVersionPicker = false;
    GlobalSettings.selectedHostContainerControlsTargetVersion = true;
    GlobalSettings.showTargetVersionMismatchWarning = true;
    GlobalSettings.supportedTargetVersions = Adaptive.Versions.getAllDeclaredVersions();
    return GlobalSettings;
}());
exports.GlobalSettings = GlobalSettings;


/***/ }),

/***/ "./src/side-panel.ts":
/*!***************************!*\
  !*** ./src/side-panel.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SidePanel = exports.SidePanelAlignment = void 0;
var splitter_1 = __webpack_require__(/*! ./splitter */ "./src/splitter.ts");
var tool_box_1 = __webpack_require__(/*! ./tool-box */ "./src/tool-box.ts");
var settings_manager_1 = __webpack_require__(/*! ./settings-manager */ "./src/settings-manager.ts");
var SidePanelAlignment;
(function (SidePanelAlignment) {
    SidePanelAlignment[SidePanelAlignment["Top"] = 0] = "Top";
    SidePanelAlignment[SidePanelAlignment["Right"] = 1] = "Right";
    SidePanelAlignment[SidePanelAlignment["Bottom"] = 2] = "Bottom";
    SidePanelAlignment[SidePanelAlignment["Left"] = 3] = "Left";
})(SidePanelAlignment = exports.SidePanelAlignment || (exports.SidePanelAlignment = {}));
var ToolboxInfo = /** @class */ (function () {
    function ToolboxInfo(toolbox) {
        var _this = this;
        this.toolbox = toolbox;
        toolbox.onToggled = function (sender, saveState) {
            if (saveState === void 0) { saveState = true; }
            if (sender.isExpanded) {
                _this.showSplitter();
                _this.toolbox.renderedElement.classList.remove("acd-hidden");
            }
            else {
                _this.hideSplitter();
                _this.toolbox.renderedElement.classList.add("acd-hidden");
            }
            if (_this.onToggled) {
                _this.onToggled(_this, saveState);
            }
        };
    }
    ToolboxInfo.prototype.resizeEnded = function () {
        if (this.onResizeEnded) {
            this.onResizeEnded(this);
        }
    };
    ToolboxInfo.prototype.resized = function () {
        if (this.onResized) {
            this.onResized(this);
        }
    };
    ToolboxInfo.prototype.showSplitter = function () {
        if (this.splitter) {
            this.splitter.attachedTo.classList.remove("acd-hidden");
        }
    };
    ToolboxInfo.prototype.hideSplitter = function () {
        if (this.splitter) {
            this.splitter.attachedTo.classList.add("acd-hidden");
        }
    };
    Object.defineProperty(ToolboxInfo.prototype, "splitter", {
        get: function () {
            return this._splitter;
        },
        set: function (value) {
            var _this = this;
            this._splitter = value;
            this._splitter.onResizeEnded = function (sender) {
                _this.resizeEnded();
            };
            this._splitter.onResized = function (sender) {
                _this.resized();
            };
        },
        enumerable: false,
        configurable: true
    });
    return ToolboxInfo;
}());
var SidePanel = /** @class */ (function () {
    function SidePanel(id, alignment, collapsedTabContainer) {
        this._toolboxes = [];
        this._isRestoring = false;
        this.isResizable = true;
        this.id = id;
        this._alignment = alignment;
        this._collapsedTabContainer = collapsedTabContainer;
    }
    SidePanel.prototype.updateLayout = function () {
        var expandedToolboxCount = 0;
        for (var _i = 0, _a = this._toolboxes; _i < _a.length; _i++) {
            var toolboxInfo = _a[_i];
            if (toolboxInfo.toolbox.isExpanded) {
                expandedToolboxCount++;
                if (expandedToolboxCount == 1) {
                    toolboxInfo.hideSplitter();
                    toolboxInfo.toolbox.stretch = true;
                }
                else {
                    toolboxInfo.showSplitter();
                    toolboxInfo.toolbox.stretch = false;
                }
            }
        }
        if (expandedToolboxCount > 0) {
            this._attachedTo.classList.remove("acd-hidden");
        }
        else {
            this._attachedTo.classList.add("acd-hidden");
        }
    };
    SidePanel.prototype.computeToolboxSize = function (toolbox) {
        var boundingRect = this._attachedTo.getBoundingClientRect();
        var toolboxBoundingRect = toolbox.renderedElement.getBoundingClientRect();
        if (this.isVertical) {
            toolbox.renderedElement.style.height = (100 / boundingRect.height * toolboxBoundingRect.height) + "%";
        }
        else {
            toolbox.renderedElement.style.width = (100 / boundingRect.width * toolboxBoundingRect.width) + "%";
        }
    };
    SidePanel.prototype.resized = function () {
        if (this.onResized) {
            this.onResized(this);
        }
        this.saveState();
    };
    SidePanel.prototype.toolboxResized = function (toolbox) {
        if (this.onToolboxResized) {
            this.onToolboxResized(this, toolbox);
        }
        this.saveState();
    };
    SidePanel.prototype.toolboxExpandedOrCollapsed = function (toolbox, saveState) {
        if (saveState === void 0) { saveState = true; }
        if (this.onToolboxExpandedOrCollapsed) {
            this.onToolboxExpandedOrCollapsed(this, toolbox);
        }
        if (saveState) {
            this.saveState();
        }
    };
    SidePanel.prototype.getDimensionSettingName = function () {
        return this.id + (this.isVertical ? "Height" : "Width");
    };
    Object.defineProperty(SidePanel.prototype, "isVertical", {
        get: function () {
            return this._alignment == SidePanelAlignment.Right || this._alignment == SidePanelAlignment.Left;
        },
        enumerable: false,
        configurable: true
    });
    SidePanel.prototype.addToolbox = function (toolbox) {
        var _this = this;
        var toolboxInfo = new ToolboxInfo(toolbox);
        toolboxInfo.onToggled = function (sender, saveState) {
            if (saveState === void 0) { saveState = true; }
            _this.updateLayout();
            _this.toolboxExpandedOrCollapsed(toolboxInfo.toolbox, saveState);
        };
        toolboxInfo.onResizeEnded = function (sender) {
            _this.computeToolboxSize(sender.toolbox);
            _this.toolboxResized(sender.toolbox);
        };
        toolboxInfo.onResized = function (sender) {
            _this.toolboxResized(sender.toolbox);
        };
        this._toolboxes.push(toolboxInfo);
    };
    SidePanel.prototype.attachTo = function (attachTo) {
        var _this = this;
        this._attachedTo = attachTo;
        this._attachedTo.classList.add("acd-sidepanel-parent");
        this._contentHost = document.createElement("div");
        this._contentHost.className = "acd-sidepanel-host";
        if (this.isVertical) {
            this._contentHost.classList.add("acd-sidepanel-host-vertical");
        }
        else {
            this._contentHost.classList.add("acd-sidepanel-host-horizontal");
        }
        for (var i = 0; i < this._toolboxes.length; i++) {
            var toolboxInfo = this._toolboxes[i];
            toolboxInfo.toolbox.render(this.isVertical ? tool_box_1.ToolboxOrientation.Vertical : tool_box_1.ToolboxOrientation.Horizontal, this._collapsedTabContainer);
            if (i > 0) {
                var splitterElement_1 = document.createElement("div");
                if (this.isVertical) {
                    splitterElement_1.className = "acd-horizontal-splitter";
                    toolboxInfo.toolbox.renderedElement.style.height = (100 / this._toolboxes.length) + "%";
                }
                else {
                    splitterElement_1.className = "acd-vertical-splitter";
                    toolboxInfo.toolbox.renderedElement.style.width = (100 / this._toolboxes.length) + "%";
                }
                toolboxInfo.toolbox.renderedElement.appendChild(splitterElement_1);
                toolboxInfo.splitter = new splitter_1.Splitter(splitterElement_1, toolboxInfo.toolbox.renderedElement, !this.isVertical);
            }
            this._contentHost.appendChild(toolboxInfo.toolbox.renderedElement);
        }
        var splitterElement = null;
        if (this.isResizable) {
            splitterElement = document.createElement("div");
            splitterElement.className = this.isVertical ? "acd-vertical-splitter" : "acd-horizontal-splitter";
            var splitter = new splitter_1.Splitter(splitterElement, this._attachedTo, this.isVertical, this._alignment == SidePanelAlignment.Left || this._alignment == SidePanelAlignment.Top);
            splitter.onResized = function (splitter) {
                _this.resized();
            };
        }
        this._attachedTo.innerHTML = "";
        if (this.isVertical) {
            if (this.size) {
                this._attachedTo.style.width = this.size + "px";
            }
            this._attachedTo.classList.add("acd-sidepanel-parent-vertical");
        }
        else {
            if (this.size) {
                this._attachedTo.style.height = this.size + "px";
            }
            this._attachedTo.classList.add("acd-sidepanel-parent-horizontal");
        }
        if (this._alignment == SidePanelAlignment.Right || this._alignment == SidePanelAlignment.Bottom) {
            if (splitterElement) {
                this._attachedTo.appendChild(splitterElement);
            }
            this._attachedTo.appendChild(this._contentHost);
        }
        else {
            this._attachedTo.appendChild(this._contentHost);
            if (splitterElement) {
                this._attachedTo.appendChild(splitterElement);
            }
        }
        this.restoreState();
        this.updateLayout();
    };
    SidePanel.prototype.saveState = function () {
        if (!this._isRestoring) {
            settings_manager_1.SettingsManager.trySaveSetting(this.getDimensionSettingName(), this.isVertical ? this._attachedTo.style.width : this._attachedTo.style.height);
            for (var _i = 0, _a = this._toolboxes; _i < _a.length; _i++) {
                var toolboxInfo = _a[_i];
                toolboxInfo.toolbox.saveState();
            }
        }
    };
    SidePanel.prototype.restoreState = function () {
        if (this._attachedTo && !this._isRestoring) {
            this._isRestoring = true;
            try {
                var dimensionSetting = settings_manager_1.SettingsManager.tryLoadStringSetting(this.getDimensionSettingName());
                if (dimensionSetting.succeeded && dimensionSetting.value != undefined && dimensionSetting.value != "") {
                    if (this.isVertical) {
                        this._attachedTo.style.width = dimensionSetting.value;
                    }
                    else {
                        this._attachedTo.style.height = dimensionSetting.value;
                    }
                }
                for (var _i = 0, _a = this._toolboxes; _i < _a.length; _i++) {
                    var toolboxInfo = _a[_i];
                    toolboxInfo.toolbox.restoreState();
                }
                this.updateLayout();
                this.resized();
            }
            finally {
                this._isRestoring = false;
            }
        }
    };
    Object.defineProperty(SidePanel.prototype, "contentHost", {
        get: function () {
            return this._contentHost;
        },
        enumerable: false,
        configurable: true
    });
    return SidePanel;
}());
exports.SidePanel = SidePanel;


/***/ }),

/***/ "./src/splitter.ts":
/*!*************************!*\
  !*** ./src/splitter.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Splitter = void 0;
var Splitter = /** @class */ (function () {
    function Splitter(attachedTo, sizedElement, isVertical, isAttachedAfter, minimumSize) {
        var _this = this;
        if (isVertical === void 0) { isVertical = false; }
        if (isAttachedAfter === void 0) { isAttachedAfter = false; }
        if (minimumSize === void 0) { minimumSize = 140; }
        this._isVertical = false;
        this._isAttachedAfter = false;
        this.minimum = 50;
        this.attachedTo = attachedTo;
        this._sizedELement = sizedElement;
        this._isVertical = isVertical;
        this._isAttachedAfter = isAttachedAfter;
        this.minimum = minimumSize;
        this.attachedTo.onmousedown = function (e) { e.preventDefault(); };
        this.attachedTo.onpointerdown = function (e) { _this.pointerDown(e); };
        this.attachedTo.onpointermove = function (e) { _this.pointerMove(e); };
        this.attachedTo.onpointerup = function (e) { _this.pointerUp(e); };
    }
    Splitter.prototype.resizeEnded = function () {
        if (this.onResizeEnded) {
            this.onResizeEnded(this);
        }
    };
    Splitter.prototype.pointerDown = function (e) {
        e.preventDefault();
        this.attachedTo.setPointerCapture(e.pointerId);
        this._lastClickedOffset = { x: e.x, y: e.y };
        this._isPointerDown = true;
    };
    Splitter.prototype.pointerMove = function (e) {
        if (this._isPointerDown) {
            e.preventDefault();
            var sizeApplied = false;
            var newSize = void 0;
            if (this._isVertical) {
                if (this._isAttachedAfter) {
                    newSize = this._sizedELement.getBoundingClientRect().width - (this._lastClickedOffset.x - e.x);
                }
                else {
                    newSize = this._sizedELement.getBoundingClientRect().width - (e.x - this._lastClickedOffset.x);
                }
                if (newSize >= this.minimum) {
                    this._sizedELement.style.width = newSize + "px";
                    sizeApplied = true;
                }
            }
            else {
                if (this._isAttachedAfter) {
                    newSize = this._sizedELement.getBoundingClientRect().height - (this._lastClickedOffset.y - e.y);
                }
                else {
                    newSize = this._sizedELement.getBoundingClientRect().height - (e.y - this._lastClickedOffset.y);
                }
                if (newSize >= this.minimum) {
                    this._sizedELement.style.height = newSize + "px";
                    sizeApplied = true;
                }
            }
            if (sizeApplied) {
                if (this.onResized) {
                    this.onResized(this);
                }
                this._lastClickedOffset = { x: e.x, y: e.y };
            }
        }
    };
    Splitter.prototype.pointerUp = function (e) {
        e.preventDefault();
        this.attachedTo.releasePointerCapture(e.pointerId);
        this.resizeEnded();
        this._isPointerDown = false;
    };
    return Splitter;
}());
exports.Splitter = Splitter;


/***/ }),

/***/ "./src/strings.ts":
/*!************************!*\
  !*** ./src/strings.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Strings = void 0;
var containers_1 = __webpack_require__(/*! ./containers */ "./src/containers/index.ts");
var Strings = /** @class */ (function () {
    function Strings() {
    }
    Strings.toolboxes = {
        toolPalette: {
            title: "CARD ELEMENTS"
        },
        cardEditor: {
            title: "CARD PAYLOAD EDITOR"
        },
        sampleDataEditor: {
            title: "SAMPLE DATA EDITOR"
        },
        sampleHostDataEditor: {
            title: "SAMPLE HOST DATA EDITOR"
        },
        propertySheet: {
            title: "ELEMENT PROPERTIES",
            commands: {
                bindData: {
                    displayText: function () { return "..."; },
                    accessibleText: function (propertyLabel) { return "Data Binding"; }
                }
            }
        },
        cardStructure: {
            title: "CARD STRUCTURE"
        },
        dataStructure: {
            title: "DATA STRUCTURE"
        }
    };
    Strings.loadingEditor = "Loading editor...";
    Strings.widgetOverflowWarning = "[Designer] We have adjusted your card to hide overflow elements. Please ensure all card elements are contained within the proper card height per Widgets Board design guidelines. Only Carousel pagination dots can be present in the bottom " + containers_1.WidgetContainer.widgetPadding + "px margin of a widget.";
    return Strings;
}());
exports.Strings = Strings;


/***/ }),

/***/ "./src/tool-box.ts":
/*!*************************!*\
  !*** ./src/tool-box.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Toolbox = exports.ToolboxOrientation = void 0;
var settings_manager_1 = __webpack_require__(/*! ./settings-manager */ "./src/settings-manager.ts");
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var ToolboxOrientation;
(function (ToolboxOrientation) {
    ToolboxOrientation[ToolboxOrientation["Horizontal"] = 0] = "Horizontal";
    ToolboxOrientation[ToolboxOrientation["Vertical"] = 1] = "Vertical";
})(ToolboxOrientation = exports.ToolboxOrientation || (exports.ToolboxOrientation = {}));
var Toolbox = /** @class */ (function () {
    function Toolbox(id, title) {
        this._isExpanded = true;
        this._stretch = false;
        this._isRestoring = false;
        this._isVisible = true;
        this.commands = null;
        this.id = id;
        this.title = title;
    }
    Toolbox.prototype.getDimensionSettingName = function () {
        return "Toolbox" + this.id + (this._orientation == ToolboxOrientation.Vertical ? "Height" : "Width");
    };
    Toolbox.prototype.updateContent = function () {
        if (this._contentHost) {
            this._contentHost.innerHTML = "";
            if (this._content) {
                this._contentHost.appendChild(this._content);
            }
        }
    };
    Toolbox.prototype.toggled = function (saveState) {
        if (saveState === void 0) { saveState = true; }
        if (this.onToggled) {
            this.onToggled(this, saveState);
        }
    };
    Toolbox.prototype.updateVisibility = function () {
        if (this._collapsedTabContainer) {
            if (!this._isVisible) {
                this.hideToolbox();
            }
            else {
                this._collapsedTabContainer.appendChild(this._headerRootElement);
                this.restoreState();
            }
        }
    };
    Toolbox.prototype.hideToolbox = function () {
        if (this.isExpanded) {
            this.collapse(false);
        }
        this._collapsedTabContainer.removeChild(this._headerRootElement);
    };
    Toolbox.prototype.render = function (orientation, collapsedTabContainer) {
        var _this = this;
        this._orientation = orientation;
        this._collapsedTabContainer = collapsedTabContainer;
        this._renderedElement = document.createElement("div");
        this._renderedElement.classList.add("acd-toolbox");
        this.stretch = this.stretch; // trigger CSS class painting based on defaults
        this._headerRootElement = document.createElement("div");
        this._headerRootElement.innerHTML = "";
        this._headerRootElement.className = "acd-toolbox-header";
        var headerContentElement = document.createElement("div");
        headerContentElement.className = "acd-toolbox-header-content";
        var headerTitleElement = document.createElement("span");
        headerTitleElement.className = "acd-toolbox-header-title";
        headerTitleElement.innerText = this.title;
        headerContentElement.appendChild(headerTitleElement);
        var headerCommandsHostElement = document.createElement("span");
        headerCommandsHostElement.className = "acd-toolbox-header-commandsHost";
        this._customCommandsHost = document.createElement("div");
        this._customCommandsHost.style.display = "flex";
        if (this.commands) {
            var _loop_1 = function (command) {
                var commandButtonElement = document.createElement("div");
                commandButtonElement.className = "acd-toolbox-header-commandButton";
                commandButtonElement.title = command.title;
                commandButtonElement.onclick = function (e) {
                    command.execute(command);
                };
                var commandIconElement = document.createElement("div");
                commandIconElement.classList.add("acd-icon", command.iconClass);
                commandButtonElement.appendChild(commandIconElement);
                this_1._customCommandsHost.appendChild(commandButtonElement);
            };
            var this_1 = this;
            for (var _i = 0, _a = this.commands; _i < _a.length; _i++) {
                var command = _a[_i];
                _loop_1(command);
            }
        }
        headerCommandsHostElement.appendChild(this._customCommandsHost);
        this._expandCollapseButtonElement = document.createElement("span");
        this._expandCollapseButtonElement.className = "acd-toolbox-header-commandButton";
        this._expandCollapseButtonElement.title = "Hide " + this.title;
        this._expandCollapseButtonElement.tabIndex = 0;
        this._expandCollapseButtonElement.setAttribute("role", "button");
        this._expandCollapseButtonElement.setAttribute("aria-expanded", "true");
        this._expandCollapseButtonElement.ariaLabel = this.title;
        this._headerIconElement = document.createElement("span");
        this._headerIconElement.classList.add("acd-icon", "acd-icon-header-expanded");
        this._expandCollapseButtonElement.appendChild(this._headerIconElement);
        this._expandCollapseButtonElement.onkeydown = function (e) {
            if (e.key === adaptivecards_controls_1.Constants.keys.enter || e.key === adaptivecards_controls_1.Constants.keys.space) {
                _this.toggle();
                e.preventDefault();
                _this._expandCollapseButtonElement.focus();
            }
            if (e.key === adaptivecards_controls_1.Constants.keys.escape) {
                _this.collapse();
                e.preventDefault();
                _this._expandCollapseButtonElement.focus();
            }
        };
        this._expandCollapseButtonElement.onclick = function (e) {
            _this.toggle();
            e.preventDefault();
            return true;
        };
        headerCommandsHostElement.appendChild(this._expandCollapseButtonElement);
        headerContentElement.appendChild(headerCommandsHostElement);
        this._headerRootElement.appendChild(headerContentElement);
        this._contentHost = document.createElement("div");
        this._contentHost.style.overflow = "auto";
        this._renderedElement.appendChild(this._headerRootElement);
        this._renderedElement.appendChild(this._contentHost);
        if (!this._isVisible) {
            this.hideToolbox();
        }
        this.updateContent();
    };
    Toolbox.prototype.collapse = function (saveState) {
        if (saveState === void 0) { saveState = true; }
        if (this._isExpanded) {
            this._headerIconElement.classList.add("acd-icon-header-collapsed");
            this._headerIconElement.classList.remove("acd-icon-header-expanded");
            this._customCommandsHost.classList.add("acd-hidden");
            if (this._collapsedTabContainer) {
                this._renderedElement.removeChild(this._headerRootElement);
                this._collapsedTabContainer.appendChild(this._headerRootElement);
            }
            this._expandCollapseButtonElement.title = "Show " + this.title;
            this._expandCollapseButtonElement.setAttribute("aria-expanded", "false");
            this._isExpanded = false;
            this.toggled(saveState);
        }
    };
    Toolbox.prototype.expand = function () {
        if (!this._isExpanded) {
            this._headerIconElement.classList.add("acd-icon-header-expanded");
            this._headerIconElement.classList.remove("acd-icon-header-collapsed");
            this._customCommandsHost.classList.remove("acd-hidden");
            if (this._collapsedTabContainer) {
                this._collapsedTabContainer.removeChild(this._headerRootElement);
                this._renderedElement.insertBefore(this._headerRootElement, this._renderedElement.firstChild);
            }
            this._expandCollapseButtonElement.title = "Hide " + this.title;
            this._expandCollapseButtonElement.setAttribute("aria-expanded", "true");
            this._isExpanded = true;
            this.toggled();
        }
    };
    Toolbox.prototype.toggle = function () {
        if (this.isExpanded) {
            this.collapse();
        }
        else {
            this.expand();
        }
    };
    Toolbox.prototype.getHeaderBoundingRect = function () {
        return this._headerRootElement.getBoundingClientRect();
    };
    Toolbox.prototype.saveState = function () {
        if (!this._isRestoring) {
            settings_manager_1.SettingsManager.trySaveSetting("Toolbox" + this.id + "IsExpanded", this.isExpanded.toString());
            settings_manager_1.SettingsManager.trySaveSetting(this.getDimensionSettingName(), this.orientation == ToolboxOrientation.Vertical ? this.renderedElement.style.height : this.renderedElement.style.width);
        }
    };
    Toolbox.prototype.restoreState = function () {
        if (this.renderedElement && !this._isRestoring && this.isVisible) {
            this._isRestoring = true;
            try {
                var dimensionSetting = settings_manager_1.SettingsManager.tryLoadStringSetting(this.getDimensionSettingName());
                if (dimensionSetting.succeeded && dimensionSetting.value != undefined && dimensionSetting.value != "") {
                    if (this.orientation == ToolboxOrientation.Vertical) {
                        this.renderedElement.style.height = dimensionSetting.value;
                    }
                    else {
                        this.renderedElement.style.width = dimensionSetting.value;
                    }
                }
                var isExpandedSetting = settings_manager_1.SettingsManager.tryLoadBooleanSetting("Toolbox" + this.id + "IsExpanded", true);
                if (isExpandedSetting.succeeded && this.isVisible) {
                    if (isExpandedSetting.value) {
                        this.expand();
                    }
                    else {
                        this.collapse();
                    }
                }
            }
            finally {
                this._isRestoring = false;
            }
        }
    };
    Object.defineProperty(Toolbox.prototype, "orientation", {
        get: function () {
            return this._orientation;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "renderedElement", {
        get: function () {
            return this._renderedElement;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "content", {
        get: function () {
            return this._content;
        },
        set: function (value) {
            this._content = value;
            this.updateContent();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "isExpanded", {
        get: function () {
            return this._isExpanded;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "stretch", {
        get: function () {
            return this._stretch;
        },
        set: function (value) {
            this._stretch = value;
            if (this._stretch) {
                this.renderedElement.classList.add("acd-toolbox-stretch");
                this.renderedElement.classList.remove("acd-toolbox-no-stretch");
            }
            else {
                this.renderedElement.classList.add("acd-toolbox-no-stretch");
                this.renderedElement.classList.remove("acd-toolbox-stretch");
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "isVisible", {
        get: function () {
            return this._isVisible;
        },
        set: function (value) {
            if (this._isVisible != value) {
                this._isVisible = value;
                this.updateVisibility();
            }
        },
        enumerable: false,
        configurable: true
    });
    return Toolbox;
}());
exports.Toolbox = Toolbox;


/***/ }),

/***/ "./src/tool-palette.ts":
/*!*****************************!*\
  !*** ./src/tool-palette.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SnippetPaletteItem = exports.CustomPaletteItem = exports.DataPaletteItem = exports.ElementPaletteItem = exports.BasePaletteItem = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var draggable_element_1 = __webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts");
var card_designer_surface_1 = __webpack_require__(/*! ./card-designer-surface */ "./src/card-designer-surface.ts");
var BasePaletteItem = /** @class */ (function (_super) {
    __extends(BasePaletteItem, _super);
    function BasePaletteItem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BasePaletteItem.prototype.internalRender = function () {
        var element = document.createElement("div");
        element.className = "acd-palette-item";
        element.style.display = "flex";
        element.setAttribute("role", "button");
        element.tabIndex = 0;
        var iconElement = document.createElement("div");
        iconElement.classList.add("acd-icon", "acd-toolPalette-icon", this.getIconClass());
        iconElement.style.flex = "0 0 auto";
        var labelElement = document.createElement("div");
        labelElement.className = "acd-palette-item-label";
        labelElement.style.flex = "1 1 100%";
        labelElement.innerText = this.getText();
        element.appendChild(iconElement);
        element.appendChild(labelElement);
        return element;
    };
    BasePaletteItem.prototype.renderDragVisual = function () {
        return this.internalRender();
    };
    return BasePaletteItem;
}(draggable_element_1.DraggableElement));
exports.BasePaletteItem = BasePaletteItem;
var ElementPaletteItem = /** @class */ (function (_super) {
    __extends(ElementPaletteItem, _super);
    function ElementPaletteItem(typeRegistration, peerRegistration) {
        var _this = _super.call(this) || this;
        _this.typeRegistration = typeRegistration;
        _this.peerRegistration = peerRegistration;
        return _this;
    }
    ElementPaletteItem.prototype.getText = function () {
        return this.typeRegistration.typeName;
    };
    ElementPaletteItem.prototype.getIconClass = function () {
        return this.peerRegistration.iconClass;
    };
    ElementPaletteItem.prototype.createPeer = function (context, designer) {
        return card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(designer, null, new this.typeRegistration.objectType(), true);
    };
    return ElementPaletteItem;
}(BasePaletteItem));
exports.ElementPaletteItem = ElementPaletteItem;
var DataPaletteItem = /** @class */ (function (_super) {
    __extends(DataPaletteItem, _super);
    function DataPaletteItem(field) {
        var _this = _super.call(this) || this;
        _this.field = field;
        return _this;
    }
    DataPaletteItem.prototype.getText = function () {
        return this.field.name;
    };
    DataPaletteItem.prototype.getIconClass = function () {
        return null;
    };
    DataPaletteItem.prototype.createPeer = function (context, designer) {
        var element;
        if (this.field.isCollection) {
            element = new Adaptive.Container();
            element.setCustomProperty("$data", "{" + this.field.getPath() + "}");
        }
        else {
            var textBlock = new Adaptive.TextBlock();
            textBlock.text = "{" + this.field.getPath() + "}";
            element = textBlock;
        }
        return card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(designer, null, element, true);
    };
    return DataPaletteItem;
}(BasePaletteItem));
exports.DataPaletteItem = DataPaletteItem;
var CustomPaletteItem = /** @class */ (function (_super) {
    __extends(CustomPaletteItem, _super);
    function CustomPaletteItem(category) {
        var _this = _super.call(this) || this;
        _this.category = category;
        return _this;
    }
    CustomPaletteItem.prototype.getIconClass = function () {
        return "acd-icon-customPaletteItem";
    };
    return CustomPaletteItem;
}(BasePaletteItem));
exports.CustomPaletteItem = CustomPaletteItem;
var SnippetPaletteItem = /** @class */ (function (_super) {
    __extends(SnippetPaletteItem, _super);
    function SnippetPaletteItem(category, name) {
        var _this = _super.call(this, category) || this;
        _this.name = name;
        return _this;
    }
    SnippetPaletteItem.prototype.getText = function () {
        return this.name;
    };
    SnippetPaletteItem.prototype.createPeer = function (context, designer) {
        if (this.snippet) {
            var rootElementTypeName = this.snippet["type"];
            if (rootElementTypeName) {
                var adaptiveElement = context.hostContainer.elementsRegistry.createInstance(rootElementTypeName, context.targetVersion);
                if (adaptiveElement) {
                    adaptiveElement.parse(this.snippet);
                    return card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(designer, null, adaptiveElement, true);
                }
            }
        }
    };
    return SnippetPaletteItem;
}(CustomPaletteItem));
exports.SnippetPaletteItem = SnippetPaletteItem;


/***/ }),

/***/ "./src/toolbar.ts":
/*!************************!*\
  !*** ./src/toolbar.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Toolbar = exports.ToolbarChoicePicker = exports.ToolbarButton = exports.ToolbarElement = exports.ToolbarElementAlignment = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var uuid_1 = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/index.js");
var ToolbarElementAlignment;
(function (ToolbarElementAlignment) {
    ToolbarElementAlignment[ToolbarElementAlignment["Left"] = 0] = "Left";
    ToolbarElementAlignment[ToolbarElementAlignment["Right"] = 1] = "Right";
})(ToolbarElementAlignment = exports.ToolbarElementAlignment || (exports.ToolbarElementAlignment = {}));
var ToolbarElement = /** @class */ (function () {
    function ToolbarElement(id) {
        this._renderedElement = undefined;
        this.isVisible = true;
        this.separator = false;
        this.label = null;
        this.alignment = ToolbarElementAlignment.Left;
        if (!id || id === "") {
            throw new Error("Toolbar elements must have an Id.");
        }
        this.id = id;
    }
    ToolbarElement.prototype.internalUpdateLayout = function () {
        // Do nothing in base implementation
    };
    ToolbarElement.prototype.updateLayout = function () {
        if (this._renderedElement) {
            this.internalUpdateLayout();
        }
    };
    ToolbarElement.prototype.render = function () {
        this._renderedElement = this.internalRender();
        this.updateLayout();
        return this._renderedElement;
    };
    Object.defineProperty(ToolbarElement.prototype, "renderedElement", {
        get: function () {
            return this._renderedElement;
        },
        enumerable: false,
        configurable: true
    });
    return ToolbarElement;
}());
exports.ToolbarElement = ToolbarElement;
var ToolbarButton = /** @class */ (function (_super) {
    __extends(ToolbarButton, _super);
    function ToolbarButton(id, caption, iconClass, onClick) {
        if (onClick === void 0) { onClick = null; }
        var _this = _super.call(this, id) || this;
        _this._displayCaption = true;
        _this._iconClass = undefined;
        _this._toolTip = undefined;
        _this._isEnabled = true;
        _this._allowToggle = false;
        _this._isToggled = false;
        _this.caption = caption;
        _this.iconClass = iconClass;
        _this.onClick = onClick;
        return _this;
    }
    ToolbarButton.prototype.clicked = function () {
        if (this.isEnabled && this.onClick) {
            this.onClick(this);
        }
    };
    ToolbarButton.prototype.internalUpdateLayout = function () {
        this.renderedElement.className = "acd-toolbar-button";
        if (!this.isEnabled) {
            this.renderedElement.classList.add("acd-toolbar-button-disabled");
            this.renderedElement.setAttribute("aria-disabled", "true");
            this.renderedElement.tabIndex = -1;
        }
        else {
            this.renderedElement.classList.remove("acd-toolbar-button-disabled");
            this.renderedElement.removeAttribute("aria-disabled");
            this.renderedElement.tabIndex = 0;
        }
        if (this.isToggled) {
            this.renderedElement.classList.add("acd-toolbar-button-toggled");
        }
        else {
            this.renderedElement.classList.remove("acd-toolbar-button-toggled");
        }
        if (this.allowToggle) {
            this.renderedElement.setAttribute("aria-pressed", this.isToggled.toString());
        }
        if (this.iconClass) {
            this.renderedElement.classList.add(this.iconClass);
        }
        if (!this.displayCaption) {
            this.renderedElement.classList.add("acd-toolbar-button-iconOnly");
            this.renderedElement.innerText = "";
            this.renderedElement.ariaLabel = this.caption;
        }
        else {
            this.renderedElement.innerText = this.caption;
        }
        this.renderedElement.title = this.toolTip ? this.toolTip : "";
    };
    ToolbarButton.prototype.internalRender = function () {
        var _this = this;
        var element = document.createElement("button");
        element.type = "button";
        element.onclick = function (e) {
            if (_this.allowToggle) {
                _this.isToggled = !_this.isToggled;
            }
            _this.clicked();
        };
        return element;
    };
    Object.defineProperty(ToolbarButton.prototype, "allowToggle", {
        get: function () {
            return this._allowToggle;
        },
        set: function (value) {
            this._allowToggle = value;
            if (!this._allowToggle) {
                this.isToggled = false;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "isToggled", {
        get: function () {
            return this._isToggled;
        },
        set: function (value) {
            this._isToggled = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "caption", {
        get: function () {
            return this._caption;
        },
        set: function (value) {
            this._caption = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "displayCaption", {
        get: function () {
            return this._displayCaption;
        },
        set: function (value) {
            this._displayCaption = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "iconClass", {
        get: function () {
            return this._iconClass;
        },
        set: function (value) {
            this._iconClass = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "toolTip", {
        get: function () {
            return this._toolTip;
        },
        set: function (value) {
            this._toolTip = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "isEnabled", {
        get: function () {
            return this._isEnabled;
        },
        set: function (value) {
            this._isEnabled = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    return ToolbarButton;
}(ToolbarElement));
exports.ToolbarButton = ToolbarButton;
var ToolbarChoicePicker = /** @class */ (function (_super) {
    __extends(ToolbarChoicePicker, _super);
    function ToolbarChoicePicker() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._isEnabled = true;
        _this._isHidden = false;
        _this.label = null;
        _this.choices = [];
        _this.width = null;
        return _this;
    }
    ToolbarChoicePicker.prototype.internalRender = function () {
        var _this = this;
        this._dropDown = new adaptivecards_controls_1.DropDown();
        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {
            var choice = _a[_i];
            var dropDownItem = new adaptivecards_controls_1.DropDownItem(choice.value, choice.name);
            this._dropDown.items.add(dropDownItem);
        }
        this._dropDown.selectedIndex = 0;
        this._dropDown.onValueChanged = function (sender) {
            if (_this.onChanged) {
                _this.onChanged(_this);
            }
        };
        var pickerElement = document.createElement("div");
        if (this.width && this.width > 0) {
            pickerElement.style.width = this.width + "px";
        }
        // update label ids so we can generate correct aria
        if (this.label && !this._labelledById) {
            this._labelledById = (0, uuid_1.v4)();
            this._dropDown.parentLabelId = this._labelledById;
        }
        this._dropDown.attach(pickerElement);
        var pickerContainerElement = document.createElement("div");
        pickerContainerElement.className = "acd-toolbar-choicePicker";
        if (this.label) {
            var labelElement = document.createElement("div");
            labelElement.className = "acd-toolbar-label";
            labelElement.innerText = this.label;
            labelElement.id = this._labelledById;
            pickerContainerElement.appendChild(labelElement);
        }
        pickerContainerElement.appendChild(pickerElement);
        return pickerContainerElement;
    };
    ToolbarChoicePicker.prototype.internalUpdateLayout = function () {
        if (!this.isEnabled) {
            this.renderedElement.classList.add("acd-toolbar-picker-disabled");
            this.renderedElement.setAttribute("aria-disabled", "true");
            this._dropDown.isEnabled = false;
        }
        else {
            this.renderedElement.classList.remove("acd-toolbar-picker-disabled");
            this.renderedElement.removeAttribute("aria-disabled");
            this._dropDown.isEnabled = true;
        }
        if (this.isHidden) {
            this.renderedElement.classList.add("acd-toolbar-picker-hidden");
            this.renderedElement.setAttribute("aria-disabled", "true");
        }
        else {
            this.renderedElement.classList.remove("acd-toolbar-picker-hidden");
            this.renderedElement.removeAttribute("aria-disabled");
        }
    };
    Object.defineProperty(ToolbarChoicePicker.prototype, "value", {
        get: function () {
            return this._dropDown.value.key;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarChoicePicker.prototype, "selectedIndex", {
        get: function () {
            return this._dropDown.selectedIndex;
        },
        set: function (value) {
            this._dropDown.selectedIndex = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarChoicePicker.prototype, "isEnabled", {
        get: function () {
            return this._isEnabled;
        },
        set: function (value) {
            this._isEnabled = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarChoicePicker.prototype, "isHidden", {
        get: function () {
            return this._isHidden;
        },
        set: function (value) {
            this._isHidden = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    return ToolbarChoicePicker;
}(ToolbarElement));
exports.ToolbarChoicePicker = ToolbarChoicePicker;
var Toolbar = /** @class */ (function () {
    function Toolbar() {
        this._elements = [];
    }
    Toolbar.prototype.createSeparatorElement = function () {
        var separatorElement = document.createElement("div");
        separatorElement.className = "acd-toolbar-separator";
        return separatorElement;
    };
    Toolbar.prototype.renderElementsInto = function (container, elements, separatorPosition) {
        for (var i = 0; i < elements.length; i++) {
            if (elements[i].separator && separatorPosition == ToolbarElementAlignment.Left && i > 0) {
                container.appendChild(this.createSeparatorElement());
            }
            container.appendChild(elements[i].render());
            if (elements[i].separator && separatorPosition == ToolbarElementAlignment.Right && i < elements.length - 1) {
                container.appendChild(this.createSeparatorElement());
            }
        }
    };
    Toolbar.prototype.attachTo = function (element) {
        this._attachedTo = element;
        this._attachedTo.className = "acd-toolbar";
        this._attachedTo.innerHTML = "";
        var leftElements = [];
        var rightElements = [];
        for (var _i = 0, _a = this._elements; _i < _a.length; _i++) {
            var element_1 = _a[_i];
            if (element_1.isVisible) {
                if (element_1.alignment == ToolbarElementAlignment.Left) {
                    leftElements.push(element_1);
                }
                else {
                    rightElements.push(element_1);
                }
            }
        }
        var leftContainer = document.createElement("div");
        leftContainer.className = "acd-toolbar-content";
        var rightContainer = document.createElement("div");
        rightContainer.className = "acd-toolbar-content";
        this.renderElementsInto(leftContainer, leftElements, ToolbarElementAlignment.Left);
        this.renderElementsInto(rightContainer, rightElements, ToolbarElementAlignment.Right);
        this._attachedTo.appendChild(leftContainer);
        this._attachedTo.appendChild(rightContainer);
    };
    Toolbar.prototype.addElement = function (element) {
        this._elements.push(element);
    };
    Toolbar.prototype.getElementById = function (elementId) {
        for (var _i = 0, _a = this._elements; _i < _a.length; _i++) {
            var element = _a[_i];
            if (element.id == elementId) {
                return element;
            }
        }
        return null;
    };
    Toolbar.prototype.insertElementAfter = function (element, afterElementId) {
        for (var i = 0; i < this._elements.length; i++) {
            if (this._elements[i].id == afterElementId) {
                this._elements.splice(i + 1, 0, element);
                return;
            }
        }
        // Add as the last element if no element was found with the
        // specified id
        this._elements.push(element);
    };
    Toolbar.prototype.insertElementBefore = function (element, beforeElementId) {
        for (var i = this._elements.length - 1; i >= 0; i--) {
            if (this._elements[i].id == beforeElementId) {
                this._elements.splice(i, 0, element);
                return;
            }
        }
        // Insert as first element if no element was found with the
        // specified id
        this._elements.splice(0, 0, element);
    };
    return Toolbar;
}());
exports.Toolbar = Toolbar;


/***/ }),

/***/ "./src/tree-view.ts":
/*!**************************!*\
  !*** ./src/tree-view.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeView = void 0;
var TreeView = /** @class */ (function () {
    function TreeView(rootItem) {
        this.rootItem = rootItem;
        this._selectedItem = undefined;
    }
    TreeView.prototype.setupTreeItemEvents = function (treeItem) {
        var _this = this;
        treeItem.onSelectedChange = function (sender) {
            _this.selectedItem = sender;
        };
        for (var i = 0; i < treeItem.getChildCount(); i++) {
            this.setupTreeItemEvents(treeItem.getChildAt(i));
        }
    };
    TreeView.prototype.selectedItemChanged = function () {
        if (this.onSelectedItemChanged) {
            this.onSelectedItemChanged(this);
        }
    };
    TreeView.prototype.focus = function () {
        if (this.rootItem) {
            this.rootItem.focus();
        }
    };
    TreeView.prototype.render = function () {
        var treeRoot = document.createElement("ul");
        treeRoot.style.paddingLeft = "0";
        treeRoot.style.listStyleType = "none";
        treeRoot.className = "acd-treeView";
        treeRoot.setAttribute("role", "tree");
        treeRoot.appendChild(this.rootItem.render());
        this.setupTreeItemEvents(this.rootItem);
        return treeRoot;
    };
    Object.defineProperty(TreeView.prototype, "selectedItem", {
        get: function () {
            return this._selectedItem;
        },
        set: function (value) {
            if (value !== this._selectedItem) {
                if (this._selectedItem) {
                    this._selectedItem.isSelected = false;
                }
                this._selectedItem = value;
                if (this._selectedItem) {
                    this._selectedItem.isSelected = true;
                }
                this.selectedItemChanged();
            }
        },
        enumerable: false,
        configurable: true
    });
    return TreeView;
}());
exports.TreeView = TreeView;


/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/index.js":
/*!******************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "v1": () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "v3": () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "v4": () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "v5": () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "NIL": () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "version": () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "validate": () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_6__["default"]),
/* harmony export */   "stringify": () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_7__["default"]),
/* harmony export */   "parse": () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_8__["default"])
/* harmony export */ });
/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ "../node_modules/uuid/dist/esm-browser/v1.js");
/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ "../node_modules/uuid/dist/esm-browser/v3.js");
/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ "../node_modules/uuid/dist/esm-browser/v4.js");
/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ "../node_modules/uuid/dist/esm-browser/v5.js");
/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ "../node_modules/uuid/dist/esm-browser/nil.js");
/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ "../node_modules/uuid/dist/esm-browser/version.js");
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ "../node_modules/uuid/dist/esm-browser/validate.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ "../node_modules/uuid/dist/esm-browser/stringify.js");
/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ "../node_modules/uuid/dist/esm-browser/parse.js");










/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/md5.js":
/*!****************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/md5.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/*
 * Browser-compatible JavaScript MD5
 *
 * Modification of JavaScript MD5
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 *
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */
function md5(bytes) {
  if (typeof bytes === 'string') {
    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape

    bytes = new Uint8Array(msg.length);

    for (var i = 0; i < msg.length; ++i) {
      bytes[i] = msg.charCodeAt(i);
    }
  }

  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));
}
/*
 * Convert an array of little-endian words to an array of bytes
 */


function md5ToHexEncodedArray(input) {
  var output = [];
  var length32 = input.length * 32;
  var hexTab = '0123456789abcdef';

  for (var i = 0; i < length32; i += 8) {
    var x = input[i >> 5] >>> i % 32 & 0xff;
    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);
    output.push(hex);
  }

  return output;
}
/**
 * Calculate output length with padding and bit length
 */


function getOutputLength(inputLength8) {
  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;
}
/*
 * Calculate the MD5 of an array of little-endian words, and a bit length.
 */


function wordsToMd5(x, len) {
  /* append padding */
  x[len >> 5] |= 0x80 << len % 32;
  x[getOutputLength(len) - 1] = len;
  var a = 1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d = 271733878;

  for (var i = 0; i < x.length; i += 16) {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;
    a = md5ff(a, b, c, d, x[i], 7, -680876936);
    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);
    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);
    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);
    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);
    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);
    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);
    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);
    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);
    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);
    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);
    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);
    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);
    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);
    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);
    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);
    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);
    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);
    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);
    b = md5gg(b, c, d, a, x[i], 20, -373897302);
    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);
    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);
    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);
    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);
    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);
    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);
    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);
    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);
    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);
    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);
    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);
    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);
    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);
    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);
    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);
    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);
    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);
    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);
    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);
    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);
    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);
    d = md5hh(d, a, b, c, x[i], 11, -358537222);
    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);
    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);
    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);
    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);
    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);
    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);
    a = md5ii(a, b, c, d, x[i], 6, -198630844);
    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);
    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);
    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);
    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);
    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);
    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);
    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);
    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);
    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);
    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);
    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);
    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);
    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);
    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);
    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);
    a = safeAdd(a, olda);
    b = safeAdd(b, oldb);
    c = safeAdd(c, oldc);
    d = safeAdd(d, oldd);
  }

  return [a, b, c, d];
}
/*
 * Convert an array bytes to an array of little-endian words
 * Characters >255 have their high-byte silently ignored.
 */


function bytesToWords(input) {
  if (input.length === 0) {
    return [];
  }

  var length8 = input.length * 8;
  var output = new Uint32Array(getOutputLength(length8));

  for (var i = 0; i < length8; i += 8) {
    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;
  }

  return output;
}
/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally
 * to work around bugs in some JS interpreters.
 */


function safeAdd(x, y) {
  var lsw = (x & 0xffff) + (y & 0xffff);
  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
  return msw << 16 | lsw & 0xffff;
}
/*
 * Bitwise rotate a 32-bit number to the left.
 */


function bitRotateLeft(num, cnt) {
  return num << cnt | num >>> 32 - cnt;
}
/*
 * These functions implement the four basic operations the algorithm uses.
 */


function md5cmn(q, a, b, x, s, t) {
  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);
}

function md5ff(a, b, c, d, x, s, t) {
  return md5cmn(b & c | ~b & d, a, b, x, s, t);
}

function md5gg(a, b, c, d, x, s, t) {
  return md5cmn(b & d | c & ~d, a, b, x, s, t);
}

function md5hh(a, b, c, d, x, s, t) {
  return md5cmn(b ^ c ^ d, a, b, x, s, t);
}

function md5ii(a, b, c, d, x, s, t) {
  return md5cmn(c ^ (b | ~d), a, b, x, s, t);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/nil.js":
/*!****************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/nil.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/parse.js":
/*!******************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/parse.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "../node_modules/uuid/dist/esm-browser/validate.js");


function parse(uuid) {
  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {
    throw TypeError('Invalid UUID');
  }

  var v;
  var arr = new Uint8Array(16); // Parse ########-....-....-....-............

  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;
  arr[1] = v >>> 16 & 0xff;
  arr[2] = v >>> 8 & 0xff;
  arr[3] = v & 0xff; // Parse ........-####-....-....-............

  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;
  arr[5] = v & 0xff; // Parse ........-....-####-....-............

  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;
  arr[7] = v & 0xff; // Parse ........-....-....-####-............

  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;
  arr[9] = v & 0xff; // Parse ........-....-....-....-############
  // (Use "/" to avoid 32-bit truncation when bit-shifting high-order bytes)

  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;
  arr[11] = v / 0x100000000 & 0xff;
  arr[12] = v >>> 24 & 0xff;
  arr[13] = v >>> 16 & 0xff;
  arr[14] = v >>> 8 & 0xff;
  arr[15] = v & 0xff;
  return arr;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/regex.js":
/*!******************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/regex.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/rng.js":
/*!****************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/rng.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ rng)
/* harmony export */ });
// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  // lazy load so that environments that need to polyfill have a chance to do so
  if (!getRandomValues) {
    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
    // find the complete implementation of crypto (msCrypto) on IE11.
    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);

    if (!getRandomValues) {
      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
    }
  }

  return getRandomValues(rnds8);
}

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/sha1.js":
/*!*****************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/sha1.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// Adapted from Chris Veness' SHA1 code at
// http://www.movable-type.co.uk/scripts/sha1.html
function f(s, x, y, z) {
  switch (s) {
    case 0:
      return x & y ^ ~x & z;

    case 1:
      return x ^ y ^ z;

    case 2:
      return x & y ^ x & z ^ y & z;

    case 3:
      return x ^ y ^ z;
  }
}

function ROTL(x, n) {
  return x << n | x >>> 32 - n;
}

function sha1(bytes) {
  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];
  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];

  if (typeof bytes === 'string') {
    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape

    bytes = [];

    for (var i = 0; i < msg.length; ++i) {
      bytes.push(msg.charCodeAt(i));
    }
  } else if (!Array.isArray(bytes)) {
    // Convert Array-like to Array
    bytes = Array.prototype.slice.call(bytes);
  }

  bytes.push(0x80);
  var l = bytes.length / 4 + 2;
  var N = Math.ceil(l / 16);
  var M = new Array(N);

  for (var _i = 0; _i < N; ++_i) {
    var arr = new Uint32Array(16);

    for (var j = 0; j < 16; ++j) {
      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];
    }

    M[_i] = arr;
  }

  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);
  M[N - 1][14] = Math.floor(M[N - 1][14]);
  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;

  for (var _i2 = 0; _i2 < N; ++_i2) {
    var W = new Uint32Array(80);

    for (var t = 0; t < 16; ++t) {
      W[t] = M[_i2][t];
    }

    for (var _t = 16; _t < 80; ++_t) {
      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);
    }

    var a = H[0];
    var b = H[1];
    var c = H[2];
    var d = H[3];
    var e = H[4];

    for (var _t2 = 0; _t2 < 80; ++_t2) {
      var s = Math.floor(_t2 / 20);
      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;
      e = d;
      d = c;
      c = ROTL(b, 30) >>> 0;
      b = a;
      a = T;
    }

    H[0] = H[0] + a >>> 0;
    H[1] = H[1] + b >>> 0;
    H[2] = H[2] + c >>> 0;
    H[3] = H[3] + d >>> 0;
    H[4] = H[4] + e >>> 0;
  }

  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/stringify.js":
/*!**********************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/stringify.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "../node_modules/uuid/dist/esm-browser/validate.js");

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */

var byteToHex = [];

for (var i = 0; i < 256; ++i) {
  byteToHex.push((i + 0x100).toString(16).substr(1));
}

function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // Note: Be careful editing this code!  It's been tuned for performance
  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
  // of the following:
  // - One or more input array values don't map to a hex octet (leading to
  // "undefined" in the uuid)
  // - Invalid input values for the RFC `version` or `variant` fields

  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {
    throw TypeError('Stringified UUID is invalid');
  }

  return uuid;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/v1.js":
/*!***************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/v1.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ "../node_modules/uuid/dist/esm-browser/rng.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "../node_modules/uuid/dist/esm-browser/stringify.js");

 // **`v1()` - Generate time-based UUID**
//
// Inspired by https://github.com/LiosK/UUID.js
// and http://docs.python.org/library/uuid.html

var _nodeId;

var _clockseq; // Previous uuid creation time


var _lastMSecs = 0;
var _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details

function v1(options, buf, offset) {
  var i = buf && offset || 0;
  var b = buf || new Array(16);
  options = options || {};
  var node = options.node || _nodeId;
  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not
  // specified.  We do this lazily to minimize issues related to insufficient
  // system entropy.  See #189

  if (node == null || clockseq == null) {
    var seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__["default"])();

    if (node == null) {
      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];
    }

    if (clockseq == null) {
      // Per 4.2.2, randomize (14 bit) clockseq
      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;
    }
  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,
  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.


  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock
  // cycle to simulate higher resolution clock

  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)

  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression

  if (dt < 0 && options.clockseq === undefined) {
    clockseq = clockseq + 1 & 0x3fff;
  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
  // time interval


  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {
    nsecs = 0;
  } // Per 4.2.1.2 Throw error if too many uuids are requested


  if (nsecs >= 10000) {
    throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
  }

  _lastMSecs = msecs;
  _lastNSecs = nsecs;
  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch

  msecs += 12219292800000; // `time_low`

  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
  b[i++] = tl >>> 24 & 0xff;
  b[i++] = tl >>> 16 & 0xff;
  b[i++] = tl >>> 8 & 0xff;
  b[i++] = tl & 0xff; // `time_mid`

  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;
  b[i++] = tmh >>> 8 & 0xff;
  b[i++] = tmh & 0xff; // `time_high_and_version`

  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version

  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)

  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`

  b[i++] = clockseq & 0xff; // `node`

  for (var n = 0; n < 6; ++n) {
    b[i + n] = node[n];
  }

  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__["default"])(b);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/v3.js":
/*!***************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/v3.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ "../node_modules/uuid/dist/esm-browser/v35.js");
/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ "../node_modules/uuid/dist/esm-browser/md5.js");


var v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__["default"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__["default"]);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/v35.js":
/*!****************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/v35.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DNS": () => (/* binding */ DNS),
/* harmony export */   "URL": () => (/* binding */ URL),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "../node_modules/uuid/dist/esm-browser/stringify.js");
/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ "../node_modules/uuid/dist/esm-browser/parse.js");



function stringToBytes(str) {
  str = unescape(encodeURIComponent(str)); // UTF8 escape

  var bytes = [];

  for (var i = 0; i < str.length; ++i) {
    bytes.push(str.charCodeAt(i));
  }

  return bytes;
}

var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';
var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(name, version, hashfunc) {
  function generateUUID(value, namespace, buf, offset) {
    if (typeof value === 'string') {
      value = stringToBytes(value);
    }

    if (typeof namespace === 'string') {
      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__["default"])(namespace);
    }

    if (namespace.length !== 16) {
      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');
    } // Compute hash of namespace and value, Per 4.3
    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =
    // hashfunc([...namespace, ... value])`


    var bytes = new Uint8Array(16 + value.length);
    bytes.set(namespace);
    bytes.set(value, namespace.length);
    bytes = hashfunc(bytes);
    bytes[6] = bytes[6] & 0x0f | version;
    bytes[8] = bytes[8] & 0x3f | 0x80;

    if (buf) {
      offset = offset || 0;

      for (var i = 0; i < 16; ++i) {
        buf[offset + i] = bytes[i];
      }

      return buf;
    }

    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__["default"])(bytes);
  } // Function#name is not settable on some platforms (#270)


  try {
    generateUUID.name = name; // eslint-disable-next-line no-empty
  } catch (err) {} // For CommonJS default export support


  generateUUID.DNS = DNS;
  generateUUID.URL = URL;
  return generateUUID;
}

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/v4.js":
/*!***************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/v4.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ "../node_modules/uuid/dist/esm-browser/rng.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "../node_modules/uuid/dist/esm-browser/stringify.js");



function v4(options, buf, offset) {
  options = options || {};
  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__["default"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

  if (buf) {
    offset = offset || 0;

    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }

    return buf;
  }

  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__["default"])(rnds);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/v5.js":
/*!***************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/v5.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ "../node_modules/uuid/dist/esm-browser/v35.js");
/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ "../node_modules/uuid/dist/esm-browser/sha1.js");


var v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__["default"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__["default"]);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/validate.js":
/*!*********************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/validate.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ "../node_modules/uuid/dist/esm-browser/regex.js");


function validate(uuid) {
  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__["default"].test(uuid);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);

/***/ }),

/***/ "../node_modules/uuid/dist/esm-browser/version.js":
/*!********************************************************!*\
  !*** ../node_modules/uuid/dist/esm-browser/version.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "../node_modules/uuid/dist/esm-browser/validate.js");


function version(uuid) {
  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {
    throw TypeError('Invalid UUID');
  }

  return parseInt(uuid.substr(14, 1), 16);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);

/***/ }),

/***/ "./src/assets/xmark.svg":
/*!******************************!*\
  !*** ./src/assets/xmark.svg ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMjAgNTEyIiBmaWxsPSJBY3RpdmVCb3JkZXIiPjwhLS0hIEZvbnQgQXdlc29tZSBGcmVlIDYuMS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgKEljb25zOiBDQyBCWSA0LjAsIEZvbnRzOiBTSUwgT0ZMIDEuMSwgQ29kZTogTUlUIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMzEwLjYgMzYxLjRjMTIuNSAxMi41IDEyLjUgMzIuNzUgMCA0NS4yNUMzMDQuNCA0MTIuOSAyOTYuMiA0MTYgMjg4IDQxNnMtMTYuMzgtMy4xMjUtMjIuNjItOS4zNzVMMTYwIDMwMS4zTDU0LjYzIDQwNi42QzQ4LjM4IDQxMi45IDQwLjE5IDQxNiAzMiA0MTZTMTUuNjMgNDEyLjkgOS4zNzUgNDA2LjZjLTEyLjUtMTIuNS0xMi41LTMyLjc1IDAtNDUuMjVsMTA1LjQtMTA1LjRMOS4zNzUgMTUwLjZjLTEyLjUtMTIuNS0xMi41LTMyLjc1IDAtNDUuMjVzMzIuNzUtMTIuNSA0NS4yNSAwTDE2MCAyMTAuOGwxMDUuNC0xMDUuNGMxMi41LTEyLjUgMzIuNzUtMTIuNSA0NS4yNSAwczEyLjUgMzIuNzUgMCA0NS4yNWwtMTA1LjQgMTA1LjRMMzEwLjYgMzYxLjR6Ii8+PC9zdmc+";

/***/ }),

/***/ "adaptivecards":
/*!************************************************************************************************!*\
  !*** external {"commonjs2":"adaptivecards","commonjs":"adaptivecards","root":"AdaptiveCards"} ***!
  \************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_adaptivecards__;

/***/ }),

/***/ "adaptivecards-templating":
/*!***************************************************************************************************************!*\
  !*** external {"commonjs2":"adaptivecards-templating","commonjs":"adaptivecards-templating","root":"ACData"} ***!
  \***************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_adaptivecards_templating__;

/***/ }),

/***/ "./src/hostConfigs/cortana-skills-classic.json":
/*!*****************************************************!*\
  !*** ./src/hostConfigs/cortana-skills-classic.json ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":3,"default":8,"medium":20,"large":30,"extraLarge":40,"padding":10},"separator":{"lineThickness":1,"lineColor":"#FF999999"},"supportsInteractivity":true,"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":13,"default":15,"medium":18,"large":20,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":13,"default":15,"medium":18,"large":20,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"borderColor":"#666666","backgroundColor":"#000000","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"accent":{"default":"#FF2E89FC","subtle":"#CC2E89FC"},"dark":{"default":"#FF000000","subtle":"#99999999"},"light":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"attention":{"default":"#CCFF0000","subtle":"#99FF0000"},"good":{"default":"#CC00FF00","subtle":"#9900FF00"},"warning":{"default":"#CCFF9800","subtle":"#99FF9800"}}},"emphasis":{"borderColor":"#33CCCCCC","backgroundColor":"#33FFFFFF","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"accent":{"default":"#FF2E89FC","subtle":"#CC2E89FC"},"dark":{"default":"#FF999999","subtle":"#99999999"},"light":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"attention":{"default":"#CCFF0000","subtle":"#99FF0000"},"good":{"default":"#CC00FF00","subtle":"#9900FF00"},"warning":{"default":"#CCFF9800","subtle":"#99FF9800"}}},"accent":{"borderColor":"#62A8F7","backgroundColor":"#C7DEF9","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"accent":{"default":"#FF2E89FC","subtle":"#CC2E89FC"},"dark":{"default":"#FF999999","subtle":"#99999999"},"light":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"attention":{"default":"#CCFF0000","subtle":"#99FF0000"},"good":{"default":"#CC00FF00","subtle":"#9900FF00"},"warning":{"default":"#CCFF9800","subtle":"#99FF9800"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"accent":{"default":"#FF2E89FC","subtle":"#CC2E89FC"},"dark":{"default":"#FF999999","subtle":"#99999999"},"light":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"attention":{"default":"#CCFF0000","subtle":"#99FF0000"},"good":{"default":"#CC00FF00","subtle":"#9900FF00"},"warning":{"default":"#CCFF9800","subtle":"#99FF9800"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"accent":{"default":"#FF2E89FC","subtle":"#CC2E89FC"},"dark":{"default":"#FF999999","subtle":"#99999999"},"light":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"attention":{"default":"#CCFF0000","subtle":"#99FF0000"},"good":{"default":"#CC00FF00","subtle":"#9900FF00"},"warning":{"default":"#CCFF9800","subtle":"#99FF9800"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"accent":{"default":"#FF2E89FC","subtle":"#CC2E89FC"},"dark":{"default":"#FF999999","subtle":"#99999999"},"light":{"default":"#FFFFFFFF","subtle":"#99FFFFFF"},"attention":{"default":"#CCFF0000","subtle":"#99FF0000"},"good":{"default":"#CC00FF00","subtle":"#9900FF00"},"warning":{"default":"#CCFF9800","subtle":"#99FF9800"}}}},"imageSizes":{"small":40,"medium":68,"large":320},"actions":{"maxActions":5,"spacing":"default","buttonSpacing":5,"showCard":{"actionMode":"inline","inlineTopMargin":20},"actionsOrientation":"horizontal","actionAlignment":"stretch"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"small","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":true},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":12}}');

/***/ }),

/***/ "./src/hostConfigs/cortana-skills-dark.json":
/*!**************************************************!*\
  !*** ./src/hostConfigs/cortana-skills-dark.json ***!
  \**************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":4,"default":8,"medium":12,"padding":16,"large":20,"extraLarge":32},"separator":{"lineThickness":1,"lineColor":"#505050"},"imageSizes":{"small":32,"medium":48,"large":96},"fontTypes":{"default":{"fontFamily":"Segoe UI, Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":16,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"Courier New, Courier, monospace","fontSizes":{"small":12,"default":14,"medium":16,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"fontSizes":{"small":12,"default":14,"medium":16,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600},"containerStyles":{"default":{"borderColor":"#666666","backgroundColor":"#222222","foregroundColors":{"default":{"default":"#FFFFFF","subtle":"#D2D2D2"},"dark":{"default":"#000000","subtle":"#737373"},"light":{"default":"#FFFFFF","subtle":"#D2D2D2"},"accent":{"default":"#82C7FF","subtle":"#3AA0F3"},"good":{"default":"#92C353","subtle":"#498205"},"warning":{"default":"#F8D22A","subtle":"#C19C00"},"attention":{"default":"#D74553","subtle":"#D13438"}}},"emphasis":{"borderColor":"#717171","backgroundColor":"#2F2F2F","foregroundColors":{"default":{"default":"#FFFFFF","subtle":"#D2D2D2"},"dark":{"default":"#000000","subtle":"#737373"},"light":{"default":"#FFFFFF","subtle":"#D2D2D2"},"accent":{"default":"#82C7FF","subtle":"#3AA0F3"},"good":{"default":"#92C353","subtle":"#498205"},"warning":{"default":"#F8D22A","subtle":"#C19C00"},"attention":{"default":"#D74553","subtle":"#D13438"}}},"accent":{"borderColor":"#62A8F7","backgroundColor":"#1B3345","foregroundColors":{"default":{"default":"#FFFFFF","subtle":"#D2D2D2"},"dark":{"default":"#000000","subtle":"#737373"},"light":{"default":"#FFFFFF","subtle":"#D2D2D2"},"accent":{"default":"#82C7FF","subtle":"#3AA0F3"},"good":{"default":"#92C353","subtle":"#498205"},"warning":{"default":"#F8D22A","subtle":"#C19C00"},"attention":{"default":"#D74553","subtle":"#D13438"}}},"good":{"borderColor":"#69E569","backgroundColor":"#92C353","foregroundColors":{"default":{"default":"#000000","subtle":"#415725"},"dark":{"default":"#000000","subtle":"#415725"},"light":{"default":"#FFFFFF","subtle":"#EBF4E0"},"accent":{"default":"#82C7FF","subtle":"#3AA0F3"},"good":{"default":"#92C353","subtle":"#498205"},"warning":{"default":"#F8D22A","subtle":"#C19C00"},"attention":{"default":"#D74553","subtle":"#D13438"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#D74553","foregroundColors":{"default":{"default":"#000000","subtle":"#601F25"},"dark":{"default":"#000000","subtle":"#601F25"},"light":{"default":"#FFFFFF","subtle":"#F7DEE0"},"accent":{"default":"#82C7FF","subtle":"#3AA0F3"},"good":{"default":"#92C353","subtle":"#498205"},"warning":{"default":"#F8D22A","subtle":"#C19C00"},"attention":{"default":"#D74553","subtle":"#D13438"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#F8D22A","foregroundColors":{"default":{"default":"#000000","subtle":"#6F5E12"},"dark":{"default":"#000000","subtle":"#6F5E12"},"light":{"default":"#FFFFFF","subtle":"#FDF7D9"},"accent":{"default":"#82C7FF","subtle":"#3AA0F3"},"good":{"default":"#92C353","subtle":"#498205"},"warning":{"default":"#F8D22A","subtle":"#C19C00"},"attention":{"default":"#D74553","subtle":"#D13438"}}}},"actions":{"maxActions":5,"spacing":"Default","buttonSpacing":12,"showCard":{"actionMode":"Inline","inlineTopMargin":16,"style":"Emphasis"},"preExpandSingleShowCardAction":false,"actionsOrientation":"Horizontal","actionAlignment":"Stretch","iconSize":20,"iconPlacement":"leftOfTitle"},"imageSet":{"imageSize":"Medium","maxImageHeight":100},"factSet":{"title":{"size":"Default","color":"Default","isSubtle":false,"weight":"Bolder","warp":true,"maxWidth":150},"value":{"size":"Default","color":"Default","isSubtle":false,"weight":"Default","wrap":true},"spacing":12}}');

/***/ }),

/***/ "./src/hostConfigs/cortana-skills-light.json":
/*!***************************************************!*\
  !*** ./src/hostConfigs/cortana-skills-light.json ***!
  \***************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":4,"default":8,"medium":12,"padding":16,"large":20,"extraLarge":32},"separator":{"lineThickness":1,"lineColor":"#E6E6E6"},"imageSizes":{"small":32,"medium":48,"large":96},"fontTypes":{"default":{"fontFamily":"Segoe UI, Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":16,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"Courier New, Courier, monospace","fontSizes":{"small":12,"default":14,"medium":16,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"fontSizes":{"small":12,"default":14,"medium":16,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600},"containerStyles":{"default":{"borderColor":"#CCCCCC","backgroundColor":"#ffffff","foregroundColors":{"default":{"default":"#000000","subtle":"#737373"},"dark":{"default":"#000000","subtle":"#737373"},"light":{"default":"#FFFFFF","subtle":"#D2D2D2"},"accent":{"default":"#0078D4","subtle":"#004D8C"},"good":{"default":"#107C10","subtle":"#0B6A0B"},"warning":{"default":"#CA5010","subtle":"#8E562E"},"attention":{"default":"#C50F1F","subtle":"#A80000"}}},"emphasis":{"borderColor":"#717171","backgroundColor":"#F2F2F2","foregroundColors":{"default":{"default":"#000000","subtle":"#737373"},"dark":{"default":"#000000","subtle":"#737373"},"light":{"default":"#FFFFFF","subtle":"#D2D2D2"},"accent":{"default":"#0078D4","subtle":"#004D8C"},"good":{"default":"#107C10","subtle":"#0B6A0B"},"warning":{"default":"#CA5010","subtle":"#8E562E"},"attention":{"default":"#C50F1F","subtle":"#A80000"}}},"accent":{"borderColor":"#62A8F7","backgroundColor":"#E5F1FA","foregroundColors":{"default":{"default":"#000000","subtle":"#737373"},"dark":{"default":"#000000","subtle":"#737373"},"light":{"default":"#FFFFFF","subtle":"#D2D2D2"},"accent":{"default":"#0078D4","subtle":"#004D8C"},"good":{"default":"#107C10","subtle":"#0B6A0B"},"warning":{"default":"#CA5010","subtle":"#8E562E"},"attention":{"default":"#C50F1F","subtle":"#A80000"}}},"good":{"borderColor":"#69E569","backgroundColor":"#107C10","foregroundColors":{"default":{"default":"#FFFFFF","subtle":"#D4E7D4"},"dark":{"default":"#000000","subtle":"#073707"},"light":{"default":"#FFFFFF","subtle":"#D4E7D4"},"accent":{"default":"#0078D4","subtle":"#004D8C"},"good":{"default":"#107C10","subtle":"#0B6A0B"},"warning":{"default":"#CA5010","subtle":"#8E562E"},"attention":{"default":"#C50F1F","subtle":"#A80000"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#C50F1F","foregroundColors":{"default":{"default":"#FFFFFF","subtle":"#F4D4D7"},"dark":{"default":"#000000","subtle":"#58060D"},"light":{"default":"#FFFFFF","subtle":"#F4D4D7"},"accent":{"default":"#0078D4","subtle":"#004D8C"},"good":{"default":"#107C10","subtle":"#0B6A0B"},"warning":{"default":"#CA5010","subtle":"#8E562E"},"attention":{"default":"#C50F1F","subtle":"#A80000"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FCE100","foregroundColors":{"default":{"default":"#000000","subtle":"#716500"},"dark":{"default":"#000000","subtle":"#716500"},"light":{"default":"#FFFFFF","subtle":"#FEF9D2"},"accent":{"default":"#0078D4","subtle":"#004D8C"},"good":{"default":"#107C10","subtle":"#0B6A0B"},"warning":{"default":"#CA5010","subtle":"#8E562E"},"attention":{"default":"#C50F1F","subtle":"#A80000"}}}},"actions":{"maxActions":5,"spacing":"Default","buttonSpacing":12,"showCard":{"actionMode":"Inline","inlineTopMargin":16,"style":"Emphasis"},"preExpandSingleShowCardAction":false,"actionsOrientation":"Horizontal","actionAlignment":"Stretch","iconSize":20,"iconPlacement":"leftOfTitle"},"imageSet":{"imageSize":"Medium","maxImageHeight":100},"factSet":{"title":{"size":"Default","color":"Default","isSubtle":false,"weight":"Bolder","wrap":true,"maxWidth":150},"value":{"size":"Default","color":"Default","isSubtle":false,"weight":"Default","wrap":true},"spacing":12}}');

/***/ }),

/***/ "./src/hostConfigs/federated-search.json":
/*!***********************************************!*\
  !*** ./src/hostConfigs/federated-search.json ***!
  \***********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"choiceSetInputValueSeparator":",","supportsInteractivity":true,"spacing":{"small":8,"default":12,"medium":16,"large":20,"extraLarge":24,"padding":16},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"imageSizes":{"small":32,"medium":52,"large":100},"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":14,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":14,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}},"borderColor":"#CCCCCC","backgroundColor":"#ffffff"},"emphasis":{"foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}},"borderColor":"#666666","backgroundColor":"#fff9f8f7"},"accent":{"borderColor":"#62A8F7","backgroundColor":"#C7DEF9","foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}}}},"actions":{"maxActions":6,"spacing":"Default","buttonSpacing":8,"showCard":{"actionMode":"Inline","inlineTopMargin":16,"style":"emphasis"},"preExpandSingleShowCardAction":false,"actionsOrientation":"Horizontal","actionAlignment":"Left"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"Medium","maxImageHeight":100},"factSet":{"title":{"size":"Default","color":"Default","isSubtle":false,"weight":"Bolder","warp":true},"value":{"size":"Default","color":"Default","isSubtle":false,"weight":"Default","warp":true},"spacing":16}}');

/***/ }),

/***/ "./src/hostConfigs/microsoft-teams-dark.json":
/*!***************************************************!*\
  !*** ./src/hostConfigs/microsoft-teams-dark.json ***!
  \***************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"choiceSetInputValueSeparator":",","supportsInteractivity":true,"spacing":{"small":8,"default":12,"medium":16,"large":20,"extraLarge":24,"padding":16},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":14,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":14,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"imageSizes":{"small":32,"medium":52,"large":100},"containerStyles":{"default":{"foregroundColors":{"default":{"default":"#ffffffff","subtle":"#bfffffff"},"dark":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"light":{"default":"#ffffffff","subtle":"#bfffffff"},"accent":{"default":"#ffa6a7dc","subtle":"#ff8b8cc7"},"good":{"default":"#ff92c353","subtle":"#e592c353"},"warning":{"default":"#fff8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#ffd74654","subtle":"#e5d74654"}},"borderColor":"#CCCCCC","backgroundColor":"#ff2d2c2c"},"emphasis":{"foregroundColors":{"default":{"default":"#ffffffff","subtle":"#bfffffff"},"dark":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"light":{"default":"#ffffffff","subtle":"#bfffffff"},"accent":{"default":"#ffa6a7dc","subtle":"#ff8b8cc7"},"good":{"default":"#ff92c353","subtle":"#e592c353"},"warning":{"default":"#fff8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#ffd74654","subtle":"#e5d74654"}},"borderColor":"#666666","backgroundColor":"#ff292828"},"accent":{"borderColor":"#62A8F7","backgroundColor":"#C7DEF9","foregroundColors":{"default":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"dark":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"light":{"default":"#ffffffff","subtle":"#bfffffff"},"accent":{"default":"#ffa6a7dc","subtle":"#ff8b8cc7"},"good":{"default":"#ff92c353","subtle":"#e592c353"},"warning":{"default":"#fff8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#ffd74654","subtle":"#e5d74654"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"dark":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"light":{"default":"#ffffffff","subtle":"#bfffffff"},"accent":{"default":"#ffa6a7dc","subtle":"#ff8b8cc7"},"good":{"default":"#ff92c353","subtle":"#e592c353"},"warning":{"default":"#fff8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#ffd74654","subtle":"#e5d74654"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"dark":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"light":{"default":"#ffffffff","subtle":"#bfffffff"},"accent":{"default":"#ffa6a7dc","subtle":"#ff8b8cc7"},"good":{"default":"#ff92c353","subtle":"#e592c353"},"warning":{"default":"#fff8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#ffd74654","subtle":"#e5d74654"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"dark":{"default":"#ff201f1f","subtle":"#ff2d2c2c"},"light":{"default":"#ffffffff","subtle":"#bfffffff"},"accent":{"default":"#ffa6a7dc","subtle":"#ff8b8cc7"},"good":{"default":"#ff92c353","subtle":"#e592c353"},"warning":{"default":"#fff8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#ffd74654","subtle":"#e5d74654"}}}},"actions":{"maxActions":6,"spacing":"Default","buttonSpacing":8,"showCard":{"actionMode":"Inline","inlineTopMargin":16,"style":"emphasis"},"preExpandSingleShowCardAction":false,"actionsOrientation":"Horizontal","actionAlignment":"Left"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"Medium","maxImageHeight":100},"factSet":{"title":{"size":"Default","color":"Default","isSubtle":false,"weight":"Bolder","warp":true},"value":{"size":"Default","color":"Default","isSubtle":false,"weight":"Default","warp":true},"spacing":16}}');

/***/ }),

/***/ "./src/hostConfigs/microsoft-teams-light.json":
/*!****************************************************!*\
  !*** ./src/hostConfigs/microsoft-teams-light.json ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"choiceSetInputValueSeparator":",","supportsInteractivity":true,"spacing":{"small":8,"default":12,"medium":16,"large":20,"extraLarge":24,"padding":16},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"imageSizes":{"small":32,"medium":52,"large":100},"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":14,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":14,"large":18,"extraLarge":24},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}},"borderColor":"#CCCCCC","backgroundColor":"#ffffff"},"emphasis":{"foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}},"borderColor":"#666666","backgroundColor":"#fff9f8f7"},"accent":{"borderColor":"#62A8F7","backgroundColor":"#C7DEF9","foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#ff252424","subtle":"#bf252424"},"dark":{"default":"#252424","subtle":"#bf252424"},"light":{"default":"#ffffff","subtle":"#fff3f2f1"},"accent":{"default":"#6264a7","subtle":"#8b8cc7"},"good":{"default":"#92c353","subtle":"#e592c353"},"warning":{"default":"#f8d22a","subtle":"#e5f8d22a"},"attention":{"default":"#c4314b","subtle":"#e5c4314b"}}}},"actions":{"maxActions":6,"spacing":"Default","buttonSpacing":8,"showCard":{"actionMode":"Inline","inlineTopMargin":16,"style":"emphasis"},"preExpandSingleShowCardAction":false,"actionsOrientation":"Horizontal","actionAlignment":"Left"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"Medium","maxImageHeight":100},"factSet":{"title":{"size":"Default","color":"Default","isSubtle":false,"weight":"Bolder","warp":true},"value":{"size":"Default","color":"Default","isSubtle":false,"weight":"Default","warp":true},"spacing":16}}');

/***/ }),

/***/ "./src/hostConfigs/outlook-desktop.json":
/*!**********************************************!*\
  !*** ./src/hostConfigs/outlook-desktop.json ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"preExpandSingleShowCardAction":true,"supportsInteractivity":true,"spacing":{"small":10,"default":20,"medium":30,"large":40,"extraLarge":50,"padding":20},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"imageSizes":{"small":40,"medium":80,"large":160},"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"borderColor":"#CCCCCC","backgroundColor":"#FFFFFF","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"emphasis":{"borderColor":"#666666","backgroundColor":"#08000000","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"accent":{"borderColor":"#62A8F7","backgroundColor":"#C7DEF9","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}}},"actions":{"maxActions":5,"spacing":"default","buttonSpacing":10,"showCard":{"actionMode":"inline","inlineTopMargin":16},"actionsOrientation":"horizontal","actionAlignment":"left"},"adaptiveCard":{"allowCustomStyle":true},"imageSet":{"imageSize":"medium","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":true,"maxWidth":150},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":10}}');

/***/ }),

/***/ "./src/hostConfigs/render-to-image.json":
/*!**********************************************!*\
  !*** ./src/hostConfigs/render-to-image.json ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":3,"default":8,"medium":20,"large":30,"extraLarge":40,"padding":10},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"supportsInteractivity":false,"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"borderColor":"#CCCCCC","backgroundColor":"#FFFFFF","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FF0000","subtle":"#DDFF0000"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#B75C00","subtle":"#DDB75C00"}}},"emphasis":{"borderColor":"#666666","backgroundColor":"#08000000","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FF0000","subtle":"#DDFF0000"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#B75C00","subtle":"#DDB75C00"}}},"accent":{"borderColor":"#62A8F7","backgroundColor":"#C7DEF9","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}}},"imageSizes":{"small":40,"medium":80,"large":160},"imageSet":{"imageSize":"medium","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":true,"maxWidth":150},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":10}}');

/***/ }),

/***/ "./src/hostConfigs/sample.json":
/*!*************************************!*\
  !*** ./src/hostConfigs/sample.json ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":3,"default":8,"medium":20,"large":30,"extraLarge":40,"padding":10},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"supportsInteractivity":true,"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', \'sans-serif\', \'Oxygen\', \'Ubuntu\', \'Cantarell\', \'Fira Sans\', \'Droid Sans\', \'Helvetica Neue\'","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"borderColor":"#CCCCCC","backgroundColor":"#FFFFFF","foregroundColors":{"default":{"default":"#000000","subtle":"#6f6f6f"},"accent":{"default":"#0063B1","subtle":"#0063B1"},"attention":{"default":"#B00000","subtle":"#DDB00000"},"good":{"default":"#028A02","subtle":"#DD028A02"},"light":{"default":"#646464","subtle":"#767676"},"warning":{"default":"#B75C00","subtle":"#DDB75C00"}}},"emphasis":{"borderColor":"#666666","backgroundColor":"#F9F9F9","foregroundColors":{"default":{"default":"#000000","subtle":"#6f6f6f"},"accent":{"default":"#1F6BF1","subtle":"#881F6BF1"},"attention":{"default":"#E31B13","subtle":"#DDE31B13"},"good":{"default":"#0D860A","subtle":"#DD0D860A"},"warning":{"default":"#BD5400","subtle":"#DDBD5400"},"light":{"default":"#737373","subtle":"#DD737373"}}},"accent":{"borderColor":"#62A8F7","backgroundColor":"#D7E7FA","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#646464","subtle":"#33646464"},"accent":{"default":"#145FDD","subtle":"#88145FDD"},"attention":{"default":"#C42C07","subtle":"#DDC42C07"},"good":{"default":"#0B7814","subtle":"#DD0B7814"},"warning":{"default":"#935A10","subtle":"#DD935A10"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#6E6E6E","subtle":"#336E6E6E"},"accent":{"default":"#2168E4","subtle":"#882168E4"},"attention":{"default":"#CC3300","subtle":"#DDCC3300"},"good":{"default":"#0F8109","subtle":"#DD0F8109"},"warning":{"default":"#9A630D","subtle":"#DD9A630D"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#5A5A5A","subtle":"#335A5A5A"},"accent":{"default":"#0854C5","subtle":"#880854C5"},"attention":{"default":"#A92E0E","subtle":"#DDA92E0E"},"good":{"default":"#256824","subtle":"#DD256824"},"warning":{"default":"#775502","subtle":"#DD775502"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#646464","subtle":"#33646464"},"accent":{"default":"#0F60DC","subtle":"#880F60DC"},"attention":{"default":"#BF3505","subtle":"#DDBF3505"},"good":{"default":"#207725","subtle":"#DD207725"},"warning":{"default":"#866107","subtle":"#DD866107"}}}},"imageSizes":{"small":40,"medium":80,"large":160},"actions":{"maxActions":5,"spacing":"default","buttonSpacing":8,"showCard":{"actionMode":"inline","inlineTopMargin":8},"actionsOrientation":"horizontal","actionAlignment":"stretch"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"medium","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":true,"maxWidth":150},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":8},"inputs":{"label":{"inputSpacing":"small","requiredInputs":{"suffix":" (required)","weight":"bolder","size":"medium"},"optionalInputs":{"color":"dark","isSubtle":true}},"errorMessage":{"spacing":"small","size":"small","weight":"bolder"}}}');

/***/ }),

/***/ "./src/hostConfigs/skype.json":
/*!************************************!*\
  !*** ./src/hostConfigs/skype.json ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":3,"default":8,"medium":20,"large":30,"extraLarge":40,"padding":10},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"supportsInteractivity":true,"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"backgroundColor":"#EAEAEA","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FF0000","subtle":"#DDFF0000"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#B75C00","subtle":"#DDB75C00"}}},"emphasis":{"backgroundColor":"#08000000","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FF0000","subtle":"#DDFF0000"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#B75C00","subtle":"#DDB75C00"}}},"accent":{"backgroundColor":"#C7DEF9","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"good":{"backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"attention":{"backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"warning":{"backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}}},"imageSizes":{"small":40,"medium":80,"large":160},"actions":{"maxActions":5,"spacing":"default","buttonSpacing":10,"showCard":{"actionMode":"popup","inlineTopMargin":16},"actionsOrientation":"vertical","actionAlignment":"stretch"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"medium","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":true,"maxWidth":150},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":5}}');

/***/ }),

/***/ "./src/hostConfigs/viva-connections-dark.json":
/*!****************************************************!*\
  !*** ./src/hostConfigs/viva-connections-dark.json ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"preExpandSingleShowCardAction":true,"supportsInteractivity":true,"spacing":{"small":4,"default":8,"medium":16,"large":24,"extraLarge":32,"padding":16},"separator":{"lineThickness":1,"lineColor":"#292827"},"imageSizes":{"small":72,"medium":164,"large":256},"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', \'Segoe UI Web (West European)\', \'Segoe UI\', -apple-system, BlinkMacSystemFont, Roboto, \'Helvetica Neue\', sans-serif","fontSizes":{"small":12,"default":14,"medium":18,"large":24,"extraLarge":32},"fontWeights":{"lighter":300,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":18,"large":24,"extraLarge":32},"fontWeights":{"lighter":300,"default":400,"bolder":600}}},"containerStyles":{"default":{"backgroundColor":"#1b1a19","foregroundColors":{"default":{"default":"#f3f2f1","subtle":"#a19f9d"},"dark":{"default":"#252423","subtle":"#323130"},"light":{"default":"#ffffff","subtle":"#a19f9d"},"accent":{"default":"#7F85F5","subtle":"#5B5FC7"},"attention":{"default":"#f1707b","subtle":"#A3A80000"},"good":{"default":"#92c353","subtle":"#A392c353"},"warning":{"default":"#c8c6c4","subtle":"#A19F9D"}}},"emphasis":{"backgroundColor":"#201f1e","foregroundColors":{"default":{"default":"#f3f2f1","subtle":"#a19f9d"},"dark":{"default":"#ffffff","subtle":"#a19f9d"},"light":{"default":"#252423","subtle":"#323130"},"accent":{"default":"#7F85F5","subtle":"#5B5FC7"},"attention":{"default":"#f1707b","subtle":"#A3A80000"},"good":{"default":"#92c353","subtle":"#A392c353"},"warning":{"default":"#c8c6c4","subtle":"#A19F9D"}}},"accent":{"backgroundColor":"#0a0802","foregroundColors":{"default":{"default":"#f3f2f1","subtle":"#a19f9d"},"dark":{"default":"#ffffff","subtle":"#a19f9d"},"light":{"default":"#252423","subtle":"#323130"},"accent":{"default":"#7F85F5","subtle":"#5B5FC7"},"attention":{"default":"#f1707b","subtle":"#A3A80000"},"good":{"default":"#92c353","subtle":"#A392c353"},"warning":{"default":"#c8c6c4","subtle":"#A19F9D"}}},"good":{"backgroundColor":"#393d1b","foregroundColors":{"default":{"default":"#f3f2f1","subtle":"#a19f9d"},"dark":{"default":"#ffffff","subtle":"#a19f9d"},"light":{"default":"#252423","subtle":"#323130"},"accent":{"default":"#7F85F5","subtle":"#5B5FC7"},"attention":{"default":"#f1707b","subtle":"#A3A80000"},"good":{"default":"#92c353","subtle":"#A392c353"},"warning":{"default":"#c8c6c4","subtle":"#A19F9D"}}},"attention":{"backgroundColor":"#4f2a0f","foregroundColors":{"default":{"default":"#f3f2f1","subtle":"#a19f9d"},"dark":{"default":"#ffffff","subtle":"#a19f9d"},"light":{"default":"#252423","subtle":"#323130"},"accent":{"default":"#7F85F5","subtle":"#5B5FC7"},"attention":{"default":"#f1707b","subtle":"#A3A80000"},"good":{"default":"#92c353","subtle":"#A392c353"},"warning":{"default":"#c8c6c4","subtle":"#A19F9D"}}},"warning":{"backgroundColor":"#433519","foregroundColors":{"default":{"default":"#f3f2f1","subtle":"#a19f9d"},"dark":{"default":"#ffffff","subtle":"#a19f9d"},"light":{"default":"#252423","subtle":"#323130"},"accent":{"default":"#7F85F5","subtle":"#5B5FC7"},"attention":{"default":"#f1707b","subtle":"#A3A80000"},"good":{"default":"#92c353","subtle":"#A392c353"},"warning":{"default":"#c8c6c4","subtle":"#A19F9D"}}}},"actions":{"maxActions":5,"spacing":"Default","buttonSpacing":10,"showCard":{"actionMode":"Inline","inlineTopMargin":16},"actionsOrientation":"Horizontal","actionAlignment":"Left"},"adaptiveCard":{"allowCustomStyle":true},"imageSet":{"imageSize":"Medium","maxImageHeight":100},"factSet":{"title":{"color":"Default","size":"Default","isSubtle":false,"weight":"Bolder","wrap":true,"maxWidth":150},"value":{"color":"Default","size":"Default","isSubtle":false,"weight":"Default","wrap":true},"spacing":8}}');

/***/ }),

/***/ "./src/hostConfigs/viva-connections-light.json":
/*!*****************************************************!*\
  !*** ./src/hostConfigs/viva-connections-light.json ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"preExpandSingleShowCardAction":true,"supportsInteractivity":true,"spacing":{"small":4,"default":8,"medium":16,"large":24,"extraLarge":32,"padding":16},"separator":{"lineThickness":1,"lineColor":"#EDEBE9"},"imageSizes":{"small":72,"medium":164,"large":256},"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', \'Segoe UI Web (West European)\', \'Segoe UI\', -apple-system, BlinkMacSystemFont, Roboto, \'Helvetica Neue\', sans-serif","fontSizes":{"small":12,"default":14,"medium":18,"large":24,"extraLarge":32},"fontWeights":{"lighter":300,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":18,"large":24,"extraLarge":32},"fontWeights":{"lighter":300,"default":400,"bolder":600}}},"containerStyles":{"default":{"backgroundColor":"#FFFFFF","foregroundColors":{"default":{"default":"#323130","subtle":"#8A8886"},"dark":{"default":"#000000","subtle":"#605E5C"},"light":{"default":"#F3F2F1","subtle":"#E1DFDD"},"accent":{"default":"#5B5FC7","subtle":"#C5CBFA"},"attention":{"default":"#A80000","subtle":"#A3A80000"},"good":{"default":"#107C10","subtle":"#A3107C10"},"warning":{"default":"#797673","subtle":"#A19F9D"}}},"emphasis":{"backgroundColor":"#FAF9F8","foregroundColors":{"default":{"default":"#323130","subtle":"#8A8886"},"dark":{"default":"#000000","subtle":"#605E5C"},"light":{"default":"#F3F2F1","subtle":"#E1DFDD"},"accent":{"default":"#5B5FC7","subtle":"#C5CBFA"},"attention":{"default":"#A80000","subtle":"#A3A80000"},"good":{"default":"#107C10","subtle":"#A3107C10"},"warning":{"default":"#797673","subtle":"#A19F9D"}}},"accent":{"backgroundColor":"#E2E2F6","foregroundColors":{"default":{"default":"#323130","subtle":"#8A8886"},"dark":{"default":"#000000","subtle":"#605E5C"},"light":{"default":"#F3F2F1","subtle":"#E1DFDD"},"accent":{"default":"#5B5FC7","subtle":"#C5CBFA"},"attention":{"default":"#A80000","subtle":"#A3A80000"},"good":{"default":"#107C10","subtle":"#A3107C10"},"warning":{"default":"#797673","subtle":"#A19F9D"}}},"good":{"backgroundColor":"#DFF6DD","foregroundColors":{"default":{"default":"#323130","subtle":"#8A8886"},"dark":{"default":"#000000","subtle":"#605E5C"},"light":{"default":"#F3F2F1","subtle":"#E1DFDD"},"accent":{"default":"#5B5FC7","subtle":"#C5CBFA"},"attention":{"default":"#A80000","subtle":"#A3A80000"},"good":{"default":"#107C10","subtle":"#A3107C10"},"warning":{"default":"#797673","subtle":"#A19F9D"}}},"attention":{"backgroundColor":"#FED9CC","foregroundColors":{"default":{"default":"#323130","subtle":"#8A8886"},"dark":{"default":"#000000","subtle":"#605E5C"},"light":{"default":"#F3F2F1","subtle":"#E1DFDD"},"accent":{"default":"#5B5FC7","subtle":"#C5CBFA"},"attention":{"default":"#A80000","subtle":"#A3A80000"},"good":{"default":"#107C10","subtle":"#A3107C10"},"warning":{"default":"#797673","subtle":"#A19F9D"}}},"warning":{"backgroundColor":"#FFF4CE","foregroundColors":{"default":{"default":"#323130","subtle":"#8A8886"},"dark":{"default":"#000000","subtle":"#605E5C"},"light":{"default":"#F3F2F1","subtle":"#E1DFDD"},"accent":{"default":"#5B5FC7","subtle":"#C5CBFA"},"attention":{"default":"#A80000","subtle":"#A3A80000"},"good":{"default":"#107C10","subtle":"#A3107C10"},"warning":{"default":"#797673","subtle":"#A19F9D"}}}},"actions":{"maxActions":5,"spacing":"Default","buttonSpacing":10,"showCard":{"actionMode":"Inline","inlineTopMargin":16},"actionsOrientation":"Horizontal","actionAlignment":"Left"},"adaptiveCard":{"allowCustomStyle":true},"imageSet":{"imageSize":"Medium","maxImageHeight":100},"factSet":{"title":{"color":"Default","size":"Default","isSubtle":false,"weight":"Bolder","wrap":true,"maxWidth":150},"value":{"color":"Default","size":"Default","isSubtle":false,"weight":"Default","wrap":true},"spacing":8}}');

/***/ }),

/***/ "./src/hostConfigs/webchat.json":
/*!**************************************!*\
  !*** ./src/hostConfigs/webchat.json ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":3,"default":8,"medium":20,"large":30,"extraLarge":40,"padding":10},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"supportsInteractivity":true,"fontTypes":{"default":{"fontFamily":"Calibri, sans-serif","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"borderColor":"#CCCCCC","backgroundColor":"#FFFFFF","foregroundColors":{"default":{"default":"#000000","subtle":"#6f6f6f"},"accent":{"default":"#0063B1","subtle":"#0063B1"},"attention":{"default":"#EC130E","subtle":"#DDEC130E"},"good":{"default":"#028A02","subtle":"#DD028A02"},"light":{"default":"#646464","subtle":"#767676"},"warning":{"default":"#B75C00","subtle":"#DDB75C00"}}},"emphasis":{"borderColor":"#666666","backgroundColor":"#F9F9F9","foregroundColors":{"default":{"default":"#000000","subtle":"#6f6f6f"},"accent":{"default":"#1F6BF1","subtle":"#881F6BF1"},"attention":{"default":"#E31B13","subtle":"#DDE31B13"},"good":{"default":"#0D860A","subtle":"#DD0D860A"},"warning":{"default":"#BD5400","subtle":"#DDBD5400"},"light":{"default":"#737373","subtle":"#DD737373"}}},"accent":{"borderColor":"#62A8F7","backgroundColor":"#D7E7FA","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#646464","subtle":"#33646464"},"accent":{"default":"#145FDD","subtle":"#88145FDD"},"attention":{"default":"#C42C07","subtle":"#DDC42C07"},"good":{"default":"#0B7814","subtle":"#DD0B7814"},"warning":{"default":"#935A10","subtle":"#DD935A10"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#6E6E6E","subtle":"#336E6E6E"},"accent":{"default":"#2168E4","subtle":"#882168E4"},"attention":{"default":"#CC3300","subtle":"#DDCC3300"},"good":{"default":"#0F8109","subtle":"#DD0F8109"},"warning":{"default":"#9A630D","subtle":"#DD9A630D"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#5A5A5A","subtle":"#335A5A5A"},"accent":{"default":"#0854C5","subtle":"#880854C5"},"attention":{"default":"#A92E0E","subtle":"#DDA92E0E"},"good":{"default":"#256824","subtle":"#DD256824"},"warning":{"default":"#775502","subtle":"#DD775502"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#646464","subtle":"#33646464"},"accent":{"default":"#0F60DC","subtle":"#880F60DC"},"attention":{"default":"#BF3505","subtle":"#DDBF3505"},"good":{"default":"#207725","subtle":"#DD207725"},"warning":{"default":"#866107","subtle":"#DD866107"}}}},"imageSizes":{"small":40,"medium":80,"large":160},"actions":{"maxActions":100,"spacing":"default","buttonSpacing":8,"showCard":{"actionMode":"inline","inlineTopMargin":8},"actionsOrientation":"vertical","actionAlignment":"stretch"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"medium","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":true,"maxWidth":150},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":8}}');

/***/ }),

/***/ "./src/hostConfigs/widget-dark.json":
/*!******************************************!*\
  !*** ./src/hostConfigs/widget-dark.json ***!
  \******************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"supportsInteractivity":true,"spacing":{"small":8,"default":12,"medium":16,"large":20,"extraLarge":24,"padding":16},"fontFamily":"\'Segoe UI\', \'Segoe UI Web (West European)\', \'Segoe UI\', -apple-system, BlinkMacSystemFont, \'Roboto\', \'Helvetica Neue\', sans-serif","fontSizes":{"small":12,"default":14,"medium":18,"large":20,"extraLarge":28},"fontWeights":{"lighter":400,"default":400,"bolder":600},"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', \'Segoe UI Web (West European)\', \'Segoe UI\', -apple-system, BlinkMacSystemFont, \'Roboto\', \'Helvetica Neue\', sans-serif","fontSizes":{"small":12,"default":14,"medium":18,"large":20,"extraLarge":28},"fontWeights":{"lighter":400,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":18,"large":20,"extraLarge":28},"fontWeights":{"lighter":400,"default":400,"bolder":600}}},"containerStyles":{"default":{"foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#C5FFFFFF"},"accent":{"default":"#FF60CDFF","subtle":"#60CDFF"},"dark":{"default":"#E4000000","subtle":"#9E000000"},"good":{"default":"#6CCB5E","subtle":"#6CCB5E"},"warning":{"default":"#FCE100","subtle":"#FCE100"},"attention":{"default":"#FF99A4","subtle":"#FF99A4"}}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"imageSizes":{"small":32,"medium":52,"large":100},"separator":{"lineThickness":1,"lineColor":"#FFFFFF"}}');

/***/ }),

/***/ "./src/hostConfigs/widget-light.json":
/*!*******************************************!*\
  !*** ./src/hostConfigs/widget-light.json ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"supportsInteractivity":true,"spacing":{"small":8,"default":12,"medium":16,"large":20,"extraLarge":24,"padding":16},"fontFamily":"\'Segoe UI\', \'Segoe UI Web (West European)\', \'Segoe UI\', -apple-system, BlinkMacSystemFont, \'Roboto\', \'Helvetica Neue\', sans-serif","fontSizes":{"small":12,"default":14,"medium":18,"large":20,"extraLarge":28},"fontWeights":{"lighter":400,"default":400,"bolder":600},"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', \'Segoe UI Web (West European)\', \'Segoe UI\', -apple-system, BlinkMacSystemFont, \'Roboto\', \'Helvetica Neue\', sans-serif","fontSizes":{"small":12,"default":14,"medium":18,"large":20,"extraLarge":28},"fontWeights":{"lighter":400,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":18,"large":20,"extraLarge":28},"fontWeights":{"lighter":400,"default":400,"bolder":600}}},"containerStyles":{"default":{"foregroundColors":{"default":{"default":"#E4000000","subtle":"#9E000000"},"light":{"default":"#FFFFFFFF","subtle":"#C5FFFFFF"},"dark":{"default":"#000000","subtle":"#000000"},"accent":{"default":"#003E92","subtle":"#003E92"},"good":{"default":"#0F7B0F","subtle":"#0F7B0F"},"warning":{"default":"#9D5D00","subtle":"#9D5D00"},"attention":{"default":"#C42B1C","subtle":"#C42B1C"}}}},"imageSizes":{"small":32,"medium":52,"large":100},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"maxWidth":"252px"},"separator":{"lineThickness":1,"lineColor":"#333333"}}');

/***/ }),

/***/ "./src/hostConfigs/windows-notification.json":
/*!***************************************************!*\
  !*** ./src/hostConfigs/windows-notification.json ***!
  \***************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":3,"default":8,"medium":20,"large":30,"extraLarge":40,"padding":10},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"supportsInteractivity":true,"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"backgroundColor":"#1F1F1F","foregroundColors":{"default":{"default":"#FFFFFF","subtle":"#88FFFFFF"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FF0000","subtle":"#DDFF0000"},"good":{"default":"#00FF00","subtle":"#DD00FF00"},"warning":{"default":"#FFD800","subtle":"#DDFFD800"}}},"emphasis":{"backgroundColor":"#19FFFFFF","foregroundColors":{"default":{"default":"#FFFFFF","subtle":"#88FFFFFF"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FFD800","subtle":"#DDFFD800"},"good":{"default":"#00FF00","subtle":"#DD00FF00"},"warning":{"default":"#FF0000","subtle":"#DDFF0000"}}},"accent":{"backgroundColor":"#C7DEF9","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"good":{"backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"attention":{"backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}},"warning":{"backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#FFFFFF","subtle":"#33000000"},"accent":{"default":"#2E89FC","subtle":"#882E89FC"},"attention":{"default":"#cc3300","subtle":"#DDcc3300"},"good":{"default":"#028A02","subtle":"#DD027502"},"warning":{"default":"#e69500","subtle":"#DDe69500"}}}},"imageSizes":{"small":40,"medium":80,"large":160},"actions":{"maxActions":5,"spacing":"default","buttonSpacing":10,"showCard":{"actionMode":"inline","inlineTopMargin":16},"actionsOrientation":"horizontal","actionAlignment":"stretch"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"medium","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":true,"maxWidth":150},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":10}}');

/***/ }),

/***/ "./src/hostConfigs/windows-timeline.json":
/*!***********************************************!*\
  !*** ./src/hostConfigs/windows-timeline.json ***!
  \***********************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":4,"default":12,"medium":20,"large":30,"extraLarge":40,"padding":15},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"supportsInteractivity":false,"fontTypes":{"default":{"fontFamily":"Segoe UI, Helvetica Neue, Helvetica, sans-serif","fontSizes":{"small":12,"default":14,"medium":20,"large":20,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":700}},"monospace":{"fontFamily":"Segoe UI Mono","fontSizes":{"small":12,"default":14,"medium":20,"large":20,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":700}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"backgroundColor":"#FF535454","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#FF9C9E9F"},"accent":{"default":"#FF2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FFFF0000","subtle":"#DDFF0000"},"good":{"default":"#FF00FF00","subtle":"#DD00FF00"},"warning":{"default":"#FFFFD800","subtle":"#DDFFD800"}}},"emphasis":{"backgroundColor":"#33000000","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#FF9C9E9F"},"accent":{"default":"#FF2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FFFF0000","subtle":"#DDFF0000"},"good":{"default":"#FF00FF00","subtle":"#DD00FF00"},"warning":{"default":"#FFFFD800","subtle":"#DDFFD800"}}},"accent":{"backgroundColor":"#882E89FC","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#FF9C9E9F"},"accent":{"default":"#FF2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FFFF0000","subtle":"#DDFF0000"},"good":{"default":"#FF00FF00","subtle":"#DD00FF00"},"warning":{"default":"#FFFFD800","subtle":"#DDFFD800"}}},"attention":{"backgroundColor":"#DDFF0000","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#FF9C9E9F"},"accent":{"default":"#FF2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FFFF0000","subtle":"#DDFF0000"},"good":{"default":"#FF00FF00","subtle":"#DD00FF00"},"warning":{"default":"#FFFFD800","subtle":"#DDFFD800"}}},"good":{"backgroundColor":"#DD00FF00","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#FF9C9E9F"},"accent":{"default":"#FF2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FFFF0000","subtle":"#DDFF0000"},"good":{"default":"#FF00FF00","subtle":"#DD00FF00"},"warning":{"default":"#FFFFD800","subtle":"#DDFFD800"}}},"warning":{"backgroundColor":"#DDFFD800","foregroundColors":{"default":{"default":"#FFFFFFFF","subtle":"#FF9C9E9F"},"accent":{"default":"#FF2E89FC","subtle":"#882E89FC"},"attention":{"default":"#FFFF0000","subtle":"#DDFF0000"},"good":{"default":"#FF00FF00","subtle":"#DD00FF00"},"warning":{"default":"#FFFFD800","subtle":"#DDFFD800"}}}},"imageSizes":{"small":40,"medium":80,"large":120},"imageSet":{"imageSize":"medium","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":false,"maxWidth":150},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":10}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/adaptivecards-designer.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRhcHRpdmVjYXJkcy1kZXNpZ25lci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTzs7Ozs7Ozs7OztBQ1ZhO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0EsYUFBYSxtQkFBTyxDQUFDLCtEQUFhO0FBQ2xDLGFBQWEsbUJBQU8sQ0FBQyx1REFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsdURBQVM7QUFDOUIsYUFBYSxtQkFBTyxDQUFDLGlFQUFjO0FBQ25DLGFBQWEsbUJBQU8sQ0FBQyxxRUFBZ0I7QUFDckMsYUFBYSxtQkFBTyxDQUFDLHlFQUFrQjtBQUN2QyxhQUFhLG1CQUFPLENBQUMsNkRBQVk7QUFDakMsYUFBYSxtQkFBTyxDQUFDLDZEQUFZO0FBQ2pDLGFBQWEsbUJBQU8sQ0FBQyxpRUFBYztBQUNuQyxhQUFhLG1CQUFPLENBQUMsNkRBQVk7QUFDakMsYUFBYSxtQkFBTyxDQUFDLG1FQUFlO0FBQ3BDLGFBQWEsbUJBQU8sQ0FBQywyREFBVztBQUNoQyxhQUFhLG1CQUFPLENBQUMsK0RBQWE7QUFDbEM7Ozs7Ozs7Ozs7O0FDM0JhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixHQUFHLGVBQWU7QUFDbEM7QUFDQTtBQUNBLFlBQVksbUJBQU8sQ0FBQyx1REFBUztBQUM3QixrQkFBa0IsbUJBQU8sQ0FBQywrREFBYTtBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQyxxRUFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNELGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxL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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELHlCQUF5QjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNM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OztBQUVBLGlFQUFlLFFBQVE7Ozs7Ozs7Ozs7Ozs7Ozs7QUNOYzs7QUFFckM7QUFDQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlFQUFlLE9BQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNWdEI7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7VUNBQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3RCQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHlDQUF5Qyx3Q0FBd0M7V0FDakY7V0FDQTtXQUNBOzs7OztXQ1BBOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RDs7Ozs7VUVOQTtVQUNBO1VBQ0E7VUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0FDRGVzaWduZXIvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvYWRhcHRpdmVjYXJkcy1jb250cm9scy5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbGliL2NhbGVuZGFyLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvY2hlY2tib3guanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi9jb2xsZWN0aW9uLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvY29uc3RhbnRzLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvZGF0ZXBpY2tlci5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbGliL2Ryb3Bkb3duLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvZW51bXMuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi9pbnB1dGNvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi9pbnB1dHdpdGhwb3B1cC5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbGliL3BvcHVwbWVudS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbGliL3JhZGlvYnV0dG9uLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvdGV4dGJveC5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbGliL3V0aWxzLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvY2xpcGJvYXJkL2Rpc3QvY2xpcGJvYXJkLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL2luZGV4LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uaWwuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YxLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92ZXJzaW9uLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvYWRhcHRpdmUtY2FyZC1zY2hlbWEudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9hZGFwdGl2ZWNhcmRzLWRlc2lnbmVyLXN0YW5kYWxvbmUudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9hZGFwdGl2ZWNhcmRzLWRlc2lnbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvYmFzZS10cmVlLWl0ZW0udHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jYXJkLWRlc2lnbmVyLXN1cmZhY2UudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jYXJkLWRlc2lnbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY2F0YWxvZ3VlLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy9iZi1pbWFnZS9iZi1pbWFnZS1jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jb250YWluZXJzL2NvcnRhbmEtY2xhc3NpYy9jb3J0YW5hLWNsYXNzaWMtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy9jb3J0YW5hL2NvcnRhbmEtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy9kZWZhdWx0L2RlZmF1bHQtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy9mZWRlcmF0ZWQtc2VhcmNoL2ZlZGVyYXRlZC1zZWFyY2gtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy9ob3N0LWNvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2NvbnRhaW5lcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jb250YWluZXJzL211bHRpLXRoZW1lLWhvc3QtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy9ub3RpZmljYXRpb25zL3RvYXN0LWNvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2NvbnRhaW5lcnMvb3V0bG9vay9vdXRsb29rLWNvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2NvbnRhaW5lcnMvc2luZ2xlLXRoZW1lLWhvc3QtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy9za3lwZS9za3lwZS1jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jb250YWluZXJzL3RlYW1zL3RlYW1zLWNvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2NvbnRhaW5lcnMvdGltZWxpbmUvdGltZWxpbmUtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy92aXZhLWNvbm5lY3Rpb25zL3ZpdmEtY29ubmVjdGlvbnMtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy93ZWJjaGF0L3dlYmNoYXQtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvY29udGFpbmVycy93aWRnZXQvd2lkZ2V0LWNvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2RhdGEtdHJlZWl0ZW0udHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9kYXRhLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvZGVzaWduZXItcGVlci10cmVlaXRlbS50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2Rlc2lnbmVyLXBlZXJzLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvZGlhbG9nLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvZG93bmxvYWRlci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2RyYWdnYWJsZS1lbGVtZW50LnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvZmllbGQtcGlja2VyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvZnVsbHNjcmVlbi1oYW5kbGVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvaGVscC1kaWFsb2cudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9taXNjZWxsYW5lb3VzLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvb3Blbi1pbWFnZS1kaWFsb2cudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9vcGVuLWpzb24tc2NoZW1hLWRpYWxvZy50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL29wZW4tc2FtcGxlLWRpYWxvZy50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3BlZXItY29tbWFuZC50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3BpYzJjYXJkLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvc2V0dGluZ3MtbWFuYWdlci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3NoYXJlZC50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3NpZGUtcGFuZWwudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9zcGxpdHRlci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3N0cmluZ3MudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy90b29sLWJveC50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3Rvb2wtcGFsZXR0ZS50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3Rvb2xiYXIudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy90cmVlLXZpZXcudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL2luZGV4LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9tZDUuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25pbC5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JlZ2V4LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjEuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92MzUuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci9leHRlcm5hbCB1bWQge1wiY29tbW9uanMyXCI6XCJhZGFwdGl2ZWNhcmRzXCIsXCJjb21tb25qc1wiOlwiYWRhcHRpdmVjYXJkc1wiLFwicm9vdFwiOlwiQWRhcHRpdmVDYXJkc1wifSIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyL2V4dGVybmFsIHVtZCB7XCJjb21tb25qczJcIjpcImFkYXB0aXZlY2FyZHMtdGVtcGxhdGluZ1wiLFwiY29tbW9uanNcIjpcImFkYXB0aXZlY2FyZHMtdGVtcGxhdGluZ1wiLFwicm9vdFwiOlwiQUNEYXRhXCJ9Iiwid2VicGFjazovL0FDRGVzaWduZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0FDRGVzaWduZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyL3dlYnBhY2svYmVmb3JlLXN0YXJ0dXAiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL2FmdGVyLXN0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiYWRhcHRpdmVjYXJkc1wiKSwgcmVxdWlyZShcImFkYXB0aXZlY2FyZHMtdGVtcGxhdGluZ1wiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbLCBdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkFDRGVzaWduZXJcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJhZGFwdGl2ZWNhcmRzXCIpLCByZXF1aXJlKFwiYWRhcHRpdmVjYXJkcy10ZW1wbGF0aW5nXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJBQ0Rlc2lnbmVyXCJdID0gZmFjdG9yeShyb290W1wiQWRhcHRpdmVDYXJkc1wiXSwgcm9vdFtcIkFDRGF0YVwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2FkYXB0aXZlY2FyZHNfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9hZGFwdGl2ZWNhcmRzX3RlbXBsYXRpbmdfXykge1xucmV0dXJuICIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25zdGFudHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2VudW1zXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91dGlsc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY29sbGVjdGlvblwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW5wdXRjb250cm9sXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbnB1dHdpdGhwb3B1cFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY2FsZW5kYXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Ryb3Bkb3duXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9kYXRlcGlja2VyXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jaGVja2JveFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcmFkaW9idXR0b25cIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RleHRib3hcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3BvcHVwbWVudVwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2FsZW5kYXIgPSBleHBvcnRzLkRheUNlbGwgPSB2b2lkIDA7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbnZhciBVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGlucHV0Y29udHJvbF8xID0gcmVxdWlyZShcIi4vaW5wdXRjb250cm9sXCIpO1xudmFyIERheUNlbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF5Q2VsbChkYXRlKSB7XG4gICAgICAgIHRoaXMuX2lzU3ViZHVlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgfVxuICAgIERheUNlbGwucHJvdG90eXBlLnNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0ZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERheUNlbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWN0cmwtY2FsZW5kYXJEYXlcIjtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5pbm5lclRleHQgPSB0aGlzLmRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9lbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkgeyBfdGhpcy5zZWxlY3RlZCgpOyB9O1xuICAgICAgICB0aGlzLl9lbGVtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT0gY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMuZW50ZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfTtcbiAgICBEYXlDZWxsLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5mb2N1cygpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERheUNlbGwucHJvdG90eXBlLCBcImlzU3ViZHVlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzU3ViZHVlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzU3ViZHVlZCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzU3ViZHVlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInN1YmR1ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzdWJkdWVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERheUNlbGwucHJvdG90eXBlLCBcImlzU2VsZWN0ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1NlbGVjdGVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faXNTZWxlY3RlZCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERheUNlbGw7XG59KCkpO1xuZXhwb3J0cy5EYXlDZWxsID0gRGF5Q2VsbDtcbnZhciBDYWxlbmRhciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FsZW5kYXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9zZWxlY3RlZERheSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuICAgICAgICBfdGhpcy5fbWluaUNhbGVuZGFyRWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC1zbGlkZVwiO1xuICAgICAgICBfdGhpcy5fbWluaUNhbGVuZGFyRWxlbWVudC5jZWxsUGFkZGluZyA9IFwiMHB4XCI7XG4gICAgICAgIF90aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50LmNlbGxTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgICAgdmFyIG1pbmlDYWxlbmRhckhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1pbmlDYWxlbmRhckhlYWRlci5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC1jYWxlbmRhckhlYWRlclwiO1xuICAgICAgICBtaW5pQ2FsZW5kYXJIZWFkZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBfdGhpcy5fbW9udGhZZWFyTGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgX3RoaXMuX21vbnRoWWVhckxhYmVsRWxlbWVudC5zdHlsZS5mbGV4ID0gXCIxIDEgMTAwJVwiO1xuICAgICAgICBtaW5pQ2FsZW5kYXJIZWFkZXIuYXBwZW5kQ2hpbGQoX3RoaXMuX21vbnRoWWVhckxhYmVsRWxlbWVudCk7XG4gICAgICAgIHZhciBuYXZCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmF2QnV0dG9ucy5zdHlsZS5mbGV4ID0gXCIwIDAgYXV0b1wiO1xuICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBcIm1zLWljb24gbXMtY3RybC1jYWxlbmRhck5hdkJ1dHRvbiBtcy1pY29uLWNoZXZyb25MZWZ0XCI7XG4gICAgICAgIGJ1dHRvbi50YWJJbmRleCA9IDA7XG4gICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLmRhdGUgPSBVdGlscy5hZGRNb250aHMoX3RoaXMuZGF0ZSwgLTEpO1xuICAgICAgICB9O1xuICAgICAgICBidXR0b24ub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PSBjb25zdGFudHNfMS5Db25zdGFudHMua2V5cy5lbnRlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmRhdGUgPSBVdGlscy5hZGRNb250aHMoX3RoaXMuZGF0ZSwgLTEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbmF2QnV0dG9ucy5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFwibXMtaWNvbiBtcy1jdHJsLWNhbGVuZGFyTmF2QnV0dG9uIG1zLWljb24tY2hldnJvblJpZ2h0XCI7XG4gICAgICAgIGJ1dHRvbi50YWJJbmRleCA9IDA7XG4gICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLmRhdGUgPSBVdGlscy5hZGRNb250aHMoX3RoaXMuZGF0ZSwgMSk7XG4gICAgICAgIH07XG4gICAgICAgIGJ1dHRvbi5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09IGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmVudGVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGF0ZSA9IFV0aWxzLmFkZE1vbnRocyhfdGhpcy5kYXRlLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5hdkJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgbWluaUNhbGVuZGFySGVhZGVyLmFwcGVuZENoaWxkKG5hdkJ1dHRvbnMpO1xuICAgICAgICBfdGhpcy5fcm9vdENvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBfdGhpcy5fcm9vdENvbnRhaW5lckVsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWN0cmwtY2FsZW5kYXJcIjtcbiAgICAgICAgX3RoaXMuX3Jvb3RDb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKG1pbmlDYWxlbmRhckhlYWRlcik7XG4gICAgICAgIF90aGlzLl9yb290Q29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpcy5fbWluaUNhbGVuZGFyRWxlbWVudCk7XG4gICAgICAgIF90aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENhbGVuZGFyLnByb3RvdHlwZS5nZW5lcmF0ZURheUNlbGxzID0gZnVuY3Rpb24gKGJhc2VEYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2RheXMgPSBbXTtcbiAgICAgICAgdmFyIGlucHV0TW9udGggPSBiYXNlRGF0ZS5nZXRNb250aCgpO1xuICAgICAgICB2YXIgaW5wdXRZZWFyID0gYmFzZURhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoaW5wdXRZZWFyLCBpbnB1dE1vbnRoLCAxKTtcbiAgICAgICAgdmFyIGVuZCA9IG5ldyBEYXRlKGlucHV0WWVhciwgaW5wdXRNb250aCwgVXRpbHMuZGF5c0luTW9udGgoaW5wdXRZZWFyLCBpbnB1dE1vbnRoKSk7XG4gICAgICAgIHZhciBzdGFydERhdGVEYXlPZldlZWsgPSBzdGFydC5nZXREYXkoKTtcbiAgICAgICAgaWYgKChzdGFydERhdGVEYXlPZldlZWsgLSBVdGlscy5DYWxlbmRhclNldHRpbmdzLmZpcnN0RGF5T2ZXZWVrKSA+IDApIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gVXRpbHMuYWRkRGF5cyhzdGFydCwgVXRpbHMuQ2FsZW5kYXJTZXR0aW5ncy5maXJzdERheU9mV2VlayAtIHN0YXJ0RGF0ZURheU9mV2Vlayk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVuZERhdGVEYXlPZldlZWsgPSBlbmQuZ2V0RGF5KCk7XG4gICAgICAgIHZhciBsYXN0RGF5T2ZXZWVrID0gVXRpbHMuQ2FsZW5kYXJTZXR0aW5ncy5maXJzdERheU9mV2VlayArIDY7XG4gICAgICAgIGlmICgobGFzdERheU9mV2VlayAtIGVuZERhdGVEYXlPZldlZWspID4gMCkge1xuICAgICAgICAgICAgZW5kID0gVXRpbHMuYWRkRGF5cyhlbmQsIGxhc3REYXlPZldlZWsgLSBlbmREYXRlRGF5T2ZXZWVrKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kRGF0ZSA9IGVuZC5nZXREYXRlKCk7XG4gICAgICAgIHZhciBlbmRNb250aCA9IGVuZC5nZXRNb250aCgpO1xuICAgICAgICB2YXIgZW5kWWVhciA9IGVuZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgZGF5Q2VsbCA9IG5ldyBEYXlDZWxsKHN0YXJ0KTtcbiAgICAgICAgICAgIGRheUNlbGwub25TZWxlY3RlZCA9IGZ1bmN0aW9uIChjbGlja2VkQ2VsbCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkRGF5Q2VsbCA9IGNsaWNrZWRDZWxsO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbkRhdGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRGF0ZUNoYW5nZWQoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9kYXlzLnB1c2goZGF5Q2VsbCk7XG4gICAgICAgICAgICB2YXIgZG9uZSA9IHN0YXJ0LmdldERhdGUoKSA9PSBlbmREYXRlICYmIHN0YXJ0LmdldE1vbnRoKCkgPT0gZW5kTW9udGggJiYgc3RhcnQuZ2V0RnVsbFllYXIoKSA9PSBlbmRZZWFyO1xuICAgICAgICAgICAgc3RhcnQgPSBVdGlscy5hZGREYXlzKHN0YXJ0LCAxKTtcbiAgICAgICAgfSB3aGlsZSAoIWRvbmUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbGVuZGFyLnByb3RvdHlwZSwgXCJzZWxlY3RlZERheUNlbGxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZERheTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZERheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkRGF5LmlzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkRGF5ID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWREYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZERheS5pc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRlID0gdGhpcy5fc2VsZWN0ZWREYXkuZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5pbml0aWFsaXplU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fZGF0ZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9kYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFV0aWxzLmFyZURhdGVzRXF1YWwodGhpcy5fZGF5c1tpXS5kYXRlLCB0aGlzLmRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXlDZWxsID0gdGhpcy5fZGF5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDYWxlbmRhci5wcm90b3R5cGUucmVidWlsZE1pbmlDYWxlbmRhciA9IGZ1bmN0aW9uIChuZXdEYXRlLCBvbGREYXRlKSB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVEYXlDZWxscyhuZXdEYXRlKTtcbiAgICAgICAgdmFyIG1vbnRoID0gbmV3RGF0ZS5nZXRNb250aCgpO1xuICAgICAgICBVdGlscy5jbGVhckVsZW1lbnQodGhpcy5fbWluaUNhbGVuZGFyRWxlbWVudCk7XG4gICAgICAgIHRoaXMuX21pbmlDYWxlbmRhckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1zLWN0cmwtc2xpZGVcIiwgXCJtcy1jdHJsLXNsaWRlTGVmdFRvUmlnaHRcIiwgXCJtcy1jdHJsLXNsaWRlUmlnaHRUb0xlZnRcIik7XG4gICAgICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIHZhciBkYXlJbmRleCA9IFV0aWxzLkNhbGVuZGFyU2V0dGluZ3MuZmlyc3REYXlPZldlZWs7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVXRpbHMuQ2FsZW5kYXJTZXR0aW5ncy5kYXlzSW5XZWVrOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC1jYWxlbmRhckRheUhlYWRlclwiO1xuICAgICAgICAgICAgY2VsbC5pbm5lclRleHQgPSBVdGlscy5DYWxlbmRhclNldHRpbmdzLmdldEluaXRpYWxEYXlOYW1lKGRheUluZGV4KTtcbiAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgIGRheUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoZGF5SW5kZXggPj0gVXRpbHMuQ2FsZW5kYXJTZXR0aW5ncy5kYXlzSW5XZWVrKSB7XG4gICAgICAgICAgICAgICAgZGF5SW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21pbmlDYWxlbmRhckVsZW1lbnQuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9kYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSAlIDcgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFibGVDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgdGFibGVDZWxsLmFwcGVuZENoaWxkKHRoaXMuX2RheXNbaV0ucmVuZGVyKCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RheXNbaV0uZGF0ZS5nZXRNb250aCgpICE9IG1vbnRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF5c1tpXS5pc1N1YmR1ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRhYmxlQ2VsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZERhdGUpIHtcbiAgICAgICAgICAgIHZhciB0aW1lRGVsdGEgPSBuZXdEYXRlLmdldFRpbWUoKSAtIG9sZERhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgaWYgKHRpbWVEZWx0YSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtcy1jdHJsLXNsaWRlXCIsIFwibXMtY3RybC1zbGlkZVJpZ2h0VG9MZWZ0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGltZURlbHRhIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbmlDYWxlbmRhckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1zLWN0cmwtc2xpZGVcIiwgXCJtcy1jdHJsLXNsaWRlTGVmdFRvUmlnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5hdHRhY2guY2FsbCh0aGlzLCByb290RWxlbWVudCk7XG4gICAgICAgIFV0aWxzLmNsZWFyRWxlbWVudChyb290RWxlbWVudCk7XG4gICAgICAgIHJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3Jvb3RDb250YWluZXJFbGVtZW50KTtcbiAgICB9O1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkRGF5KSB7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZERheS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FsZW5kYXIucHJvdG90eXBlLCBcImRhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHJlYnVpbGROZWVkZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHRpbWVEZWx0YSA9IDA7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZSA9IHZhbHVlID8gdmFsdWUgOiBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RhdGUpIHtcbiAgICAgICAgICAgICAgICByZWJ1aWxkTmVlZGVkID0gIXRoaXMuX2RheXMgfHwgbmV3RGF0ZS5nZXRGdWxsWWVhcigpICE9IHRoaXMuX2RhdGUuZ2V0RnVsbFllYXIoKSB8fCBuZXdEYXRlLmdldE1vbnRoKCkgIT0gdGhpcy5fZGF0ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlYnVpbGROZWVkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYnVpbGRNaW5pQ2FsZW5kYXIobmV3RGF0ZSwgdGhpcy5fZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kYXRlID0gbmV3RGF0ZTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fbW9udGhZZWFyTGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IFV0aWxzLkNhbGVuZGFyU2V0dGluZ3MuZ2V0TG9uZ01vbnRoTmFtZSh0aGlzLl9kYXRlLmdldE1vbnRoKCkpICsgXCIgXCIgKyB0aGlzLl9kYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ2FsZW5kYXI7XG59KGlucHV0Y29udHJvbF8xLklucHV0Q29udHJvbCkpO1xuZXhwb3J0cy5DYWxlbmRhciA9IENhbGVuZGFyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsZW5kYXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaGVja0JveCA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGlucHV0Y29udHJvbF8xID0gcmVxdWlyZShcIi4vaW5wdXRjb250cm9sXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBDaGVja0JveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2hlY2tCb3gsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2hlY2tCb3goKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fbGFiZWwgPSBcIlwiO1xuICAgICAgICBfdGhpcy5fY2hlY2tib3hFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3NwYW5FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDaGVja0JveC5jcmVhdGVJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IENoZWNrQm94LmNyZWF0aW9uSW5kZXg7XG4gICAgICAgIENoZWNrQm94LmNyZWF0aW9uSW5kZXgrKztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIENoZWNrQm94LnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2hlY2tCb3gucHJvdG90eXBlLmtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmVudGVyOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja2VkID0gIXRoaXMuaXNDaGVja2VkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGVja0JveC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYXR0YWNoLmNhbGwodGhpcywgcm9vdEVsZW1lbnQpO1xuICAgICAgICByb290RWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC1jaGVja2JveFwiO1xuICAgICAgICByb290RWxlbWVudC50YWJJbmRleCA9IDA7XG4gICAgICAgIHZhciBsYWJlbEF0dHJpYnV0ZSA9IHJvb3RFbGVtZW50LmF0dHJpYnV0ZXNbXCJsYWJlbFwiXTtcbiAgICAgICAgaWYgKGxhYmVsQXR0cmlidXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYWJlbCA9IGxhYmVsQXR0cmlidXRlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NoZWNrZWRBdHRyaWJ1dGUgPSByb290RWxlbWVudC5hdHRyaWJ1dGVzW1wiaXNjaGVja2VkXCJdO1xuICAgICAgICBpZiAoaXNDaGVja2VkQXR0cmlidXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0NoZWNrZWQgPSBpc0NoZWNrZWRBdHRyaWJ1dGUudmFsdWUgPT09IFwidHJ1ZVwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoZWNrYm94RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50LmlkID0gXCJtcy1jdHJsLWNoZWNrYm94LVwiICsgQ2hlY2tCb3guY3JlYXRlSWQoKTtcbiAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIHRoaXMuX2NoZWNrYm94RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50LmNoZWNrZWQgPSB0aGlzLmlzQ2hlY2tlZDtcbiAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50Lm9uY2hhbmdlID0gZnVuY3Rpb24gKGUpIHsgX3RoaXMuY2hhbmdlZCgpOyB9O1xuICAgICAgICB2YXIgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBsYWJlbEVsZW1lbnQuaHRtbEZvciA9IHRoaXMuX2NoZWNrYm94RWxlbWVudC5pZDtcbiAgICAgICAgdGhpcy5fc3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGhpcy5fc3BhbkVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5fbGFiZWw7XG4gICAgICAgIGxhYmVsRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9zcGFuRWxlbWVudCk7XG4gICAgICAgICgwLCB1dGlsc18xLmNsZWFyRWxlbWVudCkocm9vdEVsZW1lbnQpO1xuICAgICAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9jaGVja2JveEVsZW1lbnQpO1xuICAgICAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoZWNrQm94LnByb3RvdHlwZSwgXCJsYWJlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zcGFuRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NwYW5FbGVtZW50LmlubmVyVGV4dCA9IHRoaXMuX2xhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoZWNrQm94LnByb3RvdHlwZSwgXCJpc0NoZWNrZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0NoZWNrZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNDaGVja2VkICE9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNDaGVja2VkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NoZWNrYm94RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQuY2hlY2tlZCA9IHRoaXMuX2lzQ2hlY2tlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJZHNcbiAgICBDaGVja0JveC5jcmVhdGlvbkluZGV4ID0gMDtcbiAgICByZXR1cm4gQ2hlY2tCb3g7XG59KGlucHV0Y29udHJvbF8xLklucHV0Q29udHJvbCkpO1xuZXhwb3J0cy5DaGVja0JveCA9IENoZWNrQm94O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2tib3guanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbGxlY3Rpb24gPSB2b2lkIDA7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbnZhciBDb2xsZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XG4gICAgICAgIHRoaXMub25JdGVtQWRkZWQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWQgPSBudWxsO1xuICAgIH1cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW2luZGV4XTtcbiAgICB9O1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIGlmICh0aGlzLm9uSXRlbUFkZGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uSXRlbUFkZGVkKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuX2l0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gdGhpcy5faXRlbXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25JdGVtUmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25JdGVtUmVtb3ZlZChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbGxlY3Rpb24ucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb2xsZWN0aW9uO1xufSgpKTtcbmV4cG9ydHMuQ29sbGVjdGlvbiA9IENvbGxlY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xsZWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25zdGFudHMgPSBleHBvcnRzLktFWV9ERUxFVEUgPSBleHBvcnRzLktFWV9ET1dOID0gZXhwb3J0cy5LRVlfVVAgPSBleHBvcnRzLktFWV9TUEFDRSA9IGV4cG9ydHMuS0VZX0VTQ0FQRSA9IGV4cG9ydHMuS0VZX0VOVEVSID0gZXhwb3J0cy5LRVlfVEFCID0gdm9pZCAwO1xuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBDb25zdGFudHMua2V5cy50YWIgaW5zdGVhZC5cbiAqL1xuZXhwb3J0cy5LRVlfVEFCID0gOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENvbnN0YW50cy5rZXlzLmVudGVyIGluc3RlYWQuXG4gKi9cbmV4cG9ydHMuS0VZX0VOVEVSID0gMTM7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBDb25zdGFudHMua2V5cy5lc2NhcGUgaW5zdGVhZC5cbiAqL1xuZXhwb3J0cy5LRVlfRVNDQVBFID0gMjc7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBDb25zdGFudHMua2V5cy5zcGFjZSBpbnN0ZWFkLlxuICovXG5leHBvcnRzLktFWV9TUEFDRSA9IDMyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ29uc3RhbnRzLmtleXMudXAgaW5zdGVhZC5cbiAqL1xuZXhwb3J0cy5LRVlfVVAgPSAzODtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENvbnN0YW50cy5rZXlzLmRvd24gaW5zdGVhZC5cbiAqL1xuZXhwb3J0cy5LRVlfRE9XTiA9IDQwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ29uc3RhbnRzLmtleXMuZGVsZXRlIGluc3RlYWQuXG4gKi9cbmV4cG9ydHMuS0VZX0RFTEVURSA9IDQ2O1xudmFyIENvbnN0YW50cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25zdGFudHMoKSB7XG4gICAgfVxuICAgIENvbnN0YW50cy5rZXlzID0ge1xuICAgICAgICB0YWI6IFwiVGFiXCIsXG4gICAgICAgIGVudGVyOiBcIkVudGVyXCIsXG4gICAgICAgIGVzY2FwZTogXCJFc2NhcGVcIixcbiAgICAgICAgc3BhY2U6IFwiIFwiLFxuICAgICAgICB1cDogXCJBcnJvd1VwXCIsXG4gICAgICAgIGRvd246IFwiQXJyb3dEb3duXCIsXG4gICAgICAgIGRlbGV0ZTogXCJEZWxldGVcIixcbiAgICAgICAgYmFja3NwYWNlOiBcIkJhY2tzcGFjZVwiLFxuICAgICAgICBsZWZ0OiBcIkFycm93TGVmdFwiLFxuICAgICAgICByaWdodDogXCJBcnJvd1JpZ2h0XCJcbiAgICB9O1xuICAgIHJldHVybiBDb25zdGFudHM7XG59KCkpO1xuZXhwb3J0cy5Db25zdGFudHMgPSBDb25zdGFudHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EYXRlUGlja2VyID0gZXhwb3J0cy5DYWxlbmRhclBvcHVwQ29udHJvbCA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxudmFyIGlucHV0d2l0aHBvcHVwXzEgPSByZXF1aXJlKFwiLi9pbnB1dHdpdGhwb3B1cFwiKTtcbnZhciBjYWxlbmRhcl8xID0gcmVxdWlyZShcIi4vY2FsZW5kYXJcIik7XG52YXIgQ2FsZW5kYXJQb3B1cENvbnRyb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbGVuZGFyUG9wdXBDb250cm9sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhbGVuZGFyUG9wdXBDb250cm9sKG93bmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vd25lciA9IG93bmVyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENhbGVuZGFyUG9wdXBDb250cm9sLnByb3RvdHlwZS5yZW5kZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWNhbGVuZGFyUG9wdXBcIjtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIgPSBuZXcgY2FsZW5kYXJfMS5DYWxlbmRhcigpO1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5kYXRlID0gdGhpcy5fb3duZXIudmFsdWU7XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLm9uRGF0ZUNoYW5nZWQgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgX3RoaXMuX293bmVyLnZhbHVlID0gYy5kYXRlO1xuICAgICAgICAgICAgX3RoaXMuY2xvc2VQb3B1cChmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLmF0dGFjaChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICBDYWxlbmRhclBvcHVwQ29udHJvbC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWxlbmRhcikge1xuICAgICAgICAgICAgdGhpcy5fY2FsZW5kYXIuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENhbGVuZGFyUG9wdXBDb250cm9sO1xufShpbnB1dHdpdGhwb3B1cF8xLlBvcHVwQ29udHJvbCkpO1xuZXhwb3J0cy5DYWxlbmRhclBvcHVwQ29udHJvbCA9IENhbGVuZGFyUG9wdXBDb250cm9sO1xudmFyIERhdGVQaWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERhdGVQaWNrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGF0ZVBpY2tlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS52YWxpZGF0ZVJvb3RFbGVtZW50ID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGlmICghKHJvb3RFbGVtZW50IGluc3RhbmNlb2YgSFRNTERpdkVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRlUGlja2VyIHJlcXVpcmVzIGEgRElWIGVsZW1lbnQgYXMgaXRzIHJvb3QuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS5jcmVhdGVQb3B1cENvbnRyb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FsZW5kYXJQb3B1cENvbnRyb2wodGhpcyk7XG4gICAgfTtcbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS5nZXRWYWx1ZUFzU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICB9O1xuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLmdldENzc0NsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwibXMtY3RybCBtcy1jdHJsLWRhdGVQaWNrZXJcIjtcbiAgICB9O1xuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLmdldEJ1dHRvbkljb25Dc3NDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIm1zLWljb24tY2FsZW5kYXJcIjtcbiAgICB9O1xuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLnBvcHVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnBvcHVwLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5wb3B1cENvbnRyb2wuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERhdGVQaWNrZXI7XG59KGlucHV0d2l0aHBvcHVwXzEuSW5wdXRXaXRoUG9wdXApKTtcbmV4cG9ydHMuRGF0ZVBpY2tlciA9IERhdGVQaWNrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlcGlja2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRHJvcERvd24gPSBleHBvcnRzLkRyb3BEb3duUG9wdXBDb250cm9sID0gZXhwb3J0cy5Ecm9wRG93bkl0ZW0gPSB2b2lkIDA7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9jb2xsZWN0aW9uXCIpO1xudmFyIGlucHV0d2l0aHBvcHVwXzEgPSByZXF1aXJlKFwiLi9pbnB1dHdpdGhwb3B1cFwiKTtcbnZhciBEcm9wRG93bkl0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRHJvcERvd25JdGVtKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIERyb3BEb3duSXRlbS5wcm90b3R5cGUuY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2xpY2spIHtcbiAgICAgICAgICAgIHRoaXMub25DbGljayh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJvcERvd25JdGVtLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBEcm9wRG93bkl0ZW0ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSA9IFwibXMtY3RybCBtcy1jdHJsLWRyb3Bkb3duLWl0ZW1cIjtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm9wdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQub25tb3VzZXVwID0gZnVuY3Rpb24gKGUpIHsgX3RoaXMuY2xpY2soKTsgfTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmVudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3BEb3duSXRlbS5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJUZXh0ID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRHJvcERvd25JdGVtO1xufSgpKTtcbmV4cG9ydHMuRHJvcERvd25JdGVtID0gRHJvcERvd25JdGVtO1xudmFyIERyb3BEb3duUG9wdXBDb250cm9sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcm9wRG93blBvcHVwQ29udHJvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEcm9wRG93blBvcHVwQ29udHJvbChvd25lcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcmVuZGVyZWRJdGVtcyA9IFtdO1xuICAgICAgICBfdGhpcy5fc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICBfdGhpcy5fb3duZXIgPSBvd25lcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEcm9wRG93blBvcHVwQ29udHJvbC5wcm90b3R5cGUucmVuZGVyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwibXMtY3RybCBtcy1wb3B1cFwiO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJsaXN0Ym94XCIpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IHRoaXMuX293bmVyLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fb3duZXIuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJlZEl0ZW0gPSB0aGlzLl9vd25lci5pdGVtcy5nZXQoaSkucmVuZGVyKCk7XG4gICAgICAgICAgICByZW5kZXJlZEl0ZW0udGFiSW5kZXggPSAwO1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChyZW5kZXJlZEl0ZW0pO1xuICAgICAgICAgICAgaWYgKGkgPT0gc2VsZWN0ZWRJbmRleCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVkSXRlbS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVkSXRlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVkSXRlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLnB1c2gocmVuZGVyZWRJdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIERyb3BEb3duUG9wdXBDb250cm9sLnByb3RvdHlwZS5rZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5rZXlEb3duLmNhbGwodGhpcywgZSk7IC8vIGhhbmRsZXMgRVNDXG4gICAgICAgIHZhciBzZWxlY3RlZEl0ZW1JbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMudGFiOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMuZW50ZXI6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX293bmVyLnNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Db25zdGFudHMua2V5cy51cDpcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtSW5kZXggPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleCA9IHRoaXMuX3JlbmRlcmVkSXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW1JbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUluZGV4ID0gdGhpcy5fcmVuZGVyZWRJdGVtcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkSXRlbUluZGV4O1xuICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMuZG93bjpcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW1JbmRleCA+PSB0aGlzLl9yZW5kZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkSXRlbUluZGV4O1xuICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJvcERvd25Qb3B1cENvbnRyb2wucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyb290RWxlbWVudEJvdW5kcykge1xuICAgICAgICB2YXIgcmVuZGVyZWRFbGVtZW50ID0gX3N1cGVyLnByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzLCByb290RWxlbWVudEJvdW5kcyk7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudC5zdHlsZS5taW5XaWR0aCA9IChyb290RWxlbWVudEJvdW5kcy53aWR0aCAvIDIpICsgXCJweFwiO1xuICAgICAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3BEb3duUG9wdXBDb250cm9sLnByb3RvdHlwZSwgXCJzZWxlY3RlZEluZGV4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fcmVuZGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgbmV3IGl0ZW1cbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zW2luZGV4XS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEcm9wRG93blBvcHVwQ29udHJvbDtcbn0oaW5wdXR3aXRocG9wdXBfMS5Qb3B1cENvbnRyb2wpKTtcbmV4cG9ydHMuRHJvcERvd25Qb3B1cENvbnRyb2wgPSBEcm9wRG93blBvcHVwQ29udHJvbDtcbnZhciBEcm9wRG93biA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHJvcERvd24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRHJvcERvd24oKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9pdGVtcyA9IG5ldyBjb2xsZWN0aW9uXzEuQ29sbGVjdGlvbigpO1xuICAgICAgICBfdGhpcy5faXRlbXMub25JdGVtQWRkZWQgPSBmdW5jdGlvbiAoaXRlbSkgeyBpdGVtLm9uQ2xpY2sgPSBmdW5jdGlvbiAoY2xpY2tlZEl0ZW0pIHsgX3RoaXMuaXRlbUNsaWNrZWQoY2xpY2tlZEl0ZW0pOyB9OyB9O1xuICAgICAgICBfdGhpcy5faXRlbXMub25JdGVtUmVtb3ZlZCA9IGZ1bmN0aW9uIChpdGVtKSB7IGl0ZW0ub25DbGljayA9IG51bGw7IH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRHJvcERvd24ucHJvdG90eXBlLml0ZW1DbGlja2VkID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtO1xuICAgICAgICB0aGlzLmNsb3NlUG9wdXAoZmFsc2UpO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LmZvY3VzKCk7XG4gICAgfTtcbiAgICBEcm9wRG93bi5wcm90b3R5cGUudmFsaWRhdGVSb290RWxlbWVudCA9IGZ1bmN0aW9uIChyb290RWxlbWVudCkge1xuICAgICAgICBpZiAoIShyb290RWxlbWVudCBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRHJvcERvd24gcmVxdWlyZXMgYSBESVYgZWxlbWVudCBhcyBpdHMgcm9vdC5cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyb3BEb3duLnByb3RvdHlwZS5jcmVhdGVQb3B1cENvbnRyb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRHJvcERvd25Qb3B1cENvbnRyb2wodGhpcyk7XG4gICAgfTtcbiAgICBEcm9wRG93bi5wcm90b3R5cGUuZ2V0Q3NzQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJtcy1jdHJsIG1zLWN0cmwtZHJvcGRvd25cIjtcbiAgICB9O1xuICAgIERyb3BEb3duLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5hdHRhY2guY2FsbCh0aGlzLCByb290RWxlbWVudCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb290RWxlbWVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkRWxlbWVudCA9IHRoaXMucm9vdEVsZW1lbnQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoY2hpbGRFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSBcIm1zLWRyb3Bkb3duLWl0ZW1cIikge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gbmV3IERyb3BEb3duSXRlbShjaGlsZEVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJrZXlcIikudmFsdWUsIGNoaWxkRWxlbWVudC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInZhbHVlXCIpLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pdGVtcy5hZGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGFyaWEtbGFiZWxsZWRieSB0YWcgd2l0aCBhbGwgcGVydGluZW50IGxhYmVsIGlkc1xuICAgICAgICB2YXIgYXJpYUxhYmVsbGVkQnlJZHMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50TGFiZWxJZCkge1xuICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnlJZHMucHVzaCh0aGlzLnBhcmVudExhYmVsSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhYmVsSWQpIHtcbiAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5SWRzLnB1c2godGhpcy5sYWJlbElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJpYUxhYmVsbGVkQnlJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIiwgYXJpYUxhYmVsbGVkQnlJZHMuam9pbihcIiBcIikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImNvbWJvYm94XCIpO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGFzcG9wdXBcIiwgXCJsaXN0Ym94XCIpO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICB9O1xuICAgIERyb3BEb3duLnByb3RvdHlwZS5wb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5wb3B1cC5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnBvcHVwQ29udHJvbC5zZWxlY3RlZEluZGV4ID0gdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3BEb3duLnByb3RvdHlwZSwgXCJpdGVtc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3BEb3duLnByb3RvdHlwZSwgXCJzZWxlY3RlZEl0ZW1cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3BEb3duLnByb3RvdHlwZSwgXCJzZWxlY3RlZEluZGV4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5pbmRleE9mKHRoaXMudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgdGhpcy5pdGVtcy5sZW5ndGggPiBpbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gdGhpcy5pdGVtcy5nZXQoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERyb3BEb3duLnByb3RvdHlwZSwgXCJwYXJlbnRMYWJlbElkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50TGFiZWxJZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudExhYmVsSWQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEcm9wRG93bjtcbn0oaW5wdXR3aXRocG9wdXBfMS5JbnB1dFdpdGhQb3B1cCkpO1xuZXhwb3J0cy5Ecm9wRG93biA9IERyb3BEb3duO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHJvcGRvd24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRheU9mV2VlayA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxudmFyIERheU9mV2VlaztcbihmdW5jdGlvbiAoRGF5T2ZXZWVrKSB7XG4gICAgRGF5T2ZXZWVrW0RheU9mV2Vla1tcIlN1bmRheVwiXSA9IDBdID0gXCJTdW5kYXlcIjtcbiAgICBEYXlPZldlZWtbRGF5T2ZXZWVrW1wiTW9uZGF5XCJdID0gMV0gPSBcIk1vbmRheVwiO1xuICAgIERheU9mV2Vla1tEYXlPZldlZWtbXCJUdWVzZGF5XCJdID0gMl0gPSBcIlR1ZXNkYXlcIjtcbiAgICBEYXlPZldlZWtbRGF5T2ZXZWVrW1wiV2VkbmVzZGF5XCJdID0gM10gPSBcIldlZG5lc2RheVwiO1xuICAgIERheU9mV2Vla1tEYXlPZldlZWtbXCJUaHVyc2RheVwiXSA9IDRdID0gXCJUaHVyc2RheVwiO1xuICAgIERheU9mV2Vla1tEYXlPZldlZWtbXCJGcmlkYXlcIl0gPSA1XSA9IFwiRnJpZGF5XCI7XG4gICAgRGF5T2ZXZWVrW0RheU9mV2Vla1tcIlNhdHVyZGF5XCJdID0gNl0gPSBcIlNhdHVyZGF5XCI7XG59KShEYXlPZldlZWsgPSBleHBvcnRzLkRheU9mV2VlayB8fCAoZXhwb3J0cy5EYXlPZldlZWsgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW51bXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklucHV0Q29udHJvbCA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxudmFyIElucHV0Q29udHJvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnB1dENvbnRyb2woKSB7XG4gICAgfVxuICAgIElucHV0Q29udHJvbC5wcm90b3R5cGUudmFsaWRhdGVSb290RWxlbWVudCA9IGZ1bmN0aW9uIChyb290RWxlbWVudCkge1xuICAgICAgICAvLyBEbyBub3RoaW5nIC0gYWxsIHJvb3QgZWxlbWVudCB0eXBlcyBhcmUgdmFsaWQuXG4gICAgfTtcbiAgICBJbnB1dENvbnRyb2wucHJvdG90eXBlLmtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyBEbyBub3RoaW5nIGluIGJhc2UgaW1wbGVtZW50YXRpb25cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnB1dENvbnRyb2wucHJvdG90eXBlLCBcInJvb3RFbGVtZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm9vdEVsZW1lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBJbnB1dENvbnRyb2wucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uIChyb290RWxlbWVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnZhbGlkYXRlUm9vdEVsZW1lbnQocm9vdEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudCA9IHJvb3RFbGVtZW50O1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkgeyBfdGhpcy5rZXlEb3duKGUpOyB9O1xuICAgIH07XG4gICAgcmV0dXJuIElucHV0Q29udHJvbDtcbn0oKSk7XG5leHBvcnRzLklucHV0Q29udHJvbCA9IElucHV0Q29udHJvbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlucHV0Y29udHJvbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklucHV0V2l0aFBvcHVwID0gZXhwb3J0cy5Qb3B1cENvbnRyb2wgPSB2b2lkIDA7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciBVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGlucHV0Y29udHJvbF8xID0gcmVxdWlyZShcIi4vaW5wdXRjb250cm9sXCIpO1xudmFyIHV1aWRfMSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xudmFyIFBvcHVwQ29udHJvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQb3B1cENvbnRyb2woKSB7XG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBQb3B1cENvbnRyb2wucHJvdG90eXBlLmtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmVzY2FwZTpcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBvcHVwQ29udHJvbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50Qm91bmRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWxlbWVudC50YWJJbmRleCA9IDA7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWN0cmwtcG9wdXAtY29udGFpbmVyXCI7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImRpYWxvZ1wiKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLW1vZGFsXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgZWxlbWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMua2V5RG93bihlKTtcbiAgICAgICAgICAgIHJldHVybiAhZS5jYW5jZWxCdWJibGU7XG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJDb250ZW50KCkpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIFBvcHVwQ29udHJvbC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wb3B1cEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQb3B1cENvbnRyb2wucHJvdG90eXBlLnBvcHVwID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5faXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwtb3ZlcmxheVwiO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxheUVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxheUVsZW1lbnQuc3R5bGUud2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC5zdHlsZS5oZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxheUVsZW1lbnQub25mb2N1cyA9IGZ1bmN0aW9uIChlKSB7IF90aGlzLmNsb3NlUG9wdXAodHJ1ZSk7IH07XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX292ZXJsYXlFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciByb290RWxlbWVudEJvdW5kcyA9IHJvb3RFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gdGhpcy5yZW5kZXIocm9vdEVsZW1lbnRCb3VuZHMpO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtcy1jdHJsLXNsaWRlXCIsIFwibXMtY3RybC1zbGlkZUxlZnRUb1JpZ2h0XCIsIFwibXMtY3RybC1zbGlkZVJpZ2h0VG9MZWZ0XCIsIFwibXMtY3RybC1zbGlkZVRvcFRvQm90dG9tXCIsIFwibXMtY3RybC1zbGlkZVJpZ2h0VG9MZWZ0XCIpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZnVuY3Rpb24gKGUpIHsgX3RoaXMuY2xvc2VQb3B1cCh0cnVlKTsgfSk7XG4gICAgICAgICAgICB2YXIgcm9vdEVsZW1lbnRMYWJlbCA9IHJvb3RFbGVtZW50LmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIik7XG4gICAgICAgICAgICBpZiAocm9vdEVsZW1lbnRMYWJlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHJvb3RFbGVtZW50TGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb3ZlcmxheUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fcG9wdXBFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBwb3B1cEVsZW1lbnRCb3VuZHMgPSB0aGlzLl9wb3B1cEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB2YXIgYXZhaWxhYmxlU3BhY2VCZWxvdyA9IHdpbmRvdy5pbm5lckhlaWdodCAtIHJvb3RFbGVtZW50Qm91bmRzLmJvdHRvbTtcbiAgICAgICAgICAgIHZhciBhdmFpbGFibGVTcGFjZUFib3ZlID0gcm9vdEVsZW1lbnRCb3VuZHMudG9wO1xuICAgICAgICAgICAgdmFyIGF2YWlsYWJsZVNwYWNlUmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHJvb3RFbGVtZW50Qm91bmRzLmxlZnQ7XG4gICAgICAgICAgICB2YXIgYXZhaWxhYmxlU3BhY2VSaWdodCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcm9vdEVsZW1lbnRCb3VuZHMucmlnaHQ7XG4gICAgICAgICAgICB2YXIgYXZhaWxhYmxlU3BhY2VMZWZ0ID0gcm9vdEVsZW1lbnRCb3VuZHMubGVmdDtcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gcm9vdEVsZW1lbnRCb3VuZHMubGVmdCArIFV0aWxzLmdldFNjcm9sbFgoKTtcbiAgICAgICAgICAgIHZhciB0b3A7XG4gICAgICAgICAgICBpZiAoYXZhaWxhYmxlU3BhY2VBYm92ZSA8IHBvcHVwRWxlbWVudEJvdW5kcy5oZWlnaHQgJiYgYXZhaWxhYmxlU3BhY2VCZWxvdyA8IHBvcHVwRWxlbWVudEJvdW5kcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3QgZW5vdWdoIHNwYWNlIGFib3ZlIG9yIGJlbG93IHJvb3QgZWxlbWVudFxuICAgICAgICAgICAgICAgIHZhciBhY3R1YWxQb3B1cEhlaWdodCA9IE1hdGgubWluKHBvcHVwRWxlbWVudEJvdW5kcy5oZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnN0eWxlLm1heEhlaWdodCA9IGFjdHVhbFBvcHVwSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGlmIChhY3R1YWxQb3B1cEhlaWdodCA8IHBvcHVwRWxlbWVudEJvdW5kcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gVXRpbHMuZ2V0U2Nyb2xsWSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gVXRpbHMuZ2V0U2Nyb2xsWSgpICsgcm9vdEVsZW1lbnRCb3VuZHMudG9wICsgKHJvb3RFbGVtZW50Qm91bmRzLmhlaWdodCAtIGFjdHVhbFBvcHVwSGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVTcGFjZUxlZnQgPCBwb3B1cEVsZW1lbnRCb3VuZHMud2lkdGggJiYgYXZhaWxhYmxlU3BhY2VSaWdodCA8IHBvcHVwRWxlbWVudEJvdW5kcy53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3QgZW5vdWdoIHNwYWNlIGxlZnQgb3IgcmlnaHQgb2Ygcm9vdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3R1YWxQb3B1cFdpZHRoID0gTWF0aC5taW4ocG9wdXBFbGVtZW50Qm91bmRzLndpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9IGFjdHVhbFBvcHVwV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3R1YWxQb3B1cFdpZHRoIDwgcG9wdXBFbGVtZW50Qm91bmRzLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gVXRpbHMuZ2V0U2Nyb2xsWCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IFV0aWxzLmdldFNjcm9sbFgoKSArIHJvb3RFbGVtZW50Qm91bmRzLmxlZnQgKyAocm9vdEVsZW1lbnRCb3VuZHMud2lkdGggLSBhY3R1YWxQb3B1cFdpZHRoKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVub3VnaCBzcGFjZSBvbiB0aGUgbGVmdCBvciByaWdodCBvZiB0aGUgcm9vdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVTcGFjZVJpZ2h0ID49IHBvcHVwRWxlbWVudEJvdW5kcy53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IFV0aWxzLmdldFNjcm9sbFgoKSArIHJvb3RFbGVtZW50Qm91bmRzLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtcy1jdHJsLXNsaWRlXCIsIFwibXMtY3RybC1zbGlkZUxlZnRUb1JpZ2h0XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IFV0aWxzLmdldFNjcm9sbFgoKSArIHJvb3RFbGVtZW50Qm91bmRzLmxlZnQgLSBwb3B1cEVsZW1lbnRCb3VuZHMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1zLWN0cmwtc2xpZGVcIiwgXCJtcy1jdHJsLXNsaWRlUmlnaHRUb0xlZnRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFbm91Z2ggc3BhY2UgYWJvdmUgb3IgYmVsb3cgcm9vdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZVNwYWNlQmVsb3cgPj0gcG9wdXBFbGVtZW50Qm91bmRzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSBVdGlscy5nZXRTY3JvbGxZKCkgKyByb290RWxlbWVudEJvdW5kcy5ib3R0b207XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibXMtY3RybC1zbGlkZVwiLCBcIm1zLWN0cmwtc2xpZGVUb3BUb0JvdHRvbVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IFV0aWxzLmdldFNjcm9sbFkoKSArIHJvb3RFbGVtZW50Qm91bmRzLnRvcCAtIHBvcHVwRWxlbWVudEJvdW5kcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibXMtY3RybC1zbGlkZVwiLCBcIm1zLWN0cmwtc2xpZGVCb3R0b21Ub1RvcFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZVNwYWNlUmlnaHQgPCBwb3B1cEVsZW1lbnRCb3VuZHMud2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IFV0aWxzLmdldFNjcm9sbFgoKSArIHJvb3RFbGVtZW50Qm91bmRzLnJpZ2h0IC0gcG9wdXBFbGVtZW50Qm91bmRzLndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICB0aGlzLl9pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQb3B1cENvbnRyb2wucHJvdG90eXBlLmNsb3NlUG9wdXAgPSBmdW5jdGlvbiAod2FzQ2FuY2VsbGVkKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc09wZW4pIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5fb3ZlcmxheUVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHRoaXMsIHdhc0NhbmNlbGxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb3B1cENvbnRyb2wucHJvdG90eXBlLCBcImlzT3BlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzT3BlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBQb3B1cENvbnRyb2w7XG59KCkpO1xuZXhwb3J0cy5Qb3B1cENvbnRyb2wgPSBQb3B1cENvbnRyb2w7XG52YXIgSW5wdXRXaXRoUG9wdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKElucHV0V2l0aFBvcHVwLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElucHV0V2l0aFBvcHVwKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLmtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmVudGVyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3B1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLnVwZGF0ZUxhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fbGFiZWxFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYWJlbEVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5nZXRWYWx1ZUFzU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFiZWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwbGFjZWhvbGRlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLl9wbGFjZWhvbGRlclRleHQgPyB0aGlzLl9wbGFjZWhvbGRlclRleHQgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicGxhY2Vob2xkZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElucHV0V2l0aFBvcHVwLnByb3RvdHlwZS51cGRhdGVMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICB0aGlzLnJvb3RFbGVtZW50LnRhYkluZGV4ID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucm9vdEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucm9vdEVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLCBcInBvcHVwQ29udHJvbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvcHVwQ29udHJvbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIElucHV0V2l0aFBvcHVwLnByb3RvdHlwZS5nZXRCdXR0b25JY29uQ3NzQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJtcy1pY29uLWNoZXZyb25Eb3duXCI7XG4gICAgfTtcbiAgICBJbnB1dFdpdGhQb3B1cC5wcm90b3R5cGUuZ2V0VmFsdWVBc1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICBJbnB1dFdpdGhQb3B1cC5wcm90b3R5cGUudmFsdWVDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vblZhbHVlQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uIChyb290RWxlbWVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmF0dGFjaC5jYWxsKHRoaXMsIHJvb3RFbGVtZW50KTtcbiAgICAgICAgcm9vdEVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICByb290RWxlbWVudC5jbGFzc05hbWUgPSB0aGlzLmdldENzc0NsYXNzTmFtZSgpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbiAoZSkgeyBfdGhpcy5jbG9zZVBvcHVwKHRydWUpOyB9KTtcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZVBvcHVwKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9wdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBwbGFjZUhvbGRlckRvbUl0ZW0gPSB0aGlzLnJvb3RFbGVtZW50LmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwicGxhY2Vob2xkZXJcIik7XG4gICAgICAgIGlmIChwbGFjZUhvbGRlckRvbUl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuX3BsYWNlaG9sZGVyVGV4dCA9IHBsYWNlSG9sZGVyRG9tSXRlbS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGhpcy5fbGFiZWxFbGVtZW50LmNsYXNzTmFtZSA9IFwibXMtY3RybCBtcy1kcm9wZG93bi1sYWJlbFwiO1xuICAgICAgICB0aGlzLl9sYWJlbEVsZW1lbnQuaWQgPSAoMCwgdXVpZF8xLnY0KSgpOyAvLyBnZW5lcmF0ZSB1bmlxdWUgaWQgZm9yIG91ciBsYWJlbCBlbGVtZW50XG4gICAgICAgIHRoaXMuX2Ryb3BEb3duQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgICAgICB0aGlzLl9kcm9wRG93bkJ1dHRvbkVsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1pY29uIG1zLWN0cmwtZHJvcGRvd24tYnV0dG9uIFwiICsgdGhpcy5nZXRCdXR0b25JY29uQ3NzQ2xhc3NOYW1lKCk7XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fbGFiZWxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9kcm9wRG93bkJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUxhYmVsKCk7XG4gICAgfTtcbiAgICBJbnB1dFdpdGhQb3B1cC5wcm90b3R5cGUucG9wdXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3BvcHVwQ29udHJvbCA9IHRoaXMuY3JlYXRlUG9wdXBDb250cm9sKCk7XG4gICAgICAgIHRoaXMuX3BvcHVwQ29udHJvbC5vbkNsb3NlID0gZnVuY3Rpb24gKHNlbmRlciwgd2FzQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICBfdGhpcy5jbG9zZVBvcHVwKHdhc0NhbmNlbGxlZCk7XG4gICAgICAgICAgICBfdGhpcy5yb290RWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wb3B1cENvbnRyb2wucG9wdXAodGhpcy5yb290RWxlbWVudCk7XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XG4gICAgfTtcbiAgICBJbnB1dFdpdGhQb3B1cC5wcm90b3R5cGUuY2xvc2VQb3B1cCA9IGZ1bmN0aW9uICh3YXNDYW5jZWxsZWQpIHtcbiAgICAgICAgaWYgKHRoaXMucG9wdXBDb250cm9sKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwQ29udHJvbC5jbG9zZVBvcHVwKHdhc0NhbmNlbGxlZCk7XG4gICAgICAgICAgICB0aGlzLnJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElucHV0V2l0aFBvcHVwLnByb3RvdHlwZSwgXCJsYWJlbElkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGFiZWxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsRWxlbWVudC5pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLCBcImlzT3BlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvcHVwQ29udHJvbCA/IHRoaXMuX3BvcHVwQ29udHJvbC5pc09wZW4gOiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnB1dFdpdGhQb3B1cC5wcm90b3R5cGUsIFwicGxhY2Vob2xkZXJUZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXJUZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXJUZXh0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUgIT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFiZWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElucHV0V2l0aFBvcHVwLnByb3RvdHlwZSwgXCJpc0VuYWJsZWRcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRW5hYmxlZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIElucHV0V2l0aFBvcHVwO1xufShpbnB1dGNvbnRyb2xfMS5JbnB1dENvbnRyb2wpKTtcbmV4cG9ydHMuSW5wdXRXaXRoUG9wdXAgPSBJbnB1dFdpdGhQb3B1cDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlucHV0d2l0aHBvcHVwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9wdXBNZW51ID0gdm9pZCAwO1xuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZShcIi4vY29sbGVjdGlvblwiKTtcbnZhciBpbnB1dHdpdGhwb3B1cF8xID0gcmVxdWlyZShcIi4vaW5wdXR3aXRocG9wdXBcIik7XG52YXIgUG9wdXBNZW51ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb3B1cE1lbnUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUG9wdXBNZW51KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faXRlbXMgPSBuZXcgY29sbGVjdGlvbl8xLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgX3RoaXMuX3JlbmRlcmVkSXRlbXMgPSBbXTtcbiAgICAgICAgX3RoaXMuX3NlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQb3B1cE1lbnUucHJvdG90eXBlLnJlbmRlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtcG9wdXBcIjtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibGlzdGJveFwiKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVkSXRlbSA9IHRoaXMuX2l0ZW1zLmdldChpKS5yZW5kZXIoKTtcbiAgICAgICAgICAgIHJlbmRlcmVkSXRlbS50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHJlbmRlcmVkSXRlbSk7XG4gICAgICAgICAgICBpZiAoaSA9PSB0aGlzLnNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlZEl0ZW0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMucHVzaChyZW5kZXJlZEl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gICAgUG9wdXBNZW51LnByb3RvdHlwZS5rZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5rZXlEb3duLmNhbGwodGhpcywgZSk7XG4gICAgICAgIHZhciBzZWxlY3RlZEl0ZW1JbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMudGFiOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBjYXNlIENvbnN0YW50cy5rZXlzLmVudGVyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXg7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMudXA6XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbUluZGV4IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSW5kZXggPSB0aGlzLl9yZW5kZXJlZEl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleCA9IHRoaXMuX3JlbmRlcmVkSXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEl0ZW1JbmRleDtcbiAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmRvd246XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbUluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtSW5kZXggPj0gdGhpcy5fcmVuZGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEl0ZW1JbmRleDtcbiAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb3B1cE1lbnUucHJvdG90eXBlLCBcIml0ZW1zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlbXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG9wdXBNZW51LnByb3RvdHlwZSwgXCJzZWxlY3RlZEluZGV4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fcmVuZGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zW2luZGV4XS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBQb3B1cE1lbnU7XG59KGlucHV0d2l0aHBvcHVwXzEuUG9wdXBDb250cm9sKSk7XG5leHBvcnRzLlBvcHVwTWVudSA9IFBvcHVwTWVudTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvcHVwbWVudS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJhZGlvQnV0dG9uID0gdm9pZCAwO1xuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgaW5wdXRjb250cm9sXzEgPSByZXF1aXJlKFwiLi9pbnB1dGNvbnRyb2xcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIFJhZGlvQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSYWRpb0J1dHRvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSYWRpb0J1dHRvbigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9sYWJlbCA9IFwiXCI7XG4gICAgICAgIF90aGlzLl9jaGVja2JveEVsZW1lbnQgPSBudWxsO1xuICAgICAgICBfdGhpcy5fc3BhbkVsZW1lbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJhZGlvQnV0dG9uLmNyZWF0ZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gUmFkaW9CdXR0b24uY3JlYXRpb25JbmRleDtcbiAgICAgICAgUmFkaW9CdXR0b24uY3JlYXRpb25JbmRleCsrO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUua2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMuZW50ZXI6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoZWNrZWQgPSAhdGhpcy5pc0NoZWNrZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5hdHRhY2guY2FsbCh0aGlzLCByb290RWxlbWVudCk7XG4gICAgICAgIHJvb3RFbGVtZW50LmNsYXNzTmFtZSA9IFwibXMtY3RybCBtcy1jdHJsLXJhZGlvYnV0dG9uXCI7XG4gICAgICAgIHJvb3RFbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgICAgICAgdmFyIGxhYmVsQXR0cmlidXRlID0gcm9vdEVsZW1lbnQuYXR0cmlidXRlc1tcImxhYmVsXCJdO1xuICAgICAgICBpZiAobGFiZWxBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsID0gbGFiZWxBdHRyaWJ1dGUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzQ2hlY2tlZEF0dHJpYnV0ZSA9IHJvb3RFbGVtZW50LmF0dHJpYnV0ZXNbXCJpc2NoZWNrZWRcIl07XG4gICAgICAgIGlmIChpc0NoZWNrZWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzQ2hlY2tlZCA9IGlzQ2hlY2tlZEF0dHJpYnV0ZS52YWx1ZSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQuaWQgPSBcIm1zLWN0cmwtcmFkaW8tXCIgKyBSYWRpb0J1dHRvbi5jcmVhdGVJZCgpO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQudHlwZSA9IFwicmFkaW9cIjtcbiAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQuY2hlY2tlZCA9IHRoaXMuaXNDaGVja2VkO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQub25jaGFuZ2UgPSBmdW5jdGlvbiAoZSkgeyBfdGhpcy5jaGFuZ2VkKCk7IH07XG4gICAgICAgIHZhciBncm91cE5hbWVBdHRyaWJ1dGUgPSByb290RWxlbWVudC5hdHRyaWJ1dGVzW1wiZ3JvdXBuYW1lXCJdO1xuICAgICAgICBpZiAoZ3JvdXBOYW1lQXR0cmlidXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQubmFtZSA9IGdyb3VwTmFtZUF0dHJpYnV0ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBsYWJlbEVsZW1lbnQuaHRtbEZvciA9IHRoaXMuX2NoZWNrYm94RWxlbWVudC5pZDtcbiAgICAgICAgdGhpcy5fc3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGhpcy5fc3BhbkVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5fbGFiZWw7XG4gICAgICAgIGxhYmVsRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9zcGFuRWxlbWVudCk7XG4gICAgICAgICgwLCB1dGlsc18xLmNsZWFyRWxlbWVudCkocm9vdEVsZW1lbnQpO1xuICAgICAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9jaGVja2JveEVsZW1lbnQpO1xuICAgICAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJsYWJlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zcGFuRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NwYW5FbGVtZW50LmlubmVyVGV4dCA9IHRoaXMuX2xhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJpc0NoZWNrZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0NoZWNrZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNDaGVja2VkICE9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNDaGVja2VkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NoZWNrYm94RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQuY2hlY2tlZCA9IHRoaXMuX2lzQ2hlY2tlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJZHNcbiAgICBSYWRpb0J1dHRvbi5jcmVhdGlvbkluZGV4ID0gMDtcbiAgICByZXR1cm4gUmFkaW9CdXR0b247XG59KGlucHV0Y29udHJvbF8xLklucHV0Q29udHJvbCkpO1xuZXhwb3J0cy5SYWRpb0J1dHRvbiA9IFJhZGlvQnV0dG9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFkaW9idXR0b24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UZXh0Qm94ID0gdm9pZCAwO1xudmFyIFV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgaW5wdXRjb250cm9sXzEgPSByZXF1aXJlKFwiLi9pbnB1dGNvbnRyb2xcIik7XG52YXIgRWRpdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFZGl0Qm94KCkge1xuICAgIH1cbiAgICBFZGl0Qm94LnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRWRpdEJveDtcbn0oKSk7XG52YXIgU2luZ2xlTGluZUVkaXRCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbmdsZUxpbmVFZGl0Qm94LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNpbmdsZUxpbmVFZGl0Qm94KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBfdGhpcy5faW5wdXRFbGVtZW50LmNsYXNzTmFtZSA9IFwibXMtY3RybCBtcy1jdHJsLXRleHRib3hcIjtcbiAgICAgICAgX3RoaXMuX2lucHV0RWxlbWVudC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIF90aGlzLl9pbnB1dEVsZW1lbnQub25pbnB1dCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbmdsZUxpbmVFZGl0Qm94LnByb3RvdHlwZSwgXCJlbGVtZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbmdsZUxpbmVFZGl0Qm94LnByb3RvdHlwZSwgXCJwbGFjZWhvbGRlclwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnQucGxhY2Vob2xkZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW5nbGVMaW5lRWRpdEJveC5wcm90b3R5cGUsIFwibGluZUNvdW50XCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGxpbmVDb3VudCBjYW4ndCBiZSBzZXQgb24gYSBTaW5nbGVMaW5lRWRpdEJveFxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbmdsZUxpbmVFZGl0Qm94LnByb3RvdHlwZSwgXCJtYXhMZW5ndGhcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0RWxlbWVudC5tYXhMZW5ndGggIT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnQubWF4TGVuZ3RoID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc3Vic3RyKDAsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW5nbGVMaW5lRWRpdEJveC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnQudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTaW5nbGVMaW5lRWRpdEJveDtcbn0oRWRpdEJveCkpO1xudmFyIE11bHRpbGluZUVkaXRCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE11bHRpbGluZUVkaXRCb3gsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTXVsdGlsaW5lRWRpdEJveCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3RleHRhcmVhRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICAgICAgX3RoaXMuX3RleHRhcmVhRWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC10ZXh0Ym94IG1zLWN0cmwtdGV4dGJveC1tdWx0aWxpbmVcIjtcbiAgICAgICAgX3RoaXMuX3RleHRhcmVhRWxlbWVudC5vbmlucHV0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTXVsdGlsaW5lRWRpdEJveC5wcm90b3R5cGUsIFwiZWxlbWVudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRhcmVhRWxlbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNdWx0aWxpbmVFZGl0Qm94LnByb3RvdHlwZSwgXCJwbGFjZWhvbGRlclwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0YXJlYUVsZW1lbnQucGxhY2Vob2xkZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNdWx0aWxpbmVFZGl0Qm94LnByb3RvdHlwZSwgXCJsaW5lQ291bnRcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dGFyZWFFbGVtZW50LnJvd3MgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNdWx0aWxpbmVFZGl0Qm94LnByb3RvdHlwZSwgXCJtYXhMZW5ndGhcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRhcmVhRWxlbWVudC5tYXhMZW5ndGggIT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0YXJlYUVsZW1lbnQubWF4TGVuZ3RoID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc3Vic3RyKDAsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNdWx0aWxpbmVFZGl0Qm94LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRhcmVhRWxlbWVudC52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHRhcmVhRWxlbWVudC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE11bHRpbGluZUVkaXRCb3g7XG59KEVkaXRCb3gpKTtcbnZhciBUZXh0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0Qm94LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRleHRCb3goKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faXNNdWx0aWxpbmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2xpbmVDb3VudCA9IDM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGV4dEJveC5wcm90b3R5cGUuZWRpdEJveENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZXh0Qm94LnByb3RvdHlwZS5yZWNyZWF0ZUVkaXRCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fZWRpdEJveCkge1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gdGhpcy5fZWRpdEJveC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHRoaXMucm9vdEVsZW1lbnQuaW5uZXJUZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc011bHRpbGluZSkge1xuICAgICAgICAgICAgdGhpcy5fZWRpdEJveCA9IG5ldyBNdWx0aWxpbmVFZGl0Qm94KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lZGl0Qm94ID0gbmV3IFNpbmdsZUxpbmVFZGl0Qm94KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZWRpdEJveC52YWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lZGl0Qm94LmxpbmVDb3VudCA9IHRoaXMuX2xpbmVDb3VudDtcbiAgICAgICAgdGhpcy5fZWRpdEJveC5tYXhMZW5ndGggPSB0aGlzLl9tYXhMZW5ndGg7XG4gICAgICAgIHRoaXMuX2VkaXRCb3gucGxhY2Vob2xkZXIgPSB0aGlzLl9wbGFjZWhvbGRlcjtcbiAgICAgICAgdGhpcy5fZWRpdEJveC5vbkNoYW5nZSA9IGZ1bmN0aW9uICgpIHsgX3RoaXMuZWRpdEJveENoYW5nZWQoKTsgfTtcbiAgICAgICAgVXRpbHMuY2xlYXJFbGVtZW50KHRoaXMucm9vdEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2VkaXRCb3guZWxlbWVudCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dEJveC5wcm90b3R5cGUsIFwiZWRpdEJveFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9lZGl0Qm94KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNyZWF0ZUVkaXRCb3goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lZGl0Qm94O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgVGV4dEJveC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYXR0YWNoLmNhbGwodGhpcywgcm9vdEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9pc011bHRpbGluZSA9IFV0aWxzLmdldEF0dHJpYnV0ZVZhbHVlQXNCb29sKHJvb3RFbGVtZW50LCBcImlzbXVsdGlsaW5lXCIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fbGluZUNvdW50ID0gVXRpbHMuZ2V0QXR0cmlidXRlVmFsdWVBc0ludChyb290RWxlbWVudCwgXCJsaW5lc1wiLCAzKTtcbiAgICAgICAgdGhpcy5fbWF4TGVuZ3RoID0gVXRpbHMuZ2V0QXR0cmlidXRlVmFsdWVBc0ludChyb290RWxlbWVudCwgXCJtYXhsZW5ndGhcIiwgNTAwMDApO1xuICAgICAgICB0aGlzLl9wbGFjZWhvbGRlciA9IFV0aWxzLmdldEF0dHJpYnV0ZVZhbHVlQXNTdHJpbmcocm9vdEVsZW1lbnQsIFwicGxhY2Vob2xkZXJcIiwgbnVsbCk7XG4gICAgICAgIHRoaXMucmVjcmVhdGVFZGl0Qm94KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dEJveC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVkaXRCb3gudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRCb3gudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0Qm94LnByb3RvdHlwZSwgXCJwbGFjZWhvbGRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BsYWNlaG9sZGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZWRpdEJveC5wbGFjZWhvbGRlciA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRCb3gucHJvdG90eXBlLCBcImlzTXVsdGlsaW5lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNNdWx0aWxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNNdWx0aWxpbmUgIT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc011bHRpbGluZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjcmVhdGVFZGl0Qm94KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dEJveC5wcm90b3R5cGUsIFwibGluZUNvdW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZUNvdW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVDb3VudCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdEJveC5saW5lQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0Qm94LnByb3RvdHlwZSwgXCJtYXhMZW5ndGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhMZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWF4TGVuZ3RoID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0Qm94Lm1heExlbmd0aCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRleHRCb3g7XG59KGlucHV0Y29udHJvbF8xLklucHV0Q29udHJvbCkpO1xuZXhwb3J0cy5UZXh0Qm94ID0gVGV4dEJveDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHRib3guanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNsZWFyRWxlbWVudCA9IGV4cG9ydHMuZ2V0QXR0cmlidXRlVmFsdWVBc0ludCA9IGV4cG9ydHMuZ2V0QXR0cmlidXRlVmFsdWVBc1N0cmluZyA9IGV4cG9ydHMuZ2V0QXR0cmlidXRlVmFsdWVBc0Jvb2wgPSBleHBvcnRzLmdldFNjcm9sbFkgPSBleHBvcnRzLmdldFNjcm9sbFggPSBleHBvcnRzLmFyZURhdGVzRXF1YWwgPSBleHBvcnRzLmFkZE1vbnRocyA9IGV4cG9ydHMuYWRkRGF5cyA9IGV4cG9ydHMuZGF5c0luTW9udGggPSBleHBvcnRzLkNhbGVuZGFyU2V0dGluZ3MgPSB2b2lkIDA7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbnZhciBFbnVtcyA9IHJlcXVpcmUoXCIuL2VudW1zXCIpO1xudmFyIENhbGVuZGFyU2V0dGluZ3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FsZW5kYXJTZXR0aW5ncygpIHtcbiAgICB9XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5nZXRMb25nRGF5TmFtZSA9IGZ1bmN0aW9uIChkYXlJbmRleCkge1xuICAgICAgICBpZiAoZGF5SW5kZXggPj0gMCAmJiBkYXlJbmRleCA8IENhbGVuZGFyU2V0dGluZ3MubG9uZ0RheU5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIENhbGVuZGFyU2V0dGluZ3MubG9uZ0RheU5hbWVzW2RheUluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXkgaW5kZXggb3V0IG9mIHJhbmdlOiBcIiArIGRheUluZGV4KTtcbiAgICB9O1xuICAgIENhbGVuZGFyU2V0dGluZ3MuZ2V0U2hvcnREYXlOYW1lID0gZnVuY3Rpb24gKGRheUluZGV4KSB7XG4gICAgICAgIGlmIChkYXlJbmRleCA+PSAwICYmIGRheUluZGV4IDwgQ2FsZW5kYXJTZXR0aW5ncy5zaG9ydERheU5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIENhbGVuZGFyU2V0dGluZ3Muc2hvcnREYXlOYW1lc1tkYXlJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF5IGluZGV4IG91dCBvZiByYW5nZTogXCIgKyBkYXlJbmRleCk7XG4gICAgfTtcbiAgICBDYWxlbmRhclNldHRpbmdzLmdldEluaXRpYWxEYXlOYW1lID0gZnVuY3Rpb24gKGRheUluZGV4KSB7XG4gICAgICAgIGlmIChkYXlJbmRleCA+PSAwICYmIGRheUluZGV4IDwgQ2FsZW5kYXJTZXR0aW5ncy5taW5pbWFsRGF5TmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2FsZW5kYXJTZXR0aW5ncy5taW5pbWFsRGF5TmFtZXNbZGF5SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRheSBpbmRleCBvdXQgb2YgcmFuZ2U6IFwiICsgZGF5SW5kZXgpO1xuICAgIH07XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5nZXRMb25nTW9udGhOYW1lID0gZnVuY3Rpb24gKG1vbnRoSW5kZXgpIHtcbiAgICAgICAgaWYgKG1vbnRoSW5kZXggPj0gMCAmJiBtb250aEluZGV4IDwgQ2FsZW5kYXJTZXR0aW5ncy5sb25nTW9udGhOYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBDYWxlbmRhclNldHRpbmdzLmxvbmdNb250aE5hbWVzW21vbnRoSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1vbnRoIGluZGV4IG91dCBvZiByYW5nZTogXCIgKyBtb250aEluZGV4KTtcbiAgICB9O1xuICAgIENhbGVuZGFyU2V0dGluZ3MuZ2V0U2hvcnRNb250aE5hbWUgPSBmdW5jdGlvbiAobW9udGhJbmRleCkge1xuICAgICAgICBpZiAobW9udGhJbmRleCA+PSAwICYmIG1vbnRoSW5kZXggPCBDYWxlbmRhclNldHRpbmdzLnNob3J0TW9udGhOYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBDYWxlbmRhclNldHRpbmdzLnNob3J0TW9udGhOYW1lc1ttb250aEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNb250aCBpbmRleCBvdXQgb2YgcmFuZ2U6IFwiICsgbW9udGhJbmRleCk7XG4gICAgfTtcbiAgICBDYWxlbmRhclNldHRpbmdzLm1vbnRoc0luWWVhciA9IDEyO1xuICAgIENhbGVuZGFyU2V0dGluZ3MuZGF5c0luV2VlayA9IDc7XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5maXJzdERheU9mV2VlayA9IEVudW1zLkRheU9mV2Vlay5TdW5kYXk7XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5sb25nRGF5TmFtZXMgPSBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXTtcbiAgICBDYWxlbmRhclNldHRpbmdzLnNob3J0RGF5TmFtZXMgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl07XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5taW5pbWFsRGF5TmFtZXMgPSBbXCJTdVwiLCBcIk1vXCIsIFwiVHVcIiwgXCJXZVwiLCBcIlRoXCIsIFwiRnJcIiwgXCJTYVwiXTtcbiAgICBDYWxlbmRhclNldHRpbmdzLmxvbmdNb250aE5hbWVzID0gW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl07XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5zaG9ydE1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XG4gICAgcmV0dXJuIENhbGVuZGFyU2V0dGluZ3M7XG59KCkpO1xuZXhwb3J0cy5DYWxlbmRhclNldHRpbmdzID0gQ2FsZW5kYXJTZXR0aW5ncztcbmZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgc3dpdGNoIChtb250aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gKHllYXIgJSA0ID09IDAgJiYgeWVhciAlIDEwMCkgfHwgeWVhciAlIDQwMCA9PSAwID8gMjkgOiAyODtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgIHJldHVybiAzMDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAzMTtcbiAgICB9XG59XG5leHBvcnRzLmRheXNJbk1vbnRoID0gZGF5c0luTW9udGg7XG5mdW5jdGlvbiBhZGREYXlzKGRhdGUsIGRheXMpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgIHJlc3VsdC5zZXREYXRlKHJlc3VsdC5nZXREYXRlKCkgKyBkYXlzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5hZGREYXlzID0gYWRkRGF5cztcbmZ1bmN0aW9uIGFkZE1vbnRocyhkYXRlLCBtb250aHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgIHZhciBuZXdNb250aCA9IHJlc3VsdC5nZXRNb250aCgpICsgbW9udGhzO1xuICAgIHJlc3VsdC5zZXRNb250aChuZXdNb250aCk7XG4gICAgLy8gV2Ugd2FudCB0byBtYWludGFpbiB0aGUgc2FtZSBkYXktb2YtbW9udGgsIGJ1dCB0aGF0IG1heSBub3QgYmUgcG9zc2libGUgaWYgdGhlIG5ldyBtb250aCBkb2Vzbid0IGhhdmUgZW5vdWdoIGRheXMuXG4gICAgLy8gTG9vcCB1bnRpbCB3ZSBiYWNrIHVwIHRvIGEgZGF5IHRoZSBuZXcgbW9udGggaGFzLlxuICAgIC8vIChXZWlyZCBtb2R1bG8gbWF0aCBpcyBkdWUgdG8gSmF2YXNjcmlwdCdzIHRyZWF0bWVudCBvZiBuZWdhdGl2ZSBudW1iZXJzIGluIG1vZHVsbylcbiAgICBpZiAocmVzdWx0LmdldE1vbnRoKCkgIT09ICgobmV3TW9udGggJSBDYWxlbmRhclNldHRpbmdzLm1vbnRoc0luWWVhcikgKyBDYWxlbmRhclNldHRpbmdzLm1vbnRoc0luWWVhcikgJSBDYWxlbmRhclNldHRpbmdzLm1vbnRoc0luWWVhcikge1xuICAgICAgICByZXN1bHQgPSBhZGREYXlzKHJlc3VsdCwgLXJlc3VsdC5nZXREYXRlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5hZGRNb250aHMgPSBhZGRNb250aHM7XG5mdW5jdGlvbiBhcmVEYXRlc0VxdWFsKGRhdGUxLCBkYXRlMikge1xuICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpID09IGRhdGUyLmdldEZ1bGxZZWFyKCkgJiZcbiAgICAgICAgZGF0ZTEuZ2V0TW9udGgoKSA9PSBkYXRlMi5nZXRNb250aCgpICYmXG4gICAgICAgIGRhdGUxLmdldERhdGUoKSA9PSBkYXRlMi5nZXREYXRlKCk7XG59XG5leHBvcnRzLmFyZURhdGVzRXF1YWwgPSBhcmVEYXRlc0VxdWFsO1xuZnVuY3Rpb24gZ2V0U2Nyb2xsWCgpIHtcbiAgICByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0O1xufVxuZXhwb3J0cy5nZXRTY3JvbGxYID0gZ2V0U2Nyb2xsWDtcbmZ1bmN0aW9uIGdldFNjcm9sbFkoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5wYWdlWU9mZnNldDtcbn1cbmV4cG9ydHMuZ2V0U2Nyb2xsWSA9IGdldFNjcm9sbFk7XG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGVWYWx1ZUFzQm9vbChlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgYXR0cmlidXRlID0gZWxlbWVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgIGlmIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZS52YWx1ZSA9PT0gXCJ0cnVlXCI7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG59XG5leHBvcnRzLmdldEF0dHJpYnV0ZVZhbHVlQXNCb29sID0gZ2V0QXR0cmlidXRlVmFsdWVBc0Jvb2w7XG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGVWYWx1ZUFzU3RyaW5nKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBhdHRyaWJ1dGUgPSBlbGVtZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgaWYgKGF0dHJpYnV0ZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufVxuZXhwb3J0cy5nZXRBdHRyaWJ1dGVWYWx1ZUFzU3RyaW5nID0gZ2V0QXR0cmlidXRlVmFsdWVBc1N0cmluZztcbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlQXNJbnQoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIGF0dHJpYnV0ZSA9IGVsZW1lbnQuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICBpZiAoYXR0cmlidXRlKSB7XG4gICAgICAgIHZhciBuID0gcGFyc2VJbnQoYXR0cmlidXRlLnZhbHVlKTtcbiAgICAgICAgaWYgKCFpc05hTihuKSkge1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cbmV4cG9ydHMuZ2V0QXR0cmlidXRlVmFsdWVBc0ludCA9IGdldEF0dHJpYnV0ZVZhbHVlQXNJbnQ7XG5mdW5jdGlvbiBjbGVhckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIHRydXN0ZWRIdG1sID0gKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSA/IFwiXCIgOiAoKF9iID0gKF9hID0gd2luZG93LnRydXN0ZWRUeXBlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtcHR5SFRNTCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXCJcIik7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB0cnVzdGVkSHRtbDtcbn1cbmV4cG9ydHMuY2xlYXJFbGVtZW50ID0gY2xlYXJFbGVtZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIiwiLyohXG4gKiBjbGlwYm9hcmQuanMgdjIuMC44XG4gKiBodHRwczovL2NsaXBib2FyZGpzLmNvbS9cbiAqXG4gKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYVxuICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJDbGlwYm9hcmRKU1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJDbGlwYm9hcmRKU1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbigpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHR2YXIgX193ZWJwYWNrX21vZHVsZXNfXyA9ICh7XG5cbi8qKiovIDEzNDpcbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLy8gRVhQT1JUU1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIHtcbiAgXCJkZWZhdWx0XCI6IGZ1bmN0aW9uKCkgeyByZXR1cm4gLyogYmluZGluZyAqLyBjbGlwYm9hcmQ7IH1cbn0pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3RpbnktZW1pdHRlci9pbmRleC5qc1xudmFyIHRpbnlfZW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjc5KTtcbnZhciB0aW55X2VtaXR0ZXJfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odGlueV9lbWl0dGVyKTtcbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvZ29vZC1saXN0ZW5lci9zcmMvbGlzdGVuLmpzXG52YXIgbGlzdGVuID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzApO1xudmFyIGxpc3Rlbl9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihsaXN0ZW4pO1xuLy8gRVhURVJOQUwgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9zZWxlY3Qvc3JjL3NlbGVjdC5qc1xudmFyIHNyY19zZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxNyk7XG52YXIgc2VsZWN0X2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHNyY19zZWxlY3QpO1xuOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NsaXBib2FyZC1hY3Rpb24uanNcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5cbi8qKlxuICogSW5uZXIgY2xhc3Mgd2hpY2ggcGVyZm9ybXMgc2VsZWN0aW9uIGZyb20gZWl0aGVyIGB0ZXh0YCBvciBgdGFyZ2V0YFxuICogcHJvcGVydGllcyBhbmQgdGhlbiBleGVjdXRlcyBjb3B5IG9yIGN1dCBvcGVyYXRpb25zLlxuICovXG5cbnZhciBDbGlwYm9hcmRBY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZEFjdGlvbik7XG5cbiAgICB0aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xuICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkQWN0aW9uLCBbe1xuICAgIGtleTogXCJyZXNvbHZlT3B0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgdGhpcy5lbWl0dGVyID0gb3B0aW9ucy5lbWl0dGVyO1xuICAgICAgdGhpcy50YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcbiAgICAgIHRoaXMudHJpZ2dlciA9IG9wdGlvbnMudHJpZ2dlcjtcbiAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY2lkZXMgd2hpY2ggc2VsZWN0aW9uIHN0cmF0ZWd5IGlzIGdvaW5nIHRvIGJlIGFwcGxpZWQgYmFzZWRcbiAgICAgKiBvbiB0aGUgZXhpc3RlbmNlIG9mIGB0ZXh0YCBhbmQgYHRhcmdldGAgcHJvcGVydGllcy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImluaXRTZWxlY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFNlbGVjdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RGYWtlKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0VGFyZ2V0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmYWtlIHRleHRhcmVhIGVsZW1lbnQsIHNldHMgaXRzIHZhbHVlIGZyb20gYHRleHRgIHByb3BlcnR5LFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlRmFrZUVsZW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRmFrZUVsZW1lbnQoKSB7XG4gICAgICB2YXIgaXNSVEwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKSA9PT0gJ3J0bCc7XG4gICAgICB0aGlzLmZha2VFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTsgLy8gUHJldmVudCB6b29taW5nIG9uIGlPU1xuXG4gICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnOyAvLyBSZXNldCBib3ggbW9kZWxcblxuICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXIgPSAnMCc7XG4gICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLm1hcmdpbiA9ICcwJzsgLy8gTW92ZSBlbGVtZW50IG91dCBvZiBzY3JlZW4gaG9yaXpvbnRhbGx5XG5cbiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZVtpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCddID0gJy05OTk5cHgnOyAvLyBNb3ZlIGVsZW1lbnQgdG8gdGhlIHNhbWUgcG9zaXRpb24gdmVydGljYWxseVxuXG4gICAgICB2YXIgeVBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnRvcCA9IFwiXCIuY29uY2F0KHlQb3NpdGlvbiwgXCJweFwiKTtcbiAgICAgIHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgIHRoaXMuZmFrZUVsZW0udmFsdWUgPSB0aGlzLnRleHQ7XG4gICAgICByZXR1cm4gdGhpcy5mYWtlRWxlbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0J3MgdGhlIHZhbHVlIG9mIGZha2VFbGVtLFxuICAgICAqIGFuZCBtYWtlcyBhIHNlbGVjdGlvbiBvbiBpdC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbGVjdEZha2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0RmFrZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBmYWtlRWxlbSA9IHRoaXMuY3JlYXRlRmFrZUVsZW1lbnQoKTtcblxuICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMucmVtb3ZlRmFrZSgpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSB8fCB0cnVlO1xuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZmFrZUVsZW0pO1xuICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSBzZWxlY3RfZGVmYXVsdCgpKGZha2VFbGVtKTtcbiAgICAgIHRoaXMuY29weVRleHQoKTtcbiAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHJlbW92ZXMgdGhlIGZha2UgZWxlbWVudCBhZnRlciBhbm90aGVyIGNsaWNrIGV2ZW50LCB0aGF0IHdheVxuICAgICAqIGEgdXNlciBjYW4gaGl0IGBDdHJsK0NgIHRvIGNvcHkgYmVjYXVzZSBzZWxlY3Rpb24gc3RpbGwgZXhpc3RzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlRmFrZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGYWtlKCkge1xuICAgICAgaWYgKHRoaXMuZmFrZUhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spO1xuICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZmFrZUVsZW0pIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5mYWtlRWxlbSk7XG4gICAgICAgIHRoaXMuZmFrZUVsZW0gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSBjb250ZW50IGZyb20gZWxlbWVudCBwYXNzZWQgb24gYHRhcmdldGAgcHJvcGVydHkuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3RUYXJnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0VGFyZ2V0KCkge1xuICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSBzZWxlY3RfZGVmYXVsdCgpKHRoaXMudGFyZ2V0KTtcbiAgICAgIHRoaXMuY29weVRleHQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNvcHkgb3BlcmF0aW9uIGJhc2VkIG9uIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvcHlUZXh0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHlUZXh0KCkge1xuICAgICAgdmFyIHN1Y2NlZWRlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc3VjY2VlZGVkID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhhbmRsZVJlc3VsdChzdWNjZWVkZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaXJlcyBhbiBldmVudCBiYXNlZCBvbiB0aGUgY29weSBvcGVyYXRpb24gcmVzdWx0LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3VjY2VlZGVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVSZXN1bHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCkge1xuICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoc3VjY2VlZGVkID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJywge1xuICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxuICAgICAgICB0ZXh0OiB0aGlzLnNlbGVjdGVkVGV4dCxcbiAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxuICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW92ZXMgZm9jdXMgYXdheSBmcm9tIGB0YXJnZXRgIGFuZCBiYWNrIHRvIHRoZSB0cmlnZ2VyLCByZW1vdmVzIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJTZWxlY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy50cmlnZ2VyKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlci5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGFjdGlvbmAgdG8gYmUgcGVyZm9ybWVkIHdoaWNoIGNhbiBiZSBlaXRoZXIgJ2NvcHknIG9yICdjdXQnLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlc3Ryb3lcIixcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgbGlmZWN5Y2xlLlxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFjdGlvblwiLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2NvcHknO1xuICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICBpZiAodGhpcy5fYWN0aW9uICE9PSAnY29weScgJiYgdGhpcy5fYWN0aW9uICE9PSAnY3V0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJhY3Rpb25cIiB2YWx1ZSwgdXNlIGVpdGhlciBcImNvcHlcIiBvciBcImN1dFwiJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGBhY3Rpb25gIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICAsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdGFyZ2V0YCBwcm9wZXJ0eSB1c2luZyBhbiBlbGVtZW50XG4gICAgICogdGhhdCB3aWxsIGJlIGhhdmUgaXRzIGNvbnRlbnQgY29waWVkLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0YXJnZXRcIixcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0YXJnZXQpIHtcbiAgICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodGFyZ2V0ICYmIF90eXBlb2YodGFyZ2V0KSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY29weScgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFlvdSBjYW5cXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCBcInJlYWRvbmx5XCIgb3IgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZXMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdGFyZ2V0YCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd8SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2xpcGJvYXJkQWN0aW9uO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBjbGlwYm9hcmRfYWN0aW9uID0gKENsaXBib2FyZEFjdGlvbik7XG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY2xpcGJvYXJkLmpzXG5mdW5jdGlvbiBjbGlwYm9hcmRfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBjbGlwYm9hcmRfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IGNsaXBib2FyZF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gY2xpcGJvYXJkX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIGNsaXBib2FyZF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGNsaXBib2FyZF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gY2xpcGJvYXJkX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgY2xpcGJvYXJkX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBjbGlwYm9hcmRfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoY2xpcGJvYXJkX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cblxuXG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzdWZmaXhcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICovXG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlKHN1ZmZpeCwgZWxlbWVudCkge1xuICB2YXIgYXR0cmlidXRlID0gXCJkYXRhLWNsaXBib2FyZC1cIi5jb25jYXQoc3VmZml4KTtcblxuICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyB3aGljaCB0YWtlcyBvbmUgb3IgbW9yZSBlbGVtZW50cywgYWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlbSxcbiAqIGFuZCBpbnN0YW50aWF0ZXMgYSBuZXcgYENsaXBib2FyZEFjdGlvbmAgb24gZWFjaCBjbGljay5cbiAqL1xuXG5cbnZhciBDbGlwYm9hcmQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENsaXBib2FyZCk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0cmlnZ2VyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBDbGlwYm9hcmQodHJpZ2dlciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIGNsaXBib2FyZF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmQpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgIF90aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgX3RoaXMubGlzdGVuQ2xpY2sodHJpZ2dlcik7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIERlZmluZXMgaWYgYXR0cmlidXRlcyB3b3VsZCBiZSByZXNvbHZlZCB1c2luZyBpbnRlcm5hbCBzZXR0ZXIgZnVuY3Rpb25zXG4gICAqIG9yIGN1c3RvbSBmdW5jdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuXG5cbiAgY2xpcGJvYXJkX2NyZWF0ZUNsYXNzKENsaXBib2FyZCwgW3tcbiAgICBrZXk6IFwicmVzb2x2ZU9wdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICB0aGlzLmFjdGlvbiA9IHR5cGVvZiBvcHRpb25zLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuYWN0aW9uIDogdGhpcy5kZWZhdWx0QWN0aW9uO1xuICAgICAgdGhpcy50YXJnZXQgPSB0eXBlb2Ygb3B0aW9ucy50YXJnZXQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRhcmdldCA6IHRoaXMuZGVmYXVsdFRhcmdldDtcbiAgICAgIHRoaXMudGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRleHQgOiB0aGlzLmRlZmF1bHRUZXh0O1xuICAgICAgdGhpcy5jb250YWluZXIgPSBjbGlwYm9hcmRfdHlwZW9mKG9wdGlvbnMuY29udGFpbmVyKSA9PT0gJ29iamVjdCcgPyBvcHRpb25zLmNvbnRhaW5lciA6IGRvY3VtZW50LmJvZHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjbGljayBldmVudCBsaXN0ZW5lciB0byB0aGUgcGFzc2VkIHRyaWdnZXIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RlbkNsaWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbkNsaWNrKHRyaWdnZXIpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuX2RlZmF1bHQoKSh0cmlnZ2VyLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBhIG5ldyBgQ2xpcGJvYXJkQWN0aW9uYCBvbiBlYWNoIGNsaWNrIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IGUuZGVsZWdhdGVUYXJnZXQgfHwgZS5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG5ldyBjbGlwYm9hcmRfYWN0aW9uKHtcbiAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbih0cmlnZ2VyKSxcbiAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCh0cmlnZ2VyKSxcbiAgICAgICAgdGV4dDogdGhpcy50ZXh0KHRyaWdnZXIpLFxuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxuICAgICAgICBlbWl0dGVyOiB0aGlzXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBgYWN0aW9uYCBsb29rdXAgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0cmlnZ2VyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0QWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRBY3Rpb24odHJpZ2dlcikge1xuICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCdhY3Rpb24nLCB0cmlnZ2VyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBgdGFyZ2V0YCBsb29rdXAgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0cmlnZ2VyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0VGFyZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRUYXJnZXQodHJpZ2dlcikge1xuICAgICAgdmFyIHNlbGVjdG9yID0gZ2V0QXR0cmlidXRlVmFsdWUoJ3RhcmdldCcsIHRyaWdnZXIpO1xuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdXBwb3J0IG9mIHRoZSBnaXZlbiBhY3Rpb24sIG9yIGFsbCBhY3Rpb25zIGlmIG5vIGFjdGlvbiBpc1xuICAgICAqIGdpdmVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbYWN0aW9uXVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVmYXVsdFRleHRcIixcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYHRleHRgIGxvb2t1cCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRyaWdnZXJcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRleHQodHJpZ2dlcikge1xuICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCd0ZXh0JywgdHJpZ2dlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgbGlmZWN5Y2xlLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdGhpcy5saXN0ZW5lci5kZXN0cm95KCk7XG5cbiAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xuICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJpc1N1cHBvcnRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFsnY29weScsICdjdXQnXTtcbiAgICAgIHZhciBhY3Rpb25zID0gdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgPyBbYWN0aW9uXSA6IGFjdGlvbjtcbiAgICAgIHZhciBzdXBwb3J0ID0gISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ7XG4gICAgICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBzdXBwb3J0ID0gc3VwcG9ydCAmJiAhIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChhY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gc3VwcG9ydDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2xpcGJvYXJkO1xufSgodGlueV9lbWl0dGVyX2RlZmF1bHQoKSkpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBjbGlwYm9hcmQgPSAoQ2xpcGJvYXJkKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDgyODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxudmFyIERPQ1VNRU5UX05PREVfVFlQRSA9IDk7XG5cbi8qKlxuICogQSBwb2x5ZmlsbCBmb3IgRWxlbWVudC5tYXRjaGVzKClcbiAqL1xuaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgIHZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ubWF0Y2hlcyA9IHByb3RvLm1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ub01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IHRoYXQgbWF0Y2hlcyBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdCAoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSBET0NVTUVOVF9OT0RFX1RZUEUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9zZXN0O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA0Mzg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsb3Nlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyOCk7XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIF9kZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfEFycmF5fSBbZWxlbWVudHNdXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGRlbGVnYXRlKGVsZW1lbnRzLCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICAvLyBIYW5kbGUgdGhlIHJlZ3VsYXIgRWxlbWVudCB1c2FnZVxuICAgIGlmICh0eXBlb2YgZWxlbWVudHMuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEVsZW1lbnQtbGVzcyB1c2FnZSwgaXQgZGVmYXVsdHMgdG8gZ2xvYmFsIGRlbGVnYXRpb25cbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVXNlIGBkb2N1bWVudGAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlciwgdGhlbiBhcHBseSBhcmd1bWVudHNcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNob3J0IHdheSB0byAudW5zaGlmdCBgYXJndW1lbnRzYCB3aXRob3V0IHJ1bm5pbmcgaW50byBkZW9wdGltaXphdGlvbnNcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZS5iaW5kKG51bGwsIGRvY3VtZW50KS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBTZWxlY3Rvci1iYXNlZCB1c2FnZVxuICAgIGlmICh0eXBlb2YgZWxlbWVudHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEFycmF5LWxpa2UgYmFzZWQgdXNhZ2VcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogRmluZHMgY2xvc2VzdCBtYXRjaCBhbmQgaW52b2tlcyBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuZXIoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5kZWxlZ2F0ZVRhcmdldCA9IGNsb3Nlc3QoZS50YXJnZXQsIHNlbGVjdG9yKTtcblxuICAgICAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50LCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWxlZ2F0ZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gODc5OlxuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBIVE1MIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgKHR5cGUgPT09ICdbb2JqZWN0IE5vZGVMaXN0XScgfHwgdHlwZSA9PT0gJ1tvYmplY3QgSFRNTENvbGxlY3Rpb25dJylcbiAgICAgICAgJiYgKCdsZW5ndGgnIGluIHZhbHVlKVxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuZm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzcwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpcyA9IF9fd2VicGFja19yZXF1aXJlX18oODc5KTtcbnZhciBkZWxlZ2F0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDM4KTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWxsIHBhcmFtcyBhbmQgY2FsbHMgdGhlIHJpZ2h0XG4gKiBsaXN0ZW5lciBmdW5jdGlvbiBiYXNlZCBvbiBpdHMgdGFyZ2V0IHR5cGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0YXJnZXQgJiYgIXR5cGUgJiYgIWNhbGxiYWNrKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzLnN0cmluZyh0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZycpO1xuICAgIH1cblxuICAgIGlmICghaXMuZm4oY2FsbGJhY2spKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChpcy5ub2RlKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGUodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLm5vZGVMaXN0KHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGVMaXN0KHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuU2VsZWN0b3IodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Jyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBIVE1MIGVsZW1lbnRcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlKG5vZGUsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBsaXN0IG9mIEhUTUwgZWxlbWVudHNcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259IG5vZGVMaXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuTm9kZUxpc3Qobm9kZUxpc3QsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIHNlbGVjdG9yXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5TZWxlY3RvcihzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0ZW47XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDgxNzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxuZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQpIHtcbiAgICB2YXIgc2VsZWN0ZWRUZXh0O1xuXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgdmFyIGlzUmVhZE9ubHkgPSBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKTtcblxuICAgICAgICBpZiAoIWlzUmVhZE9ubHkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuc2VsZWN0KCk7XG4gICAgICAgIGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgZWxlbWVudC52YWx1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMjc5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG5mdW5jdGlvbiBFICgpIHtcbiAgLy8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXG59XG5cbkUucHJvdG90eXBlID0ge1xuICBvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4OiBjdHhcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XG4gIH0sXG5cbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xuICAgIHZhciBsaXZlRXZlbnRzID0gW107XG5cbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXG5cbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRTtcbm1vZHVsZS5leHBvcnRzLlRpbnlFbWl0dGVyID0gRTtcblxuXG4vKioqLyB9KVxuXG4vKioqKioqLyBcdH0pO1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcbi8qKioqKiovIFx0XHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi8gXHRcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyBcdC8qIHdlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0ICovXG4vKioqKioqLyBcdCFmdW5jdGlvbigpIHtcbi8qKioqKiovIFx0XHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHR9KCk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMgKi9cbi8qKioqKiovIFx0IWZ1bmN0aW9uKCkge1xuLyoqKioqKi8gXHRcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG4vKioqKioqLyBcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuLyoqKioqKi8gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG4vKioqKioqLyBcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdH1cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHR9KCk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kICovXG4vKioqKioqLyBcdCFmdW5jdGlvbigpIHtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9XG4vKioqKioqLyBcdH0oKTtcbi8qKioqKiovIFx0XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gXHQvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLyoqKioqKi8gXHQvLyBzdGFydHVwXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygxMzQpO1xuLyoqKioqKi8gfSkoKVxuLmRlZmF1bHQ7XG59KTsiLCJleHBvcnQgeyBkZWZhdWx0IGFzIHYxIH0gZnJvbSAnLi92MS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHYzIH0gZnJvbSAnLi92My5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY0IH0gZnJvbSAnLi92NC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY1IH0gZnJvbSAnLi92NS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5JTCB9IGZyb20gJy4vbmlsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZhbGlkYXRlIH0gZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcGFyc2UgfSBmcm9tICcuL3BhcnNlLmpzJzsiLCIvKlxuICogQnJvd3Nlci1jb21wYXRpYmxlIEphdmFTY3JpcHQgTUQ1XG4gKlxuICogTW9kaWZpY2F0aW9uIG9mIEphdmFTY3JpcHQgTUQ1XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmx1ZWltcC9KYXZhU2NyaXB0LU1ENVxuICpcbiAqIENvcHlyaWdodCAyMDExLCBTZWJhc3RpYW4gVHNjaGFuXG4gKiBodHRwczovL2JsdWVpbXAubmV0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiBCYXNlZCBvblxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBSU0EgRGF0YSBTZWN1cml0eSwgSW5jLiBNRDUgTWVzc2FnZVxuICogRGlnZXN0IEFsZ29yaXRobSwgYXMgZGVmaW5lZCBpbiBSRkMgMTMyMS5cbiAqIFZlcnNpb24gMi4yIENvcHlyaWdodCAoQykgUGF1bCBKb2huc3RvbiAxOTk5IC0gMjAwOVxuICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldFxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXG4gKiBTZWUgaHR0cDovL3BhamhvbWUub3JnLnVrL2NyeXB0L21kNSBmb3IgbW9yZSBpbmZvLlxuICovXG5mdW5jdGlvbiBtZDUoYnl0ZXMpIHtcbiAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgbXNnID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGJ5dGVzKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KG1zZy5sZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyArK2kpIHtcbiAgICAgIGJ5dGVzW2ldID0gbXNnLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1kNVRvSGV4RW5jb2RlZEFycmF5KHdvcmRzVG9NZDUoYnl0ZXNUb1dvcmRzKGJ5dGVzKSwgYnl0ZXMubGVuZ3RoICogOCkpO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcyB0byBhbiBhcnJheSBvZiBieXRlc1xuICovXG5cblxuZnVuY3Rpb24gbWQ1VG9IZXhFbmNvZGVkQXJyYXkoaW5wdXQpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICB2YXIgbGVuZ3RoMzIgPSBpbnB1dC5sZW5ndGggKiAzMjtcbiAgdmFyIGhleFRhYiA9ICcwMTIzNDU2Nzg5YWJjZGVmJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDMyOyBpICs9IDgpIHtcbiAgICB2YXIgeCA9IGlucHV0W2kgPj4gNV0gPj4+IGkgJSAzMiAmIDB4ZmY7XG4gICAgdmFyIGhleCA9IHBhcnNlSW50KGhleFRhYi5jaGFyQXQoeCA+Pj4gNCAmIDB4MGYpICsgaGV4VGFiLmNoYXJBdCh4ICYgMHgwZiksIDE2KTtcbiAgICBvdXRwdXQucHVzaChoZXgpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIG91dHB1dCBsZW5ndGggd2l0aCBwYWRkaW5nIGFuZCBiaXQgbGVuZ3RoXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRPdXRwdXRMZW5ndGgoaW5wdXRMZW5ndGg4KSB7XG4gIHJldHVybiAoaW5wdXRMZW5ndGg4ICsgNjQgPj4+IDkgPDwgNCkgKyAxNCArIDE7XG59XG4vKlxuICogQ2FsY3VsYXRlIHRoZSBNRDUgb2YgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcywgYW5kIGEgYml0IGxlbmd0aC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHdvcmRzVG9NZDUoeCwgbGVuKSB7XG4gIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gIHhbbGVuID4+IDVdIHw9IDB4ODAgPDwgbGVuICUgMzI7XG4gIHhbZ2V0T3V0cHV0TGVuZ3RoKGxlbikgLSAxXSA9IGxlbjtcbiAgdmFyIGEgPSAxNzMyNTg0MTkzO1xuICB2YXIgYiA9IC0yNzE3MzM4Nzk7XG4gIHZhciBjID0gLTE3MzI1ODQxOTQ7XG4gIHZhciBkID0gMjcxNzMzODc4O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICB2YXIgb2xkYSA9IGE7XG4gICAgdmFyIG9sZGIgPSBiO1xuICAgIHZhciBvbGRjID0gYztcbiAgICB2YXIgb2xkZCA9IGQ7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaV0sIDcsIC02ODA4NzY5MzYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxXSwgMTIsIC0zODk1NjQ1ODYpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTcsIDYwNjEwNTgxOSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDNdLCAyMiwgLTEwNDQ1MjUzMzApO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNywgLTE3NjQxODg5Nyk7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDVdLCAxMiwgMTIwMDA4MDQyNik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDZdLCAxNywgLTE0NzMyMzEzNDEpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyA3XSwgMjIsIC00NTcwNTk4Myk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA3LCAxNzcwMDM1NDE2KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgOV0sIDEyLCAtMTk1ODQxNDQxNyk7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTcsIC00MjA2Myk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDExXSwgMjIsIC0xOTkwNDA0MTYyKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA3LCAxODA0NjAzNjgyKTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMTNdLCAxMiwgLTQwMzQxMTAxKTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNywgLTE1MDIwMDIyOTApO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxNV0sIDIyLCAxMjM2NTM1MzI5KTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMV0sIDUsIC0xNjU3OTY1MTApO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyA2XSwgOSwgLTEwNjk1MDE2MzIpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAxMV0sIDE0LCA2NDM3MTc3MTMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2ldLCAyMCwgLTM3Mzg5NzMwMik7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA1LCAtNzAxNTU4NjkxKTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMTBdLCA5LCAzODAxNjA4Myk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDE1XSwgMTQsIC02NjA0NzgzMzUpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA0XSwgMjAsIC00MDU1Mzc4NDgpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyA5XSwgNSwgNTY4NDQ2NDM4KTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMTRdLCA5LCAtMTAxOTgwMzY5MCk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDhdLCAyMCwgMTE2MzUzMTUwMSk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNSwgLTE0NDQ2ODE0NjcpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAyXSwgOSwgLTUxNDAzNzg0KTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgN10sIDE0LCAxNzM1MzI4NDczKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgMTJdLCAyMCwgLTE5MjY2MDc3MzQpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNCwgLTM3ODU1OCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDhdLCAxMSwgLTIwMjI1NzQ0NjMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxMV0sIDE2LCAxODM5MDMwNTYyKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTRdLCAyMywgLTM1MzA5NTU2KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMV0sIDQsIC0xNTMwOTkyMDYwKTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgNF0sIDExLCAxMjcyODkzMzUzKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgN10sIDE2LCAtMTU1NDk3NjMyKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTBdLCAyMywgLTEwOTQ3MzA2NDApO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDQsIDY4MTI3OTE3NCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaV0sIDExLCAtMzU4NTM3MjIyKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgM10sIDE2LCAtNzIyNTIxOTc5KTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgNl0sIDIzLCA3NjAyOTE4OSk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDldLCA0LCAtNjQwMzY0NDg3KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgMTJdLCAxMSwgLTQyMTgxNTgzNSk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDE1XSwgMTYsIDUzMDc0MjUyMCk7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDJdLCAyMywgLTk5NTMzODY1MSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaV0sIDYsIC0xOTg2MzA4NDQpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyA3XSwgMTAsIDExMjY4OTE0MTUpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDVdLCAyMSwgLTU3NDM0MDU1KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA2LCAxNzAwNDg1NTcxKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgM10sIDEwLCAtMTg5NDk4NjYwNik7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTUsIC0xMDUxNTIzKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA2LCAxODczMzEzMzU5KTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTVdLCAxMCwgLTMwNjExNzQ0KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE1LCAtMTU2MDE5ODM4MCk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDEzXSwgMjEsIDEzMDkxNTE2NDkpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNiwgLTE0NTUyMzA3MCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDExXSwgMTAsIC0xMTIwMjEwMzc5KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE1LCA3MTg3ODcyNTkpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyA5XSwgMjEsIC0zNDM0ODU1NTEpO1xuICAgIGEgPSBzYWZlQWRkKGEsIG9sZGEpO1xuICAgIGIgPSBzYWZlQWRkKGIsIG9sZGIpO1xuICAgIGMgPSBzYWZlQWRkKGMsIG9sZGMpO1xuICAgIGQgPSBzYWZlQWRkKGQsIG9sZGQpO1xuICB9XG5cbiAgcmV0dXJuIFthLCBiLCBjLCBkXTtcbn1cbi8qXG4gKiBDb252ZXJ0IGFuIGFycmF5IGJ5dGVzIHRvIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHNcbiAqIENoYXJhY3RlcnMgPjI1NSBoYXZlIHRoZWlyIGhpZ2gtYnl0ZSBzaWxlbnRseSBpZ25vcmVkLlxuICovXG5cblxuZnVuY3Rpb24gYnl0ZXNUb1dvcmRzKGlucHV0KSB7XG4gIGlmIChpbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgbGVuZ3RoOCA9IGlucHV0Lmxlbmd0aCAqIDg7XG4gIHZhciBvdXRwdXQgPSBuZXcgVWludDMyQXJyYXkoZ2V0T3V0cHV0TGVuZ3RoKGxlbmd0aDgpKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDg7IGkgKz0gOCkge1xuICAgIG91dHB1dFtpID4+IDVdIHw9IChpbnB1dFtpIC8gOF0gJiAweGZmKSA8PCBpICUgMzI7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLypcbiAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHlcbiAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXG4gKi9cblxuXG5mdW5jdGlvbiBzYWZlQWRkKHgsIHkpIHtcbiAgdmFyIGxzdyA9ICh4ICYgMHhmZmZmKSArICh5ICYgMHhmZmZmKTtcbiAgdmFyIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xuICByZXR1cm4gbXN3IDw8IDE2IHwgbHN3ICYgMHhmZmZmO1xufVxuLypcbiAqIEJpdHdpc2Ugcm90YXRlIGEgMzItYml0IG51bWJlciB0byB0aGUgbGVmdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJpdFJvdGF0ZUxlZnQobnVtLCBjbnQpIHtcbiAgcmV0dXJuIG51bSA8PCBjbnQgfCBudW0gPj4+IDMyIC0gY250O1xufVxuLypcbiAqIFRoZXNlIGZ1bmN0aW9ucyBpbXBsZW1lbnQgdGhlIGZvdXIgYmFzaWMgb3BlcmF0aW9ucyB0aGUgYWxnb3JpdGhtIHVzZXMuXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVjbW4ocSwgYSwgYiwgeCwgcywgdCkge1xuICByZXR1cm4gc2FmZUFkZChiaXRSb3RhdGVMZWZ0KHNhZmVBZGQoc2FmZUFkZChhLCBxKSwgc2FmZUFkZCh4LCB0KSksIHMpLCBiKTtcbn1cblxuZnVuY3Rpb24gbWQ1ZmYoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgJiBjIHwgfmIgJiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1Z2coYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgJiBkIHwgYyAmIH5kLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aGgoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgXiBjIF4gZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWlpKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihjIF4gKGIgfCB+ZCksIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZDU7IiwiZXhwb3J0IGRlZmF1bHQgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCc7IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiBwYXJzZSh1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgdmFyIHY7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxNik7IC8vIFBhcnNlICMjIyMjIyMjLS4uLi4tLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFyclswXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgwLCA4KSwgMTYpKSA+Pj4gMjQ7XG4gIGFyclsxXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzJdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclszXSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0jIyMjLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoOSwgMTMpLCAxNikpID4+PiA4O1xuICBhcnJbNV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0jIyMjLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzZdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxOCksIDE2KSkgPj4+IDg7XG4gIGFycls3XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tIyMjIy0uLi4uLi4uLi4uLi5cblxuICBhcnJbOF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTksIDIzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzldID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0uLi4uLSMjIyMjIyMjIyMjI1xuICAvLyAoVXNlIFwiL1wiIHRvIGF2b2lkIDMyLWJpdCB0cnVuY2F0aW9uIHdoZW4gYml0LXNoaWZ0aW5nIGhpZ2gtb3JkZXIgYnl0ZXMpXG5cbiAgYXJyWzEwXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgyNCwgMzYpLCAxNikpIC8gMHgxMDAwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMV0gPSB2IC8gMHgxMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTJdID0gdiA+Pj4gMjQgJiAweGZmO1xuICBhcnJbMTNdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMTRdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclsxNV0gPSB2ICYgMHhmZjtcbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGFyc2U7IiwiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLiBBbHNvLFxuICAgIC8vIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byAobXNDcnlwdG8pIG9uIElFMTEuXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCIvLyBBZGFwdGVkIGZyb20gQ2hyaXMgVmVuZXNzJyBTSEExIGNvZGUgYXRcbi8vIGh0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvc2hhMS5odG1sXG5mdW5jdGlvbiBmKHMsIHgsIHksIHopIHtcbiAgc3dpdGNoIChzKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHggJiB5IF4gfnggJiB6O1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcblxuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiB4ICYgeSBeIHggJiB6IF4geSAmIHo7XG5cbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuICB9XG59XG5cbmZ1bmN0aW9uIFJPVEwoeCwgbikge1xuICByZXR1cm4geCA8PCBuIHwgeCA+Pj4gMzIgLSBuO1xufVxuXG5mdW5jdGlvbiBzaGExKGJ5dGVzKSB7XG4gIHZhciBLID0gWzB4NWE4Mjc5OTksIDB4NmVkOWViYTEsIDB4OGYxYmJjZGMsIDB4Y2E2MmMxZDZdO1xuICB2YXIgSCA9IFsweDY3NDUyMzAxLCAweGVmY2RhYjg5LCAweDk4YmFkY2ZlLCAweDEwMzI1NDc2LCAweGMzZDJlMWYwXTtcblxuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXMucHVzaChtc2cuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIC8vIENvbnZlcnQgQXJyYXktbGlrZSB0byBBcnJheVxuICAgIGJ5dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYnl0ZXMpO1xuICB9XG5cbiAgYnl0ZXMucHVzaCgweDgwKTtcbiAgdmFyIGwgPSBieXRlcy5sZW5ndGggLyA0ICsgMjtcbiAgdmFyIE4gPSBNYXRoLmNlaWwobCAvIDE2KTtcbiAgdmFyIE0gPSBuZXcgQXJyYXkoTik7XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IE47ICsrX2kpIHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQzMkFycmF5KDE2KTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgYXJyW2pdID0gYnl0ZXNbX2kgKiA2NCArIGogKiA0XSA8PCAyNCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDFdIDw8IDE2IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMl0gPDwgOCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDNdO1xuICAgIH1cblxuICAgIE1bX2ldID0gYXJyO1xuICB9XG5cbiAgTVtOIC0gMV1bMTRdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAvIE1hdGgucG93KDIsIDMyKTtcbiAgTVtOIC0gMV1bMTRdID0gTWF0aC5mbG9vcihNW04gLSAxXVsxNF0pO1xuICBNW04gLSAxXVsxNV0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4ICYgMHhmZmZmZmZmZjtcblxuICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBOOyArK19pMikge1xuICAgIHZhciBXID0gbmV3IFVpbnQzMkFycmF5KDgwKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMTY7ICsrdCkge1xuICAgICAgV1t0XSA9IE1bX2kyXVt0XTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfdCA9IDE2OyBfdCA8IDgwOyArK190KSB7XG4gICAgICBXW190XSA9IFJPVEwoV1tfdCAtIDNdIF4gV1tfdCAtIDhdIF4gV1tfdCAtIDE0XSBeIFdbX3QgLSAxNl0sIDEpO1xuICAgIH1cblxuICAgIHZhciBhID0gSFswXTtcbiAgICB2YXIgYiA9IEhbMV07XG4gICAgdmFyIGMgPSBIWzJdO1xuICAgIHZhciBkID0gSFszXTtcbiAgICB2YXIgZSA9IEhbNF07XG5cbiAgICBmb3IgKHZhciBfdDIgPSAwOyBfdDIgPCA4MDsgKytfdDIpIHtcbiAgICAgIHZhciBzID0gTWF0aC5mbG9vcihfdDIgLyAyMCk7XG4gICAgICB2YXIgVCA9IFJPVEwoYSwgNSkgKyBmKHMsIGIsIGMsIGQpICsgZSArIEtbc10gKyBXW190Ml0gPj4+IDA7XG4gICAgICBlID0gZDtcbiAgICAgIGQgPSBjO1xuICAgICAgYyA9IFJPVEwoYiwgMzApID4+PiAwO1xuICAgICAgYiA9IGE7XG4gICAgICBhID0gVDtcbiAgICB9XG5cbiAgICBIWzBdID0gSFswXSArIGEgPj4+IDA7XG4gICAgSFsxXSA9IEhbMV0gKyBiID4+PiAwO1xuICAgIEhbMl0gPSBIWzJdICsgYyA+Pj4gMDtcbiAgICBIWzNdID0gSFszXSArIGQgPj4+IDA7XG4gICAgSFs0XSA9IEhbNF0gKyBlID4+PiAwO1xuICB9XG5cbiAgcmV0dXJuIFtIWzBdID4+IDI0ICYgMHhmZiwgSFswXSA+PiAxNiAmIDB4ZmYsIEhbMF0gPj4gOCAmIDB4ZmYsIEhbMF0gJiAweGZmLCBIWzFdID4+IDI0ICYgMHhmZiwgSFsxXSA+PiAxNiAmIDB4ZmYsIEhbMV0gPj4gOCAmIDB4ZmYsIEhbMV0gJiAweGZmLCBIWzJdID4+IDI0ICYgMHhmZiwgSFsyXSA+PiAxNiAmIDB4ZmYsIEhbMl0gPj4gOCAmIDB4ZmYsIEhbMl0gJiAweGZmLCBIWzNdID4+IDI0ICYgMHhmZiwgSFszXSA+PiAxNiAmIDB4ZmYsIEhbM10gPj4gOCAmIDB4ZmYsIEhbM10gJiAweGZmLCBIWzRdID4+IDI0ICYgMHhmZiwgSFs0XSA+PiAxNiAmIDB4ZmYsIEhbNF0gPj4gOCAmIDB4ZmYsIEhbNF0gJiAweGZmXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2hhMTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxudmFyIGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyKSB7XG4gIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnOyAvLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xuXG52YXIgX2Nsb2Nrc2VxOyAvLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcblxuXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7IC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5cbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICB2YXIgYiA9IGJ1ZiB8fCBuZXcgQXJyYXkoMTYpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTsgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG5cbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgdmFyIHNlZWRCeXRlcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW3NlZWRCeXRlc1swXSB8IDB4MDEsIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXTtcbiAgICB9XG5cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gX2Nsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICB9XG4gIH0gLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG5cblxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogRGF0ZS5ub3coKTsgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTsgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuXG4gIHZhciBkdCA9IG1zZWNzIC0gX2xhc3RNU2VjcyArIChuc2VjcyAtIF9sYXN0TlNlY3MpIC8gMTAwMDA7IC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9IC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcblxuXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9IC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcblxuXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxOyAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcblxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDsgLy8gYHRpbWVfbG93YFxuXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7IC8vIGB0aW1lX21pZGBcblxuICB2YXIgdG1oID0gbXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmOyAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjsgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG5cbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwOyAvLyBgY2xvY2tfc2VxX2xvd2BcblxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7IC8vIGBub2RlYFxuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBzdHJpbmdpZnkoYik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHYxOyIsImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IG1kNSBmcm9tICcuL21kNS5qcyc7XG52YXIgdjMgPSB2MzUoJ3YzJywgMHgzMCwgbWQ1KTtcbmV4cG9ydCBkZWZhdWx0IHYzOyIsImltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuaW1wb3J0IHBhcnNlIGZyb20gJy4vcGFyc2UuanMnO1xuXG5mdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cikge1xuICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgdmFyIGJ5dGVzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgfVxuXG4gIHJldHVybiBieXRlcztcbn1cblxuZXhwb3J0IHZhciBETlMgPSAnNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCB2YXIgVVJMID0gJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAobmFtZSwgdmVyc2lvbiwgaGFzaGZ1bmMpIHtcbiAgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKHZhbHVlLCBuYW1lc3BhY2UsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gc3RyaW5nVG9CeXRlcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lc3BhY2UgPSBwYXJzZShuYW1lc3BhY2UpO1xuICAgIH1cblxuICAgIGlmIChuYW1lc3BhY2UubGVuZ3RoICE9PSAxNikge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdOYW1lc3BhY2UgbXVzdCBiZSBhcnJheS1saWtlICgxNiBpdGVyYWJsZSBpbnRlZ2VyIHZhbHVlcywgMC0yNTUpJyk7XG4gICAgfSAvLyBDb21wdXRlIGhhc2ggb2YgbmFtZXNwYWNlIGFuZCB2YWx1ZSwgUGVyIDQuM1xuICAgIC8vIEZ1dHVyZTogVXNlIHNwcmVhZCBzeW50YXggd2hlbiBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3JtcywgZS5nLiBgYnl0ZXMgPVxuICAgIC8vIGhhc2hmdW5jKFsuLi5uYW1lc3BhY2UsIC4uLiB2YWx1ZV0pYFxuXG5cbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNiArIHZhbHVlLmxlbmd0aCk7XG4gICAgYnl0ZXMuc2V0KG5hbWVzcGFjZSk7XG4gICAgYnl0ZXMuc2V0KHZhbHVlLCBuYW1lc3BhY2UubGVuZ3RoKTtcbiAgICBieXRlcyA9IGhhc2hmdW5jKGJ5dGVzKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gICAgaWYgKGJ1Zikge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5naWZ5KGJ5dGVzKTtcbiAgfSAvLyBGdW5jdGlvbiNuYW1lIGlzIG5vdCBzZXR0YWJsZSBvbiBzb21lIHBsYXRmb3JtcyAoIzI3MClcblxuXG4gIHRyeSB7XG4gICAgZ2VuZXJhdGVVVUlELm5hbWUgPSBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgfSBjYXRjaCAoZXJyKSB7fSAvLyBGb3IgQ29tbW9uSlMgZGVmYXVsdCBleHBvcnQgc3VwcG9ydFxuXG5cbiAgZ2VuZXJhdGVVVUlELkROUyA9IEROUztcbiAgZ2VuZXJhdGVVVUlELlVSTCA9IFVSTDtcbiAgcmV0dXJuIGdlbmVyYXRlVVVJRDtcbn0iLCJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gc3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBzaGExIGZyb20gJy4vc2hhMS5qcyc7XG52YXIgdjUgPSB2MzUoJ3Y1JywgMHg1MCwgc2hhMSk7XG5leHBvcnQgZGVmYXVsdCB2NTsiLCJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHZlcnNpb24odXVpZCkge1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUludCh1dWlkLnN1YnN0cigxNCwgMSksIDE2KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmVyc2lvbjsiLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmV4cG9ydCBjb25zdCBhZGFwdGl2ZUNhcmRTY2hlbWEgPVxue1xuICBcIiRzY2hlbWFcIjogXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA2L3NjaGVtYSNcIixcbiAgXCJpZFwiOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCIsXG4gIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICBcInRpdGxlXCI6IFwiTWljcm9zb2Z0IEFkYXB0aXZlIENhcmQgU2NoZW1hXCIsXG4gIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgXCJhbGxPZlwiOiBbXG4gICAge1xuICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9BZGFwdGl2ZUNhcmRcIlxuICAgIH1cbiAgXSxcbiAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICBcInZlcnNpb25cIjoge1xuICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwidmVyc2lvbiBvZiBzY2hlbWEgdGhhdCB0aGlzIGNhcmQgd2FzIGF1dGhvcmVkIFwiXG4gICAgfSxcbiAgICBcIm1pblZlcnNpb25cIjoge1xuICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaWYgYSBjbGllbnQgZG9lc24ndCBzdXBwb3J0IHRoZSBtaW5WZXJzaW9uIHRoZSBjYXJkIHNob3VsZCBiZSByZWplY3RlZCBhbmQgcmV0dXJuIHRoZSBmYWxsYmFja1RleHQuICBJZiBpdCBkb2VzLCB0aGVuIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBub3Qgc3VwcG9ydGVkIGFyZSBzYWZlIHRvIGlnbm9yZVwiXG4gICAgfSxcbiAgICBcImZhbGxiYWNrVGV4dFwiOiB7XG4gICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJpZiBhIGNsaWVudCBpcyBub3QgYWJsZSB0byBzaG93IHRoZSBjYXJkLCBzaG93IGZhbGxiYWNrVGV4dCB0byB0aGUgdXNlci4gVGhpcyBjYW4gYmUgaW4gbWFya2Rvd24gZm9ybWF0LiBcIlxuICAgIH0sXG4gICAgXCJzcGVha1wiOiB7XG4gICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJTcGVjaWZpZXMgd2hhdCBzaG91bGQgYmUgc3Bva2VuIGZvciB0aGlzIGVudGlyZSBJdGVtLiBUaGlzIGlzIHNpbXBsZSB0ZXh0IG9yIFNTTUwgZnJhZ21lbnRcIlxuICAgIH1cbiAgfSxcbiAgXCJyZXF1aXJlZFwiOiBbXG4gICAgXCJ2ZXJzaW9uXCJcbiAgXSxcbiAgXCJkZWZpbml0aW9uc1wiOiB7XG4gICAgXCJBY3Rpb25cIjoge1xuICAgICAgXCJhbnlPZlwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0FjdGlvbi5TdWJtaXRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9BY3Rpb24uU2hvd0NhcmRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9BY3Rpb24uT3BlblVybFwiXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LFxuICAgIFwiQWN0aW9uLk9wZW5VcmxcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIldoZW4gQWN0aW9uLk9wZW5VcmwgaXMgaW52b2tlZCBpdCB3aWxsIHNob3cgdGhlIGdpdmVuIHVybCwgZWl0aGVyIGJ5IGxhdW5jaGluZyBpdCB0byBhbiBleHRlcm5hbCB3ZWIgYnJvd3NlciBvciBzaG93aW5nIGluLXNpdHUgd2l0aCBlbWJlZGRlZCB3ZWIgYnJvd3Nlci5cIixcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwidGl0bGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJMYWJlbCBmb3IgYnV0dG9uIG9yIGxpbmsgdGhhdCByZXByZXNlbnRzIHRoaXMgYWN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBBY3Rpb24uT3BlblVybFwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIkFjdGlvbi5PcGVuVXJsXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidXJsXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIFVSTCB0byBvcGVuXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcInR5cGVcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiXG4gICAgfSxcbiAgICBcIkFjdGlvbi5TaG93Q2FyZFwiOiB7XG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJBY3Rpb24uU2hvd0NhcmQgZGVmaW5lcyBhbiBpbmxpbmUgQWRhcHRpdmVDYXJkIHdoaWNoIGlzIHNob3duIHRvIHRoZSB1c2VyIHdoZW4gaXQgaXMgY2xpY2tlZC5cIixcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIk11c3QgYmUgQWN0aW9uLlNob3dDYXJkXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiQWN0aW9uLlNob3dDYXJkXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidGl0bGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJMYWJlbCBmb3IgYnV0dG9uIG9yIGxpbmsgdGhhdCByZXByZXNlbnRzIHRoaXMgYWN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJjYXJkXCI6IHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0FkYXB0aXZlQ2FyZFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJ0eXBlXCIsXG4gICAgICAgIFwiY2FyZFwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkFjdGlvbi5TdWJtaXRcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU3VibWl0IGFjdGlvbiBnYXRoZXJzIHVwIGlucHV0IGZpZWxkcywgbWVyZ2VzIHdpdGggb3B0aW9uYWwgZGF0YSBmaWVsZCBhbmQgZ2VuZXJhdGVzIGV2ZW50IHRvIGNsaWVudCBhc2tpbmcgZm9yIGRhdGEgdG8gYmUgc3VibWl0dGVkLiBJdCBpcyB1cCB0byB0aGUgY2xpZW50IHRvIGRldGVybWluZSBob3cgdGhhdCBkYXRhIGlzIHByb2Nlc3NlZC4gRm9yIGV4YW1wbGU6IFdpdGggQm90RnJhbWV3b3JrIGJvdHMgdGhlIGNsaWVudCB3b3VsZCBzZW5kIGFuIGFjdGl2aXR5IHRocm91Z2ggdGhlIG1lc3NhZ2luZyBtZWRpdW0gdG8gdGhlIGJvdC5cIixcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIk11c3QgYmUgQWN0aW9uLlN1Ym1pdFwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIkFjdGlvbi5TdWJtaXRcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0aXRsZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkxhYmVsIGZvciBidXR0b24gb3IgbGluayB0aGF0IHJlcHJlc2VudHMgdGhpcyBhY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBbIFwic3RyaW5nXCIsIFwib2JqZWN0XCIgXSxcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaW5pdGlhbCBkYXRhIHRoYXQgaW5wdXQgZmllbGRzIHdpbGwgYmUgY29tYmluZWQgd2l0aC4gVGhpcyBpcyBlc3NlbnRpYWxseSAnaGlkZGVuJyBwcm9wZXJ0aWVzXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcInR5cGVcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJBY3Rpb25zXCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbEl0ZW1zXCI6IHRydWUsXG4gICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9BY3Rpb25cIlxuICAgICAgfSxcbiAgICAgIFwidHlwZVwiOiBcImFycmF5XCJcbiAgICB9LFxuICAgIFwiQWRhcHRpdmVDYXJkXCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkNhcmQgc2NoZW1hIGZvciBhbiBhZGFwdGl2ZSBjYXJkXCIsXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJNdXN0IGJlIEFkYXB0aXZlQ2FyZFwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIkFkYXB0aXZlQ2FyZFwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcImFjdGlvbnNcIjoge1xuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgQWN0aW9ucyB0byBzaG93IGluIHRoZSBjYXJkJ3MgYWN0aW9uIGJhclwiLFxuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQWN0aW9uc1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiYm9keVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFtcIm9iamVjdFwiLCBcImFycmF5XCJdLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgQ2FyZCBFbGVtZW50cyB0byBzaG93IGluIHRoZSBwcmltYXJ5IGNhcmQgcmVnaW9uXCIsXG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudHNcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwidHlwZVwiLFxuICAgICAgICBcInZlcnNpb25cIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJDYXJkRWxlbWVudFwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiaWRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJBIHVuaXF1ZSBJZCBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRcIlxuICAgICAgICB9LFxuICAgICAgICBcInNwYWNpbmdcIjoge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvU3BhY2luZ1N0eWxlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXBhcmF0b3JcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIFNlcGFyYXRvciBvYmplY3QgdHlwZSBkZXNjcmliZXMgdGhlIGxvb2sgYW5kIGZlZWwgb2YgYSBzZXBhcmF0aW9uIGxpbmUgYmV0d2VlbiB0d28gZWxlbWVudHMuXCIsXG4gICAgICAgICAgXCJkZWZhdWx0XCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJ0eXBlXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiQ2FyZEVsZW1lbnRzXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcImFycmF5XCIsXG4gICAgICBcImFkZGl0aW9uYWxJdGVtc1wiOiB0cnVlLFxuICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcImFueU9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9UZXh0QmxvY2tcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbWFnZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NvbnRhaW5lclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NvbHVtblNldFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0ZhY3RTZXRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbWFnZVNldFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0lucHV0LlRleHRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbnB1dC5OdW1iZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbnB1dC5EYXRlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW5wdXQuVGltZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0lucHV0LlRvZ2dsZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0lucHV0LkNob2ljZVNldFwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSxcbiAgICBcIklucHV0LkNob2ljZVwiOiB7XG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJEZXNjcmliZXMgYSBDaG9pY2UgaW5wdXQuIFRoZSB2YWx1ZSBzaG91bGQgYmUgYSBzaW1wbGUgc3RyaW5nIHdpdGhvdXQgYSBcXFwiLFxcXCJcIixcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwidHlwZVwiOntcbiAgICAgICAgICBcInR5cGVcIjpcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIklucHV0LkNob2ljZVwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInRpdGxlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHRleHQgZm9yIGEgY2hvaWNlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSByYXcgdmFsdWUgZm9yIHRoZSBjaG9pY2UuIE5PVEU6IGRvIG5vdCB1c2UgYSBcXFwiLFxcXCIgaW4gdGhlIHZhbHVlLCBzaW5jZSBNdWx0aVNlbGVjdCBDaG9pY2VTZXQgcmV0dXJucyBhIGNvbW1hLWRlbGltaXRlZCBzdHJpbmcgb2YgY2hvaWNlIHZhbHVlc1wiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJ0aXRsZVwiLFxuICAgICAgICBcInZhbHVlXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiQ2hvaWNlSW5wdXRTdHlsZVwiOiB7XG4gICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJTdHlsZSBoaW50IGZvciBJbnB1dC5DaG9pY2VTZXRcIixcbiAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgIFwiY29tcGFjdFwiLFxuICAgICAgICBcImV4cGFuZGVkXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiQ29sdW1uXCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkRlZmluZXMgYSBjb250YWluZXIgdGhhdCBpcyBwYXJ0IG9mIGEgQ29sdW1uU2V0XCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBDYXJkIEVsZW1lbnRzIHRvIGluY2x1ZGUgaW4gdGhlIENvbHVtblwiLFxuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRzXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWxlY3RBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJBbiBBY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgQ29sdW1uIGlzIHRhcHBlZCBvciBzZWxlY3RlZFwiLFxuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQWN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ3aWR0aFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFtcbiAgICAgICAgICAgIFwic3RyaW5nXCIsXG4gICAgICAgICAgICBcIm51bWJlclwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXFxcImF1dG9cXFwiLCBcXFwic3RyZXRjaFxcXCIsIG9yIGEgbnVtYmVyIHJlcHJlc2VudGluZyByZWxhdGl2ZSB3aWR0aCBvZiB0aGUgY29sdW1uIGluIHRoZSBjb2x1bW4gZ3JvdXBcIlxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJNdXN0IGJlIENvbHVtblwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIkNvbHVtblwiXG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwiaXRlbXNcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJDb2x1bW5TZXRcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ29sdW1uU2V0IGRpdmlkZXMgYSByZWdpb24gaW50byBDb2x1bW4ncyBhbGxvd2luZyBlbGVtZW50cyB0byBzaXQgc2lkZS1ieS1zaWRlXCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJjb2x1bW5zXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgYXJyYXkgb2YgQ29sdW1ucyB0byBkaXZpZGUgdGhlIHJlZ2lvbiBpbnRvXCIsXG4gICAgICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NvbHVtblwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNlbGVjdEFjdGlvblwiOiB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9BY3Rpb25cIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIEFjdGlvbiB0aGF0IGlzIGV4ZWN1dGVkIHdoZW4gdGhlIENvbHVtblNldCBpcyBjbGlja2VkL3RhcHBlZFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIk11c3QgYmUgQ29sdW1uU2V0XCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiQ29sdW1uU2V0XCJcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFwiQ29udGFpbmVyXCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkNvbnRhaW5lcnMgZ3JvdXAgaXRlbXMgdG9nZXRoZXJcIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIENhcmQgRWxlbWVudHMgdG8gcmVuZGVyIGluc2lkZSB0aGUgQ29udGFpbmVyXCIsXG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudHNcIlxuICAgICAgICB9LFxuICAgICAgICBcInNlbGVjdEFjdGlvblwiOiB7XG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkFuIEFjdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBJbWFnZSBpcyB0YXBwZWQgb3Igc2VsZWN0ZWRcIixcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0FjdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIFwic3R5bGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJTdHlsZSBoaW50IGZvciBDb250YWluZXJcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICBcImVtcGhhc2lzXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIk11c3QgYmUgQ29udGFpbmVyXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiQ29udGFpbmVyXCJcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJpdGVtc1wiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkZhY3RcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRGVzY3JpYmVzIGEgRmFjdCBpbiBhIEZhY3RTZXQgYXMgYSBrZXkvdmFsdWUgcGFpclwiLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJGYWN0XCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidGl0bGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgdGl0bGUgb2YgdGhlIGZhY3RcIlxuXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgdmFsdWUgb2YgdGhlIGZhY3RcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwidGl0bGVcIixcbiAgICAgICAgXCJ2YWx1ZVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkZhY3RTZXRcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIEZhY3RTZXQgSXRlbSBtYWtlcyBpdCBzaW1wbGUgdG8gZGlzcGxheSBhIHNlcmllcyBvZiBmYWN0cyAoZS5nLiBuYW1lL3ZhbHVlIHBhaXJzKSBpbiBhIHRhYnVsYXIgZm9ybS5cIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImZhY3RzXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgYXJyYXkgb2YgRmFjdHNcIixcbiAgICAgICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvRmFjdFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJNdXN0IGJlIEZhY3RTZXRcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJGYWN0U2V0XCJcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJmYWN0c1wiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkhvcml6b250YWxBbGlnbm1lbnRcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ29udHJvbHMgaG93IEl0ZW1zIGFyZSBob3Jpem9udGFsbHkgcG9zaXRpb25lZCB3aXRoaW4gdGhlaXIgY29udGFpbmVyLlwiLFxuICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgXCJsZWZ0XCIsXG4gICAgICAgIFwiY2VudGVyXCIsXG4gICAgICAgIFwicmlnaHRcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJJbWFnZVwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgSW1hZ2UgSXRlbSBhbGxvd3MgZm9yIHRoZSBpbmNsdXNpb24gb2YgaW1hZ2VzIGluIGFuIEFkYXB0aXZlIENhcmQuXCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJhbHRUZXh0XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQWx0ZXJuYXRlIHRleHQgZm9yIHRoZSBpbWFnZSBmb3IgYWNjZXNzaWJpbGl0eVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiaG9yaXpvbnRhbEFsaWdubWVudFwiOiB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9Ib3Jpem9udGFsQWxpZ25tZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWxlY3RBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJBbiBBY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgSW1hZ2UgaXMgdGFwcGVkIG9yIHNlbGVjdGVkXCIsXG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9BY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICBcInNpemVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW1hZ2VTaXplXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzdHlsZVwiOiB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbWFnZVN0eWxlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBJbWFnZVwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIkltYWdlXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidXJsXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIFVSTCB0byB0aGUgaW1hZ2UuXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcInVybFwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkltYWdlU2V0XCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBJbWFnZVNldCBhbGxvd3MgZm9yIHRoZSBpbmNsdXNpb24gb2YgYSBjb2xsZWN0aW9uIGltYWdlcyBsaWtlIGEgcGhvdG9nYWxsZXJ5LlwiLFxuICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NhcmRFbGVtZW50XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwiaW1hZ2VzXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgYXJyYXkgb2YgSW1hZ2UgZWxlbWVudHMgdG8gc2hvd1wiLFxuICAgICAgICAgIFwiaXRlbXNcIjoge1xuICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbWFnZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImltYWdlU2l6ZVwiOiB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbWFnZVNpemVcIlxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJNdXN0IGJlIEltYWdlU2V0XCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiSW1hZ2VTZXRcIlxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcImltYWdlc1wiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkltYWdlU2l6ZVwiOiB7XG4gICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJDb250cm9scyB0aGUgYXBwcm94aW1hdGUgc2l6ZSBvZiB0aGUgaW1hZ2UuIFRoZSBwaHlzaWNhbCBkaW1lbnNpb25zIHdpbGwgdmFyeSBwZXIgaG9zdC4gU3BlY2lmeSBcXFwiYXV0b1xcXCIgZm9yIHRydWUgaW1hZ2UgZGltZW5zaW9uIG9yIFxcXCJzdHJldGNoXFxcIiB0byBmb3JjZSBpdCB0byBmaWxsIHRoZSBjb250YWluZXJcIixcbiAgICAgIFwiZGVmYXVsdFwiOiBcImF1dG9cIixcbiAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgIFwiYXV0b1wiLFxuICAgICAgICBcInN0cmV0Y2hcIixcbiAgICAgICAgXCJzbWFsbFwiLFxuICAgICAgICBcIm1lZGl1bVwiLFxuICAgICAgICBcImxhcmdlXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiSW1hZ2VTdHlsZVwiOiB7XG4gICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJDb250cm9scyB0aGUgd2F5IEltYWdlcyBhcmUgZGlzcGxheWVkXCIsXG4gICAgICBcImVudW1cIjogW1xuICAgICAgICBcImRlZmF1bHRcIixcbiAgICAgICAgXCJwZXJzb25cIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJJbnB1dC5DaG9pY2VTZXRcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU2hvd3MgYW4gYXJyYXkgb2YgQ2hvaWNlIG9iamVjdHNcIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImNob2ljZXNcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcImFycmF5XCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcInRoZSBjaG9pY2Ugb3B0aW9uc1wiLFxuICAgICAgICAgIFwiaXRlbXNcIjoge1xuICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbnB1dC5DaG9pY2VcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklkIGZvciB0aGUgdmFsdWUgKHdpbGwgYmUgdXNlZCB0byBpZGVudGlmeSBjb2xsZWN0ZWQgaW5wdXQgd2hlbiBTVUJNSVQgaXMgY2xpY2tlZClcIlxuICAgICAgICB9LFxuICAgICAgICBcImlzTXVsdGlTZWxlY3RcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiYWxsb3cgbXVsdGlwbGUgY2hvaWNlcyB0byBiZSBzZWxlY3RlZFwiLFxuICAgICAgICAgIFwiZGVmYXVsdFwiOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBcInN0eWxlXCI6IHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0Nob2ljZUlucHV0U3R5bGVcIlxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJNdXN0IGJlIElucHV0LkNob2ljZUlucHV0XCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiSW5wdXQuQ2hvaWNlU2V0XCJcbiAgICAgICAgICBdLFxuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgaW5pdGlhbCBjaG9pY2UgKG9yIHNldCBvZiBjaG9pY2VzKSB0aGF0IHNob3VsZCBiZSBzZWxlY3RlZC4gRm9yIG11bHRpLXNlbGVjdCwgc3BlY2lmY3kgYSBjb21tYS1zZXBhcmF0ZWQgc3RyaW5nIG9mIHZhbHVlc1wiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJpZFwiLFxuICAgICAgICBcImNob2ljZXNcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJJbnB1dC5EYXRlXCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklucHV0LkRhdGUgY29sbGVjdHMgRGF0ZSBmcm9tIHRoZSB1c2VyLFwiLFxuICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NhcmRFbGVtZW50XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwiaWRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJZCBmb3IgdGhlIHZhbHVlICh3aWxsIGJlIHVzZWQgdG8gaWRlbnRpZnkgY29sbGVjdGVkIGlucHV0IHdoZW4gU1VCTUlUIGlzIGNsaWNrZWQpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJtYXhcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJoaW50IG9mIG1heGltdW0gdmFsdWUgZXhwcmVzc2VkIGluIElTTy04NjAxIGZvcm1hdCAobWF5IGJlIGlnbm9yZWQgYnkgc29tZSBjbGllbnRzKVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaGludCBvZiBtaW5pbXVtIHZhbHVlIGV4cHJlc3NlZCBpbiBJU08tODYwMSBmb3JtYXQgKG1heSBiZSBpZ25vcmVkIGJ5IHNvbWUgY2xpZW50cylcIlxuICAgICAgICB9LFxuICAgICAgICBcInBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGl0bGUgRGVzY3JpcHRpb24gb2YgdGhlIGlucHV0IGRlc2lyZWRcIlxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgdHlwZSBtdXN0IGJlIElucHV0LkRhdGVcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJJbnB1dC5EYXRlXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgaW5pdGlhbCB2YWx1ZSBmb3IgYSBmaWVsZCBleHByZXNzZWQgaW4gSVNPLTg2MDEgZm9ybWF0XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcImlkXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiSW5wdXQuTnVtYmVyXCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklucHV0Lk51bWJlciBjb2xsZWN0cyBudW1iZXIgZnJvbSB0aGUgdXNlcixcIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImlkXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSWQgZm9yIHRoZSB2YWx1ZSAod2lsbCBiZSB1c2VkIHRvIGlkZW50aWZ5IGNvbGxlY3RlZCBpbnB1dCB3aGVuIFNVQk1JVCBpcyBjbGlja2VkKVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWF4XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaGludCBvZiBtYXhpbXVtIHZhbHVlIChtYXkgYmUgaWdub3JlZCBieSBzb21lIGNsaWVudHMpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJtaW5cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJoaW50IG9mIG1pbmltdW0gdmFsdWUgKG1heSBiZSBpZ25vcmVkIGJ5IHNvbWUgY2xpZW50cylcIlxuICAgICAgICB9LFxuICAgICAgICBcInBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGl0bGUgRGVzY3JpcHRpb24gb2YgdGhlIGlucHV0IGRlc2lyZWRcIlxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgdHlwZSBtdXN0IGJlIElucHV0Lk51bWJlclwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIklucHV0Lk51bWJlclwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGluaXRpYWwgdmFsdWUgZm9yIGEgZmllbGRcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwiaWRcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJJbnB1dC5UZXh0XCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklucHV0LlRleHQgY29sbGVjdHMgdGV4dCBmcm9tIHRoZSB1c2VyLFwiLFxuICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NhcmRFbGVtZW50XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwiaWRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJZCBmb3IgdGhlIHZhbHVlICh3aWxsIGJlIHVzZWQgdG8gaWRlbnRpZnkgY29sbGVjdGVkIGlucHV0IHdoZW4gU1VCTUlUIGlzIGNsaWNrZWQpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJpc011bHRpbGluZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJEbyB5b3Ugd2FudCB0byBhbGxvdyBtdWx0aXBsZSBsaW5lcyBvZiBpbnB1dFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWF4TGVuZ3RoXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaGludCBvZiBtYXhpbXVtIGxlbmd0aCBjaGFyYWN0ZXJzIHRvIGNvbGxlY3QgKG1heSBiZSBpZ25vcmVkIGJ5IHNvbWUgY2xpZW50cylcIlxuICAgICAgICB9LFxuICAgICAgICBcInBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGl0bGUgRGVzY3JpcHRpb24gb2YgdGhlIGlucHV0IGRlc2lyZWRcIlxuICAgICAgICB9LFxuICAgICAgICBcInN0eWxlXCI6IHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL1RleHRJbnB1dFN0eWxlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSW5wdXQuVGV4dFwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIklucHV0LlRleHRcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBpbml0aWFsIHZhbHVlIGZvciBhIGZpZWxkXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcImlkXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiSW5wdXQuVGltZVwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJbnB1dC5UaW1lIGNvbGxlY3RzIFRpbWUgZnJvbSB0aGUgdXNlcixcIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImlkXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSWQgZm9yIHRoZSB2YWx1ZSAod2lsbCBiZSB1c2VkIHRvIGlkZW50aWZ5IGNvbGxlY3RlZCBpbnB1dCB3aGVuIFNVQk1JVCBpcyBjbGlja2VkKVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWF4XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaGludCBvZiBtYXhpbXVtIHZhbHVlIChtYXkgYmUgaWdub3JlZCBieSBzb21lIGNsaWVudHMpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJtaW5cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJoaW50IG9mIG1pbmltdW0gdmFsdWUgKG1heSBiZSBpZ25vcmVkIGJ5IHNvbWUgY2xpZW50cylcIlxuICAgICAgICB9LFxuICAgICAgICBcInBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGl0bGUgRGVzY3JpcHRpb24gb2YgdGhlIGlucHV0IGRlc2lyZWRcIlxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgdHlwZSBtdXN0IGJlIElucHV0LlRpbWVcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJJbnB1dC5UaW1lXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgaW5pdGlhbCB2YWx1ZSBmb3IgYSBmaWVsZCBleHByZXNzZWQgaW4gSVNPLTg2MDEgZm9ybWF0XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcImlkXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiSW5wdXQuVG9nZ2xlXCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklucHV0LlRvZ2dsZSBjb2xsZWN0cyBhIHRydWUvZmFsc2UgcmVzcG9uc2UgZnJvbSB0aGUgdXNlclwiLFxuICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NhcmRFbGVtZW50XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwiaWRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJZCBmb3IgdGhlIHZhbHVlICh3aWxsIGJlIHVzZWQgdG8gaWRlbnRpZnkgY29sbGVjdGVkIGlucHV0IHdoZW4gU1VCTUlUIGlzIGNsaWNrZWQpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0aXRsZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRpdGxlIGZvciB0aGUgdG9nZ2xlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSW5wdXQuVG9nZ2xlXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiSW5wdXQuVG9nZ2xlXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgY3VycmVudCBzZWxlY3RlZCB2YWx1ZSAoZGVmYXVsdDpmYWxzZSlcIlxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlT2ZmXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHZhbHVlIHdoZW4gdG9nZ2xlIGlzIG9mZiAoZGVmYXVsdDpmYWxzZSlcIlxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlT25cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgdmFsdWUgd2hlbiB0b2dnbGUgaXMgb24gKGRlZmF1bHQ6dHJ1ZSlcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwiaWRcIixcbiAgICAgICAgXCJ0aXRsZVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIlRleHRCbG9ja1wiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgVGV4dEJsb2NrIEl0ZW0gYWxsb3dzIGZvciB0aGUgaW5jbHVzaW9uIG9mIHRleHQsIHdpdGggdmFyaW91cyBmb250IHNpemVzLCB3ZWlnaHQgYW5kIGNvbG9yLCBpbiBBZGFwdGl2ZSBDYXJkcy5cIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImNvbG9yXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ29udHJvbHMgdGhlIGNvbG9yIG9mIFRleHRCbG9jayBJdGVtcy5cIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICBcImRhcmtcIixcbiAgICAgICAgICAgIFwibGlnaHRcIixcbiAgICAgICAgICAgIFwiYWNjZW50XCIsXG4gICAgICAgICAgICBcImdvb2RcIixcbiAgICAgICAgICAgIFwid2FybmluZ1wiLFxuICAgICAgICAgICAgXCJhdHRlbnRpb25cIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJob3Jpem9udGFsQWxpZ25tZW50XCI6IHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0hvcml6b250YWxBbGlnbm1lbnRcIlxuICAgICAgICB9LFxuICAgICAgICBcImlzU3VidGxlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sZWFuXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkluZGljYXRlcyB3aGV0aGVyIHRoZSBjb2xvciBvZiB0aGUgdGV4dCBzaG91bGQgYmUgc2xpZ2h0bHkgdG9uZWQgZG93biB0byBhcHBlYXIgbGVzcyBwcm9taW5lbnRcIlxuICAgICAgICB9LFxuICAgICAgICBcIm1heExpbmVzXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiV2hlbiBXcmFwIGlzIHRydWUsIHlvdSBjYW4gc3BlY2lmeSB0aGUgbWF4aW11bSBudW1iZXIgb2YgbGluZXMgdG8gYWxsb3cgdGhlIHRleHRCbG9jayB0byB1c2UuXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzaXplXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiY29udHJvbHMgc2l6ZSBvZiB0aGUgdGV4dC5cIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJzbWFsbFwiLFxuICAgICAgICAgICAgXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgXCJsYXJnZVwiLFxuICAgICAgICAgICAgXCJleHRyYUxhcmdlXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidGV4dFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBhY3R1YWwgdGV4dCB0byBkaXNwbGF5XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBUZXh0QmxvY2tcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJUZXh0QmxvY2tcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWlnaHRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJDb250cm9scyB0aGUgd2VpZ2h0IG9mIFRleHRCbG9jayBJdGVtc1wiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcImxpZ2h0ZXJcIixcbiAgICAgICAgICAgIFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgXCJib2xkZXJcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3cmFwXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sZWFuXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRydWUgaWYgYmUgaXMgYWxsb3dlZCB0byB3cmFwXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcInRleHRcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJTZXBhcmF0b3JTdHlsZVwiOiB7XG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJbmRpY2F0ZXMgd2hldGhlciB0aGVyZSBzaG91bGQgYmUgYSB2aXNpYmxlIHNlcGFyYXRvciAoZS5nLiBhIGxpbmUpIGJldHdlZW4gdGhlIGVsZW1lbnQgYW5kIHRoZSBvbmUgYmVmb3JlIGl0LiBJZiB0aGlzIHByb3BlcnR5IGlzIG5vdCBzcGVjaWZpZWQsIG5vIHNlcGFyYXRvciBpcyBkaXNwbGF5ZWQuIElmIGl0IGlzLCBhIHNlcGFyYXRvciBsaW5lIGlzIGRpc3BsYXllZC4gQSBzZXBhcmF0b3Igd2lsbCBvbmx5IGFwcGVhciBpZiB0aGVyZSB3YXMgYSBwcmVjZWRpbmcgZWxlbWVudC5cIixcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwidGhpY2tuZXNzXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU3BlY2lmaWVzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHNlcGFyYXRpb24gbGluZS5cIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICBcInRoaWNrXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiY29sb3JcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJTcGVjaWZpZXMgdGhlIGNvbG9yIG9mIHRoZSBzZXBhcmF0aW9uIGxpbmUuXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgXCJhY2NlbnRcIlxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgXCJTcGFjaW5nU3R5bGVcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ29udHJvbHMgdGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gdGhpcyBlbGVtZW50IGFuZCB0aGUgcHJldmlvdXMgZWxlbWVudC5cIixcbiAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgIFwibm9uZVwiLFxuICAgICAgICBcInNtYWxsXCIsXG4gICAgICAgIFwiZGVmYXVsdFwiLFxuICAgICAgICBcIm1lZGl1bVwiLFxuICAgICAgICBcImxhcmdlXCIsXG4gICAgICAgIFwiZXh0cmFMYXJnZVwiLFxuICAgICAgICBcInBhZGRpbmdcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJUZXh0SW5wdXRTdHlsZVwiOiB7XG4gICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJTdHlsZSBoaW50IGZvciBJbnB1dC5UZXh0LlwiLFxuICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgXCJ0ZXh0XCIsXG4gICAgICAgIFwidGVsXCIsXG4gICAgICAgIFwidXJsXCIsXG4gICAgICAgIFwiZW1haWxcIlxuICAgICAgXVxuICAgIH1cbiAgfVxufTtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuZXhwb3J0ICogZnJvbSBcIi4vc3RyaW5nc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2hhcmVkXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb250YWluZXJzL2hvc3QtY29udGFpbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb250YWluZXJzL2RlZmF1bHQvZGVmYXVsdC1jb250YWluZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2ZpZWxkLXBpY2tlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2FyZC1kZXNpZ25lci1zdXJmYWNlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jYXJkLWRlc2lnbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RyYWdnYWJsZS1lbGVtZW50XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZXNpZ25lci1wZWVyc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcGVlci1jb21tYW5kXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9taXNjZWxsYW5lb3VzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zZXR0aW5ncy1tYW5hZ2VyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zaWRlLXBhbmVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90b29sLWJveFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdG9vbGJhclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdG9vbC1wYWxldHRlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zcGxpdHRlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHJlZS12aWV3XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9iYXNlLXRyZWUtaXRlbVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGVzaWduZXItcGVlci10cmVlaXRlbVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGF0YVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2F0YWxvZ3VlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb250YWluZXJzL2hvc3QtY29udGFpbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb250YWluZXJzL2RlZmF1bHQvZGVmYXVsdC1jb250YWluZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3BpYzJjYXJkXCI7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCAqIGFzIGNvbnRhaW5lcnMgZnJvbSBcIi4vY29udGFpbmVyc1wiO1xuaW1wb3J0IHsgRGV2aWNlRW11bGF0aW9uIH0gZnJvbSBcIi4vZGV2aWNlLWVtdWxhdGlvblwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9hZGFwdGl2ZWNhcmRzLWRlc2lnbmVyLXN0YW5kYWxvbmVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbnRhaW5lcnMvaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRNaWNyb3NvZnRIb3N0czogY29udGFpbmVycy5Ib3N0Q29udGFpbmVyW10gPSBbXG4gICAgbmV3IGNvbnRhaW5lcnMuV2ViQ2hhdENvbnRhaW5lcihcIkJvdCBGcmFtZXdvcmsgV2ViQ2hhdFwiLCBcImNvbnRhaW5lcnMvd2ViY2hhdC1jb250YWluZXIuY3NzXCIpLFxuICAgIG5ldyBjb250YWluZXJzLk91dGxvb2tDb250YWluZXIoXCJPdXRsb29rIEFjdGlvbmFibGUgTWVzc2FnZXNcIiwgXCJjb250YWluZXJzL291dGxvb2stY29udGFpbmVyLmNzc1wiKSxcbiAgICBuZXcgY29udGFpbmVycy5UZWFtc0NvbnRhaW5lcigpLFxuICAgIG5ldyBjb250YWluZXJzLlZpdmFDb25uZWN0aW9uc0NvbnRhaW5lcigpLFxuICAgIG5ldyBjb250YWluZXJzLkNvcnRhbmFDb250YWluZXIoKSxcbiAgICBuZXcgY29udGFpbmVycy5Cb3RGcmFtZXdvcmtDb250YWluZXIoXCJCb3QgRnJhbWV3b3JrIE90aGVyIENoYW5uZWxzIChJbWFnZSByZW5kZXIpXCIsIFwiY29udGFpbmVycy9iZi1pbWFnZS1jb250YWluZXIuY3NzXCIpLFxuICAgIG5ldyBjb250YWluZXJzLkNvcnRhbmFDbGFzc2ljQ29udGFpbmVyKFwiQ29ydGFuYSBTa2lsbHMgKENsYXNzaWMpXCIsIFwiY29udGFpbmVycy9jb3J0YW5hLWNsYXNzaWMtY29udGFpbmVyLmNzc1wiKSxcbiAgICBuZXcgY29udGFpbmVycy5GZWRlcmF0ZWRTZWFyY2hDb250YWluZXIoXCJGZWRlcmF0ZWQgU2VhcmNoXCIsXCJjb250YWluZXJzL2ZlZGVyYXRlZC1zZWFyY2gtY29udGFpbmVyLmNzc1wiKSxcbiAgICBuZXcgY29udGFpbmVycy5XaWRnZXRDb250YWluZXIoY29udGFpbmVycy5Db250YWluZXJTaXplLlNtYWxsKSxcbl07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0TWljcm9zb2Z0RGV2aWNlRW11bGF0aW9uczogRGV2aWNlRW11bGF0aW9uW10gPSBbXG4gIHsgbmFtZTogXCJEZXNrdG9wICh1bmNvbnN0cmFpbmVkKVwiLCBtYXhXaWR0aDogdW5kZWZpbmVkIH0sXG4gIHsgbmFtZTogXCJTbWFsbCBtb2JpbGUgKDMyMHB4KVwiLCBtYXhXaWR0aDogXCIzMjBweFwiIH0sXG4gIHsgbmFtZTogXCJMYXJnZSBtb2JpbGUgKDQxNHB4KVwiLCBtYXhXaWR0aDogXCI0MTRweFwiIH0sXG4gIHsgbmFtZTogXCJTbWFsbCB0YWJsZXQgKDc2OHB4KVwiLCBtYXhXaWR0aDogXCI3NjhweFwiIH0sXG4gIHsgbmFtZTogXCJMYXJnZSB0YWJsZXQgKDEwMjRweClcIiwgbWF4V2lkdGg6IFwiMTAyNHB4XCIgfSxcbl07XG4iLCJpbXBvcnQgeyBEcmFnZ2FibGVFbGVtZW50IH0gZnJvbSBcIi4vZHJhZ2dhYmxlLWVsZW1lbnRcIjtcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJhZGFwdGl2ZWNhcmRzLWNvbnRyb2xzXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVRyZWVJdGVtIGV4dGVuZHMgRHJhZ2dhYmxlRWxlbWVudCB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgY29sbGFwc2VkSWNvbkNsYXNzID0gXCJhY2QtaWNvbi1jaGV2cm9uUmlnaHRcIjtcbiAgICBwcml2YXRlIHN0YXRpYyBleHBhbmRlZEljb25DbGFzcyA9IFwiYWNkLWljb24tY2hldnJvbkRvd25cIjtcblxuICAgIHByaXZhdGUgX2lzRXhwYW5kZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2lzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9yb290RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfdHJlZUl0ZW1FbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9leHBhbmRDb2xsYXBzZUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2NoaWxkQ29udGFpbmVyRWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIG5lZWRzVG9CZVNjcm9sbGVkKCkge1xuICAgICAgICAvLyBkZXRlY3QgdGhlIGNhc2Ugd2hlcmUgdGhlIHRyZWVWaWV3SG9zdCdzIHBhcmVudCBpc24ndCBjdXJyZW50bHlcbiAgICAgICAgLy8gb3ZlcmZsb3dlZC4gaWYgaXQgKmlzKiBvdmVyZmxvd2VkIChoYXMgc2Nyb2xsYmFyKSwgdGhlbiBzY3JvbGxpbmcgaXNcbiAgICAgICAgLy8gYXBwcm9wcmlhdGUuIG90aGVyd2lzZSwgd2UgbWlnaHQgYmUgaW4gYSBzbWFsbC1zY3JlZW4gc2l0dWF0aW9uXG4gICAgICAgIC8vIChzaW5nbGUgY29sdW1uIHJlbmRlcmluZykgd2hlcmUgc2Nyb2xsaW5nIGlzIHVuZGVzaXJlYWJsZVxuICAgICAgICBjb25zdCB0cmVlVmlld0hvc3RQYXJlbnQgPSB0aGlzLl9yb290RWxlbWVudC5jbG9zZXN0KFwiLmFjZC10cmVlVmlldy1ob3N0XCIpLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHJldHVybiAodHJlZVZpZXdIb3N0UGFyZW50ICYmIHRyZWVWaWV3SG9zdFBhcmVudC5zY3JvbGxIZWlnaHQgPiB0cmVlVmlld0hvc3RQYXJlbnQuY2xpZW50SGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldElzU2VsZWN0ZWQodmFsdWU6IGJvb2xlYW4sIHNjcm9sbEludG9WaWV3OiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1NlbGVjdGVkICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faXNTZWxlY3RlZCA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmVlSXRlbUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWN1cnJlbnRcIiwgdGhpcy5faXNTZWxlY3RlZC50b1N0cmluZygpKTtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENoYW5nZWQoc2Nyb2xsSW50b1ZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldExhYmVsVGV4dCgpOiBzdHJpbmc7XG5cbiAgICBwcm90ZWN0ZWQgY2xpY2soZTogTW91c2VFdmVudCkge1xuICAgICAgICBzdXBlci5jbGljayhlKTtcblxuICAgICAgICB0aGlzLnNldElzU2VsZWN0ZWQodHJ1ZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRJY29uQ2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEFkZGl0aW9uYWxUZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRBZGRpdGlvbmFsVGV4dENsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcImFjZC10cmVlLWl0ZW0tYWRkaXRpb25hbFRleHRcIjtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SW5kZW50YXRpb25MZXZlbEluY3JlbWVudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gODtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0RHJhZ1NvdXJjZUVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJlZUl0ZW1FbGVtZW50O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZWxlY3RlZENoYW5nZWQoc2Nyb2xsSW50b1ZpZXc6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTZWxlY3RlZCAmJiBzY3JvbGxJbnRvVmlldyAmJiB0aGlzLm5lZWRzVG9CZVNjcm9sbGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0ZWRDaGFuZ2UodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEV4cGFuZENvbGxhcHNlQXJpYVRleHQoKSA6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAodGhpcy5faXNFeHBhbmRlZCA/IFwiY29sbGFwc2VcIiA6IFwiZXhwYW5kXCIpICsgXCIgXCIgKyB0aGlzLmdldExhYmVsVGV4dCgpICsgXCIgZWxlbWVudFwiO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbFJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGhhc0NoaWxkcmVuID0gKHRoaXMuZ2V0Q2hpbGRDb3VudCgpID4gMCk7XG5cbiAgICAgICAgY29uc3QgbGFiZWxJZCA9IHV1aWR2NCgpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9IFwiMFwiO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zdHlsZS5saXN0U3R5bGVUeXBlID0gXCJub25lXCI7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCBsYWJlbElkKTtcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sZXZlbFwiLCB0aGlzLl9sZXZlbC50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1jdXJyZW50XCIsIHRoaXMuX2lzU2VsZWN0ZWQudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnRhYkluZGV4ID0gMDtcblxuICAgICAgICBpZiAoaGFzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgdGhpcy5faXNFeHBhbmRlZC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJ0cmVlaXRlbVwiKTtcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQub25jbGljayA9ICgpID0+IHsgdGhpcy5jbGljazsgfTtcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQub25rZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gQ29uc3RhbnRzLmtleXMuZW50ZXIgfHwgZS5rZXkgPT09IENvbnN0YW50cy5rZXlzLnNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc1NlbGVjdGVkKCF0aGlzLmlzU2VsZWN0ZWQsICF0aGlzLmlzU2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXRyZWUtaXRlbVwiKTtcbiAgICAgICAgdGhpcy5fdHJlZUl0ZW1FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgdGhpcy5fdHJlZUl0ZW1FbGVtZW50LnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiO1xuICAgICAgICB0aGlzLl90cmVlSXRlbUVsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSB0aGlzLmdldEluZGVudGF0aW9uTGV2ZWxJbmNyZW1lbnQoKSAqICgxICsgdGhpcy5sZXZlbCkgKyBcInB4XCI7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwidHJlZWl0ZW1cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJlZUl0ZW1FbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCBsYWJlbElkKTtcblxuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC10cmVlLWl0ZW0tZXhwYW5kQ29sbGFwc2VCdXR0b25cIik7XG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5zdHlsZS5mbGV4ID0gXCIwIDAgYXV0b1wiO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IGhhc0NoaWxkcmVuID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgdGhpcy5nZXRFeHBhbmRDb2xsYXBzZUFyaWFUZXh0KCkpO1xuXG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5vbmNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzRXhwYW5kZWQgPSAhdGhpcy5faXNFeHBhbmRlZDtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcblxuICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50Lm9ua2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09IENvbnN0YW50cy5rZXlzLmVudGVyIHx8IGUua2V5ID09PSBDb25zdGFudHMua2V5cy5zcGFjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzRXhwYW5kZWQgPSAhdGhpcy5faXNFeHBhbmRlZDtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJlZUl0ZW1FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudCk7XG5cbiAgICAgICAgbGV0IHRleHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGV4dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC10cmVlLWl0ZW0tdGV4dFwiKTtcbiAgICAgICAgdGV4dEVsZW1lbnQuc3R5bGUuZmxleCA9IFwiMSAxIGF1dG9cIjtcbiAgICAgICAgdGV4dEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICB0ZXh0RWxlbWVudC5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcbiAgICAgICAgdGV4dEVsZW1lbnQuc3R5bGUud2hpdGVTcGFjZSA9IFwibm93cmFwXCI7XG4gICAgICAgIHRleHRFbGVtZW50LnN0eWxlLnRleHRPdmVyZmxvdyA9IFwiZWxsaXBzaXNcIjtcbiAgICAgICAgdGV4dEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXG4gICAgICAgIGlmICh0aGlzLmdldEljb25DbGFzcygpKSB7XG4gICAgICAgICAgICBsZXQgaWNvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1pY29uXCIsIFwiYWNkLXRyZWVWaWV3LWljb25cIiwgdGhpcy5nZXRJY29uQ2xhc3MoKSk7XG5cbiAgICAgICAgICAgIHRleHRFbGVtZW50LmFwcGVuZENoaWxkKGljb25FbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYWJlbFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgbGFiZWxTcGFuLmNsYXNzTGlzdC5hZGQoXCJhY2QtdHJlZS1pdGVtLXR5cGVOYW1lXCIpO1xuICAgICAgICBsYWJlbFNwYW4uaW5uZXJUZXh0ID0gdGhpcy5nZXRMYWJlbFRleHQoKTtcbiAgICAgICAgbGFiZWxTcGFuLmlkID0gbGFiZWxJZDtcblxuICAgICAgICB0ZXh0RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbFNwYW4pO1xuXG4gICAgICAgIGxldCB0ZXh0ID0gdGhpcy5nZXRBZGRpdGlvbmFsVGV4dCgpO1xuXG4gICAgICAgIGlmICh0ZXh0ICYmIHRleHQgIT0gXCJcIikge1xuICAgICAgICAgICAgbGV0IGFkZGl0aW9uYWxUZXh0U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgYWRkaXRpb25hbFRleHRTcGFuLmNsYXNzTGlzdC5hZGQodGhpcy5nZXRBZGRpdGlvbmFsVGV4dENsYXNzKCkpO1xuICAgICAgICAgICAgYWRkaXRpb25hbFRleHRTcGFuLmlubmVyVGV4dCA9IFwiIFtcIiArIHRleHQgKyBcIl1cIjtcblxuICAgICAgICAgICAgdGV4dEVsZW1lbnQuYXBwZW5kQ2hpbGQoYWRkaXRpb25hbFRleHRTcGFuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudC5hcHBlbmRDaGlsZCh0ZXh0RWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fdHJlZUl0ZW1FbGVtZW50KTtcblxuICAgICAgICBpZiAoaGFzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkQ29udGFpbmVyRWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9IFwiMFwiO1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRDb250YWluZXJFbGVtZW50LnN0eWxlLmxpc3RTdHlsZVR5cGUgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkQ29udGFpbmVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiZ3JvdXBcIik7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCByZW5kZXJlZENoaWxkSXRlbSA9IHRoaXMuZ2V0Q2hpbGRBdChpKS5yZW5kZXIoKTtcblxuICAgICAgICAgICAgICAgIHJlbmRlcmVkQ2hpbGRJdGVtLnNldEF0dHJpYnV0ZShcImFyaWEtcG9zaW5zZXRcIiwgKGkrMSkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZWRDaGlsZEl0ZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1zZXRzaXplXCIsIHRoaXMuZ2V0Q2hpbGRDb3VudCgpLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRDb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKHJlbmRlcmVkQ2hpbGRJdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY2hpbGRDb250YWluZXJFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3RFbGVtZW50O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfbGV2ZWw6IG51bWJlciA9IDA7XG5cbiAgICBvblNlbGVjdGVkQ2hhbmdlOiAoc2VuZGVyOiBCYXNlVHJlZUl0ZW0pID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihpc0V4cGFuZGVkOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2lzRXhwYW5kZWQgPSBpc0V4cGFuZGVkO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGdldENoaWxkQ291bnQoKTogbnVtYmVyO1xuICAgIGFic3RyYWN0IGdldENoaWxkQXQoaW5kZXg6IG51bWJlcik6IEJhc2VUcmVlSXRlbTtcblxuICAgIHVwZGF0ZUxheW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q2hpbGRDb3VudCgpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCB0aGlzLl9pc0V4cGFuZGVkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgdGhpcy5nZXRFeHBhbmRDb2xsYXBzZUFyaWFUZXh0KCkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkQ29udGFpbmVyRWxlbWVudD8uY2xhc3NMaXN0LnJlbW92ZShcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQmFzZVRyZWVJdGVtLmNvbGxhcHNlZEljb25DbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoQmFzZVRyZWVJdGVtLmV4cGFuZGVkSWNvbkNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkQ29udGFpbmVyRWxlbWVudD8uY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoQmFzZVRyZWVJdGVtLmNvbGxhcHNlZEljb25DbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQmFzZVRyZWVJdGVtLmV4cGFuZGVkSWNvbkNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cGFuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0V4cGFuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0V4cGFuZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbGxwYXNlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5faXNFeHBhbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgbGV2ZWwoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xldmVsO1xuICAgIH1cblxuICAgIGdldCBpc1NlbGVjdGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTZWxlY3RlZDtcbiAgICB9XG5cbiAgICBzZXQgaXNTZWxlY3RlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnNldElzU2VsZWN0ZWQodmFsdWUsIHRydWUpO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IEFkYXB0aXZlQ2FyZCwgQ2FyZEVsZW1lbnQsIENhcm91c2VsfSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcImFkYXB0aXZlY2FyZHMtY29udHJvbHNcIjtcbmltcG9ydCB7IERyYWdnYWJsZUVsZW1lbnQgfSBmcm9tIFwiLi9kcmFnZ2FibGUtZWxlbWVudFwiO1xuaW1wb3J0IHsgSVBvaW50LCBVdGlscyB9IGZyb20gXCIuL21pc2NlbGxhbmVvdXNcIjtcbmltcG9ydCAqIGFzIERlc2lnbmVyUGVlcnMgZnJvbSBcIi4vZGVzaWduZXItcGVlcnNcIjtcbmltcG9ydCAqIGFzIEFDRGF0YSBmcm9tIFwiYWRhcHRpdmVjYXJkcy10ZW1wbGF0aW5nXCI7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSBcIi4vc2hhcmVkXCI7XG5pbXBvcnQgeyBIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4vY29udGFpbmVyc1wiO1xuaW1wb3J0IHsgRmllbGREZWZpbml0aW9uIH0gZnJvbSBcIi4vZGF0YVwiO1xuaW1wb3J0IHsgU3RyaW5ncyB9IGZyb20gXCIuL3N0cmluZ3NcIjtcblxuZXhwb3J0IGVudW0gQmluZGluZ1ByZXZpZXdNb2RlIHtcbiAgICBOb1ByZXZpZXcsXG4gICAgR2VuZXJhdGVkRGF0YSxcbiAgICBTYW1wbGVEYXRhXG59XG5cbmV4cG9ydCB0eXBlIENhcmRFbGVtZW50VHlwZSA9IHsgbmV3KCk6IEFkYXB0aXZlLkNhcmRFbGVtZW50IH07XG5leHBvcnQgdHlwZSBBY3Rpb25UeXBlID0geyBuZXcoKTogQWRhcHRpdmUuQWN0aW9uIH07XG5leHBvcnQgdHlwZSBDYXJkRWxlbWVudFBlZXJUeXBlID0ge1xuICAgIG5ldyhcbiAgICAgICAgcGFyZW50OiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcixcbiAgICAgICAgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlLFxuICAgICAgICByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uQmFzZSxcbiAgICAgICAgY2FyZEVsZW1lbnQ6IEFkYXB0aXZlLkNhcmRFbGVtZW50LFxuICAgICAgICBpbml0aWFsaXplQ2FyZEVsZW1lbnQ/OiBib29sZWFuXG4gICAgKTogRGVzaWduZXJQZWVycy5DYXJkRWxlbWVudFBlZXJcbn07XG5leHBvcnQgdHlwZSBBY3Rpb25QZWVyVHlwZSA9IHtcbiAgICBuZXcoXG4gICAgICAgIHBhcmVudDogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIsXG4gICAgICAgIGRlc2lnbmVyU3VyZmFjZTogQ2FyZERlc2lnbmVyU3VyZmFjZSxcbiAgICAgICAgcmVnaXN0cmF0aW9uOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UsXG4gICAgICAgIGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uXG4gICAgKTogRGVzaWduZXJQZWVycy5BY3Rpb25QZWVyXG59O1xuXG5jbGFzcyBEZXNpZ25lclBlZXJDYXRlZ29yeSB7XG4gICAgc3RhdGljIFVua25vd24gPSBcIlVua25vd25cIjtcbiAgICBzdGF0aWMgQ29udGFpbmVycyA9IFwiQ29udGFpbmVyc1wiO1xuICAgIHN0YXRpYyBFbGVtZW50cyA9IFwiRWxlbWVudHNcIjtcbiAgICBzdGF0aWMgSW5wdXRzID0gXCJJbnB1dHNcIjtcbiAgICBzdGF0aWMgQWN0aW9ucyA9IFwiQWN0aW9uc1wiO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGVzaWduZXJQZWVyUmVnaXN0cnk8VFNvdXJjZSwgVFBlZXI+IHtcbiAgICBwcm90ZWN0ZWQgX2l0ZW1zOiBBcnJheTxEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbjxUU291cmNlLCBUUGVlcj4+ID0gW107XG5cbiAgICByZWFkb25seSBkZWZhdWx0UmVnaXN0cmF0aW9uID0gbmV3IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uQmFzZShEZXNpZ25lclBlZXJDYXRlZ29yeS5Vbmtub3duLCBcImFjZC1pY29uLXVua25vd25QZWVyXCIpO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCByZXNldCgpO1xuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XG4gICAgfVxuXG4gICAgZmluZFR5cGVSZWdpc3RyYXRpb24oc291cmNlVHlwZTogVFNvdXJjZSk6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uPFRTb3VyY2UsIFRQZWVyPiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pdGVtc1tpXS5zb3VyY2VUeXBlID09PSBzb3VyY2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJQZWVyKHNvdXJjZVR5cGU6IFRTb3VyY2UsIHBlZXJUeXBlOiBUUGVlciwgY2F0ZWdvcnk6IHN0cmluZywgaWNvbkNsYXNzOiBzdHJpbmcgPSBudWxsKSB7XG4gICAgICAgIHZhciByZWdpc3RyYXRpb25JbmZvID0gdGhpcy5maW5kVHlwZVJlZ2lzdHJhdGlvbihzb3VyY2VUeXBlKTtcblxuICAgICAgICBpZiAocmVnaXN0cmF0aW9uSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICByZWdpc3RyYXRpb25JbmZvLnBlZXJUeXBlID0gcGVlclR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWdpc3RyYXRpb25JbmZvID0gbmV3IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uPFRTb3VyY2UsIFRQZWVyPiAoXG4gICAgICAgICAgICAgICAgc291cmNlVHlwZSxcbiAgICAgICAgICAgICAgICBwZWVyVHlwZSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3MpO1xuXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKHJlZ2lzdHJhdGlvbkluZm8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlclBlZXIoc291cmNlVHlwZTogVFNvdXJjZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXRlbXNbaV0uc291cmNlVHlwZSA9PT0gc291cmNlVHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnNwbGljZShpLCAxKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhcmRFbGVtZW50UGVlclJlZ2lzdHJ5IGV4dGVuZHMgRGVzaWduZXJQZWVyUmVnaXN0cnk8Q2FyZEVsZW1lbnRUeXBlLCBDYXJkRWxlbWVudFBlZXJUeXBlPiB7XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQsIERlc2lnbmVyUGVlcnMuQWRhcHRpdmVDYXJkUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQ29udGFpbmVycywgXCJhY2QtaWNvbi1hZGFwdGl2ZUNhcmRcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLkNvbnRhaW5lciwgRGVzaWduZXJQZWVycy5Db250YWluZXJQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5Db250YWluZXJzLCBcImFjZC1pY29uLWNvbnRhaW5lclwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuQ29sdW1uU2V0LCBEZXNpZ25lclBlZXJzLkNvbHVtblNldFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24tY29sdW1uU2V0XCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5Db2x1bW4sIERlc2lnbmVyUGVlcnMuQ29sdW1uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQ29udGFpbmVycywgXCJhY2QtaWNvbi1jb2x1bW5cIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLkltYWdlU2V0LCBEZXNpZ25lclBlZXJzLkltYWdlU2V0UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQ29udGFpbmVycywgXCJhY2QtaWNvbi1pbWFnZVNldFwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuRmFjdFNldCwgRGVzaWduZXJQZWVycy5GYWN0U2V0UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQ29udGFpbmVycywgXCJhY2QtaWNvbi1mYWN0U2V0XCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5UYWJsZSwgRGVzaWduZXJQZWVycy5UYWJsZVBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24tdGFibGVcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLlRhYmxlUm93LCBEZXNpZ25lclBlZXJzLlRhYmxlUm93UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQ29udGFpbmVycywgXCJhY2QtaWNvbi10YWJsZVJvd1wiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuVGFibGVDZWxsLCBEZXNpZ25lclBlZXJzLlRhYmxlQ2VsbFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24tdGFibGVDZWxsXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5DYXJvdXNlbCwgRGVzaWduZXJQZWVycy5DYXJvdXNlbFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24tY2Fyb3VzZWxcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLkNhcm91c2VsUGFnZSwgRGVzaWduZXJQZWVycy5DYXJvdXNlbFBhZ2VQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5Db250YWluZXJzLCBcImFjZC1pY29uLWNhcm91c2VsUGFnZVwiKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5UZXh0QmxvY2ssIERlc2lnbmVyUGVlcnMuVGV4dEJsb2NrUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuRWxlbWVudHMsIFwiYWNkLWljb24tdGV4dEJsb2NrXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5SaWNoVGV4dEJsb2NrLCBEZXNpZ25lclBlZXJzLlJpY2hUZXh0QmxvY2tQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5FbGVtZW50cywgXCJhY2QtaWNvbi1yaWNoVGV4dEJsb2NrXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5JbWFnZSwgRGVzaWduZXJQZWVycy5JbWFnZVBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkVsZW1lbnRzLCBcImFjZC1pY29uLWltYWdlXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5NZWRpYSwgRGVzaWduZXJQZWVycy5NZWRpYVBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkVsZW1lbnRzLCBcImFjZC1pY29uLW1lZGlhXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5BY3Rpb25TZXQsIERlc2lnbmVyUGVlcnMuQWN0aW9uU2V0UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuRWxlbWVudHMsIFwiYWNkLWljb24tYWN0aW9uU2V0XCIpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLlRleHRJbnB1dCwgRGVzaWduZXJQZWVycy5UZXh0SW5wdXRQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5JbnB1dHMsIFwiYWNkLWljb24taW5wdXRUZXh0XCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5EYXRlSW5wdXQsIERlc2lnbmVyUGVlcnMuRGF0ZUlucHV0UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuSW5wdXRzLCBcImFjZC1pY29uLWlucHV0RGF0ZVwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuVGltZUlucHV0LCBEZXNpZ25lclBlZXJzLlRpbWVJbnB1dFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LklucHV0cywgXCJhY2QtaWNvbi1pbnB1dFRpbWVcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLlRvZ2dsZUlucHV0LCBEZXNpZ25lclBlZXJzLlRvZ2dsZUlucHV0UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuSW5wdXRzLCBcImFjZC1pY29uLWlucHV0VG9nZ2xlXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5OdW1iZXJJbnB1dCwgRGVzaWduZXJQZWVycy5OdW1iZXJJbnB1dFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LklucHV0cywgXCJhY2QtaWNvbi1pbnB1dE51bWJlclwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuQ2hvaWNlU2V0SW5wdXQsIERlc2lnbmVyUGVlcnMuQ2hvaWNlU2V0SW5wdXRQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5JbnB1dHMsIFwiYWNkLWljb24taW5wdXRDaG9pY2VTZXRcIik7XG4gICAgfVxuXG4gICAgY3JlYXRlUGVlckluc3RhbmNlKGRlc2lnbmVyU3VyZmFjZTogQ2FyZERlc2lnbmVyU3VyZmFjZSwgcGFyZW50OiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciwgY2FyZEVsZW1lbnQ6IEFkYXB0aXZlLkNhcmRFbGVtZW50LCBpbml0aWFsaXplQ2FyZEVsZW1lbnQ/OiBib29sZWFuKTogRGVzaWduZXJQZWVycy5DYXJkRWxlbWVudFBlZXIge1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uSW5mbyA9IHRoaXMuZmluZFR5cGVSZWdpc3RyYXRpb24oKDxhbnk+Y2FyZEVsZW1lbnQpLmNvbnN0cnVjdG9yKTtcblxuICAgICAgICB2YXIgcGVlciA9IHJlZ2lzdHJhdGlvbkluZm8gP1xuICAgICAgICAgICAgbmV3IHJlZ2lzdHJhdGlvbkluZm8ucGVlclR5cGUocGFyZW50LCBkZXNpZ25lclN1cmZhY2UsIHJlZ2lzdHJhdGlvbkluZm8sIGNhcmRFbGVtZW50LCBpbml0aWFsaXplQ2FyZEVsZW1lbnQpIDpcbiAgICAgICAgICAgIG5ldyBEZXNpZ25lclBlZXJzLkNhcmRFbGVtZW50UGVlcihwYXJlbnQsIGRlc2lnbmVyU3VyZmFjZSwgdGhpcy5kZWZhdWx0UmVnaXN0cmF0aW9uLCBjYXJkRWxlbWVudCwgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gcGVlcjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QZWVyUmVnaXN0cnkgZXh0ZW5kcyBEZXNpZ25lclBlZXJSZWdpc3RyeTxBY3Rpb25UeXBlLCBBY3Rpb25QZWVyVHlwZT4ge1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuSHR0cEFjdGlvbiwgRGVzaWduZXJQZWVycy5IdHRwQWN0aW9uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQWN0aW9ucywgXCJhY2QtaWNvbi1hY3Rpb25IdHRwXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5TdWJtaXRBY3Rpb24sIERlc2lnbmVyUGVlcnMuU3VibWl0QWN0aW9uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQWN0aW9ucywgXCJhY2QtaWNvbi1hY3Rpb25TdWJtaXRcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLkV4ZWN1dGVBY3Rpb24sIERlc2lnbmVyUGVlcnMuRXhlY3V0ZUFjdGlvblBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkFjdGlvbnMsIFwiYWNkLWljb24tYWN0aW9uU3VibWl0XCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5PcGVuVXJsQWN0aW9uLCBEZXNpZ25lclBlZXJzLk9wZW5VcmxBY3Rpb25QZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5BY3Rpb25zLCBcImFjZC1pY29uLWFjdGlvbk9wZW5VcmxcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uLCBEZXNpZ25lclBlZXJzLlNob3dDYXJkQWN0aW9uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQWN0aW9ucywgXCJhY2QtaWNvbi1hY3Rpb25TaG93Q2FyZFwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuVG9nZ2xlVmlzaWJpbGl0eUFjdGlvbiwgRGVzaWduZXJQZWVycy5Ub2dnbGVWaXNpYmlsaXR5QWN0aW9uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQWN0aW9ucywgXCJhY2QtaWNvbi1hY3Rpb25Ub2dnbGVWaXNpYmlsaXR5XCIpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBlZXJJbnN0YW5jZShkZXNpZ25lclN1cmZhY2U6IENhcmREZXNpZ25lclN1cmZhY2UsIHBhcmVudDogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIsIGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uKTogRGVzaWduZXJQZWVycy5BY3Rpb25QZWVyIHtcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbkluZm8gPSB0aGlzLmZpbmRUeXBlUmVnaXN0cmF0aW9uKCg8YW55PmFjdGlvbikuY29uc3RydWN0b3IpO1xuXG4gICAgICAgIHZhciBwZWVyID0gcmVnaXN0cmF0aW9uSW5mbyA/IG5ldyByZWdpc3RyYXRpb25JbmZvLnBlZXJUeXBlKHBhcmVudCwgZGVzaWduZXJTdXJmYWNlLCByZWdpc3RyYXRpb25JbmZvLCBhY3Rpb24pIDogbmV3IERlc2lnbmVyUGVlcnMuQWN0aW9uUGVlcihwYXJlbnQsIGRlc2lnbmVyU3VyZmFjZSwgdGhpcy5kZWZhdWx0UmVnaXN0cmF0aW9uLCBhY3Rpb24pO1xuXG4gICAgICAgIHJldHVybiBwZWVyO1xuICAgIH1cbn1cblxuY2xhc3MgRHJhZ0hhbmRsZSBleHRlbmRzIERyYWdnYWJsZUVsZW1lbnQge1xuICAgIHByb3RlY3RlZCBpbnRlcm5hbFJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXBlZXJCdXR0b25cIiwgXCJhY2QtcGVlckJ1dHRvbi1pY29uXCIsIFwiZml4ZWRXaWR0aFwiLCBcImNpcmN1bGFyXCIsIFwiYWNkLWljb24tZHJhZ1wiKTtcbiAgICAgICAgZWxlbWVudC50aXRsZSA9IFwiRHJhZyB0byBtb3ZlIHRoaXMgZWxlbWVudFwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiNTAwXCI7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGVzaWduQ29udGV4dCB7XG4gICAgYWJzdHJhY3QgZ2V0IGhvc3RDb250YWluZXIoKTogSG9zdENvbnRhaW5lcjtcbiAgICBhYnN0cmFjdCBnZXQgdGFyZ2V0VmVyc2lvbigpOiBBZGFwdGl2ZS5WZXJzaW9uO1xuICAgIGFic3RyYWN0IGdldCBkYXRhU3RydWN0dXJlKCk6IEZpZWxkRGVmaW5pdGlvbjtcbiAgICBhYnN0cmFjdCBnZXQgaG9zdERhdGFTdHJ1Y3R1cmUoKTogRmllbGREZWZpbml0aW9uO1xuICAgIGFic3RyYWN0IGdldCBiaW5kaW5nUHJldmlld01vZGUoKTogQmluZGluZ1ByZXZpZXdNb2RlO1xuICAgIGFic3RyYWN0IGdldCBzYW1wbGVEYXRhKCk6IGFueTtcbiAgICBhYnN0cmFjdCBnZXQgc2FtcGxlSG9zdERhdGEoKTogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgQ2FyZERlc2lnbmVyU3VyZmFjZSB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGNhcmRFbGVtZW50UGVlclJlZ2lzdHJ5OiBDYXJkRWxlbWVudFBlZXJSZWdpc3RyeSA9IG5ldyBDYXJkRWxlbWVudFBlZXJSZWdpc3RyeSgpO1xuICAgIHN0YXRpYyByZWFkb25seSBhY3Rpb25QZWVyUmVnaXN0cnk6IEFjdGlvblBlZXJSZWdpc3RyeSA9IG5ldyBBY3Rpb25QZWVyUmVnaXN0cnkoKTtcblxuICAgIHByaXZhdGUgX3VwZGF0ZUNvdW50OiBudW1iZXIgPSAwO1xuXG4gICAgcHJpdmF0ZSBfY2FyZDogQWRhcHRpdmUuQWRhcHRpdmVDYXJkO1xuICAgIHByaXZhdGUgX2FsbFBlZXJzOiBBcnJheTxEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcj4gPSBbXTtcbiAgICBwcml2YXRlIF9yb290UGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXI7XG4gICAgcHJpdmF0ZSBfY2FyZEhvc3Q6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2Rlc2lnbmVyU3VyZmFjZTogSFRNTERpdkVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfc2VsZWN0ZWRQZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcjtcbiAgICBwcml2YXRlIF9kcmFnZ2VkUGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXI7XG4gICAgcHJpdmF0ZSBfZHJvcFRhcmdldDogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXI7XG4gICAgcHJpdmF0ZSBfZHJhZ0hhbmRsZTogRHJhZ0hhbmRsZTtcbiAgICBwcml2YXRlIF9yZW1vdmVDb21tYW5kRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX3NlcmlhbGl6YXRpb25Db250ZXh0OiBBZGFwdGl2ZS5TZXJpYWxpemF0aW9uQ29udGV4dDtcbiAgICBwcml2YXRlIF9pc1ByZXZpZXdNb2RlOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfZHJhZ1Zpc3VhbD86IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX3Nob3VsZFBlcnNpc3RTZWxlY3RlZEVsZW1lbnQgPSBmYWxzZTtcbiAgICBwcml2YXRlIF9wZXJzaXN0ZW50U2VsZWN0ZWRQZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcjtcbiAgICBwcml2YXRlIF9wZXJzaXN0ZW50U2VsZWN0ZWRDYXJkRWxlbWVudDogQ2FyZEVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIHVwZGF0ZVBlZXJDb21tYW5kc0xheW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkUGVlcikge1xuICAgICAgICAgICAgbGV0IHBlZXJSZWN0ID0gdGhpcy5fc2VsZWN0ZWRQZWVyLmdldEJvdW5kaW5nUmVjdCgpO1xuICAgICAgICAgICAgbGV0IGRyYWdIYW5kbGVSZWN0ID0gdGhpcy5fZHJhZ0hhbmRsZS5yZW5kZXJlZEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBsZXQgcmVtb3ZlQnV0dG9uUmVjdCA9IHRoaXMuX3JlbW92ZUNvbW1hbmRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLnJlbmRlcmVkRWxlbWVudC5zdHlsZS5sZWZ0ID0gKHBlZXJSZWN0LmxlZnQgLSBkcmFnSGFuZGxlUmVjdC53aWR0aCkgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLnJlbmRlcmVkRWxlbWVudC5zdHlsZS50b3AgPSAocGVlclJlY3QudG9wIC0gZHJhZ0hhbmRsZVJlY3QuaGVpZ2h0KSArIFwicHhcIjtcblxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuc3R5bGUubGVmdCA9IHBlZXJSZWN0LnJpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuc3R5bGUudG9wID0gKHBlZXJSZWN0LnRvcCAtIHJlbW92ZUJ1dHRvblJlY3QuaGVpZ2h0KSArIFwicHhcIjtcblxuICAgICAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuc3R5bGUubGVmdCA9IHBlZXJSZWN0LmxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5zdHlsZS50b3AgPSAocGVlclJlY3QuYm90dG9tICsgMikgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5zdHlsZS53aWR0aCA9IHBlZXJSZWN0LndpZHRoICsgXCJweFwiO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLnJlbmRlcmVkRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5fc2VsZWN0ZWRQZWVyLmlzRHJhZ2dhYmxlKCkgPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5fc2VsZWN0ZWRQZWVyLmNhbkJlUmVtb3ZlZCgpID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiO1xuICAgICAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LmNoaWxkRWxlbWVudENvdW50ID4gMCA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdIYW5kbGUucmVuZGVyZWRFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0U2VsZWN0ZWRQZWVyKHZhbHVlOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikge1xuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRQZWVyICE9IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRQZWVyLmlzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRQZWVyID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZFBlZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZFBlZXIuaXNTZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgY29tbWFuZHMgPSB0aGlzLl9zZWxlY3RlZFBlZXIuZ2V0Q29tbWFuZHModGhpcy5jb250ZXh0KTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbW1hbmQgb2YgY29tbWFuZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29tbWFuZC5yZW5kZXIoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBlZXJDb21tYW5kc0xheW91dCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkUGVlckNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2VsZWN0ZWRQZWVyQ2hhbmdlZCh0aGlzLl9zZWxlY3RlZFBlZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwZWVyQ2hhbmdlZChwZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciwgdXBkYXRlUHJvcGVydHlTaGVldDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnJlbmRlckNhcmQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcblxuICAgICAgICBpZiAodXBkYXRlUHJvcGVydHlTaGVldCAmJiB0aGlzLm9uU2VsZWN0ZWRQZWVyQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5vblNlbGVjdGVkUGVlckNoYW5nZWQodGhpcy5fc2VsZWN0ZWRQZWVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcGVlclJlbW92ZWQocGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpIHtcbiAgICAgICAgdGhpcy5fYWxsUGVlcnMuc3BsaWNlKHRoaXMuX2FsbFBlZXJzLmluZGV4T2YocGVlciksIDEpO1xuXG4gICAgICAgIGlmIChwZWVyID09IHRoaXMuX3NlbGVjdGVkUGVlcikge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlZXIobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdXBkYXRlQ291bnQgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJDYXJkKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUNhcmRUb1JlbmRlcihhc1ByZXZpZXc6IGJvb2xlYW4pOiBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQge1xuICAgICAgICBsZXQgY2FyZFRvUmVuZGVyOiBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQgPSB0aGlzLmNhcmQ7XG5cbiAgICAgICAgaWYgKGFzUHJldmlldykge1xuICAgICAgICAgICAgbGV0IGlucHV0UGF5bG9hZCA9IHRoaXMuY2FyZC50b0pTT04odGhpcy5fc2VyaWFsaXphdGlvbkNvbnRleHQpO1xuXG4gICAgICAgICAgICBjYXJkVG9SZW5kZXIgPSBuZXcgQWRhcHRpdmUuQWRhcHRpdmVDYXJkKCk7XG4gICAgICAgICAgICBjYXJkVG9SZW5kZXIuaG9zdENvbmZpZyA9IHRoaXMuY2FyZC5ob3N0Q29uZmlnO1xuXG4gICAgICAgICAgICBsZXQgb3V0cHV0UGF5bG9hZCA9IGlucHV0UGF5bG9hZDtcblxuICAgICAgICAgICAgaWYgKFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5lbmFibGVEYXRhQmluZGluZ1N1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGUgPSBuZXcgQUNEYXRhLlRlbXBsYXRlKGlucHV0UGF5bG9hZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2YWx1YXRpb25Db250ZXh0OiBBQ0RhdGEuSUV2YWx1YXRpb25Db250ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuYmluZGluZ1ByZXZpZXdNb2RlID09PSBCaW5kaW5nUHJldmlld01vZGUuU2FtcGxlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbHVhdGlvbkNvbnRleHQgPSB7ICRyb290OiB0aGlzLmNvbnRleHQuc2FtcGxlRGF0YSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGhvc3Q6IHRoaXMuY29udGV4dC5zYW1wbGVIb3N0RGF0YSBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uQ29udGV4dCA9IHsgJHJvb3Q6IHRoaXMuY29udGV4dC5kYXRhU3RydWN0dXJlLmRhdGFUeXBlLmdlbmVyYXRlU2FtcGxlRGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRob3N0OiB0aGlzLmNvbnRleHQuaG9zdERhdGFTdHJ1Y3R1cmUuZGF0YVR5cGUuZ2VuZXJhdGVTYW1wbGVEYXRhKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRQYXlsb2FkID0gdGVtcGxhdGUuZXhwYW5kKGV2YWx1YXRpb25Db250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUZW1wbGF0ZSBleHBhbnNpb24gZXJyb3I6IFwiICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhcmRUb1JlbmRlci5wYXJzZShvdXRwdXRQYXlsb2FkLCB0aGlzLl9zZXJpYWxpemF0aW9uQ29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FyZFRvUmVuZGVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQ2FyZCgpIHtcbiAgICAgICAgdGhpcy5fY2FyZEhvc3QuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgICAgICBpZiAodGhpcy5vbkNhcmRWYWxpZGF0ZWQpIHtcbiAgICAgICAgICAgIGxldCBhbGxWYWxpZGF0aW9uRXZlbnRzOiBBZGFwdGl2ZS5JVmFsaWRhdGlvbkV2ZW50W10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zZXJpYWxpemF0aW9uQ29udGV4dC5ldmVudENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBhbGxWYWxpZGF0aW9uRXZlbnRzLnB1c2godGhpcy5fc2VyaWFsaXphdGlvbkNvbnRleHQuZ2V0RXZlbnRBdChpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFsbFZhbGlkYXRpb25FdmVudHMucHVzaCguLi50aGlzLmNhcmQudmFsaWRhdGVQcm9wZXJ0aWVzKCkudmFsaWRhdGlvbkV2ZW50cyk7XG5cbiAgICAgICAgICAgIHRoaXMub25DYXJkVmFsaWRhdGVkKGFsbFZhbGlkYXRpb25FdmVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNhcmRUb1JlbmRlciA9IHRoaXMuZ2VuZXJhdGVDYXJkVG9SZW5kZXIodGhpcy5pc1ByZXZpZXdNb2RlKTtcblxuICAgICAgICBpZiAodGhpcy5pc1ByZXZpZXdNb2RlKSB7XG4gICAgICAgICAgICBjYXJkVG9SZW5kZXIub25FeGVjdXRlQWN0aW9uID0gKGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uVHlwZSA9IGFjdGlvbi5nZXRKc29uVHlwZU5hbWUoKTtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGBBY3Rpb24gZXhlY3V0ZWQ6IFwiJHthY3Rpb25UeXBlfVwiIHRpdGxlOiBcIiR7YWN0aW9uLnRpdGxlfVwiYDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmIgPSAoPEFkYXB0aXZlLkV4ZWN1dGVBY3Rpb24+YWN0aW9uKS52ZXJiO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYCB2ZXJiOiBcIiR7dmVyYn1cImA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGNhcm91c2VsUGFnZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByb290ID0gYWN0aW9uLmdldFJvb3RPYmplY3QoKSBhcyBBZGFwdGl2ZUNhcmQ7XG5cbiAgICAgICAgICAgICAgICBpZiAocm9vdCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb3QuZ2V0SXRlbUNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSByb290LmdldEl0ZW1BdChpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBDYXJvdXNlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcm91c2VsUGFnZUlkID0gZWxlbWVudC5jdXJyZW50UGFnZUlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNhcm91c2VsUGFnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFxcbmNhcm91c2VsIHBhZ2UgaWQ6IFwiJHtjYXJvdXNlbFBhZ2VJZH1cImA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gKDxBZGFwdGl2ZS5PcGVuVXJsQWN0aW9uPmFjdGlvbikudXJsO1xuICAgICAgICAgICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgXFxudXJsOiBcIiR7dXJsfVwiYDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gKDxBZGFwdGl2ZS5TdWJtaXRBY3Rpb25CYXNlPmFjdGlvbikuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGBcXG5TdWJtaXR0ZWQgZGF0YTogJHtKU09OLnN0cmluZ2lmeShkYXRhLCB1bmRlZmluZWQsIDQpfWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWxlcnQobWVzc2FnZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlbmRlcmVkQ2FyZCA9IGNhcmRUb1JlbmRlci5yZW5kZXIoKTtcblxuICAgICAgICBpZiAodGhpcy5fY2FyZEhvc3QuaW5uZXJIVE1MID09PSBcIlwiKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkSG9zdC5hcHBlbmRDaGlsZChyZW5kZXJlZENhcmQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5maXhlZEhlaWdodENhcmQpIHtcbiAgICAgICAgICAgIC8vIHRydW5jYXRlIHRoZSBjb250ZW50IGlmIHRoZSBob3N0IGNvbnRhaW5lciBpcyBmaXhlZCBoZWlnaHRcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUHJldmlld01vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0Lmhvc3RDb250YWluZXI/LnJlcXVpcmVzT3ZlcmZsb3dTdHlsaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRFcnJvck1lc3NhZ2UoU3RyaW5ncy53aWRnZXRPdmVyZmxvd1dhcm5pbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkQ2FyZC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmhvc3RDb250YWluZXI/LmFkanVzdFN0eWxlRm9yQmFja2dyb3VuZCgpO1xuICAgICAgICAgICAgcmVuZGVyZWRDYXJkLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiOyBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXBwZW5kRXJyb3JNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBsZXQgZXJyb3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWVycm9yLXBhbmUtbWVzc2FnZVwiO1xuXG4gICAgICAgIGVycm9yRWxlbWVudC5pbm5lclRleHQgPSBtZXNzYWdlO1xuICAgICAgICBlcnJvckVsZW1lbnQuc3R5bGUud2hpdGVTcGFjZSA9IFwibm9ybWFsXCI7XG5cbiAgICAgICAgY29uc3QgZXJyb3JQYW5lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclBhbmVcIik7XG4gICAgICAgIGVycm9yUGFuZS5hcHBlbmRDaGlsZChlcnJvckVsZW1lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkUGVlcihwZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciwgaW5zZXJ0QWZ0ZXJOZWlnaGJvcjogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbGxQZWVycy5pbmRleE9mKHBlZXIpIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5fYWxsUGVlcnMucHVzaChwZWVyKTtcblxuICAgICAgICAgICAgcGVlci5yZW5kZXIoKTtcblxuICAgICAgICAgICAgaWYgKHBlZXIgaW5zdGFuY2VvZiBEZXNpZ25lclBlZXJzLkNhcmRFbGVtZW50UGVlcikge1xuICAgICAgICAgICAgICAgIHBlZXIucmVuZGVyZWRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAgcGVlci5pc1Zpc2libGUoKSA/IFwiaW5pdGlhbFwiIDogXCJub25lXCI7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgY2FyZCBlbGVtZW50IHRoYXQgd2Ugd2FudCB0byBiZSBzZWxlY3RlZCBhZnRlciByZW5kZXJpbmcsIHNhdmUgdGhlIGNvcnJlc3BvbmRpbmcgcGVlclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wZXJzaXN0ZW50U2VsZWN0ZWRDYXJkRWxlbWVudCAmJiB0aGlzLl9wZXJzaXN0ZW50U2VsZWN0ZWRDYXJkRWxlbWVudCA9PT0gcGVlci5jYXJkRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wZXJzaXN0ZW50U2VsZWN0ZWRQZWVyID0gcGVlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVyc2lzdGVudFNlbGVjdGVkQ2FyZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGVlci5vblNlbGVjdGVkQ2hhbmdlZCA9IChwZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwZWVyLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlZXIocGVlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRQZWVyID09IHBlZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZWVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBlZXIub25DaGFuZ2VkID0gKHNlbmRlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIsIHVwZGF0ZVByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pID0+IHsgdGhpcy5wZWVyQ2hhbmdlZChzZW5kZXIsIHVwZGF0ZVByb3BlcnR5U2hlZXQpOyB9O1xuICAgICAgICAgICAgcGVlci5vblBlZXJSZW1vdmVkID0gKHNlbmRlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpID0+IHsgdGhpcy5wZWVyUmVtb3ZlZChzZW5kZXIpOyB9O1xuICAgICAgICAgICAgcGVlci5vblBlZXJBZGRlZCA9IChzZW5kZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyLCBuZXdQZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUGVlcihuZXdQZWVyLCBuZXdQZWVyLmluc2VydEFmdGVyTmVpZ2hib3IpO1xuXG4gICAgICAgICAgICAgICAgbmV3UGVlci5pbnNlcnRBZnRlck5laWdoYm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwZWVyLm9uU3RhcnREcmFnID0gKHNlbmRlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpID0+IHsgdGhpcy5zdGFydERyYWcoc2VuZGVyKTsgfVxuICAgICAgICAgICAgcGVlci5vbkVuZERyYWcgPSAoc2VuZGVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikgPT4geyB0aGlzLmVuZERyYWcoZmFsc2UpOyB9XG5cbiAgICAgICAgICAgIGlmIChpbnNlcnRBZnRlck5laWdoYm9yKSB7XG4gICAgICAgICAgICAgICAgcGVlci5hZGRFbGVtZW50c1RvRGVzaWduZXJTdXJmYWNlKHRoaXMuX2Rlc2lnbmVyU3VyZmFjZSwgdGhpcy5nZXRQZWVyRE9NTmVpZ2hib3IocGVlcikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWVyLmFkZEVsZW1lbnRzVG9EZXNpZ25lclN1cmZhY2UodGhpcy5fZGVzaWduZXJTdXJmYWNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZWVyLmdldENoaWxkQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQZWVyKHBlZXIuZ2V0Q2hpbGRBdChpKSwgaW5zZXJ0QWZ0ZXJOZWlnaGJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGludGVybmFsRmluZERyb3BUYXJnZXQocG9pbnRlclBvc2l0aW9uOiBJUG9pbnQsIGN1cnJlbnRQZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciwgZm9yUGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciB7XG4gICAgICAgIGlmIChjdXJyZW50UGVlciA9PSBmb3JQZWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQ6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyID0gbnVsbDtcbiAgICAgICAgdmFyIGxvb2tEZWVwZXIgPSBjdXJyZW50UGVlciBpbnN0YW5jZW9mIERlc2lnbmVyUGVlcnMuQWN0aW9uUGVlcjtcblxuICAgICAgICBpZiAoIWxvb2tEZWVwZXIgJiYgKGN1cnJlbnRQZWVyIGFzIERlc2lnbmVyUGVlcnMuQ2FyZEVsZW1lbnRQZWVyKT8uaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgIHZhciBib3VuZGluZ1JlY3QgPSBjdXJyZW50UGVlci5nZXRCb3VuZGluZ1JlY3QoKTtcblxuICAgICAgICAgICAgbG9va0RlZXBlciA9IGJvdW5kaW5nUmVjdC5pc0luc2lkZShwb2ludGVyUG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvb2tEZWVwZXIpIHtcbiAgICAgICAgICAgIGxldCBjYW5Ecm9wID0gY3VycmVudFBlZXIuY2FuRHJvcChmb3JQZWVyKTtcblxuICAgICAgICAgICAgaWYgKGNhbkRyb3ApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjdXJyZW50UGVlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50UGVlci5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZWVwZXJSZXN1bHQgPSB0aGlzLmludGVybmFsRmluZERyb3BUYXJnZXQocG9pbnRlclBvc2l0aW9uLCBjdXJyZW50UGVlci5nZXRDaGlsZEF0KGkpLCBmb3JQZWVyKTtcblxuICAgICAgICAgICAgICAgIGlmIChkZWVwZXJSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVlcGVyUmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kQ2FyZEVsZW1lbnRQZWVyKGNhcmRFbGVtZW50OiBBZGFwdGl2ZS5DYXJkRWxlbWVudCk6IERlc2lnbmVyUGVlcnMuQ2FyZEVsZW1lbnRQZWVyIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hbGxQZWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBlZXIgPSB0aGlzLl9hbGxQZWVyc1tpXTtcblxuICAgICAgICAgICAgaWYgKHBlZXIgaW5zdGFuY2VvZiBEZXNpZ25lclBlZXJzLkNhcmRFbGVtZW50UGVlciAmJiBwZWVyLmNhcmRFbGVtZW50ID09IGNhcmRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbmRBY3Rpb25QZWVyKGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uKTogRGVzaWduZXJQZWVycy5BY3Rpb25QZWVyIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hbGxQZWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBlZXIgPSB0aGlzLl9hbGxQZWVyc1tpXTtcblxuICAgICAgICAgICAgaWYgKHBlZXIgaW5zdGFuY2VvZiBEZXNpZ25lclBlZXJzLkFjdGlvblBlZXIgJiYgcGVlci5hY3Rpb24gPT0gYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlubGluZUNhcmRFeHBhbmRlZChhY3Rpb246IEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uLCBpc0V4cGFuZGVkOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBwZWVyID0gdGhpcy5maW5kQ2FyZEVsZW1lbnRQZWVyKGFjdGlvbi5jYXJkKTtcblxuICAgICAgICBpZiAoaXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgaWYgKCFwZWVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlZ2lzdHJhdGlvbiA9IENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuZmluZFR5cGVSZWdpc3RyYXRpb24oQWRhcHRpdmUuQWRhcHRpdmVDYXJkKTtcblxuICAgICAgICAgICAgICAgIHBlZXIgPSBuZXcgcmVnaXN0cmF0aW9uLnBlZXJUeXBlKHBlZXIsIHRoaXMsIHJlZ2lzdHJhdGlvbiwgYWN0aW9uLmNhcmQpO1xuICAgICAgICAgICAgICAgIHBlZXIuaW5zZXJ0QWZ0ZXJOZWlnaGJvciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50UGVlciA9IHRoaXMuZmluZEFjdGlvblBlZXIoYWN0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRQZWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFBlZXIuaW5zZXJ0Q2hpbGQocGVlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290UGVlci5pbnNlcnRDaGlsZChwZWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWVyLmFkZEVsZW1lbnRzVG9EZXNpZ25lclN1cmZhY2UodGhpcy5fZGVzaWduZXJTdXJmYWNlLCB0aGlzLmdldFBlZXJET01OZWlnaGJvcihwZWVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocGVlcikge1xuICAgICAgICAgICAgICAgIHBlZXIucmVtb3ZlRWxlbWVudHNGcm9tRGVzaWduZXJTdXJmYWNlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBjYXJkKCk6IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0RHJhZ2dlZFBlZXIodmFsdWU6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9kcmFnZ2VkUGVlciAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RyYWdnZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZFBlZXIuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZFBlZXIgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2RyYWdnZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZFBlZXIuZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgY29udGV4dDogRGVzaWduQ29udGV4dCkge1xuICAgICAgICB0aGlzLl9zZXJpYWxpemF0aW9uQ29udGV4dCA9IHRoaXMuY29udGV4dC5ob3N0Q29udGFpbmVyLmNyZWF0ZVNlcmlhbGl6YXRpb25Db250ZXh0KHRoaXMuY29udGV4dC50YXJnZXRWZXJzaW9uKTtcblxuICAgICAgICB2YXIgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByb290RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgcm9vdEVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgcm9vdEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG5cbiAgICAgICAgdGhpcy5fY2FyZEhvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9jYXJkSG9zdC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcblxuICAgICAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9jYXJkSG9zdCk7XG5cbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLmNsYXNzTGlzdC5hZGQoXCJhY2QtZGVzaWduZXJzdXJmYWNlXCIpO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UudGFiSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG5cbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLm9ua2V5dXAgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkUGVlcikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy5lc2NhcGU6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2VkUGVlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kRHJhZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZWVyKHRoaXMuX3NlbGVjdGVkUGVlci5wYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy5iYWNrc3BhY2U6XHRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy5kZWxldGU6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ2dlZFBlZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50cy5rZXlzLmVudGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkUGVlciBpbnN0YW5jZW9mIERlc2lnbmVyUGVlcnMuQWN0aW9uUGVlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkUGVlci5hY3Rpb24ucmVuZGVyZWRFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICFlLmNhbmNlbEJ1YmJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5vbnBvaW50ZXJtb3ZlID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNsaWVudFJlY3QgPSB0aGlzLl9kZXNpZ25lclN1cmZhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5oYXNQb2ludGVyQ2FwdHVyZSAmJiAhdGhpcy5fZGVzaWduZXJTdXJmYWNlLmhhc1BvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ1Zpc3VhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLnN0eWxlLnBhZGRpbmcgPSBcIjZweFwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLnN0eWxlLm9wYWNpdHkgPSBcIjAuNlwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLnN0eWxlLmJveFNoYWRvdyA9IFwiMCAwIDE1cHggLTVweCByZ2JhKDAsIDAsIDAsIDAuNClcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5zdHlsZS5ib3hTaXppbmcgPSBcImNvbnRlbnQtYm94XCI7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5hcHBlbmRDaGlsZCh0aGlzLmRyYWdnZWRQZWVyLmdldENhcmRPYmplY3QoKS5yZW5kZXJlZEVsZW1lbnQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2RyYWdWaXN1YWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkUG9pbnQgPSBVdGlscy5hZGp1c3RQb2ludEZvclNjcm9sbChlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLnN0eWxlLmxlZnQgPSAoYWRqdXN0ZWRQb2ludC54IC0gNikgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5zdHlsZS50b3AgPSAoYWRqdXN0ZWRQb2ludC55IC0gNikgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICBsZXQgcmVuZGVyZWRDYXJkT2JqZWN0UmVjdCA9IHRoaXMuZHJhZ2dlZFBlZXIuZ2V0Q2FyZE9iamVjdCgpLnJlbmRlcmVkRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwuc3R5bGUud2lkdGggPSByZW5kZXJlZENhcmRPYmplY3RSZWN0LndpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwuc3R5bGUuaGVpZ2h0ID0gcmVuZGVyZWRDYXJkT2JqZWN0UmVjdC5oZWlnaHQgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIGRyYWdnaW5nIG9uIGEgbmV3IGVsZW1lbnQsIHdlIHNldCB0aGUgekluZGV4IGhpZ2hlciBzbyB0aGF0IGl0IGlzIGFsd2F5cyB2aXNpYmxlXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5zdHlsZS56SW5kZXggPSBcIjUwMFwiO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50cnlEcm9wKHsgeDogZS54IC0gY2xpZW50UmVjdC5sZWZ0LCB5OiBlLnkgLSBjbGllbnRSZWN0LnRvcCB9LCB0aGlzLmRyYWdnZWRQZWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5vbnBvaW50ZXJ1cCA9IChlOiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2VkUGVlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kRHJhZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9kZXNpZ25lclN1cmZhY2UpO1xuXG4gICAgICAgIHRoaXMuY29udGV4dC5ob3N0Q29udGFpbmVyLmNhcmRIb3N0LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHRoaXMuY29udGV4dC5ob3N0Q29udGFpbmVyLmNhcmRIb3N0LmFwcGVuZENoaWxkKHJvb3RFbGVtZW50KTtcblxuICAgICAgICB0aGlzLl9jYXJkID0gbmV3IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCgpO1xuICAgICAgICB0aGlzLl9jYXJkLm9uSW5saW5lQ2FyZEV4cGFuZGVkID0gKGFjdGlvbjogQWRhcHRpdmUuU2hvd0NhcmRBY3Rpb24sIGlzRXhwYW5kZWQ6IGJvb2xlYW4pID0+IHsgdGhpcy5pbmxpbmVDYXJkRXhwYW5kZWQoYWN0aW9uLCBpc0V4cGFuZGVkKTsgfTtcbiAgICAgICAgdGhpcy5fY2FyZC5vblByZVByb2Nlc3NQcm9wZXJ0eVZhbHVlID0gKHNlbmRlcjogQWRhcHRpdmUuQ2FyZE9iamVjdCwgcHJvcGVydHk6IEFkYXB0aXZlLlByb3BlcnR5RGVmaW5pdGlvbiwgdmFsdWU6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5lbmFibGVEYXRhQmluZGluZ1N1cHBvcnQgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHRoaXMuY29udGV4dC5zYW1wbGVEYXRhICYmIHRoaXMuY29udGV4dC5iaW5kaW5nUHJldmlld01vZGUgIT09IEJpbmRpbmdQcmV2aWV3TW9kZS5Ob1ByZXZpZXcpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXhwcmVzc2lvbiA9IEFDRGF0YS5UZW1wbGF0ZS5wYXJzZUludGVycG9sYXRlZFN0cmluZyh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4cHJlc3Npb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cHJlc3Npb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXZhbHVhdGlvbkNvbnRleHQ6IEFDRGF0YS5JRXZhbHVhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC5iaW5kaW5nUHJldmlld01vZGUgPT09IEJpbmRpbmdQcmV2aWV3TW9kZS5TYW1wbGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uQ29udGV4dCA9IHsgJHJvb3Q6IHRoaXMuY29udGV4dC5zYW1wbGVEYXRhLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaG9zdDogdGhpcy5jb250ZXh0LnNhbXBsZUhvc3REYXRhIFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWx1YXRpb25Db250ZXh0ID0geyAkcm9vdDogdGhpcy5jb250ZXh0LmRhdGFTdHJ1Y3R1cmUuZGF0YVR5cGUuZ2VuZXJhdGVTYW1wbGVEYXRhKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGhvc3Q6IHRoaXMuY29udGV4dC5ob3N0RGF0YVN0cnVjdHVyZS5kYXRhVHlwZS5nZW5lcmF0ZVNhbXBsZURhdGEoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBldmFsdWF0aW9uUmVzdWx0ID0gQUNEYXRhLlRlbXBsYXRlLnRyeUV2YWx1YXRlRXhwcmVzc2lvbihleHByZXNzaW9uLCBldmFsdWF0aW9uQ29udGV4dCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBldmFsdWF0aW9uUmVzdWx0LnZhbHVlID09PSBcInN0cmluZ1wiID8gZXZhbHVhdGlvblJlc3VsdC52YWx1ZSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jYXJkLnZlcnNpb24gPSB0aGlzLmNvbnRleHQudGFyZ2V0VmVyc2lvbjtcbiAgICAgICAgdGhpcy5fY2FyZC5ob3N0Q29uZmlnID0gdGhpcy5jb250ZXh0Lmhvc3RDb250YWluZXIuZ2V0SG9zdENvbmZpZygpO1xuICAgICAgICB0aGlzLl9jYXJkLmRlc2lnbk1vZGUgPSB0cnVlO1xuXG4gICAgICAgIEFkYXB0aXZlLkFkYXB0aXZlQ2FyZC5vbkNhcm91c2VsRXZlbnQgPSAoZTogQWRhcHRpdmUuQ2Fyb3VzZWxFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1ByZXZpZXdNb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgb25DYXJkVmFsaWRhdGVkOiAobG9nRW50cmllczogQWRhcHRpdmUuSVZhbGlkYXRpb25FdmVudFtdKSA9PiB2b2lkO1xuICAgIG9uU2VsZWN0ZWRQZWVyQ2hhbmdlZDogKHBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSA9PiB2b2lkO1xuICAgIG9uTGF5b3V0VXBkYXRlZDogKGlzRnVsbFJlZnJlc2g6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgICBmaXhlZEhlaWdodENhcmQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldERlc2lnbmVyU3VyZmFjZU9mZnNldCgpOiBJUG9pbnQge1xuICAgICAgICBsZXQgY2xpZW50UmVjdCA9IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4geyB4OiBjbGllbnRSZWN0LmxlZnQsIHk6IGNsaWVudFJlY3QudG9wIH07XG4gICAgfVxuXG4gICAgZmluZERyb3BUYXJnZXQocG9pbnRlclBvc2l0aW9uOiBJUG9pbnQsIHBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKTogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEZpbmREcm9wVGFyZ2V0KHBvaW50ZXJQb3NpdGlvbiwgdGhpcy5fcm9vdFBlZXIsIHBlZXIpO1xuICAgIH1cblxuICAgIGZpbmRQZWVyKGNhcmRPYmplY3Q6IEFkYXB0aXZlLkNhcmRPYmplY3QpIHtcbiAgICAgICAgZm9yIChsZXQgcGVlciBvZiB0aGlzLl9hbGxQZWVycykge1xuICAgICAgICAgICAgaWYgKHBlZXIuZ2V0Q2FyZE9iamVjdCgpID09PSBjYXJkT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGJlZ2luVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl91cGRhdGVDb3VudCsrO1xuICAgIH1cblxuICAgIGVuZFVwZGF0ZShyZW5kZXJDYXJkOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvdW50LS07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl91cGRhdGVDb3VudCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlckNhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYXJkKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2FsbFBlZXJzID0gW107XG5cbiAgICAgICAgLy8gSWYgd2Ugd2FudCB0byBoYXZlIHRoZSBzYW1lIHBlZXIgc2VsZWN0ZWQgYWZ0ZXIgcmVuZGVyaW5nIHRoZSBjYXJkLFxuICAgICAgICAvLyBzdG9yZSB0aGUgY3VycmVudCBzZWxlY3RlZCBwZWVyJ3MgY2FyZCBlbGVtZW50IGJlZm9yZSB0aGUgcGVlcnMgcmVjcmVhdGVkXG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRQZXJzaXN0U2VsZWN0ZWRFbGVtZW50ICYmIHRoaXMuX3NlbGVjdGVkUGVlciAmJiB0aGlzLl9zZWxlY3RlZFBlZXIgaW5zdGFuY2VvZiBEZXNpZ25lclBlZXJzLkNhcmRFbGVtZW50UGVlcikge1xuICAgICAgICAgICAgdGhpcy5fcGVyc2lzdGVudFNlbGVjdGVkQ2FyZEVsZW1lbnQgPSB0aGlzLl9zZWxlY3RlZFBlZXIuY2FyZEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLl9zaG91bGRQZXJzaXN0U2VsZWN0ZWRFbGVtZW50ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFNlbGVjdGVkUGVlcihudWxsKTtcblxuICAgICAgICB0aGlzLnJlbmRlckNhcmQoKTtcblxuICAgICAgICB0aGlzLl9yb290UGVlciA9IENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKHRoaXMsIG51bGwsIHRoaXMuY2FyZCk7XG5cbiAgICAgICAgdGhpcy5hZGRQZWVyKHRoaXMuX3Jvb3RQZWVyKTtcblxuICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX3JlbW92ZUNvbW1hbmRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtcGVlckJ1dHRvblwiLCBcImFjZC1wZWVyQnV0dG9uLWljb25cIiwgXCJmaXhlZFdpZHRoXCIsIFwiY2lyY3VsYXJcIiwgXCJhY2QtaWNvbi1yZW1vdmVcIik7XG4gICAgICAgIHRoaXMuX3JlbW92ZUNvbW1hbmRFbGVtZW50LnRpdGxlID0gXCJSZW1vdmVcIjtcbiAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIHRoaXMuX3JlbW92ZUNvbW1hbmRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudC5zdHlsZS56SW5kZXggPSBcIjUwMFwiO1xuICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RyYWdIYW5kbGUgPSBuZXcgRHJhZ0hhbmRsZSgpO1xuICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLm9uU3RhcnREcmFnID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ0hhbmRsZS5lbmREcmFnKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZyh0aGlzLl9zZWxlY3RlZFBlZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYWdIYW5kbGUucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImZsZXgtZW5kXCI7XG4gICAgICAgIHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiNTAwXCI7XG4gICAgICAgIHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcblxuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuYXBwZW5kQ2hpbGQodGhpcy5fZHJhZ0hhbmRsZS5yZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuYXBwZW5kQ2hpbGQodGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuYXBwZW5kQ2hpbGQodGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBlcnNpc3RlbnQgc2VsZWN0ZWQgcGVlciwgc2VsZWN0IHRoZSBwZWVyXG4gICAgICAgIC8vIFdlIHNob3VsZCBvbmx5IHJlYWNoIHRoaXMgcG9pbnQgaXMgX3Nob3VsZFBlcnNpc3RTZWxlY3RlZEVsZW1lbnQgPSB0cnVlIHByaW9yIHRvIHJlbmRlcmluZyB0aGUgY2FyZFxuICAgICAgICBpZiAodGhpcy5fcGVyc2lzdGVudFNlbGVjdGVkUGVlcikge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlZXIodGhpcy5fcGVyc2lzdGVudFNlbGVjdGVkUGVlcik7XG4gICAgICAgICAgICB0aGlzLl9wZXJzaXN0ZW50U2VsZWN0ZWRQZWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENhcmRQYXlsb2FkQXNPYmplY3QoKTogb2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZC50b0pTT04odGhpcy5fc2VyaWFsaXphdGlvbkNvbnRleHQpO1xuICAgIH1cblxuICAgIHNldENhcmRQYXlsb2FkQXNPYmplY3QocGF5bG9hZDogb2JqZWN0KSB7XG4gICAgICAgIHRoaXMuX3NlcmlhbGl6YXRpb25Db250ZXh0LmNsZWFyRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5jYXJkLnBhcnNlKHBheWxvYWQsIHRoaXMuX3NlcmlhbGl6YXRpb25Db250ZXh0KTtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHNldENhcmRQYXlsb2FkQXNTdHJpbmcocGF5bG9hZDogc3RyaW5nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkQXNPYmplY3QoSlNPTi5wYXJzZShwYXlsb2FkKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgSlNPTiBzdHJpbmcuIFwiICsgZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRCb3VuZENhcmRQYXlsb2FkQXNPYmplY3QoKTogb2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVDYXJkVG9SZW5kZXIodHJ1ZSkudG9KU09OKHRoaXMuX3NlcmlhbGl6YXRpb25Db250ZXh0KTtcbiAgICB9XG5cbiAgICB1cGRhdGVMYXlvdXQoaXNGdWxsUmVmcmVzaDogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzUHJldmlld01vZGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYWxsUGVlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGxQZWVyc1tpXS51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51cGRhdGVQZWVyQ29tbWFuZHNMYXlvdXQoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25MYXlvdXRVcGRhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkxheW91dFVwZGF0ZWQoaXNGdWxsUmVmcmVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVTZWxlY3RlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRQZWVyKSB7XG4gICAgICAgICAgICB0aGlzLmJlZ2luVXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMuc2VsZWN0ZWRQZWVyLnBhcmVudDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUGVlci5yZW1vdmUoZmFsc2UsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZWVyKHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kVXBkYXRlKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgcmVtb3ZlZCBhIENhcm91c2VsIHBhZ2UsIHdlIG5lZWQgcmVuZGVyIHRoZSBkZXNpZ25lciBzdXJmYWNlIGFnYWluXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRQZWVyIGluc3RhbmNlb2YgRGVzaWduZXJQZWVycy5DYXJvdXNlbFBlZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuc2VsZWN0ZWRQZWVyLmNhcmRFbGVtZW50IGFzIENhcm91c2VsKS5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU3RhcnREcmFnOiAoc2VuZGVyOiBDYXJkRGVzaWduZXJTdXJmYWNlKSA9PiB2b2lkO1xuICAgIG9uRW5kRHJhZzogKHNlbmRlcjogQ2FyZERlc2lnbmVyU3VyZmFjZSwgd2FzQ2FuY2VsbGVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gICAgc3RhcnREcmFnKHBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIGlmICghdGhpcy5kcmFnZ2VkUGVlcikge1xuICAgICAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLmNsYXNzTGlzdC5hZGQoXCJkcmFnZ2luZ1wiKTtcblxuICAgICAgICAgICAgdGhpcy5zZXREcmFnZ2VkUGVlcihwZWVyKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZWVyKHRoaXMuZHJhZ2dlZFBlZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vblN0YXJ0RHJhZykge1xuICAgICAgICAgICAgICAgIHRoaXMub25TdGFydERyYWcodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnKHdhc0NhbmNlbGxlZDogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2VkUGVlcikge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGRyYWdnZWQgcGVlcidzIGVsZW1lbnRzIGFyZSBhdCB0aGUgdG9wIGluIFogb3JkZXJcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dlZFBlZXIucmVtb3ZlRWxlbWVudHNGcm9tRGVzaWduZXJTdXJmYWNlKHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmRyYWdnZWRQZWVyLmFkZEVsZW1lbnRzVG9EZXNpZ25lclN1cmZhY2UodGhpcy5fZGVzaWduZXJTdXJmYWNlLCB0aGlzLmdldFBlZXJET01OZWlnaGJvcih0aGlzLl9kcmFnZ2VkUGVlcikpO1xuXG4gICAgICAgICAgICB0aGlzLl9kcm9wVGFyZ2V0LnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ292ZXJcIik7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWw/LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZHJhZ1Zpc3VhbCk7XG4gICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0aGlzLnNldERyYWdnZWRQZWVyKG51bGwpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkVuZERyYWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRW5kRHJhZyh0aGlzLCB3YXNDYW5jZWxsZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuY2xhc3NMaXN0LnJlbW92ZShcImRyYWdnaW5nXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmluZCB0aGUgZWxlbWVudCBkaXJlY3RseSBhYm92ZSB0aGUgZHJhZ2dlZCBlbGVtZW50XG4gICAgZ2V0UGVlckRPTU5laWdoYm9yKHBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBpZiAocGVlci5wYXJlbnQpIHtcbiAgICAgICAgICAgIGxldCBuZWlnaGJvcmluZ1BlZXIgPSBwZWVyLnBhcmVudDtcbiAgICAgICAgICAgIGlmIChuZWlnaGJvcmluZ1BlZXIgaW5zdGFuY2VvZiBEZXNpZ25lclBlZXJzLkFjdGlvblNldFBlZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBBIG5ldyBhY3Rpb24gaXMgYmVpbmcgYWRkZWQgdG8gYW4gQWN0aW9uU2V0LCBzbyB3ZSBjYW4gYWRkIHRoZSBBY3Rpb25QZWVyIGFzIHRoZSBsYXN0IGNoaWxkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gbmVpZ2hib3JpbmdQZWVyLmdldENoaWxkQ291bnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgMiBiZWNhdXNlIHRoZSBjaGlsZCBjb3VudCBhbHJlYWR5IGluY2x1ZGVzIHRoZSBhY3Rpb24gYmVpbmcgY3VycmVudGx5IGFkZGVkXG4gICAgICAgICAgICAgICAgICAgIG5laWdoYm9yaW5nUGVlciA9IG5laWdoYm9yaW5nUGVlci5nZXRDaGlsZEF0KGNoaWxkQ291bnQgLSAyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmVpZ2hib3JpbmdQZWVyIGluc3RhbmNlb2YgRGVzaWduZXJQZWVycy5BY3Rpb25QZWVyKSB7XG4gICAgICAgICAgICAgICAgLy8gbmVpZ2hib3JpbmdQZWVyIHNob3VsZCBiZSB0aGUgcGFyZW50IHNvIHdlIGNhbiBnZXQgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgYWN0aW9uU2V0XG4gICAgICAgICAgICAgICAgbmVpZ2hib3JpbmdQZWVyID0gbmVpZ2hib3JpbmdQZWVyLnBhcmVudDtcbiAgICAgICAgICAgICAgICBuZWlnaGJvcmluZ1BlZXIgPSBuZWlnaGJvcmluZ1BlZXIuZ2V0Q2hpbGRBdChuZWlnaGJvcmluZ1BlZXIuZ2V0Q2hpbGRDb3VudCgpIC0gMSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGVlciBpbnN0YW5jZW9mIERlc2lnbmVyUGVlcnMuQ2FyZEVsZW1lbnRQZWVyKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBwZWVyIHdpdGhpbiBpdHMgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVlckluZGV4ID0gcGVlci5jYXJkRWxlbWVudC5pbmRleDtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCBpcyBub3QgdGhlIGZpcnN0IGVsZW1lbnQsIGZpbmQgdGhlIG5laWdoYm9yXG4gICAgICAgICAgICAgICAgaWYgKHBlZXJJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3JpbmdQZWVyID0gbmVpZ2hib3JpbmdQZWVyLmdldENoaWxkQXQocGVlckluZGV4IC0gMSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBuZWlnaGJvciBoYXMgY2hpbGRyZW4gKGkuZS4gaGFzIGVsZW1lbnRzIGJlbG93IGl0IGluIHRoZSBodG1sIHRyZWUpLCBmaW5kIGl0cyBsYXN0IGNoaWxkXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZWlnaGJvcmluZ1BlZXIuZ2V0Q2hpbGRDb3VudCgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3JpbmdQZWVyID0gdGhpcy5nZXRMYXN0UGVlckluQ29udGFpbmVyKG5laWdoYm9yaW5nUGVlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZWlnaGJvcmluZ1BlZXIucmVuZGVyZWRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB1bmRlZmluZWQgaWYgdGhlcmUgaXMgbm8gcGFyZW50XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gUmVjdXJzaXZlIG1ldGhvZCB0byBmaW5kIGEgY29udGFpbmVycyBsYXN0IGVsZW1lbnRcbiAgICBnZXRMYXN0UGVlckluQ29udGFpbmVyKHBhcmVudENvbnRhaW5lcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciB7XG4gICAgICAgIGxldCBsYXN0Q2hpbGRQZWVyID0gcGFyZW50Q29udGFpbmVyLmdldENoaWxkQXQocGFyZW50Q29udGFpbmVyLmdldENoaWxkQ291bnQoKSAtIDEpO1xuICAgICAgICBpZiAobGFzdENoaWxkUGVlci5nZXRDaGlsZENvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICBsYXN0Q2hpbGRQZWVyID0gdGhpcy5nZXRMYXN0UGVlckluQ29udGFpbmVyKGxhc3RDaGlsZFBlZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYXN0Q2hpbGRQZWVyO1xuICAgIH1cblxuICAgIHRyeURyb3AocG9pbnRlclBvc2l0aW9uOiBJUG9pbnQsIHBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChwZWVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BUYXJnZXQucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnb3ZlclwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5ld0Ryb3BUYXJnZXQgPSB0aGlzLmZpbmREcm9wVGFyZ2V0KHBvaW50ZXJQb3NpdGlvbiwgcGVlcik7XG5cbiAgICAgICAgICAgIGlmIChuZXdEcm9wVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFRhcmdldCA9IG5ld0Ryb3BUYXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFRhcmdldC5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRyYWdvdmVyXCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BUYXJnZXQudHJ5RHJvcChwZWVyLCBwb2ludGVyUG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzUG9pbnRlck92ZXIoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGNsaWVudFJlY3QgPSB0aGlzLl9kZXNpZ25lclN1cmZhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuICh4ID49IGNsaWVudFJlY3QubGVmdCkgJiYgKHggPD0gY2xpZW50UmVjdC5yaWdodCkgJiYgKHkgPj0gY2xpZW50UmVjdC50b3ApICYmICh5IDw9IGNsaWVudFJlY3QuYm90dG9tKTtcbiAgICB9XG5cbiAgICBwYWdlVG9DbGllbnRDb29yZGluYXRlcyh4OiBudW1iZXIsIHk6IG51bWJlcik6IElQb2ludCB7XG4gICAgICAgIGxldCBjbGllbnRSZWN0ID0gdGhpcy5fZGVzaWduZXJTdXJmYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4IC0gY2xpZW50UmVjdC5sZWZ0LFxuICAgICAgICAgICAgeTogeSAtIGNsaWVudFJlY3QudG9wXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgcm9vdFBlZXIoKTogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdFBlZXI7XG4gICAgfVxuXG4gICAgZ2V0IHNlbGVjdGVkUGVlcigpOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZFBlZXI7XG4gICAgfVxuXG4gICAgZ2V0IGRyYWdnZWRQZWVyKCk6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RyYWdnZWRQZWVyO1xuICAgIH1cblxuICAgIGdldCBpc1ByZXZpZXdNb2RlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNQcmV2aWV3TW9kZTtcbiAgICB9XG5cbiAgICBzZXQgaXNQcmV2aWV3TW9kZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5faXNQcmV2aWV3TW9kZSAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faXNQcmV2aWV3TW9kZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNQcmV2aWV3TW9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5jbGFzc0xpc3QuYWRkKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jYXJkLmRlc2lnbk1vZGUgPSAhdGhpcy5faXNQcmV2aWV3TW9kZTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJDYXJkKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQgc2hvdWxkUGVyc2lzdFNlbGVjdGVkRWxlbWVudChzaG91bGRQZXJzaXN0U2VsZWN0ZWRFbGVtZW50OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3Nob3VsZFBlcnNpc3RTZWxlY3RlZEVsZW1lbnQgPSBzaG91bGRQZXJzaXN0U2VsZWN0ZWRFbGVtZW50O1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQ2xpcGJvYXJkIGZyb20gXCJjbGlwYm9hcmRcIjtcbmltcG9ydCAqIGFzIEFkYXB0aXZlIGZyb20gXCJhZGFwdGl2ZWNhcmRzXCI7XG5pbXBvcnQgKiBhcyBtb25hY28gZnJvbSBcIm1vbmFjby1lZGl0b3JcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCAqIGFzIERlc2lnbmVyIGZyb20gXCIuL2NhcmQtZGVzaWduZXItc3VyZmFjZVwiO1xuaW1wb3J0ICogYXMgRGVzaWduZXJQZWVycyBmcm9tIFwiLi9kZXNpZ25lci1wZWVyc1wiO1xuaW1wb3J0IHsgUGljMkNhcmQgfSBmcm9tIFwiLi9waWMyY2FyZFwiO1xuaW1wb3J0IHsgT3BlblNhbXBsZURpYWxvZyB9IGZyb20gXCIuL29wZW4tc2FtcGxlLWRpYWxvZ1wiO1xuaW1wb3J0IHsgT3Blbkpzb25TY2hlbWFEaWFsb2cgfSBmcm9tIFwiLi9vcGVuLWpzb24tc2NoZW1hLWRpYWxvZ1wiO1xuaW1wb3J0IHsgQ29sb3JUaGVtZSwgSG9zdENvbnRhaW5lciB9IGZyb20gXCIuL2NvbnRhaW5lcnMvaG9zdC1jb250YWluZXJcIjtcbmltcG9ydCB7IGFkYXB0aXZlQ2FyZFNjaGVtYSB9IGZyb20gXCIuL2FkYXB0aXZlLWNhcmQtc2NoZW1hXCI7XG5pbXBvcnQgeyBPcGVuSW1hZ2VEaWFsb2cgfSBmcm9tIFwiLi9vcGVuLWltYWdlLWRpYWxvZ1wiO1xuaW1wb3J0IHsgRnVsbFNjcmVlbkhhbmRsZXIgfSBmcm9tIFwiLi9mdWxsc2NyZWVuLWhhbmRsZXJcIjtcbmltcG9ydCB7IFRvb2xiYXIsIFRvb2xiYXJCdXR0b24sIFRvb2xiYXJDaG9pY2VQaWNrZXIsIFRvb2xiYXJFbGVtZW50QWxpZ25tZW50IH0gZnJvbSBcIi4vdG9vbGJhclwiO1xuaW1wb3J0IHsgSVBvaW50LCBVdGlscywgZGVmYXVsdEhvc3RDb25maWcgfSBmcm9tIFwiLi9taXNjZWxsYW5lb3VzXCI7XG5pbXBvcnQgeyBCYXNlUGFsZXR0ZUl0ZW0sIEVsZW1lbnRQYWxldHRlSXRlbSwgRGF0YVBhbGV0dGVJdGVtLCBDdXN0b21QYWxldHRlSXRlbSB9IGZyb20gXCIuL3Rvb2wtcGFsZXR0ZVwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRhaW5lciB9IGZyb20gXCIuL2NvbnRhaW5lcnMvZGVmYXVsdC9kZWZhdWx0LWNvbnRhaW5lclwiO1xuaW1wb3J0IHsgU2lkZVBhbmVsLCBTaWRlUGFuZWxBbGlnbm1lbnQgfSBmcm9tIFwiLi9zaWRlLXBhbmVsXCI7XG5pbXBvcnQgeyBUb29sYm94LCBJVG9vbGJveENvbW1hbmQgfSBmcm9tIFwiLi90b29sLWJveFwiO1xuaW1wb3J0IHsgRmllbGREZWZpbml0aW9uIH0gZnJvbSBcIi4vZGF0YVwiO1xuaW1wb3J0IHsgRGF0YVRyZWVJdGVtIH0gZnJvbSBcIi4vZGF0YS10cmVlaXRlbVwiO1xuaW1wb3J0IHsgU3RyaW5ncyB9IGZyb20gXCIuL3N0cmluZ3NcIjtcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tIFwiLi9zaGFyZWRcIjtcbmltcG9ydCB7IFRyZWVWaWV3IH0gZnJvbSBcIi4vdHJlZS12aWV3XCI7XG5pbXBvcnQgeyBTYW1wbGVDYXRhbG9ndWUgfSBmcm9tIFwiLi9jYXRhbG9ndWVcIjtcbmltcG9ydCB7IEhlbHBEaWFsb2cgfSBmcm9tIFwiLi9oZWxwLWRpYWxvZ1wiO1xuaW1wb3J0IHsgRGV2aWNlRW11bGF0aW9uIH0gZnJvbSBcIi4vZGV2aWNlLWVtdWxhdGlvblwiO1xuaW1wb3J0IHsgV2lkZ2V0Q29udGFpbmVyLCBDb250YWluZXJTaXplIH0gZnJvbSBcIi4vY29udGFpbmVyc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZERlc2lnbmVyIGV4dGVuZHMgRGVzaWduZXIuRGVzaWduQ29udGV4dCB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW50ZXJuYWxQcm9jZXNzTWFya2Rvd24odGV4dDogc3RyaW5nLCByZXN1bHQ6IEFkYXB0aXZlLklNYXJrZG93blByb2Nlc3NpbmdSZXN1bHQpIHtcbiAgICAgICAgaWYgKENhcmREZXNpZ25lci5vblByb2Nlc3NNYXJrZG93bikge1xuICAgICAgICAgICAgQ2FyZERlc2lnbmVyLm9uUHJvY2Vzc01hcmtkb3duKHRleHQsIHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgbWFya2Rvd25pdFxuICAgICAgICAgICAgaWYgKHdpbmRvd1tcIm1hcmtkb3duaXRcIl0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQub3V0cHV0SHRtbCA9IHdpbmRvd1tcIm1hcmtkb3duaXRcIl0oKS5yZW5kZXIodGV4dCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmRpZFByb2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIG9uUHJvY2Vzc01hcmtkb3duOiAodGV4dDogc3RyaW5nLCByZXN1bHQ6IEFkYXB0aXZlLklNYXJrZG93blByb2Nlc3NpbmdSZXN1bHQpID0+IHZvaWQgPSBudWxsO1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgTUFYX1VORE9fU1RBQ0tfU0laRSA9IDUwO1xuXG4gICAgcHJpdmF0ZSBfaXNBdHRhY2hlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2NhcmRFZGl0b3I6IG1vbmFjby5lZGl0b3IuSVN0YW5kYWxvbmVDb2RlRWRpdG9yO1xuICAgIHByaXZhdGUgX3NhbXBsZURhdGFFZGl0b3I6IG1vbmFjby5lZGl0b3IuSVN0YW5kYWxvbmVDb2RlRWRpdG9yO1xuICAgIHByaXZhdGUgX3NhbXBsZUhvc3REYXRhRWRpdG9yOiBtb25hY28uZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvcjtcbiAgICBwcml2YXRlIF9ob3N0Q29udGFpbmVyczogQXJyYXk8SG9zdENvbnRhaW5lcj47XG4gICAgcHJpdmF0ZSBfZGV2aWNlRW11bGF0aW9uczogQXJyYXk8RGV2aWNlRW11bGF0aW9uPjtcbiAgICBwcml2YXRlIF9pc01vbmFjb0VkaXRvckxvYWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2Rlc2lnbmVyU3VyZmFjZTogRGVzaWduZXIuQ2FyZERlc2lnbmVyU3VyZmFjZTtcbiAgICBwcml2YXRlIF9kZXNpZ25lckhvc3RFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9kcmFnZ2VkUGFsZXR0ZUl0ZW06IEJhc2VQYWxldHRlSXRlbTtcbiAgICBwcml2YXRlIF9kcmFnZ2VkRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY3VycmVudE1vdXNlUG9zaXRpb246IElQb2ludDtcbiAgICBwcml2YXRlIF9ob3N0Q29udGFpbmVyOiBIb3N0Q29udGFpbmVyO1xuICAgIHByaXZhdGUgX2RldmljZUVtdWxhdGlvbjogRGV2aWNlRW11bGF0aW9uO1xuICAgIHByaXZhdGUgX3VuZG9TdGFjazogQXJyYXk8b2JqZWN0PiA9IFtdO1xuICAgIHByaXZhdGUgX3VuZG9TdGFja0luZGV4OiBudW1iZXIgPSAtMTtcbiAgICBwcml2YXRlIF9zdGFydERyYWdQYXlsb2FkOiBvYmplY3Q7XG4gICAgcHJpdmF0ZSBfdG9vbFBhbGV0dGVUb29sYm94OiBUb29sYm94O1xuICAgIHByaXZhdGUgX3Byb3BlcnR5U2hlZXRUb29sYm94OiBUb29sYm94O1xuICAgIHByaXZhdGUgX3Byb3BlcnR5U2hlZXRDYXJkOiBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQ7XG4gICAgcHJpdmF0ZSBfdHJlZVZpZXdUb29sYm94OiBUb29sYm94O1xuICAgIHByaXZhdGUgX2pzb25FZGl0b3JzUGFuZWw6IFNpZGVQYW5lbDtcbiAgICBwcml2YXRlIF9jYXJkRWRpdG9yVG9vbGJveDogVG9vbGJveDtcbiAgICBwcml2YXRlIF9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveDogVG9vbGJveDtcbiAgICBwcml2YXRlIF9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3g6IFRvb2xib3g7XG4gICAgcHJpdmF0ZSBfZGF0YVRvb2xib3g6IFRvb2xib3g7XG4gICAgcHJpdmF0ZSBfYXNzZXRQYXRoOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZGF0YVN0cnVjdHVyZTogRmllbGREZWZpbml0aW9uO1xuICAgIHByaXZhdGUgX2hvc3REYXRhU3RydWN0dXJlOiBGaWVsZERlZmluaXRpb247XG4gICAgcHJpdmF0ZSBfc2FtcGxlRGF0YTogYW55O1xuICAgIHByaXZhdGUgX3NhbXBsZUhvc3REYXRhOiBhbnk7XG4gICAgcHJpdmF0ZSBfYmluZGluZ1ByZXZpZXdNb2RlOiBEZXNpZ25lci5CaW5kaW5nUHJldmlld01vZGUgPSBEZXNpZ25lci5CaW5kaW5nUHJldmlld01vZGUuTm9QcmV2aWV3O1xuICAgIHByaXZhdGUgX2N1c3RvbVBlbGV0dGVJdGVtczogQ3VzdG9tUGFsZXR0ZUl0ZW1bXTtcbiAgICBwcml2YXRlIF9zYW1wbGVDYXRhbG9ndWU6IFNhbXBsZUNhdGFsb2d1ZSA9IG5ldyBTYW1wbGVDYXRhbG9ndWUoKTtcblxuICAgIHByaXZhdGUgdG9nZ2xlUHJldmlldygpIHtcbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLmlzUHJldmlld01vZGUgPSAhdGhpcy5fZGVzaWduZXJTdXJmYWNlLmlzUHJldmlld01vZGU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5pc1ByZXZpZXdNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVQcmV2aWV3QnV0dG9uLnRvb2xUaXAgPSBcIlJldHVybiB0byBEZXNpZ24gbW9kZVwiO1xuICAgICAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLnNldENhcmRQYXlsb2FkQXNTdHJpbmcodGhpcy5nZXRDdXJyZW50Q2FyZEVkaXRvclBheWxvYWQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVQcmV2aWV3QnV0dG9uLnRvb2xUaXAgPSBcIlN3aXRjaCB0byBQcmV2aWV3IG1vZGVcIjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FyZEZyb21Kc29uKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVpbGRUcmVlVmlldygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRUcmVlVmlldygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyZWVWaWV3VG9vbGJveC5jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl90cmVlVmlld1Rvb2xib3guY29udGVudC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kZXNpZ25lclN1cmZhY2UuaXNQcmV2aWV3TW9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJlZVZpZXdUb29sYm94LmNvbnRlbnQuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJwYWRkaW5nOiA4cHg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXY+VGhlIENhcmQgU3RydWN0dXJlIGlzblxcJ3QgYXZhaWxhYmxlIGluIFByZXZpZXcgbW9kZS48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdHJlZVZpZXcgPSBuZXcgVHJlZVZpZXcodGhpcy5kZXNpZ25lclN1cmZhY2Uucm9vdFBlZXIudHJlZUl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJlZVZpZXdUb29sYm94LmNvbnRlbnQuYXBwZW5kQ2hpbGQodHJlZVZpZXcucmVuZGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZERhdGFFeHBsb3JlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGFUb29sYm94ICYmIHRoaXMuX2RhdGFUb29sYm94LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGFUb29sYm94LmNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVN0cnVjdHVyZSkge1xuICAgICAgICAgICAgICAgIGxldCB0cmVlSXRlbSA9IG5ldyBEYXRhVHJlZUl0ZW0odGhpcy5kYXRhU3RydWN0dXJlKTtcbiAgICAgICAgICAgICAgICBsZXQgdHJlZVZpZXcgPSBuZXcgVHJlZVZpZXcodHJlZUl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YVRvb2xib3guY29udGVudC5hcHBlbmRDaGlsZCh0cmVlVmlldy5yZW5kZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkUHJvcGVydHlTaGVldChwZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikge1xuICAgICAgICBpZiAodGhpcy5fcHJvcGVydHlTaGVldFRvb2xib3guY29udGVudCkge1xuICAgICAgICAgICAgLy8gaWYgZm9jdXMgaXMgYWxyZWFkeSBvbiBfcHJvcGVydHlTaGVldENhcmQsIHJlbWVtYmVyIHRoZSBmb2N1c2VkIG9iamVjdCdzIGlkXG4gICAgICAgICAgICBjb25zdCByZXN0b3JlRm9jdXNJZCA9IHRoaXMuX3Byb3BlcnR5U2hlZXRDYXJkPy5maW5kRE9NTm9kZU93bmVyKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpPy5pZDtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5U2hlZXRUb29sYm94LmNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgICAgICAgICAgaWYgKHBlZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9wZXJ0eVNoZWV0Q2FyZCA9IHBlZXIuYnVpbGRQcm9wZXJ0eVNoZWV0Q2FyZCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5U2hlZXRDYXJkID0gbmV3IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5U2hlZXRDYXJkLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkFkYXB0aXZlQ2FyZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogXCIxLjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiKipOb3RoaW5nIGlzIHNlbGVjdGVkKipcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlNlbGVjdCBhbiBlbGVtZW50IGluIHRoZSBjYXJkIHRvIG1vZGlmeSBpdHMgcHJvcGVydGllcy5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEFkYXB0aXZlLlNlcmlhbGl6YXRpb25Db250ZXh0KHRoaXMudGFyZ2V0VmVyc2lvbilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5U2hlZXRDYXJkLnBhZGRpbmcgPSBuZXcgQWRhcHRpdmUuUGFkZGluZ0RlZmluaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIEFkYXB0aXZlLlNwYWNpbmcuU21hbGwsXG4gICAgICAgICAgICAgICAgICAgIEFkYXB0aXZlLlNwYWNpbmcuU21hbGwsXG4gICAgICAgICAgICAgICAgICAgIEFkYXB0aXZlLlNwYWNpbmcuU21hbGwsXG4gICAgICAgICAgICAgICAgICAgIEFkYXB0aXZlLlNwYWNpbmcuU21hbGxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0eVNoZWV0Q2FyZC5ob3N0Q29uZmlnID0gZGVmYXVsdEhvc3RDb25maWc7XG5cbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5U2hlZXRUb29sYm94LmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5fcHJvcGVydHlTaGVldENhcmQucmVuZGVyKCkpO1xuXG4gICAgICAgICAgICBpZiAocmVzdG9yZUZvY3VzSWQpIHtcbiAgICAgICAgICAgICAgICAvLyBhdHRlbXB0IHRvIHJlc3RvcmUgZm9jdXMgaWYgbmV3IGNhcmQgaGFzIG9iamVjdCB3aXRoIHNhbWUgaWRcbiAgICAgICAgICAgICAgICBjb25zdCBmb2N1c1RhcmdldCA9IHRoaXMuX3Byb3BlcnR5U2hlZXRDYXJkLmdldEVsZW1lbnRCeUlkKHJlc3RvcmVGb2N1c0lkKSA/PyB0aGlzLl9wcm9wZXJ0eVNoZWV0Q2FyZC5nZXRBY3Rpb25CeUlkKHJlc3RvcmVGb2N1c0lkKTtcbiAgICAgICAgICAgICAgICBmb2N1c1RhcmdldD8ucmVuZGVyZWRFbGVtZW50Py5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRQYWxldHRlSXRlbShwYWxldHRlSXRlbTogQmFzZVBhbGV0dGVJdGVtLCBob3N0RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgcGFsZXR0ZUl0ZW0ucmVuZGVyKCk7XG4gICAgICAgIHBhbGV0dGVJdGVtLm9uU3RhcnREcmFnID0gKHNlbmRlcjogQmFzZVBhbGV0dGVJdGVtKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2VkUGFsZXR0ZUl0ZW0gPSBzZW5kZXI7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRFbGVtZW50ID0gc2VuZGVyLnJlbmRlckRyYWdWaXN1YWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRQb3NpdGlvbiA9IFV0aWxzLmFkanVzdFBvaW50Rm9yU2Nyb2xsKHRoaXMuX2N1cnJlbnRNb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRFbGVtZW50LnN0eWxlLmxlZnQgPSBhZGp1c3RlZFBvc2l0aW9uLnggKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2VkRWxlbWVudC5zdHlsZS50b3AgPSBhZGp1c3RlZFBvc2l0aW9uLnkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZHJhZ2dlZEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQocGFsZXR0ZUl0ZW0ucmVuZGVyZWRFbGVtZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkUGFsZXR0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0F0dGFjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90b29sUGFsZXR0ZVRvb2xib3guY29udGVudC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgIGxldCBjYXRlZ29yaXplZFR5cGVzOiBvYmplY3QgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaG9zdENvbnRhaW5lci5lbGVtZW50c1JlZ2lzdHJ5LmdldEl0ZW1Db3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByZWdpc3RyYXRpb24gPSB0aGlzLmhvc3RDb250YWluZXIuZWxlbWVudHNSZWdpc3RyeS5nZXRJdGVtQXQoaSk7XG5cbiAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb24uc2NoZW1hVmVyc2lvbi5jb21wYXJlVG8odGhpcy50YXJnZXRWZXJzaW9uKSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBlZXJSZWdpc3RyYXRpb24gPSBEZXNpZ25lci5DYXJkRGVzaWduZXJTdXJmYWNlLmNhcmRFbGVtZW50UGVlclJlZ2lzdHJ5LmZpbmRUeXBlUmVnaXN0cmF0aW9uKHJlZ2lzdHJhdGlvbi5vYmplY3RUeXBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChwZWVyUmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2F0ZWdvcml6ZWRUeXBlcy5oYXNPd25Qcm9wZXJ0eShwZWVyUmVnaXN0cmF0aW9uLmNhdGVnb3J5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcml6ZWRUeXBlc1twZWVyUmVnaXN0cmF0aW9uLmNhdGVnb3J5XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhbGV0dGVJdGVtID0gbmV3IEVsZW1lbnRQYWxldHRlSXRlbShcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZXJSZWdpc3RyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgICAgIHBhbGV0dGVJdGVtLm9uRG91YmxlQ2xpY2sgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZWVyID0gcGFsZXR0ZUl0ZW0uY3JlYXRlUGVlcih0aGlzLCB0aGlzLmRlc2lnbmVyU3VyZmFjZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlc2lnbmVyU3VyZmFjZS5yb290UGVlci50cnlBZGQocGVlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWVyLmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpemVkVHlwZXNbcGVlclJlZ2lzdHJhdGlvbi5jYXRlZ29yeV0ucHVzaChwYWxldHRlSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3VzdG9tUGFsZXR0ZUl0ZW1zKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuY3VzdG9tUGFsZXR0ZUl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYXRlZ29yaXplZFR5cGVzLmhhc093blByb3BlcnR5KGl0ZW0uY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpemVkVHlwZXNbaXRlbS5jYXRlZ29yeV0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXRlZ29yaXplZFR5cGVzW2l0ZW0uY2F0ZWdvcnldLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBjYXRlZ29yeSBpbiBjYXRlZ29yaXplZFR5cGVzKSB7XG5cbiAgICAgICAgICAgIGxldCBjYXRlZ29yeUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNhdGVnb3J5TGlzdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGNhdGVnb3J5KVxuXG4gICAgICAgICAgICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY2F0ZWdvcnlMaXN0LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgbm9kZS5pbm5lclRleHQgPSBjYXRlZ29yeTtcbiAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gXCJhY2QtcGFsZXR0ZS1jYXRlZ29yeVwiO1xuXG4gICAgICAgICAgICB0aGlzLl90b29sUGFsZXR0ZVRvb2xib3guY29udGVudC5hcHBlbmRDaGlsZChjYXRlZ29yeUxpc3QpO1xuXG4gICAgICAgICAgICBsZXQgcGFsZXR0ZUl0ZW1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHBhbGV0dGVJdGVtQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYWNkLXBhbGV0dGUtaXRlbS1jb250YWluZXJcIjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXRlZ29yaXplZFR5cGVzW2NhdGVnb3J5XS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUGFsZXR0ZUl0ZW0oY2F0ZWdvcml6ZWRUeXBlc1tjYXRlZ29yeV1baV0sIHBhbGV0dGVJdGVtQ29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2F0ZWdvcnlMaXN0LmFwcGVuZENoaWxkKHBhbGV0dGVJdGVtQ29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZW5kRHJhZygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RyYWdnZWRQYWxldHRlSXRlbSkge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZFBhbGV0dGVJdGVtLmVuZERyYWcoKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZHJhZ2dlZEVsZW1lbnQpO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2VkUGFsZXR0ZUl0ZW0gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJFcnJvclBhbmVFbGVtZW50KG1lc3NhZ2U6IHN0cmluZywgc291cmNlPzogQWRhcHRpdmUuU2VyaWFsaXphYmxlT2JqZWN0KTogSFRNTEVsZW1lbnQge1xuICAgICAgICBsZXQgZXJyb3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWVycm9yLXBhbmUtbWVzc2FnZVwiO1xuXG4gICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlIGluc3RhbmNlb2YgQWRhcHRpdmUuQ2FyZE9iamVjdCkge1xuICAgICAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RhYmxlXCIpO1xuICAgICAgICAgICAgZXJyb3JFbGVtZW50LnRpdGxlID0gXCJDbGljayB0byBzZWxlY3QgdGhpcyBlbGVtZW50XCI7XG4gICAgICAgICAgICBlcnJvckVsZW1lbnQub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHBlZXIgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5maW5kUGVlcihzb3VyY2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBlZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVlci5pc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcGVlci5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVycm9yRWxlbWVudC5pbm5lclRleHQgPSBtZXNzYWdlO1xuXG4gICAgICAgIHJldHVybiBlcnJvckVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWNyZWF0ZURlc2lnbmVyU3VyZmFjZSgpIHtcbiAgICAgICAgbGV0IHN0eWxlU2hlZXRMaW5rRWxlbWVudCA9IDxIVE1MTGlua0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGFwdGl2ZUNhcmRTdHlsZXNoZWV0XCIpO1xuXG4gICAgICAgIGlmIChzdHlsZVNoZWV0TGlua0VsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgc3R5bGVTaGVldExpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICAgICAgICBzdHlsZVNoZWV0TGlua0VsZW1lbnQuaWQgPSBcImFkYXB0aXZlQ2FyZFN0eWxlc2hlZXRcIjtcblxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHN0eWxlU2hlZXRMaW5rRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdHlsZVNoZWV0TGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gICAgICAgIHN0eWxlU2hlZXRMaW5rRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG4gICAgICAgIGlmIChVdGlscy5pc0Fic29sdXRlVXJsKHRoaXMuaG9zdENvbnRhaW5lci5nZXRDdXJyZW50U3R5bGVTaGVldCgpKSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3R5bGVTaGVldExpbmtFbGVtZW50LmhyZWYgPSB0aGlzLmhvc3RDb250YWluZXIuZ2V0Q3VycmVudFN0eWxlU2hlZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlU2hlZXRMaW5rRWxlbWVudC5ocmVmID0gVXRpbHMuam9pblBhdGhzKHRoaXMuX2Fzc2V0UGF0aCwgdGhpcy5ob3N0Q29udGFpbmVyLmdldEN1cnJlbnRTdHlsZVNoZWV0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNhcmRBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJkQXJlYVwiKTtcblxuICAgICAgICBpZiAoY2FyZEFyZWEpIHtcbiAgICAgICAgICAgIGNhcmRBcmVhLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuaG9zdENvbnRhaW5lci5nZXRCYWNrZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaG9zdENvbnRhaW5lci5pbml0aWFsaXplKCk7XG5cbiAgICAgICAgdGhpcy5fZGVzaWduZXJIb3N0RWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB0aGlzLmhvc3RDb250YWluZXIucmVuZGVyVG8odGhpcy5fZGVzaWduZXJIb3N0RWxlbWVudCk7XG5cbiAgICAgICAgbGV0IHdhc0luUHJldmlld01vZGUgPSB0aGlzLl9kZXNpZ25lclN1cmZhY2UgPyB0aGlzLl9kZXNpZ25lclN1cmZhY2UuaXNQcmV2aWV3TW9kZSA6IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZSA9IG5ldyBEZXNpZ25lci5DYXJkRGVzaWduZXJTdXJmYWNlKHRoaXMpO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuZml4ZWRIZWlnaHRDYXJkID0gdGhpcy5ob3N0Q29udGFpbmVyLmlzRml4ZWRIZWlnaHQ7XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5vblNlbGVjdGVkUGVlckNoYW5nZWQgPSAocGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGRQcm9wZXJ0eVNoZWV0KHBlZXIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uub25MYXlvdXRVcGRhdGVkID0gKGlzRnVsbFJlZnJlc2g6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGlmIChpc0Z1bGxSZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVVwZGF0ZUpzb25Gcm9tQ2FyZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRUcmVlVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uub25DYXJkVmFsaWRhdGVkID0gKGxvZ0VudHJpZXM6IEFkYXB0aXZlLklWYWxpZGF0aW9uRXZlbnRbXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMub25DYXJkVmFsaWRhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNhcmRWYWxpZGF0ZWQodGhpcywgbG9nRW50cmllcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBlcnJvclBhbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yUGFuZVwiKTtcbiAgICAgICAgICAgIGVycm9yUGFuZS5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZih0aGlzLnRhcmdldFZlcnNpb24udG9TdHJpbmcoKSA9PSBcIjEuNFwiICYmICh0aGlzLmhvc3RDb250YWluZXIubmFtZSA9PSBcIk1pY3Jvc29mdCBUZWFtcyAtIERhcmtcIiB8fCB0aGlzLmhvc3RDb250YWluZXIubmFtZSA9PSBcIk1pY3Jvc29mdCBUZWFtcyAtIExpZ2h0XCIpKXtcbiAgICAgICAgICAgICAgICBlcnJvclBhbmUuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJFcnJvclBhbmVFbGVtZW50KFwiW1dhcm5pbmddIFRoZSBzZWxlY3RlZCBUYXJnZXQgVmVyc2lvbiAoXCIgKyB0aGlzLnRhcmdldFZlcnNpb24udG9TdHJpbmcoKSArIFwiKSBpcyBvbmx5IHN1cHBvcnRlZCBieSBib3Qgc2VudCBjYXJkLiBGb3IgdXNlciBzZW50IGNhcmRzIHBsZWFzZSB1c2UgdmVyc2lvbiAxLjNcIikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXRWZXJzaW9uLmNvbXBhcmVUbyh0aGlzLmhvc3RDb250YWluZXIudGFyZ2V0VmVyc2lvbikgPiAwICYmIFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5zaG93VGFyZ2V0VmVyc2lvbk1pc21hdGNoV2FybmluZykge1xuICAgICAgICAgICAgICAgIGVycm9yUGFuZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckVycm9yUGFuZUVsZW1lbnQoXCJbV2FybmluZ10gVGhlIHNlbGVjdGVkIFRhcmdldCBWZXJzaW9uIChcIiArIHRoaXMudGFyZ2V0VmVyc2lvbi50b1N0cmluZygpICsgXCIpIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmVyc2lvbiBzdXBwb3J0ZWQgYnkgXCIgKyB0aGlzLmhvc3RDb250YWluZXIubmFtZSArIFwiIChcIiArIHRoaXMuaG9zdENvbnRhaW5lci50YXJnZXRWZXJzaW9uLnRvU3RyaW5nKCkgKyBcIilcIikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9nRW50cmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRlZHVwZWRFbnRyaWVzOiBBZGFwdGl2ZS5JVmFsaWRhdGlvbkV2ZW50W10gPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGxvZ0VudHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZHVwZWRFbnRyaWVzLmluZGV4T2YoZW50cnkpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVkdXBlZEVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBkZWR1cGVkRW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgczogc3RyaW5nID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGVudHJ5LnBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFkYXB0aXZlLlZhbGlkYXRpb25QaGFzZS5QYXJzZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gXCJbUGFyc2VdXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFkYXB0aXZlLlZhbGlkYXRpb25QaGFzZS5Ub0pTT046XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IFwiW1NlcmlhbGl6ZV1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IFwiW1ZhbGlkYXRpb25dXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlcnJvclBhbmUuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJFcnJvclBhbmVFbGVtZW50KHMgKyBcIiBcIiArIGVudHJ5Lm1lc3NhZ2UsIGVudHJ5LnNvdXJjZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVycm9yUGFuZS5jaGlsZEVsZW1lbnRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBlcnJvclBhbmUuY2xhc3NMaXN0LnJlbW92ZShcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlcnJvclBhbmUuY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5vblN0YXJ0RHJhZyA9IChzZW5kZXI6IERlc2lnbmVyLkNhcmREZXNpZ25lclN1cmZhY2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0RHJhZ1BheWxvYWQgPSBKU09OLnBhcnNlKHRoaXMuZ2V0Q3VycmVudENhcmRFZGl0b3JQYXlsb2FkKCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uub25FbmREcmFnID0gKHNlbmRlcjogRGVzaWduZXIuQ2FyZERlc2lnbmVyU3VyZmFjZSwgd2FzQ2FuY2VsbGVkOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgICBpZiAod2FzQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDYXJkUGF5bG9hZCh0aGlzLl9zdGFydERyYWdQYXlsb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRvVW5kb1N0YWNrKHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5nZXRDYXJkUGF5bG9hZEFzT2JqZWN0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYnVpbGRQYWxldHRlKCk7XG4gICAgICAgIHRoaXMuYnVpbGRQcm9wZXJ0eVNoZWV0KG51bGwpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQ2FyZEZyb21Kc29uKGZhbHNlKTtcbiAgICAgICAgdGhpcy51cGRhdGVTYW1wbGVEYXRhKCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3guaXNWaXNpYmxlID0gKHRoaXMuX2hvc3RDb250YWluZXIgaW5zdGFuY2VvZiBXaWRnZXRDb250YWluZXIpICYmIFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5lbmFibGVEYXRhQmluZGluZ1N1cHBvcnQgJiYgU2hhcmVkLkdsb2JhbFNldHRpbmdzLnNob3dTYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3g7XG5cbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLmlzUHJldmlld01vZGUgPSB3YXNJblByZXZpZXdNb2RlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlRnVsbExheW91dCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWN0aXZlSG9zdENvbnRhaW5lckNoYW5nZWQoKSB7XG4gICAgICAgIHRoaXMucmVjcmVhdGVEZXNpZ25lclN1cmZhY2UoKTtcblxuICAgICAgICBpZiAodGhpcy5fZGV2aWNlRW11bGF0aW9uQ2hvaWNlUGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9kZXZpY2VFbXVsYXRpb25DaG9pY2VQaWNrZXIuaXNIaWRkZW4gPSAhKCEhdGhpcy5ob3N0Q29udGFpbmVyLmVuYWJsZURldmljZUVtdWxhdGlvbik7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZURldmljZUVtdWxhdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250YWluZXJTaXplQ2hvaWNlUGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXJTaXplQ2hvaWNlUGlja2VyLmlzSGlkZGVuID0gISghIXRoaXMuaG9zdENvbnRhaW5lci5zdXBwb3J0c011bHRpcGxlU2l6ZXMpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGhvc3QgcGFyYW1ldGVyIGRhdGEgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIGNob2ljZSBwaWNrZXJcbiAgICAgICAgICAgIGlmICgodGhpcy5faG9zdENvbnRhaW5lciBpbnN0YW5jZW9mIFdpZGdldENvbnRhaW5lcikgJiYgdGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlci5pc0VuYWJsZWQgJiYgdGhpcy5fc2FtcGxlSG9zdERhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhvc3REYXRhU2l6ZVByb3BlcnR5KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY29udGFpbmVyIHByb3BlcnRpZXMgZG8gbm90IGFsaWduIHdpdGggdGhlIGNob2ljZSBwaWNrZXIsIHVwZGF0ZSB0aGUgcHJvcGVydHkgYW5kIHJlY3JlYXRlIHRoZSBkZXNpZ25lciBzdXJmYWNlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lclNpemVDaG9pY2VQaWNrZXIudmFsdWUgIT09ICh0aGlzLl9ob3N0Q29udGFpbmVyIGFzIFdpZGdldENvbnRhaW5lcikuY29udGFpbmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAodGhpcy5faG9zdENvbnRhaW5lciBhcyBXaWRnZXRDb250YWluZXIpLmNvbnRhaW5lclNpemUgPSB0aGlzLl9jb250YWluZXJTaXplQ2hvaWNlUGlja2VyLnZhbHVlIGFzIENvbnRhaW5lclNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjcmVhdGVEZXNpZ25lclN1cmZhY2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyVGhlbWVDaG9pY2VQaWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyLmlzRW5hYmxlZCA9ICEhdGhpcy5ob3N0Q29udGFpbmVyLnN1cHBvcnRzTXVsdGlwbGVUaGVtZXM7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgaG9zdCBwYXJhbWV0ZXIgZGF0YSB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgY2hvaWNlIHBpY2tlclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyLmlzRW5hYmxlZCAmJiB0aGlzLl9zYW1wbGVIb3N0RGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSG9zdERhdGFUaGVtZVByb3BlcnR5KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY29udGFpbmVyIHByb3BlcnRpZXMgZG8gbm90IGFsaWduIHdpdGggdGhlIGNob2ljZSBwaWNrZXIsIHVwZGF0ZSB0aGUgcHJvcGVydHkgYW5kIHJlY3JlYXRlIHRoZSBkZXNpZ25lciBzdXJmYWNlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyLnZhbHVlICE9PSB0aGlzLl9ob3N0Q29udGFpbmVyLmNvbG9yVGhlbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG9zdENvbnRhaW5lci5jb2xvclRoZW1lID0gdGhpcy5fY29udGFpbmVyVGhlbWVDaG9pY2VQaWNrZXIudmFsdWUgYXMgQ29sb3JUaGVtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNyZWF0ZURlc2lnbmVyU3VyZmFjZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9uQWN0aXZlSG9zdENvbnRhaW5lckNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25BY3RpdmVIb3N0Q29udGFpbmVyQ2hhbmdlZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYWN0aXZlRGV2aWNlRW11bGF0aW9uQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGV2aWNlRW11bGF0aW9uPy5tYXhXaWR0aCAmJiB0aGlzLl9ob3N0Q29udGFpbmVyLmVuYWJsZURldmljZUVtdWxhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZGVzaWduZXJIb3N0RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnbWF4LXdpZHRoJywgdGhpcy5kZXZpY2VFbXVsYXRpb24ubWF4V2lkdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGVzaWduZXJIb3N0RWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWF4LXdpZHRoJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHRhcmdldFZlcnNpb25DaGFuZ2VkKCkge1xuICAgICAgICBsZXQgY2FyZFBheWxvYWQgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5nZXRDYXJkUGF5bG9hZEFzT2JqZWN0KCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYXJkUGF5bG9hZCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY2FyZFBheWxvYWRbXCJ2ZXJzaW9uXCJdID0gdGhpcy50YXJnZXRWZXJzaW9uLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0Q2FyZFBheWxvYWQoY2FyZFBheWxvYWQsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjcmVhdGVEZXNpZ25lclN1cmZhY2UoKTtcblxuICAgICAgICBpZiAodGhpcy5vblRhcmdldFZlcnNpb25DaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLm9uVGFyZ2V0VmVyc2lvbkNoYW5nZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVRvb2xib3hMYXlvdXQodG9vbGJveDogVG9vbGJveCwgaG9zdFBhbmVsUmVjdDogQ2xpZW50UmVjdCB8IERPTVJlY3QpIHtcbiAgICAgICAgaWYgKHRvb2xib3gpIHtcbiAgICAgICAgICAgIGxldCBqc29uRWRpdG9ySGVhZGVyUmVjdCA9IHRvb2xib3guZ2V0SGVhZGVyQm91bmRpbmdSZWN0KCk7XG5cbiAgICAgICAgICAgIHRvb2xib3guY29udGVudC5zdHlsZS5oZWlnaHQgPSAoaG9zdFBhbmVsUmVjdC5oZWlnaHQgLSBqc29uRWRpdG9ySGVhZGVyUmVjdC5oZWlnaHQpICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVKc29uRWRpdG9yc0xheW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzTW9uYWNvRWRpdG9yTG9hZGVkKSB7XG4gICAgICAgICAgICBsZXQganNvbkVkaXRvcnNQYW5lUmVjdCA9IHRoaXMuX2pzb25FZGl0b3JzUGFuZWwuY29udGVudEhvc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVG9vbGJveExheW91dCh0aGlzLl9jYXJkRWRpdG9yVG9vbGJveCwganNvbkVkaXRvcnNQYW5lUmVjdCk7XG4gICAgICAgICAgICB0aGlzLl9jYXJkRWRpdG9yLmxheW91dCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRvb2xib3hMYXlvdXQodGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3gsIGpzb25FZGl0b3JzUGFuZVJlY3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFFZGl0b3IubGF5b3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRvb2xib3hMYXlvdXQodGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3JUb29sYm94LCBqc29uRWRpdG9yc1BhbmVSZWN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvci5sYXlvdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlRnVsbExheW91dCgpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUxheW91dFVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZUpzb25FZGl0b3JzTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfanNvblVwZGF0ZVRpbWVyOiBhbnk7XG4gICAgcHJpdmF0ZSBfY2FyZFVwZGF0ZVRpbWVyOiBhbnk7XG4gICAgcHJpdmF0ZSBfdXBkYXRlTGF5b3V0VGltZXI6IGFueTtcbiAgICBwcml2YXRlIF9jYXJkUHJldmVudFVwZGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2pzb25QcmV2ZW50VXBkYXRlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIGNhcmRQYXlsb2FkQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMub25DYXJkUGF5bG9hZENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25DYXJkUGF5bG9hZENoYW5nZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYXJkRWRpdG9yVXBkYXRlQ291bnRlciA9IDA7XG5cbiAgICBwcml2YXRlIGJlZ2luQ2FyZEVkaXRvclVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FyZEVkaXRvclVwZGF0ZUNvdW50ZXIrKztcbiAgICB9XG5cbiAgICBwcml2YXRlIGVuZENhcmRFZGl0b3JVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYXJkRWRpdG9yVXBkYXRlQ291bnRlciA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRFZGl0b3JVcGRhdGVDb3VudGVyLS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldENhcmRQYXlsb2FkKHBheWxvYWQ6IG9iamVjdCwgYWRkVG9VbmRvU3RhY2s6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzTW9uYWNvRWRpdG9yTG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmJlZ2luQ2FyZEVkaXRvclVwZGF0ZSgpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmhhc093blByb3BlcnR5KFwidmVyc2lvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkW1widmVyc2lvblwiXSA9IHRoaXMudGFyZ2V0VmVyc2lvbi50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2NhcmRFZGl0b3Iuc2V0VmFsdWUoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgNCkpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FyZEZyb21Kc29uKGFkZFRvVW5kb1N0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kQ2FyZEVkaXRvclVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYXJkUGF5bG9hZENoYW5nZWQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFNhbXBsZURhdGFQYXlsb2FkKHBheWxvYWQ6IGFueSkge1xuICAgICAgICBpZiAodGhpcy5faXNNb25hY29FZGl0b3JMb2FkZWQgJiYgdGhpcy5fc2FtcGxlRGF0YUVkaXRvcikge1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvci5zZXRWYWx1ZShKU09OLnN0cmluZ2lmeShwYXlsb2FkLCBudWxsLCA0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFNhbXBsZUhvc3REYXRhUGF5bG9hZChwYXlsb2FkOiBhbnkpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzTW9uYWNvRWRpdG9yTG9hZGVkICYmIHRoaXMuX3NhbXBsZUhvc3REYXRhRWRpdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvci5zZXRWYWx1ZShKU09OLnN0cmluZ2lmeShwYXlsb2FkLCBudWxsLCA0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUpzb25Gcm9tQ2FyZChhZGRUb1VuZG9TdGFjazogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRQcmV2ZW50VXBkYXRlID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9qc29uUHJldmVudFVwZGF0ZSAmJiB0aGlzLl9pc01vbmFjb0VkaXRvckxvYWRlZCkge1xuICAgICAgICAgICAgICAgIGxldCBjYXJkUGF5bG9hZCA9IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5nZXRDYXJkUGF5bG9hZEFzT2JqZWN0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkKGNhcmRQYXlsb2FkLCBhZGRUb1VuZG9TdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkUHJldmVudFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzY2hlZHVsZVVwZGF0ZUpzb25Gcm9tQ2FyZCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2pzb25VcGRhdGVUaW1lcik7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9qc29uUHJldmVudFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fanNvblVwZGF0ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7IHRoaXMudXBkYXRlSnNvbkZyb21DYXJkKCk7IH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEN1cnJlbnRDYXJkRWRpdG9yUGF5bG9hZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNNb25hY29FZGl0b3JMb2FkZWQgPyB0aGlzLl9jYXJkRWRpdG9yLmdldFZhbHVlKCkgOiBDb25zdGFudHMuZGVmYXVsdFBheWxvYWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDdXJyZW50U2FtcGxlRGF0YUVkaXRvclBheWxvYWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzTW9uYWNvRWRpdG9yTG9hZGVkICYmIHRoaXMuX3NhbXBsZURhdGFFZGl0b3IgPyB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yLmdldFZhbHVlKCkgOiBcIlwiO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q3VycmVudFNhbXBsZUhvc3REYXRhRWRpdG9yUGF5bG9hZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNNb25hY29FZGl0b3JMb2FkZWQgJiYgdGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3IgPyB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvci5nZXRWYWx1ZSgpIDogXCJcIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUNhcmRGcm9tSnNvbihhZGRUb1VuZG9TdGFjazogYm9vbGVhbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fanNvblByZXZlbnRVcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgY3VycmVudEVkaXRvclBheWxvYWQgPSB0aGlzLmdldEN1cnJlbnRDYXJkRWRpdG9yUGF5bG9hZCgpO1xuXG4gICAgICAgICAgICBpZiAoYWRkVG9VbmRvU3RhY2spIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRvVW5kb1N0YWNrKEpTT04ucGFyc2UoY3VycmVudEVkaXRvclBheWxvYWQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAvLyBTd2FsbG93IHRoZSBwYXJzZSBlcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXJkUHJldmVudFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzaWduZXJTdXJmYWNlLnNldENhcmRQYXlsb2FkQXNTdHJpbmcoY3VycmVudEVkaXRvclBheWxvYWQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYXJkUGF5bG9hZENoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX2pzb25QcmV2ZW50VXBkYXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNjaGVkdWxlVXBkYXRlQ2FyZEZyb21Kc29uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY2FyZFVwZGF0ZVRpbWVyKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2NhcmRQcmV2ZW50VXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkVXBkYXRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy51cGRhdGVDYXJkRnJvbUpzb24odHJ1ZSk7IH0sIDMwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9pc0VkZ2VIVE1MPzogYm9vbGVhbiA9IHVuZGVmaW5lZDtcblxuICAgIHByaXZhdGUgaXNFZGdlSFRNTCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRWRnZUhUTUwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5faXNFZGdlSFRNTCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImVkZ2VcIikgPiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0VkZ2VIVE1MO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2NoZWR1bGVMYXlvdXRVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlc2lnbmVyU3VyZmFjZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRWRnZUhUTUwoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzaWduZXJTdXJmYWNlLnVwZGF0ZUxheW91dChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBcIm9sZFwiIEVkZ2UsIHVwZGF0ZUxheW91dCgpIGlzICpzdXBlciogc2xvdyAoYmVjYXVzZSBpdCB1c2VzIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICAgICAgICAgICAgICAgIC8vIGhlYXZpbHkgd2hpY2ggaXMgaXRzZWxmIHN1cGVyIHNsb3cpIGFuZCB3ZSBoYXZlIHRvIGNhbGwgaXQgb25seSBvbiBpZGxlXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUxheW91dFRpbWVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxheW91dFRpbWVyID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVzaWduZXJTdXJmYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNpZ25lclN1cmZhY2UudXBkYXRlTGF5b3V0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF90YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9uID0gQWRhcHRpdmUuVmVyc2lvbnMubGF0ZXN0O1xuICAgIHByaXZhdGUgX2Z1bGxTY3JlZW5IYW5kbGVyID0gbmV3IEZ1bGxTY3JlZW5IYW5kbGVyKCk7XG4gICAgcHJpdmF0ZSBfZnVsbFNjcmVlbkJ1dHRvbjogVG9vbGJhckJ1dHRvbjtcbiAgICBwcml2YXRlIF9ob3N0Q29udGFpbmVyQ2hvaWNlUGlja2VyOiBUb29sYmFyQ2hvaWNlUGlja2VyO1xuICAgIHByaXZhdGUgX2RldmljZUVtdWxhdGlvbkNob2ljZVBpY2tlcjogVG9vbGJhckNob2ljZVBpY2tlcjtcbiAgICBwcml2YXRlIF92ZXJzaW9uQ2hvaWNlUGlja2VyOiBUb29sYmFyQ2hvaWNlUGlja2VyO1xuICAgIHByaXZhdGUgX3VuZG9CdXR0b246IFRvb2xiYXJCdXR0b247XG4gICAgcHJpdmF0ZSBfcmVkb0J1dHRvbjogVG9vbGJhckJ1dHRvbjtcbiAgICBwcml2YXRlIF9uZXdDYXJkQnV0dG9uOiBUb29sYmFyQnV0dG9uO1xuICAgIHByaXZhdGUgX2NvcHlKU09OQnV0dG9uOiBUb29sYmFyQnV0dG9uO1xuICAgIHByaXZhdGUgX3RvZ2dsZVByZXZpZXdCdXR0b246IFRvb2xiYXJCdXR0b247XG4gICAgcHJpdmF0ZSBfaGVscEJ1dHRvbjogVG9vbGJhckJ1dHRvbjtcbiAgICBwcml2YXRlIF9wcmV2ZW50UmVjdXJzaXZlU2V0VGFyZ2V0VmVyc2lvbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2NvbnRhaW5lclNpemVDaG9pY2VQaWNrZXI6IFRvb2xiYXJDaG9pY2VQaWNrZXI7XG4gICAgcHJpdmF0ZSBfY29udGFpbmVyVGhlbWVDaG9pY2VQaWNrZXI6IFRvb2xiYXJDaG9pY2VQaWNrZXI7XG5cbiAgICBwcml2YXRlIHByZXBhcmVUb29sYmFyKCkge1xuICAgICAgICBpZiAoU2hhcmVkLkdsb2JhbFNldHRpbmdzLnNob3dWZXJzaW9uUGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl92ZXJzaW9uQ2hvaWNlUGlja2VyID0gbmV3IFRvb2xiYXJDaG9pY2VQaWNrZXIoQ2FyZERlc2lnbmVyLlRvb2xiYXJDb21tYW5kcy5WZXJzaW9uUGlja2VyKTtcbiAgICAgICAgICAgIHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIubGFiZWwgPSBcIlRhcmdldCB2ZXJzaW9uOlwiXG4gICAgICAgICAgICB0aGlzLl92ZXJzaW9uQ2hvaWNlUGlja2VyLmFsaWdubWVudCA9IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LlJpZ2h0O1xuICAgICAgICAgICAgdGhpcy5fdmVyc2lvbkNob2ljZVBpY2tlci5zZXBhcmF0b3IgPSB0cnVlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5zdXBwb3J0ZWRUYXJnZXRWZXJzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIuY2hvaWNlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBTaGFyZWQuR2xvYmFsU2V0dGluZ3Muc3VwcG9ydGVkVGFyZ2V0VmVyc2lvbnNbaV0ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl92ZXJzaW9uQ2hvaWNlUGlja2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX25ld0NhcmRCdXR0b24gPSBuZXcgVG9vbGJhckJ1dHRvbihcbiAgICAgICAgICAgIENhcmREZXNpZ25lci5Ub29sYmFyQ29tbWFuZHMuTmV3Q2FyZCxcbiAgICAgICAgICAgIFwiTmV3IGNhcmRcIixcbiAgICAgICAgICAgIFwiYWNkLWljb24tbmV3Q2FyZFwiLFxuICAgICAgICAgICAgKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkaWFsb2cgPSBuZXcgT3BlblNhbXBsZURpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgIGNhdGFsb2d1ZTogdGhpcy5fc2FtcGxlQ2F0YWxvZ3VlLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZyb20gSlNPTiBTY2hlbWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF1bmNoSnNvblNjaGVtYVBvcHVwKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RW50ZXJFdmVudDogKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF1bmNoSnNvblNjaGVtYVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkRGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRodW1ibmFpbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuY2xhc3NOYW1lID0gXCJhY2QtaW1hZ2UtY29udGFpbmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJhY2QtaW1hZ2UtdXBsb2FkIGFjZC1vcGVuLXNhbXBsZS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBhbHQ9XCJqc29uIHNjaGVtYSBpbWFnZVwiIHNyYz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSW9BQUFDS0NBTUFBQUJDV1NKV0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUpEVUV4VVJRQUFBQUFBQUVCQVFHQmdZRlZWVlUxTlRVWkdSbDFkWFZWVlZVNU9UbFZWVlZCUVVFdExTMUZSVVZGUlVWSlNVbEpTVWs5UFQxSlNVbEJRVUZOVFUxQlFVRTVPVGxOVFUxRlJVVTVPVGxOVFUwOVBUMU5UVTFGUlVVOVBUMU5UVTFCUVVFNU9UbEpTVWxCUVVGSlNVbEJRVUU5UFQxSlNVbEZSVVU5UFQwNU9UbEZSVVU1T1RsSlNVbEZSVVZCUVVGRlJVVTlQVDA1T1RsRlJVVkJRVUU5UFQwNU9UbEpTVWxGUlVWRlJVVkJRVUZCUVVFOVBUMUZSVVZCUVVFOVBUMUZSVVU5UFQwNU9UbEJRVUZCUVVGQlFVRTlQVDFGUlVWRlJVVTlQVDFCUVVFOVBUMUZSVVU5UFQwOVBUMUJRVUUxTlRWQlFVRTlQVDFCUVVFOVBUMDVPVGxCUVVGRlJVVkJRVUZCUVVFOVBUMUZSVVZGUlVWQlFVRTlQVDFGUlVWQlFVRTlQVDFGUlVWQlFVRTlQVDA1T1RsQlFVRkJRVUZCUVVGQlFVRTlQVDFCUVVFOVBUMUZSVVZCUVVGRlJVVkJRVUZGUlVWQlFVRkJRVUZCUVVGRlJVVkJRVUZCUVVGQlFVRkZSVVZGUlVWQlFVRkJRVUZCUVVFOVBUMUZSVVZCUVVGQlFVRTlQVDFGUlVWQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZGUlVWQlFVRkJRVUU5UFQxRlJVVkJRVUU5UFQxQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkZSVVU5UFQxRlJVVkJRVUZCUVVGQlFVRkZSVVZCUVVGQlFVRkJRVUZCUVVFOVBUMUJRVUZGUlVWQlFVRkJRVUU5UFQxRlJVVkJRVUZCUVVGQlFVRkZSVVZCUVVGQlFVRkJRVUZGUlVWQlFVRTlQVDFCUVVFOVBUMUZSVVZCUVVGQlFVRkJRVUU5UFQxQlFVRTlQVDFCUVVGRlJVYy8xYUlnQUFBQytkRkpPVXdBQkJBZ0pDZ3NMREEwUEVCRVRGaGtjSFI4Z0lpTWtKU1luS0NvckxDMHVNREV5TXpVMk56ZzVPanM4UGo0L1EwVkhTRWhKU2t0TFRFOVFVMVJWVmxkWVdsdGNYV0JoWVdKa1ptZG9hbXRzY0hOMGVYNS9nSUdDZzRTRWhZYUlpSW1LaTR5T2o0K1FsWmFYbVpxYm5KNmdvYUtqcHFlb3FhcXFxNnl0c0xHeHNyTzB0TFcydWJxN3ZMMi93Y0xEeE1URng4akp5c3ZOenMvUjFOVFYxdHJhMjkzZTRPSGo0K1htNStmbzZlcnE2K3p0N2U3eTlmZjMrUHI4L3Y2Qk1HM2lBQUFBQ1hCSVdYTUFBRExBQUFBeXdBRW9aRnJiQUFBRXdrbEVRVlI0WHUyYysxdFVSUmpIVnhTRUFoWFRMQk5MQ1NNenU2bllGcFFoZUVYQ1NrM0QxTXJRVWpRVExieGczbEJFUlVITWEwWlpsaWtRUlZnNi9tbnR2dk5kZDNiMzNUMTdtRGtubnA3NS9NTHpuWG4zblErSDNYUG1VWVpBS25MTEc5cTZCb1FYM0JmMytpNDNiNWlKbFJ4NDdoQmU1aVUzYTNPd1hISWUrd0xGWHROYmd4V1RNYXNibFQ3UU9BS0xzbFNqeWgvT1A0RmxHZDVFalYrY1QzcGRpdTZnNUxlNjJlTlNYajEzVFBrVGZYczJ6eDJmbVZld3BBbFpmSTJLQkRwUjhING1CZ3h4Qm4wL3lNWkFvUGdBaHBLOGR4ZkwyZTVaeUthb2tIMzc1aUlUNitSZ3owamtXSDZRczlNUmpYRlY5bzI3cmNGbERXSU1aWEp1UHFJeFhwVjlGeUkrUVA2TWJpREZJTzl0TFVqbStKejZ0aUZGZVpiR3hReEVsVjZhQ1NLWjR3YjFmUU5KUVY2V2RVZ0tFMmhpSUFQUkdQblVWeno0OEVSWlNoTkhrUlJtMGtRcmtqbUtxRzhIa2tvQnpWeEVVcEIzMmdZa2N3U3A3ejRrbFR5YTZVVlNxS0tKT2lSelZGTGZlaVNWRVRRemdLVGd2OG80bXVsQ1V2QmZaVGJOSkg3Sy93T1ZUVFN6RTBuQmQ1WE0yelJUanFqZ3U4cHFtaEM1aUFwK3E1VFF1RGlFcU9LenlnejVuR0gzQWY2cVlBOGp0aVBINEtOS1Z0a3BHaFRpMWdRTXhSQ3Y4bnE5RHN2UUphTHlIY1pEN0cyL1MwTmhYa0ZSTFBFcUJ5a1BsblBvRWxIaHFVSk5IUDZyOUplaUpCN2ZWYzRXb2lJQm4xV3VKZXgxby9pcDh1dldsUHZXZUpWUmxUcE1ScGVJeWttTWh3aE95OGRVTXVKVlRDRlZtR2RRY3F3S2gxWGhzQ29jVm9YRHFuREVxNWg5SEZxVk1GYUY0LytxWWdxcndtRlZPS3dLaDFYaHNDb2NCbFRHVnVsUWhDNUdWT3lUT1l4VjRSakNLblBxZElqK281OEJGVk5ZRlE2cndtRlZPS3dLaDFYaE1LQ3lva09IVGVoaVJNVnVFc0pZRlk0aHJCSjRXb2RoYUdKR3hSQnJxVzhuVWxwNHBUS0Vyb3BWNGJBcUhGYUZ3NnB3V0JVT3E4SmhWVGlzQ29kTGxmeWlZT1VPZXNseC9CNmRGbSsvOThraWRIYW5FdHdpejZvWTVRNmF1MUZaY0kxS1RlTmVaV283RlpySHRVcnBYMVRuQVc1VjVJZkdFMXlxdkV4RlJNZCsvQTYzQmw5RkRqb0s4ZnRQaDdGR2VpcVAzcUlpSVU2VjhZZi9YSElDN2JwMmpNRUlrWTVLNUxSd0JiSW1OV2kzQ2psQ0dpbzRhOWZMSGJZYkJOazlzbC9DTjVhR3lqZFVJa29RZFZrajJ5MUhqT0tzOGpCVmlOV0kybHlnZGdlUUZKeFYzcUtLN2l4RVhTWlNPMUdNcU9DczhpVlZiRWJTUnI1cDI1RlVuRlZPVTRXcGQwcmdVMnIzTHBLS3M4cjNWREVlU1p0ZDFJNDVpSnFHU2o5VkdEdk8zVXJ0dUJ1RHMwb2ZWZVFoYVhPRTJyMkVwQ0xmUlI4amNWeWlpZ0lrYmJaUk8rN0cvUkhOSk41dm9qUlR4UklrYldxcDNXZElLdkx6TVErSll3TlZOQ0ZwSTgvOS9veWtnT1BNVHlKeXlPUEw0aGxFWFhKa3U4U3J2SkhHcnlEeDNLUWFZNWRGL25tU0h4OUNqRkJJdzJJOUlvLzg2WW9QRVhYQjM4RFlqd2h5cjhqaHA1QjVjbkFjMHBSTGkyeTNlemh5bU1leGk0LytueGxQWksvVHhEekRCc0dMYU5mNUdnWkNlMmZzWWY2TzJkWng3SkdGb1VmNzBnSUQ5enFjeEExdFVOK1pPam9qZjNxdHZLR0hjTjRuWm4yTDBoRDM4TlVMVm1LOVZFeUt1bmlvc2hHcnBTYXpFZVVlcWxSakxVZHE4TTd5U3VYWUMxZ29EYkpyZndtL3hCdVY5bVNuVUpQeC9Qcm1pMy9neGFiNDUzckgzdXBIc0VBcUFvRi9BVGdEL1dLMnhoNEpBQUFBQUVsRlRrU3VRbUNDXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNkLWltYWdlLXRleHQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY2QtaW1hZ2UtdXBsb2FkLXRpdGxlXCI+RnJvbSBKU09OIFNjaGVtYTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aHVtYm5haWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBQaWMyQ2FyZC5waWMyY2FyZFNlcnZpY2UgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUGljMkNhcmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF1bmNoSW1hZ2VQb3B1cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RW50ZXJFdmVudDogKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXVuY2hJbWFnZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmREYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aHVtYm5haWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbC5jbGFzc05hbWUgPSBcImFjZC1pbWFnZS1jb250YWluZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJhY2QtaW1hZ2UtdXBsb2FkIGFjZC1vcGVuLXNhbXBsZS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwicGljMmNhcmQgaW1hZ2VcIiBzcmM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUlFQUFBQk9DQVlBQUFBSEhuVXhBQUFBQVhOU1IwSUFyczRjNlFBQUFFUmxXRWxtVFUwQUtnQUFBQWdBQVlkcEFBUUFBQUFCQUFBQUdnQUFBQUFBQTZBQkFBTUFBQUFCQUFFQUFLQUNBQVFBQUFBQkFBQUFnYUFEQUFRQUFBQUJBQUFBVGdBQUFBQ1pEWm1PQUFBT2FrbEVRVlI0QWUxZGU1QlQxUm4venMzTmN6ZjdUaFlXV0habDVlR3lMQ3RRVUxkVFVZb3ZhTWVPMnRmWWpyVkZCVHQyck1yWVZtVWNiV3ZiUDZ5T29veTFuZWxqT2xndHZyV3dwVko4c0lEb0F1SStzaXo3eXNLK0VySkpicEtiM0g1bjhiSVFrdHg3YzVOd1ErK1p5WnpOT2QvNXZ1OSszeS9ubnZPZHh4SklrQVJCWVBZZFBGZ1RFNFFhVm1BcW9pQVVnQUJzQWxLOUtCTVdJTUFiZ1BoNUVodGhDT2xaMnREUVF3aUpaWUsxSEI0a25talBwNS9XTWxGWUxoQmlqNi9UditmR0FrUVFmREVEN0ZuZTJIZzBGeEpQZ3dCLy9XUi9XOXVYWWpHeUtCZUNkUm5TRm1BWW9XM0pva1d0MkNzSTB0VHBVekJpVXgwQW9pVzBrOU1mSlBWTHRqV2FCQUY5QmVnOVFMWk5uUjUvNmhmcW4vUmF5MnZGMEVFZ0hRUElJOWVwem9jRkpzZG82S2RzeVo2Y0JlaUR3R3laTnpOOHFYL29iQzB6M003bHd0QnA0TG5GZW9uV0xKQk5QekUwRHFDMUI5YjFPZGNDMmZRVHZtNHdFS1FuelZzZ20zNWk4eUVTeVBNUlUxOXZ6OW9neHpWRW85RVN6WHNNRlRRd1RNQmtNbmRXemF6K3A4MXE5YWpXT1lzUlc4MkhnZ2tCMHRYVjhaTndPRnluMnBBNVpNQkhvelkrR0tqb2RuWFUxOVhOM1dTeFdDZHlLRjZScUt4Tk94UnBrWUo0Y0hDd0tkOEFjT2JqeEdLeEl2Zmd3T296eTdUMmQ4WjZnbWlVTi9nOEhsdUE0eXhobm1jdEZrc0l1MEd1cUtnNG9PYWh1YUMvV2sxN0xiUU5SY0thZmdaVklLQ09QOXJUTTNOa2RIaDZZTUpmVGtBNHZSWWhHdC9Bc21GN1VmSHhTb2R6c0dyR3pHR3hYRzV1TXBsRzVkSnFsWTQxR0RUOURHbUR3TlhWV1QzZ0hwZ1hqVVRNMVBqbmVQOExqMFI1M3VRWkc1MUZQMzM5dmFNWDFjNDU0bkJXeWg0b09jb2RINDk3UEYrbjNhcFduWnhLTDF6OGlaYVZWZXhLUlhPKzZ4U1BDU0tSTUx0M3owZkxlM3Q3Rm9rQWtQc1FBYisvL05DaHR1YXVqbmJac1hDVDFlYWZVVFh6S1lQQk1DaFhqbGJvY0crQXoxbmgzRkpXVm41TUt6b2wwa05SVDhBRmcrYjkrMXN2eDRHYXF0Z0M5Z2oxL2tDZ3NIRngwOEZFU3NXWGxaYVY5K0pua3ovZ0srTUNYRjVNRWMxR1k4QmVVbkpjRUhBU3J2RWtHd1E0VjJjK09iQi9tVm9BaVBZWUd4dVozZDV4SkRCdjdnS1hXQ2FWRjlqc1kvUWpSYWVWZWdSQVhpVFpyNFBEaHc3VkI3bGdSbitGZy8zOUM0NFB1Y3Z6d2xJWHNKS3lRREE2UG1hbnY5eHMyTUhWN2FyUEJsK2RwM3dMeUFLQnk5VzVRRDVMWlpRaExsaDB0TnMxUTFrcm5UcVRGcEFjRXdTREFaUC81RWxuSm9YRzh4b1pIcDVaZTlHY2dmaHk4YnNXMWc3b0ZCaG5LQ1BXQXZ2ZTJwcWFmK1hEZ0UrMG4xUXVDUUwzMEZCV0FVQVY5UGtuS2ppT28xRkdQbDVocmF3ZDBERmVqT2VySTk3eDZzNk9VRlhkeGZQK0dLOXJ2bjZYZkIxNHZaNnNEOXhvcEhGOGJEamhvRk9MYXdlQllPQXk3MG52QmZNS2t3UUJId3BiY29Id1VDaVNVSTVXMXc0bWZMNVp1YkJMTG1SSWdpQVM1U2ZEd3RsV0poUUpKWlNqMWJVRHM5bWNOL0VLS2Q5SmdnQUpjbkljaWdDVFVBNWRPMkFZNXFUVWcrU3lubVhadnZMeWN0bEJybHpxbG80c1NSQ3dKaU9YRG1PbGJTeG1jMEk1V2xzN01CbE5IYk5yYXA0aEJIZm1YU0JKY25hQTNWN0FsNE9IdFJRVUpOMTNvSlcxQTV2ZFBtSTFXelRWSzJYQ05aSWdxQ2d2UDRIeitJc3lJU3daRDRaaHc4NEtoemRadlZpZWIyc0hvdDVLOG9HQXJhakxXekR0Uk5EaURFWklRWmhuTERoTmpsbloyTVRWbTRVQTd0am9LeStEdlMvZFFvSksrS2FpbFFSQjViUVpveDBkSFR5dTUwdlNwaEtVcXE2NHRIZ29WZjJGWHJmblJGbHQyMGhSbzN2Q3V0alBHNnFTUDYvd2JWbzNNa0lpVnowckhNRFl4VzVnb09VcmQ4QTdtMVFjWlNldEI5cCtsRnpvcVpyUERoK2FkL3k0KzJJcHVuVHJteHFiM2lzcHI4akZXeWRkRlRQZWJwUXpXVi9wcnJybTJFVGg1UkVlRXNaSTVBc2xSeEVNVHhzWWVISEhIVVN5UjQzbkt3c0VOSnJYMnZyaFZYU1hVRHdEdGQrTFMwcjZMNzEwMlNkeStRZ0NudHpQcDRUN0NRZ3pOZk1KUkFtN3pUWHJ5c09qOWh0NGdhamFsM0d1R2NnRWJ2RjZ5bElEajc1OVBRbWRXNSs0UkJZSWFOUGV2dDdwcnM3MkpZblpwRmRxWkZtdWFkbUsveFpZclNrVjVyaGdZVzkvNzAzaFlMQUJqMlBsM2VVWmpNRXdiclBZOW5ZYkwrdmM1WForS3hRbFdZN0NrczhOQkc3YnNaNThKTWN6a2xORWtVbjFyR3AzWmVYMFR2RzcyaHdYWkdKekwxbTRWd29BOUpmZjdlcThsd3NFTHM5SEFGQTd4YUxSMHRieDZ0VTdCcWF0eno0QXFFUmhma3lBOTFkdUZwN1lKT00wczJ3UVVOYVgxQzlzZHppY3FvTWtqSUdOekpzL3YxWE9qTUR0SGxpQ0J6bG1Vdm41bUdKNG92eDlyaGtPaEM4RmVodE1ycDRCMzBJTXhJUUgzdHNNZjF2M3ZHQk1KVmNSQ0NpamhRMk5SMnBuMTM1Q2lDR3RZQWtHaFh5TEc1dDJUNithTlpKS01iR080OElwUnNzaWxUWnpDb0FkM0dybzRXdlBuNEtDOE0ydUtMeDgzVnRDd3JBOFZVd3hDR2lqbWpsMS9jdFhyR2dwY3poNkJKQjNudzU5LzFkWDE3UXR2Nng1Rnc0Ry9aU1BuR1F5R1JXZlZaREROeGMwSDRTdWdPR29JeGVpVXNyQUhtaHRxQWRldTNtcmtIQlFuZmJjMzJxMWhSc2JGaDhLaGJoMmQzOS81ZWpZV0NXZXRDbkFEU0FXR2xNd0dOZ1FhMlE1dTYzUTQzQTZoL0Nzd1JpdUFkQmxlVVhKT1czNlBxL0hzeVlhaTJaNU1LVklMVW5pZzVGRmNJeXZrYVNUSXBoWkRNRGpxc3FReWdrMEFtRTF4aGNlUm5tUHhNdVVQVHVJYjVqTDc3NEpyM05nWU9EV2NDaEVZeFZwOVY2NTFMZVBud1c3dUN0Vmk3d2RMeEg2N2hJTUYrSTJwaTBmQW15VlBaRk9MQnJQOXNad1VMS3FaUVBaZVNaRlhvQkFWQmg3R1RPZWZkRDBTYVJnMUdoOHFuM3B2ZUVvVWFYbnJUZ1p2MjM1MmVQSUozY0o4Tm9oMFJwcDVvUzRtUUpvYVBrK09YMDBMdTNYUVpvcXFHckdzc1pRb1YzYlk0U1hqc3hlb3hZQU56YWNDd0JxdUh1K0RCQUlBK3pvVUdGR1FaZ09mcklST1R3Z2N0RjgxeW9xbWcrNWU4SnM3L0RZVlIxRFh6MFA0TzdteEUrTDV4cGg0MVVBbDlja3JwZGJpbStYOVd1ZkYwNWZVNlNEUUs3bFpOQzljblRHR2d6U0pOd21KNk01Tk9OTTh2NlZlTGdYblowc0dSZ0NEMThEMEtSaWh5UEdFQXI4UFB4VWxLR0RRTFNFeWh4ZkFZWkJ2eTN0K3lDWFlEanNJZXhEcUpPbGtnbGp3bzlkajhHN1Npbks1UFU0VGJzYnA0eUZsRUlIUVhJN0thclpQZVNZaTFNNW02SkdYeEJUWno1NkhZQVJuU3VtWTJNQ25QQk56YWpIQWdLNFJxYStXNDBFZnIwR1lFN2FFMmVoY0dRRThPV2lnMEMwdWVyOGlLZG9jVHBNcUJPcE02bFR4ZVErS2NEOXJ3UDRJMklKUUFoUFpEeUFaUVBlS1NBVW1nazhzUmFBeGhMU1NTZ1JvYWVESUIzYkpXeHpmTUtzR0FUVWViOUJKMUpuaW1uVUw4QjlyK0hHa1FReDFmRWd3SDJ2QWd4UFRBR2h6RWJndDE4RGNFNTI3Q0lYbWJtZ2cwQ21wYVRKUHZjVU9YRjFzRlNhY29yQ2dVNmp6aXRGSjRySnkyRVBnQUJ3cDlqRmVCenZRS01nOFFhbmdGQnBQd1dFRXF2SVNWNk9BOFRaMTd3ZzFPbGpBbm4yU2tsMTFHdWRucElncnBJNjYzY0lBT284TVFYQ0FtekU3cjVuWEN4Sm52ZDVBRGErZ2E4TGJDT21XU1Zrc2xjcFVManRKOGJEYkIwRW9oVlY1S01ocyt4Vkl1b2srZ3FnVGhOVGlCZmdaMjhDZENoWUtxTzBQOGMydEsyWTZpcE9EUmJOQ2tLQU9KaXQxRUVnV2xCRkhvcXlzanZpN3kwRG9NNFNFeDhWNEpGM0FOcmNZb244bkxiWjlDNHVNQ0VQTWRWUEkzQ0xndEVKQW1DYUFzeUlZcktUandGbkd3Y3V3M3Z1MU90YUNoWi9HVmlTbm9tZ0V2aW8vQUJSa1hsS0o3b3c5TXNkQUsyOVUyVksvOXB6RE9CWExkZ3JmRlVBdkNocnNubXhzbkNWZGtEUUV1MWRlUlM4TnlnMVFyYnBhNkg0elpzTmM3SGpUWjV3dDdmc0RUWi8zZ2RRWFNvQWRkUUx1QVB3UDY3a2ZPWFc3T3pDYVI3Ni8vYmxBdENCNDk4UHlHMTVpazR6UFlFeXRiVkZiV0ZqS1h1S003VWR4SkgvaHBmUExNbk0zeTI0KzVOK2xDWmNXL2JoUGcvbEd6MlVDcnJRNlMwRytTRFFtaTJ3QXhsaDhQYU5oQWRCdGFhc2x2V3BMQWdOYVZrL0NkM2FHVHdZNFpNZzBxc2xMTEN3MU5zblFhTFphb3NGUGtNUUNIbjdBRnF4YkxrbEhMU3d3Z210NkNOWEQxeXlQdkRXYldTSThjVmkzZnE0UUs3Wmt0Tk5LK0Rha3RkcXN3YkhBOXVvWnV6S3BpWlBhMXNiM2JBMDczeXFTcWRoK0ErajN6NmZPaVNTamYrQUt1RU5LdkcwQzh0T2Z0emp0YTZLTDlmNDkxTWdvRW82N1BiV0UrTW5aMkQza001YVZNYWVVNjdCTXlZd2c0eXVxQnAyYmU5MWp1Ym1tSmw2eGRIWDNTM3J5V1R2TlJrMnJxMnQ1UXJON0x0WW9jOFUwclF2VHJTRkJhVys3V2syUHgvTm5oU0ZubDQ3cUsrdkg3TmJqTnR3Zzl1b1dLbm55aXh3dyt6KzNVWURhSDYyaFQ5MlY1MEJuaE9mN2pRSWFNSDgrZk45YjIxN2VSdk9HSENITzNoRUlqMlhaNEVpY3l5OHFOeUwyejQwbng3Y2NnYzV2Vy9wMUlwREVwMzM3WE1WaDRuSFlRYVREWXlwVDdZbVlmRi9XZnlMRCt0ZjRIaXlXTzNEUC8wTkFMb3FTRk1YN2k5Y3QxVXRSOXFlN05tNWdhdzRrMVBLdFlPbFMrZlFxMC9vUjA4S0xMRHFHZUU3dUtDM0Q4Ly9wYlh4VkJUMWwvMEFENi9HSTc5WVFCZWVWQ2RDeGxrR2JvM25rN0luaUNmV3Y4dTN3TlhQQ1RmRllyQVZMeVZRWldPOGgyZ1NCUFJRcXJwRWVOWUExMjYvaytEQzg5bnByREhCMlZYNk56VVdhTG1UL0FNUDdUK2toZ2R0RzBYbnF3ZkE1STdpZXhJQmdNclFRVUN0a0tYMDd3M2tjUnlKUDVZbDlyTFpFb1k4amllUm4wM1dRRlZYbFl5cFhuNjJCZkRPd1IvamJPdjNhbDhOWjNPVjhRM2pQcmpaNUljdGQ1Ry9wcUxXUVpES09obXN3ekhDdFRoR2VCR0JvR2huY3JvcVlBODBnSytqRzdFSDJDdkZRMzhkU0Zrb1EvVTRSbmlIM2d1QXpua3BReXdUc2psMUVRWDVrOFVLUytVQWdETFJlNEtFcHN4dTRhcm5oZVpvRkI3RFh1RXJtWlNFQUh0ZFlPSEJuZXZJWVNWOGRSQW9zVmFHYVZkdEZxN0VvK3cvd0UzSE4rTGRnMmt1M3BGaGpFbThnV2RaLzdEOUx2SitPaXJxSUVqSGFobHVneGRHMlBEUThmVUlobWI4cDdyTE1HOUNVQ1E4eTRDL2RycXB0UjAvTFl3QlhtMWVCeCtvdWR5YVBvb09BbW9GamFWTmVBdnAvaTFRaGtjVFMvRlhYb1puU3hpREFENDhtRHplY2ljTUloQ21UcHRrUVBmL0FUU0ozb2U3bGlqU0FBQUFBRWxGVGtTdVFtQ0NcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNkLWltYWdlLXRleHQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNkLWltYWdlLW5ldy10aXRsZVwiPk5FVyBQUkVWSUVXPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNkLWltYWdlLXVwbG9hZC10aXRsZVwiPkNyZWF0ZSBmcm9tIEltYWdlIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImltYWdlLWRlc2NyaXB0aW9uLWlkXCIgY2xhc3M9XCJhY2QtaW1hZ2UtZGVzY3JpcHRpb25cIj5VcGxvYWQgeW91ciBvd24gaW1hZ2UgYW5kIGNvbnZlcnQgaXQgbWFnaWNhbGx5IHRvIGFuIEFkYXB0aXZlIGNhcmQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBhcmlhLWxhYmVsbGVkYnk9XCJpbWFnZS1kZXNjcmlwdGlvbi1pZFwiIGNsYXNzPVwiYWNkLXRyeS1ub3ctYnV0dG9uXCIgdmFsdWU9XCJUcnkgTm93XCIgdHlwZT1cImJ1dHRvblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRodW1ibmFpbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkaWFsb2cudGl0bGUgPSBcIkNyZWF0ZVwiO1xuICAgICAgICAgICAgICAgIGRpYWxvZy5jbG9zZUJ1dHRvbi5jYXB0aW9uID0gXCJDYW5jZWxcIjtcbiAgICAgICAgICAgICAgICBkaWFsb2cud2lkdGggPSBcIjgwJVwiO1xuICAgICAgICAgICAgICAgIGRpYWxvZy5oZWlnaHQgPSBcIjgwJVwiO1xuICAgICAgICAgICAgICAgIGRpYWxvZy5vbkNsb3NlID0gKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2FyZEJ1dHRvbiA9IHRoaXMuX25ld0NhcmRCdXR0b24ucmVuZGVyZWRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlhbG9nLm91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FyZFBheWxvYWQgPSBKU09OLnBhcnNlKGRpYWxvZy5vdXRwdXQuY2FyZFBheWxvYWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDYXJkUGF5bG9hZChjYXJkUGF5bG9hZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBjYXJkIHRlbXBsYXRlIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlhbG9nLm91dHB1dC5zYW1wbGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbXBsZURhdGFQYXlsb2FkID0gSlNPTi5wYXJzZShkaWFsb2cub3V0cHV0LnNhbXBsZURhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2FtcGxlRGF0YVBheWxvYWQoc2FtcGxlRGF0YVBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFTdHJ1Y3R1cmUgPSBGaWVsZERlZmluaXRpb24uZGVyaXZlRnJvbShzYW1wbGVEYXRhUGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhlIGNhcmQgZGF0YSBjb3VsZCBub3QgYmUgbG9hZGVkLlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTYW1wbGVEYXRhUGF5bG9hZCh7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWFsb2cub3V0cHV0LnNhbXBsZUhvc3REYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbXBsZUhvc3REYXRhUGF5bG9hZCA9IEpTT04ucGFyc2UoZGlhbG9nLm91dHB1dC5zYW1wbGVIb3N0RGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTYW1wbGVIb3N0RGF0YVBheWxvYWQoc2FtcGxlSG9zdERhdGFQYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3N0RGF0YVN0cnVjdHVyZSA9IEZpZWxkRGVmaW5pdGlvbi5kZXJpdmVGcm9tKHNhbXBsZUhvc3REYXRhUGF5bG9hZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5ldyBkYXRhIGhhcyBzaXplLCB1cGRhdGUgdGhlIGNob2ljZSBwaWNrZXIgdmFsdWU7IG90aGVyd2lzZSwgdXBkYXRlIHRoZSBkYXRhIGJhc2VkIG9uIHRoZSBjaG9pY2UgcGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zYW1wbGVIb3N0RGF0YS53aWRnZXRTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRhaW5lclNpemVDaG9pY2VQaWNrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSG9zdERhdGFTaXplUHJvcGVydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBuZXcgZGF0YSBoYXMgdGhlbWUsIHVwZGF0ZSB0aGUgY2hvaWNlIHBpY2tlciB2YWx1ZTsgb3RoZXJ3aXNlLCB1cGRhdGUgdGhlIGRhdGEgYmFzZWQgb24gdGhlIGNob2ljZSBwaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NhbXBsZUhvc3REYXRhLmhvc3RUaGVtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250YWluZXJUaGVtZUNob2ljZVBpY2tlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIb3N0RGF0YVRoZW1lUHJvcGVydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhlIGNhcmQgaG9zdCBkYXRhIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNhbXBsZUhvc3REYXRhUGF5bG9hZCh7fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNpemUgYW5kIHRoZW1lIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNob2ljZSBwaWNrZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIb3N0RGF0YVNpemVQcm9wZXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSG9zdERhdGFUaGVtZVByb3BlcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NhcmRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NhcmRCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9uZXdDYXJkQnV0dG9uLnNlcGFyYXRvciA9IHRydWU7XG5cbiAgICAgICAgdGhpcy50b29sYmFyLmFkZEVsZW1lbnQodGhpcy5fbmV3Q2FyZEJ1dHRvbik7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvc3RDb250YWluZXJzICYmIHRoaXMuX2hvc3RDb250YWluZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2hvc3RDb250YWluZXJDaG9pY2VQaWNrZXIgPSBuZXcgVG9vbGJhckNob2ljZVBpY2tlcihDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLkhvc3RBcHBQaWNrZXIpO1xuICAgICAgICAgICAgdGhpcy5faG9zdENvbnRhaW5lckNob2ljZVBpY2tlci5zZXBhcmF0b3IgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faG9zdENvbnRhaW5lckNob2ljZVBpY2tlci5sYWJlbCA9IFwiU2VsZWN0IGhvc3QgYXBwOlwiXG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faG9zdENvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ob3N0Q29udGFpbmVyQ2hvaWNlUGlja2VyLmNob2ljZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5faG9zdENvbnRhaW5lcnNbaV0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9ob3N0Q29udGFpbmVyQ2hvaWNlUGlja2VyLm9uQ2hhbmdlZCA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3RDb250YWluZXIgPSB0aGlzLl9ob3N0Q29udGFpbmVyc1twYXJzZUludCh0aGlzLl9ob3N0Q29udGFpbmVyQ2hvaWNlUGlja2VyLnZhbHVlKV07XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl9ob3N0Q29udGFpbmVyQ2hvaWNlUGlja2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1cHBvcnRzVGhlbWUgPSB0aGlzLl9ob3N0Q29udGFpbmVycy5zb21lKCh4KSA9PiB7IHJldHVybiB4LnN1cHBvcnRzTXVsdGlwbGVUaGVtZXM7IH0pO1xuICAgICAgICBjb25zdCBzdXBwb3J0c1NpemUgPSB0aGlzLl9ob3N0Q29udGFpbmVycy5zb21lKCh4KSA9PiB7IHJldHVybiB4LnN1cHBvcnRzTXVsdGlwbGVTaXplczsgfSk7XG5cbiAgICAgICAgaWYgKHN1cHBvcnRzVGhlbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyID0gbmV3IFRvb2xiYXJDaG9pY2VQaWNrZXIoQ2FyZERlc2lnbmVyLlRvb2xiYXJDb21tYW5kcy5Db250YWluZXJUaGVtZVBpY2tlcik7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlci5zZXBhcmF0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyLmxhYmVsID0gXCJUaGVtZTpcIlxuXG4gICAgICAgICAgICBjb25zdCB0aGVtZXMgPSBIb3N0Q29udGFpbmVyLnN1cHBvcnRlZENvbnRhaW5lclRoZW1lcztcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGVtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlci5jaG9pY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoZW1lc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGVtZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlci5vbkNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjb250YWluZXIgdGhlbWUgYW5kIHJlcmVuZGVyIHRoZSBkZXNpZ25lciBzdXJmYWNlXG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0Q29udGFpbmVyLmNvbG9yVGhlbWUgPSB0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlci52YWx1ZSBhcyBDb2xvclRoZW1lO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjcmVhdGVEZXNpZ25lclN1cmZhY2UoKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zYW1wbGVIb3N0RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhvc3REYXRhVGhlbWVQcm9wZXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5hZGRFbGVtZW50KHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdXBwb3J0c1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lclNpemVDaG9pY2VQaWNrZXIgPSBuZXcgVG9vbGJhckNob2ljZVBpY2tlcihDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLkNvbnRhaW5lclNpemVQaWNrZXIpO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlci5zZXBhcmF0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lclNpemVDaG9pY2VQaWNrZXIubGFiZWwgPSBcIkNvbnRhaW5lciBzaXplOlwiXG5cbiAgICAgICAgICAgIGNvbnN0IHNpemVzID0gV2lkZ2V0Q29udGFpbmVyLnN1cHBvcnRlZENvbnRhaW5lclNpemVzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlci5jaG9pY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNpemVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNpemVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlci5vbkNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9zdENvbnRhaW5lciBpbnN0YW5jZW9mIFdpZGdldENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29udGFpbmVyIHNpemUgYW5kIHJlcmVuZGVyIHRoZSBkZXNpZ25lciBzdXJmYWNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdENvbnRhaW5lci5jb250YWluZXJTaXplID0gdGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlci52YWx1ZSBhcyBDb250YWluZXJTaXplO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY3JlYXRlRGVzaWduZXJTdXJmYWNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NhbXBsZUhvc3REYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhvc3REYXRhU2l6ZVByb3BlcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl9jb250YWluZXJTaXplQ2hvaWNlUGlja2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9kZXZpY2VFbXVsYXRpb25zICYmIHRoaXMuX2RldmljZUVtdWxhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fZGV2aWNlRW11bGF0aW9uQ2hvaWNlUGlja2VyID0gbmV3IFRvb2xiYXJDaG9pY2VQaWNrZXIoQ2FyZERlc2lnbmVyLlRvb2xiYXJDb21tYW5kcy5EZXZpY2VFbXVsYXRpb25QaWNrZXIpO1xuICAgICAgICAgICAgdGhpcy5fZGV2aWNlRW11bGF0aW9uQ2hvaWNlUGlja2VyLnNlcGFyYXRvciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9kZXZpY2VFbXVsYXRpb25DaG9pY2VQaWNrZXIubGFiZWwgPSBcIkVtdWxhdGUgZGV2aWNlOlwiXG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGV2aWNlRW11bGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RldmljZUVtdWxhdGlvbkNob2ljZVBpY2tlci5jaG9pY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX2RldmljZUVtdWxhdGlvbnNbaV0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9kZXZpY2VFbXVsYXRpb25DaG9pY2VQaWNrZXIub25DaGFuZ2VkID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlRW11bGF0aW9uID0gdGhpcy5fZGV2aWNlRW11bGF0aW9uc1twYXJzZUludCh0aGlzLl9kZXZpY2VFbXVsYXRpb25DaG9pY2VQaWNrZXIudmFsdWUpXTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5hZGRFbGVtZW50KHRoaXMuX2RldmljZUVtdWxhdGlvbkNob2ljZVBpY2tlcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91bmRvQnV0dG9uID0gbmV3IFRvb2xiYXJCdXR0b24oXG4gICAgICAgICAgICBDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLlVuZG8sXG4gICAgICAgICAgICBcIlVuZG9cIixcbiAgICAgICAgICAgIFwiYWNkLWljb24tdW5kb1wiLFxuICAgICAgICAgICAgKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4geyB0aGlzLnVuZG8oKTsgfSk7XG4gICAgICAgIHRoaXMuX3VuZG9CdXR0b24uc2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdW5kb0J1dHRvbi50b29sVGlwID0gXCJVbmRvIHlvdXIgbGFzdCBjaGFuZ2VcIjtcbiAgICAgICAgdGhpcy5fdW5kb0J1dHRvbi5pc0VuYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl91bmRvQnV0dG9uKTtcblxuICAgICAgICB0aGlzLl9yZWRvQnV0dG9uID0gbmV3IFRvb2xiYXJCdXR0b24oXG4gICAgICAgICAgICBDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLlJlZG8sXG4gICAgICAgICAgICBcIlJlZG9cIixcbiAgICAgICAgICAgIFwiYWNkLWljb24tcmVkb1wiLFxuICAgICAgICAgICAgKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4geyB0aGlzLnJlZG8oKTsgfSk7XG4gICAgICAgIHRoaXMuX3JlZG9CdXR0b24udG9vbFRpcCA9IFwiUmVkbyB5b3VyIGxhc3QgY2hhbmdlc1wiO1xuICAgICAgICB0aGlzLl9yZWRvQnV0dG9uLmlzRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMudG9vbGJhci5hZGRFbGVtZW50KHRoaXMuX3JlZG9CdXR0b24pO1xuXG4gICAgICAgIHRoaXMuX2NvcHlKU09OQnV0dG9uID0gbmV3IFRvb2xiYXJCdXR0b24oXG4gICAgICAgICAgICBDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLkNvcHlKU09OLFxuICAgICAgICAgICAgXCJDb3B5IGNhcmQgcGF5bG9hZFwiLFxuICAgICAgICAgICAgXCJhY2QtaWNvbi1jb3B5XCIpO1xuICAgICAgICB0aGlzLl9jb3B5SlNPTkJ1dHRvbi50b29sVGlwID0gXCJDb3B5IHRoZSBnZW5lcmF0ZWQgSlNPTiBwYXlsb2FkIG9mIHRoZSBjYXJkICh0ZW1wbGF0ZSBib3VuZCB3aXRoIGRhdGEpIHRvIHRoZSBjbGlwYm9hcmQuIFRvIGNvcHkgb25seSB0aGUgdGVtcGxhdGUgcGF5bG9hZCwgdXNlIHRoZSBDYXJkIFBheWxvYWQgRWRpdG9yLlwiO1xuICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl9jb3B5SlNPTkJ1dHRvbik7XG5cbiAgICAgICAgdGhpcy5fdG9nZ2xlUHJldmlld0J1dHRvbiA9IG5ldyBUb29sYmFyQnV0dG9uKFxuICAgICAgICAgICAgQ2FyZERlc2lnbmVyLlRvb2xiYXJDb21tYW5kcy5Ub2dnbGVQcmV2aWV3LFxuICAgICAgICAgICAgXCJQcmV2aWV3IG1vZGVcIixcbiAgICAgICAgICAgIFwiYWNkLWljb24tcHJldmlld1wiLFxuICAgICAgICAgICAgKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4geyB0aGlzLnRvZ2dsZVByZXZpZXcoKTsgfSk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZVByZXZpZXdCdXR0b24uc2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlUHJldmlld0J1dHRvbi5hbGxvd1RvZ2dsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RvZ2dsZVByZXZpZXdCdXR0b24uaXNWaXNpYmxlID0gU2hhcmVkLkdsb2JhbFNldHRpbmdzLmVuYWJsZURhdGFCaW5kaW5nU3VwcG9ydDtcbiAgICAgICAgLy8gT24gaW5pdGlhbGl6YXRpb24sIHRoZSBwcmV2aWV3IGJ1dHRvbiBpcyBub3QgcHJlc3NlZCBzbyBzZXQgdGhlIHRvb2x0aXAgdG8gXCJTd2l0Y2ggdG8gUHJldmlldyBtb2RlXCJcbiAgICAgICAgdGhpcy5fdG9nZ2xlUHJldmlld0J1dHRvbi50b29sVGlwID0gXCJTd2l0Y2ggdG8gUHJldmlldyBtb2RlXCI7XG5cbiAgICAgICAgdGhpcy50b29sYmFyLmFkZEVsZW1lbnQodGhpcy5fdG9nZ2xlUHJldmlld0J1dHRvbik7XG5cbiAgICAgICAgdGhpcy5faGVscEJ1dHRvbiA9IG5ldyBUb29sYmFyQnV0dG9uKFxuICAgICAgICAgICAgQ2FyZERlc2lnbmVyLlRvb2xiYXJDb21tYW5kcy5IZWxwLFxuICAgICAgICAgICAgXCJIZWxwXCIsXG4gICAgICAgICAgICBcImFjZC1pY29uLWhlbHBcIixcbiAgICAgICAgICAgIChzZW5kZXI6IFRvb2xiYXJCdXR0b24pID0+IHsgdGhpcy5zaG93SGVscCgpOyB9KTtcbiAgICAgICAgdGhpcy5faGVscEJ1dHRvbi50b29sVGlwID0gXCJEaXNwbGF5IGhlbHAuXCI7XG4gICAgICAgIHRoaXMuX2hlbHBCdXR0b24uc2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faGVscEJ1dHRvbi5hbGlnbm1lbnQgPSBUb29sYmFyRWxlbWVudEFsaWdubWVudC5SaWdodDtcbiAgICAgICAgdGhpcy50b29sYmFyLmFkZEVsZW1lbnQodGhpcy5faGVscEJ1dHRvbik7XG5cbiAgICAgICAgdGhpcy5fZnVsbFNjcmVlbkhhbmRsZXIgPSBuZXcgRnVsbFNjcmVlbkhhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5fZnVsbFNjcmVlbkhhbmRsZXIub25GdWxsU2NyZWVuQ2hhbmdlZCA9IChpc0Z1bGxTY3JlZW46IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxTY3JlZW5CdXR0b24udG9vbFRpcCA9IGlzRnVsbFNjcmVlbiA/IFwiRXhpdCBmdWxsIHNjcmVlblwiIDogXCJFbnRlciBmdWxsIHNjcmVlblwiO1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZ1bGxMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbGF1bmNoSnNvblNjaGVtYVBvcHVwKCkge1xuICAgICAgICBsZXQgZGlhbG9nID0gbmV3IE9wZW5Kc29uU2NoZW1hRGlhbG9nKCk7XG4gICAgICAgIGRpYWxvZy50aXRsZSA9IFwiQ3JlYXRlIGZyb20gSlNPTiBTY2hlbWFcIjtcbiAgICAgICAgZGlhbG9nLmNsb3NlQnV0dG9uLmNhcHRpb24gPSBcIkNhbmNlbFwiO1xuICAgICAgICBkaWFsb2cucHJldmVudExpZ2h0RGlzbWlzc2FsID0gdHJ1ZTtcbiAgICAgICAgZGlhbG9nLndpZHRoID0gXCI4MCVcIjtcbiAgICAgICAgZGlhbG9nLmhlaWdodCA9IFwiODAlXCI7XG4gICAgICAgIGRpYWxvZy5vcGVuKCk7XG5cbiAgICAgICAgZGlhbG9nLnN1Ym1pdEJ1dHRvbi5vbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgICBpZiAoZGlhbG9nLm91dHB1dCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjYXJkUGF5bG9hZCA9IEpTT04ucGFyc2UoZGlhbG9nLm91dHB1dC5jYXJkUGF5bG9hZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDYXJkUGF5bG9hZChjYXJkUGF5bG9hZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhlIGNhcmQgdGVtcGxhdGUgY291bGQgbm90IGJlIGxvYWRlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkaWFsb2cub3V0cHV0LnNhbXBsZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYW1wbGVEYXRhUGF5bG9hZCA9IEpTT04ucGFyc2UoZGlhbG9nLm91dHB1dC5zYW1wbGVEYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTYW1wbGVEYXRhUGF5bG9hZChzYW1wbGVEYXRhUGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFTdHJ1Y3R1cmUgPSBGaWVsZERlZmluaXRpb24uZGVyaXZlRnJvbShzYW1wbGVEYXRhUGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJUaGUgY2FyZCBkYXRhIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNhbXBsZURhdGFQYXlsb2FkKHt9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlhbG9nLm91dHB1dC5zYW1wbGVIb3N0RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbXBsZUhvc3REYXRhUGF5bG9hZCA9IEpTT04ucGFyc2UoZGlhbG9nLm91dHB1dC5zYW1wbGVEYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTYW1wbGVIb3N0RGF0YVBheWxvYWQoc2FtcGxlSG9zdERhdGFQYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdERhdGFTdHJ1Y3R1cmUgPSBGaWVsZERlZmluaXRpb24uZGVyaXZlRnJvbShzYW1wbGVIb3N0RGF0YVBheWxvYWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbmV3IGRhdGEgaGFzIHNpemUsIHVwZGF0ZSB0aGUgY2hvaWNlIHBpY2tlciB2YWx1ZTsgb3RoZXJ3aXNlLCB1cGRhdGUgdGhlIGRhdGEgYmFzZWQgb24gdGhlIGNob2ljZSBwaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zYW1wbGVIb3N0RGF0YS53aWRnZXRTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250YWluZXJTaXplQ2hvaWNlUGlja2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSG9zdERhdGFTaXplUHJvcGVydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5ldyBkYXRhIGhhcyB0aGVtZSwgdXBkYXRlIHRoZSBjaG9pY2UgcGlja2VyIHZhbHVlOyBvdGhlcndpc2UsIHVwZGF0ZSB0aGUgZGF0YSBiYXNlZCBvbiB0aGUgY2hvaWNlIHBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NhbXBsZUhvc3REYXRhLmhvc3RUaGVtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGFpbmVyVGhlbWVDaG9pY2VQaWNrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIb3N0RGF0YVRoZW1lUHJvcGVydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhlIGNhcmQgaG9zdCBkYXRhIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNhbXBsZUhvc3REYXRhUGF5bG9hZCh7fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBzaXplIGFuZCB0aGVtZSBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjaG9pY2UgcGlja2Vyc1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhvc3REYXRhU2l6ZVByb3BlcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSG9zdERhdGFUaGVtZVByb3BlcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBuZXdDYXJkQnV0dG9uID0gdGhpcy5fbmV3Q2FyZEJ1dHRvbi5yZW5kZXJlZEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmIChuZXdDYXJkQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgbmV3Q2FyZEJ1dHRvbi5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGlhbG9nLm9uQ2xvc2UgPSAoZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3Q2FyZEJ1dHRvbiA9IHRoaXMuX25ld0NhcmRCdXR0b24ucmVuZGVyZWRFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAobmV3Q2FyZEJ1dHRvbikge1xuICAgICAgICAgICAgICAgIG5ld0NhcmRCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgbGF1bmNoSW1hZ2VQb3B1cCgpIHtcbiAgICAgICAgbGV0IGRpYWxvZyA9IG5ldyBPcGVuSW1hZ2VEaWFsb2coKTtcbiAgICAgICAgZGlhbG9nLnRpdGxlID0gXCJQaWMyY2FyZCBEaWFsb2cgZm9yIEltYWdlIFVwbG9hZFwiO1xuICAgICAgICBkaWFsb2cuY2xvc2VCdXR0b24uY2FwdGlvbiA9IFwiQ2FuY2VsXCI7XG4gICAgICAgIGRpYWxvZy5wcmV2ZW50TGlnaHREaXNtaXNzYWwgPSB0cnVlO1xuICAgICAgICBkaWFsb2cud2lkdGggPSBcIjgwJVwiO1xuICAgICAgICBkaWFsb2cuaGVpZ2h0ID0gXCI4MCVcIjtcbiAgICAgICAgZGlhbG9nLm9wZW4oKTtcbiAgICAgICAgZGlhbG9nLm9uQ2xvc2UgPSAoZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3Q2FyZEJ1dHRvbiA9IHRoaXMuX25ld0NhcmRCdXR0b24ucmVuZGVyZWRFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAoZGlhbG9nLnByZWRpY3RlZENhcmRKU09OKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjYXJkLCBkYXRhIH0gPSBkaWFsb2cucHJlZGljdGVkQ2FyZEpTT047XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkVG9VbmRvU3RhY2sgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDYXJkUGF5bG9hZChjYXJkLCBhZGRUb1VuZG9TdGFjayk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTYW1wbGVEYXRhUGF5bG9hZChkYXRhKTtcblxuICAgICAgICAgICAgICAgIGxldCBsb2FkTm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICAgICAgbG9hZE5vdGlmaWNhdGlvbi5pZCA9IFwicGljMmNhcmRMb2FkTm90aWZpY2F0aW9uXCI7XG4gICAgICAgICAgICAgICAgbG9hZE5vdGlmaWNhdGlvbi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwic3RhdHVzXCIpO1xuICAgICAgICAgICAgICAgIGxvYWROb3RpZmljYXRpb24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIlBpYzJDYXJkIGdlbmVyYXRlZCBBZGFwdGl2ZSBDYXJkIGxvYWRlZFwiKTtcblxuICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBiaXQgb2RkIHRvIGp1bXAgdXAgdG8gdGhlIHBhcmVudCBlbGVtZW50IGhlcmUsIGJ1dCB3ZSBuZWVkIGEgcGxhY2UgdG8gcGFyayB0aGlzIGVtcHR5IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBzbyB0aGF0IGl0J3Mgc2VlbiBieSBhY2Nlc3NpYmlsaXR5IHRvb2xzLiBJZiB3ZSBwdXQgaXQgb24gdGhlIGJ1dHRvbiBpdHNlbGYsIHRoZSBzdGF0dXMgbWVzc2FnZSBnZXRzXG4gICAgICAgICAgICAgICAgLy8gcmVhZCB0d2ljZSAob25jZSBvbiBET00gZW50cnkgYW5kIGFnYWluIG9uIGZvY3VzKS5cbiAgICAgICAgICAgICAgICBuZXdDYXJkQnV0dG9uLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobG9hZE5vdGlmaWNhdGlvbik7XG5cbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50IG5lZWRzIHRvIGVudGVyIHRoZSBET00sIGJ1dCBzaG91bGRuJ3Qgc3RheSBmb3JldmVyLCBsZXN0IGl0IGJlIHJlYWQgYWdhaW4uLi5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FyZEJ1dHRvbi5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGxvYWROb3RpZmljYXRpb24pO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdDYXJkQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgbmV3Q2FyZEJ1dHRvbi5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNpemUoKSB7XG4gICAgICAgIHRoaXMuX2NhcmRFZGl0b3IubGF5b3V0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NhbXBsZURhdGFFZGl0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFFZGl0b3IubGF5b3V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZUhvc3REYXRhRWRpdG9yLmxheW91dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVTYW1wbGVEYXRhKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YSA9IEpTT04ucGFyc2UodGhpcy5nZXRDdXJyZW50U2FtcGxlRGF0YUVkaXRvclBheWxvYWQoKSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVVcGRhdGVDYXJkRnJvbUpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBTd2FsbG93IGV4cHJlc3Npb24sIHRoZSBwYXlsb2FkIGlzbid0IGEgdmFsaWQgSlNPTiBkb2N1bWVudFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVTYW1wbGVIb3N0RGF0YSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZUhvc3REYXRhID0gSlNPTi5wYXJzZSh0aGlzLmdldEN1cnJlbnRTYW1wbGVIb3N0RGF0YUVkaXRvclBheWxvYWQoKSk7XG5cbiAgICAgICAgICAgIC8vIFNpbmNlIHdlIGhhdmUgbmV3IGhvc3QgZGF0YSwgd2Ugc2hvdWxkIHVwZGF0ZSB0aGUgY29udGFpbmVyIHByb3BlcnR5IGNob2ljZSBwaWNrZXJzXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRhaW5lclNpemVDaG9pY2VQaWNrZXIoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGFpbmVyVGhlbWVDaG9pY2VQaWNrZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVVwZGF0ZUNhcmRGcm9tSnNvbigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIFN3YWxsb3cgZXhwcmVzc2lvbiwgdGhlIHBheWxvYWQgaXNuJ3QgYSB2YWxpZCBKU09OIGRvY3VtZW50XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHNpemUgcHJvcGVydHkgd2l0aGluIHRoZSBzYW1wbGUgaG9zdCBkYXRhIHBheWxvYWRcbiAgICBwcml2YXRlIHVwZGF0ZUhvc3REYXRhU2l6ZVByb3BlcnR5KCkge1xuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlcj8udmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlci52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5fc2FtcGxlSG9zdERhdGEud2lkZ2V0U2l6ZTtcblxuICAgICAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIHBheWxvYWQgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NhbXBsZUhvc3REYXRhLndpZGdldFNpemUgPSB2YWx1ZTtcbiAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNhbXBsZUhvc3REYXRhUGF5bG9hZCh0aGlzLl9zYW1wbGVIb3N0RGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0RGF0YVN0cnVjdHVyZSA9IEZpZWxkRGVmaW5pdGlvbi5kZXJpdmVGcm9tKHRoaXMuX3NhbXBsZUhvc3REYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdGhlbWUgcHJvcGVydHkgd2l0aGluIHRoZSBzYW1wbGUgaG9zdCBkYXRhIHBheWxvYWRcbiAgICBwcml2YXRlIHVwZGF0ZUhvc3REYXRhVGhlbWVQcm9wZXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyPy52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlci52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gIHRoaXMuX3NhbXBsZUhvc3REYXRhLmhvc3RUaGVtZTtcblxuICAgICAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIHBheWxvYWQgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NhbXBsZUhvc3REYXRhLmhvc3RUaGVtZSA9IHZhbHVlO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNhbXBsZUhvc3REYXRhUGF5bG9hZCh0aGlzLl9zYW1wbGVIb3N0RGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0RGF0YVN0cnVjdHVyZSA9IEZpZWxkRGVmaW5pdGlvbi5kZXJpdmVGcm9tKHRoaXMuX3NhbXBsZUhvc3REYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIGNvbnRhaW5lciBzaXplIGNob2ljZSBwaWNrZXIgYmFzZWQgb24gdGhlIGhvc3QgZGF0YSB2YWx1ZVxuICAgIHByaXZhdGUgdXBkYXRlQ29udGFpbmVyU2l6ZUNob2ljZVBpY2tlcigpIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGBzaXplYCBpbiB0aGUgaG9zdCBkYXRhIHBheWxvYWRcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lclNpemVDaG9pY2VQaWNrZXIgJiYgdGhpcy5fc2FtcGxlSG9zdERhdGEud2lkZ2V0U2l6ZSkge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX3NhbXBsZUhvc3REYXRhLndpZGdldFNpemUgYXMgU3RyaW5nO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgY2hvaWNlIHBpY2tlciBpZiB0aGUgdmFsdWUgaXMgZGlmZmVyZW50XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlci52YWx1ZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hvaWNlcyA9IHRoaXMuX2NvbnRhaW5lclNpemVDaG9pY2VQaWNrZXIuY2hvaWNlcztcblxuICAgICAgICAgICAgICAgIC8vIHNlYXJjaCBmb3IgdGhlIG1hdGNoaW5nIGNob2ljZSBhbmQgdXBkYXRlIHRoZSBzZWxlY3RlZEluZGV4XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaG9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaG9pY2VzLmF0KGkpLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IHNpemUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyU2l6ZUNob2ljZVBpY2tlci5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBjb250YWluZXIgdGhlbWUgY2hvaWNlIHBpY2tlciBiYXNlZCBvbiB0aGUgaG9zdCBkYXRhIHZhbHVlXG4gICAgcHJpdmF0ZSB1cGRhdGVDb250YWluZXJUaGVtZUNob2ljZVBpY2tlcigpIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGB0aGVtZWAgaW4gdGhlIGhvc3QgZGF0YSBwYXlsb2FkXG4gICAgICAgIGlmICh0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlciAmJiB0aGlzLl9zYW1wbGVIb3N0RGF0YS5ob3N0VGhlbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy5fc2FtcGxlSG9zdERhdGEuaG9zdFRoZW1lIGFzIFN0cmluZztcblxuICAgICAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIGNob2ljZSBwaWNrZXIgaWYgdGhlIHZhbHVlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgaWYgKHRoZW1lICE9PSB0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlci52YWx1ZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hvaWNlcyA9IHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyLmNob2ljZXM7XG5cbiAgICAgICAgICAgICAgICAvLyBzZWFyY2ggZm9yIHRoZSBtYXRjaGluZyBjaG9pY2UgYW5kIHVwZGF0ZSB0aGUgc2VsZWN0ZWRJbmRleFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hvaWNlcy5hdChpKS52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSB0aGVtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlci5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVUb29sYmFyKCkge1xuICAgICAgICB0aGlzLl91bmRvQnV0dG9uLmlzRW5hYmxlZCA9IHRoaXMuY2FuVW5kbztcbiAgICAgICAgdGhpcy5fcmVkb0J1dHRvbi5pc0VuYWJsZWQgPSB0aGlzLmNhblJlZG87XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRUb1VuZG9TdGFjayhwYXlsb2FkOiBvYmplY3QpIHtcbiAgICAgICAgbGV0IGRvQWRkOiBib29sZWFuID0gIXRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5kcmFnZ2VkUGVlcjtcblxuICAgICAgICBpZiAoZG9BZGQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl91bmRvU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGRvQWRkID0gdGhpcy5fdW5kb1N0YWNrW3RoaXMuX3VuZG9TdGFjay5sZW5ndGggLSAxXSAhPSBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZG9BZGQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdW5kb1BheWxvYWRzVG9EaXNjYXJkID0gdGhpcy5fdW5kb1N0YWNrLmxlbmd0aCAtICh0aGlzLl91bmRvU3RhY2tJbmRleCArIDEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVuZG9QYXlsb2Fkc1RvRGlzY2FyZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdW5kb1N0YWNrLnNwbGljZSh0aGlzLl91bmRvU3RhY2tJbmRleCArIDEsIHVuZG9QYXlsb2Fkc1RvRGlzY2FyZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdW5kb1N0YWNrLnB1c2gocGF5bG9hZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdW5kb1N0YWNrLmxlbmd0aCA+IENhcmREZXNpZ25lci5NQVhfVU5ET19TVEFDS19TSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VuZG9TdGFjay5zcGxpY2UoMCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdW5kb1N0YWNrSW5kZXggPSB0aGlzLl91bmRvU3RhY2subGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG9vbGJhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVQb2ludGVyVXAoZTogUG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHRoaXMuZW5kRHJhZygpO1xuXG4gICAgICAgIGlmICh0aGlzLmRlc2lnbmVyU3VyZmFjZSkge1xuICAgICAgICAgICAgdGhpcy5kZXNpZ25lclN1cmZhY2UuZW5kRHJhZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVBvaW50ZXJNb3ZlKGU6IFBvaW50ZXJFdmVudCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbiA9IHsgeDogZS54LCB5OiBlLnkgfTtcblxuICAgICAgICBpZiAodGhpcy5kZXNpZ25lclN1cmZhY2UpIHtcbiAgICAgICAgICAgIGxldCBpc1BvaW50ZXJPdmVyRGVzaWduZXIgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5pc1BvaW50ZXJPdmVyKHRoaXMuX2N1cnJlbnRNb3VzZVBvc2l0aW9uLngsIHRoaXMuX2N1cnJlbnRNb3VzZVBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgbGV0IHBlZXJEcm9wcGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnZ2VkUGFsZXR0ZUl0ZW0gJiYgaXNQb2ludGVyT3ZlckRlc2lnbmVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBlZXIgPSB0aGlzLl9kcmFnZ2VkUGFsZXR0ZUl0ZW0uY3JlYXRlUGVlcih0aGlzLCB0aGlzLmRlc2lnbmVyU3VyZmFjZSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgY2xpZW50Q29vcmRpbmF0ZXMgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5wYWdlVG9DbGllbnRDb29yZGluYXRlcyh0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbi54LCB0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbi55KTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlc2lnbmVyU3VyZmFjZS50cnlEcm9wKGNsaWVudENvb3JkaW5hdGVzLCBwZWVyKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZERyYWcoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2lnbmVyU3VyZmFjZS5zdGFydERyYWcocGVlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgcGVlckRyb3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFwZWVyRHJvcHBlZCAmJiB0aGlzLl9kcmFnZ2VkRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkUG9zaXRpb24gPSBVdGlscy5hZGp1c3RQb2ludEZvclNjcm9sbCh0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQuc3R5bGUubGVmdCA9IGFkanVzdGVkUG9zaXRpb24ueCAtIDEwICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRFbGVtZW50LnN0eWxlLnRvcCA9IGFkanVzdGVkUG9zaXRpb24ueSAtIDEwICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgdG9vbGJhcjogVG9vbGJhciA9IG5ldyBUb29sYmFyKCk7XG5cbiAgICBsb2NrRGF0YVN0cnVjdHVyZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoaG9zdENvbnRhaW5lcnM6IEFycmF5PEhvc3RDb250YWluZXI+ID0gbnVsbCwgZGV2aWNlRW11bGF0aW9uczogQXJyYXk8RGV2aWNlRW11bGF0aW9uPiA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBBZGFwdGl2ZS5HbG9iYWxTZXR0aW5ncy5lbmFibGVGdWxsSnNvblJvdW5kVHJpcCA9IHRydWU7XG4gICAgICAgIEFkYXB0aXZlLkdsb2JhbFNldHRpbmdzLmFsbG93UHJlUHJvY2Vzc2luZ1Byb3BlcnR5VmFsdWVzID0gdHJ1ZTtcbiAgICAgICAgQWRhcHRpdmUuR2xvYmFsU2V0dGluZ3Muc2V0VGFiSW5kZXhBdENhcmRSb290ID0gZmFsc2U7XG5cbiAgICAgICAgQWRhcHRpdmUuQWRhcHRpdmVDYXJkLm9uUHJvY2Vzc01hcmtkb3duID0gKHRleHQ6IHN0cmluZywgcmVzdWx0OiBBZGFwdGl2ZS5JTWFya2Rvd25Qcm9jZXNzaW5nUmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBDYXJkRGVzaWduZXIuaW50ZXJuYWxQcm9jZXNzTWFya2Rvd24odGV4dCwgcmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hvc3RDb250YWluZXJzID0gaG9zdENvbnRhaW5lcnMgPyBob3N0Q29udGFpbmVycyA6IFtdO1xuICAgICAgICB0aGlzLl9kZXZpY2VFbXVsYXRpb25zID0gZGV2aWNlRW11bGF0aW9ucyA/IGRldmljZUVtdWxhdGlvbnMgOiBbXTtcblxuICAgICAgICB0aGlzLnByZXBhcmVUb29sYmFyKCk7XG4gICAgfVxuXG4gICAgbW9uYWNvTW9kdWxlTG9hZGVkKG1vbmFjbzogYW55ID0gbnVsbCkge1xuICAgICAgICBpZiAoIW1vbmFjbykge1xuICAgICAgICAgICAgbW9uYWNvID0gd2luZG93W1wibW9uYWNvXCJdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1vbmFjb0NvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgICBzY2hlbWFzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB1cmk6IFwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW8vc2NoZW1hcy9hZGFwdGl2ZS1jYXJkLmpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBhZGFwdGl2ZUNhcmRTY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVNYXRjaDogW1wiKlwiXSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgdmFsaWRhdGU6IHRydWUsXG4gICAgICAgICAgICBhbGxvd0NvbW1lbnRzOiB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBzZXQgdGhpcyBpbiBvdXIgZWRpdG9yIGluc3RlYWQgb2YgZGVmYXVsdHNcbiAgICAgICAgbW9uYWNvLmxhbmd1YWdlcy5qc29uLmpzb25EZWZhdWx0cy5zZXREaWFnbm9zdGljc09wdGlvbnMobW9uYWNvQ29uZmlndXJhdGlvbik7XG5cbiAgICAgICAgLy8gU2V0dXAgY2FyZCBKU09OIGVkaXRvclxuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVG9vbGJveC5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fY2FyZEVkaXRvclRvb2xib3guY29udGVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwicmVnaW9uXCIpO1xuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVG9vbGJveC5jb250ZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJjYXJkIHBheWxvYWQgZWRpdG9yLCBwcmVzcyBDdHJsK00gdG8gdG9nZ2xlIGJlaGF2aW9yIG9mIHRoZSBUQUIga2V5XCIpO1xuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVG9vbGJveC5jb250ZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtY29kZS1lZGl0b3JcIik7XG5cbiAgICAgICAgdGhpcy5fY2FyZEVkaXRvciA9IG1vbmFjby5lZGl0b3IuY3JlYXRlKFxuICAgICAgICAgICAgdGhpcy5fY2FyZEVkaXRvclRvb2xib3guY29udGVudCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb2xkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMy41LFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgbWluaW1hcDoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX2NhcmRFZGl0b3Iub25EaWRDaGFuZ2VNb2RlbENvbnRlbnQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhcmRFZGl0b3JVcGRhdGVDb3VudGVyID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlVXBkYXRlQ2FyZEZyb21Kc29uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveCkge1xuICAgICAgICAgICAgLy8gU2V0dXAgc2FtcGxlIGRhdGEgSlNPTiBlZGl0b3JcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFFZGl0b3JUb29sYm94LmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3guY29udGVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwicmVnaW9uXCIpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3guY29udGVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwic2FtcGxlIGRhdGEgZWRpdG9yXCIpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3guY29udGVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLWNvZGUtZWRpdG9yXCIpO1xuXG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yID0gbW9uYWNvLmVkaXRvci5jcmVhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3guY29udGVudCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMy41LFxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbWFwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvci5vbkRpZENoYW5nZU1vZGVsQ29udGVudChcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2FtcGxlRGF0YSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sb2NrRGF0YVN0cnVjdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFTdHJ1Y3R1cmUgPSBGaWVsZERlZmluaXRpb24uZGVyaXZlRnJvbShKU09OLnBhcnNlKHRoaXMuZ2V0Q3VycmVudFNhbXBsZURhdGFFZGl0b3JQYXlsb2FkKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTd2FsbG93IGV4Y2VwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3JUb29sYm94KSB7XG4gICAgICAgICAgICAvLyBTZXR1cCBzYW1wbGUgaG9zdCBkYXRhIEpTT04gZWRpdG9yXG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3guY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3guY29udGVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwicmVnaW9uXCIpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3JUb29sYm94LmNvbnRlbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcInNhbXBsZSBob3N0IGRhdGEgZWRpdG9yXCIpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3JUb29sYm94LmNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImFjZC1jb2RlLWVkaXRvclwiKTtcblxuICAgICAgICAgICAgdGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3IgPSBtb25hY28uZWRpdG9yLmNyZWF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3guY29udGVudCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMy41LFxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbWFwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3Iub25EaWRDaGFuZ2VNb2RlbENvbnRlbnQoXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXliZSB3ZSB3YW50IGp1c3QgdXBkYXRlU2FtcGxlRGF0YT9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTYW1wbGVIb3N0RGF0YSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sb2NrRGF0YVN0cnVjdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvc3REYXRhU3RydWN0dXJlID0gRmllbGREZWZpbml0aW9uLmRlcml2ZUZyb20oSlNPTi5wYXJzZSh0aGlzLmdldEN1cnJlbnRTYW1wbGVIb3N0RGF0YUVkaXRvclBheWxvYWQoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3YWxsb3cgZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7IHRoaXMub25SZXNpemUoKTsgfSk7XG5cbiAgICAgICAgdGhpcy5faXNNb25hY29FZGl0b3JMb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlSnNvbkVkaXRvcnNMYXlvdXQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVKc29uRnJvbUNhcmQodHJ1ZSk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8ocm9vdDogSFRNTEVsZW1lbnQpICB7XG4gICAgICAgIGxldCBzdHlsZVNoZWV0TGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgc3R5bGVTaGVldExpbmtFbGVtZW50LmlkID0gXCJfX2FjLWRlc2lnbmVyXCI7XG4gICAgICAgIHN0eWxlU2hlZXRMaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgICAgICAgc3R5bGVTaGVldExpbmtFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICAgIHN0eWxlU2hlZXRMaW5rRWxlbWVudC5ocmVmID0gVXRpbHMuam9pblBhdGhzKHRoaXMuX2Fzc2V0UGF0aCwgXCJhZGFwdGl2ZWNhcmRzLWRlc2lnbmVyLmNzc1wiKTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc3R5bGVTaGVldExpbmtFbGVtZW50KTtcblxuICAgICAgICBpZiAodGhpcy5faG9zdENvbnRhaW5lcnMgJiYgdGhpcy5faG9zdENvbnRhaW5lcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5faG9zdENvbnRhaW5lciA9IHRoaXMuX2hvc3RDb250YWluZXJzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faG9zdENvbnRhaW5lciA9IG5ldyBEZWZhdWx0Q29udGFpbmVyKFwiRGVmYXVsdFwiLCBcImFkYXB0aXZlY2FyZHMtZGVmYXVsdGhvc3QuY3NzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2RldmljZUVtdWxhdGlvbkNob2ljZVBpY2tlcikge1xuICAgICAgICAgICAgdGhpcy5fZGV2aWNlRW11bGF0aW9uQ2hvaWNlUGlja2VyLmlzSGlkZGVuID0gISghIXRoaXMuX2hvc3RDb250YWluZXIuZW5hYmxlRGV2aWNlRW11bGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250YWluZXJTaXplQ2hvaWNlUGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXJTaXplQ2hvaWNlUGlja2VyLmlzSGlkZGVuID0gISghIXRoaXMuaG9zdENvbnRhaW5lci5zdXBwb3J0c011bHRpcGxlU2l6ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lclRoZW1lQ2hvaWNlUGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXJUaGVtZUNob2ljZVBpY2tlci5pc0VuYWJsZWQgPSAhIXRoaXMuaG9zdENvbnRhaW5lci5zdXBwb3J0c011bHRpcGxlVGhlbWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcm9vdC5jbGFzc0xpc3QuYWRkKFwiYWNkLWRlc2lnbmVyLXJvb3RcIik7XG4gICAgICAgIHJvb3Quc3R5bGUuZmxleCA9IFwiMSAxIGF1dG9cIjtcbiAgICAgICAgcm9vdC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIHJvb3Quc3R5bGUuZmxleERpcmVjdGlvbiA9IFwiY29sdW1uXCI7XG4gICAgICAgIHJvb3Quc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXG4gICAgICAgIHJvb3QuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICc8ZGl2IGlkPVwidG9vbGJhckhvc3RcIiByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cInRvb2xiYXJcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGVudFwiPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwibGVmdENvbGxhcHNlZFBhbmVUYWJIb3N0XCIgY2xhc3M9XCJhY2QtdmVydGljYWxDb2xsYXBzZWRUYWJDb250YWluZXIgYWNkLWRvY2tlZExlZnRcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBpZD1cInRvb2xQYWxldHRlUGFuZWxcIiBjbGFzcz1cImFjZC10b29sUGFsZXR0ZS1wYW5lXCIgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9XCJjYXJkIGVsZW1lbnRzXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJhY2QtcHJldmlld1JpZ2h0QW5kQm90dG9tRG9ja3NcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJhY2QtcHJldmlld0FuZEJvdHRvbURvY2tzXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImFjZC1kZXNpZ25lci1jYXJkLWhlYWRlclwiPkNBUkQgUFJFVklFVzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJjYXJkQXJlYVwiIGNsYXNzPVwiYWNkLWRlc2lnbmVyLWNhcmRBcmVhXCIgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9XCJjYXJkIHByZXZpZXdcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImZsZXg6IDEgMSAxMDAlOyBvdmVyZmxvdzogYXV0bztcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJkZXNpZ25lckhvc3RcIiBjbGFzcz1cImFjZC1kZXNpZ25lci1ob3N0XCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwiZXJyb3JQYW5lXCIgY2xhc3M9XCJhY2QtZXJyb3ItcGFuZSBhY2QtaGlkZGVuXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD1cInRyZWVWaWV3UGFuZWxcIiBjbGFzcz1cImFjZC10cmVlVmlldy1wYW5lXCIgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9XCJjYXJkIHN0cnVjdHVyZVwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD1cInByb3BlcnR5U2hlZXRQYW5lbFwiIGNsYXNzPVwiYWNkLXByb3BlcnR5U2hlZXQtcGFuZVwiIHJvbGU9XCJyZWdpb25cIiBhcmlhLWxhYmVsPVwiZWxlbWVudCBwcm9wZXJ0aWVzXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJqc29uRWRpdG9yUGFuZWxcIiBjbGFzcz1cImFjZC1qc29uLWVkaXRvci1wYW5lXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwiYm90dG9tQ29sbGFwc2VkUGFuZVRhYkhvc3RcIiBjbGFzcz1cImFjZC1ob3Jpem9udGFsQ29sbGFwc2VkVGFiQ29udGFpbmVyXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwicmlnaHRDb2xsYXBzZWRQYW5lVGFiSG9zdFwiIGNsYXNzPVwiYWNkLXZlcnRpY2FsQ29sbGFwc2VkVGFiQ29udGFpbmVyIGFjZC1kb2NrZWRSaWdodFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgICAgdGhpcy50b29sYmFyLmF0dGFjaFRvKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9vbGJhckhvc3RcIikpO1xuXG4gICAgICAgIGlmICh0aGlzLl92ZXJzaW9uQ2hvaWNlUGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl92ZXJzaW9uQ2hvaWNlUGlja2VyLnNlbGVjdGVkSW5kZXggPSBTaGFyZWQuR2xvYmFsU2V0dGluZ3Muc3VwcG9ydGVkVGFyZ2V0VmVyc2lvbnMuaW5kZXhPZih0aGlzLnRhcmdldFZlcnNpb24pO1xuICAgICAgICAgICAgdGhpcy5fdmVyc2lvbkNob2ljZVBpY2tlci5vbkNoYW5nZWQgPSAoc2VuZGVyOiBUb29sYmFyQ2hvaWNlUGlja2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRWZXJzaW9uID0gU2hhcmVkLkdsb2JhbFNldHRpbmdzLnN1cHBvcnRlZFRhcmdldFZlcnNpb25zW3BhcnNlSW50KHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIudmFsdWUpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb3B5SlNPTkJ1dHRvbi5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIG5ldyBDbGlwYm9hcmQoXG4gICAgICAgICAgICAgICAgdGhpcy5fY29weUpTT05CdXR0b24ucmVuZGVyZWRFbGVtZW50LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogKHRyaWdnZXIpID0+IEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0Qm91bmRDYXJkKCksIG51bGwsIDQpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJlcnJvclwiLCAoKSA9PiB0aGlzLl9jb3B5SlNPTkJ1dHRvbi5yZW5kZXJlZEVsZW1lbnQuZm9jdXMoKSlcbiAgICAgICAgICAgICAgICAub24oXCJzdWNjZXNzXCIsICgpID0+IHRoaXMuX2NvcHlKU09OQnV0dG9uLnJlbmRlcmVkRWxlbWVudC5mb2N1cygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvb2wgcGFsZXR0ZSBwYW5lbFxuICAgICAgICBsZXQgdG9vbFBhbGV0dGVIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdG9vbFBhbGV0dGVIb3N0LmNsYXNzTmFtZSA9IFwiYWNkLWRvY2tlZFBhbmVcIjtcblxuICAgICAgICB0aGlzLl90b29sUGFsZXR0ZVRvb2xib3ggPSBuZXcgVG9vbGJveChcInRvb2xQYWxldHRlXCIsIFN0cmluZ3MudG9vbGJveGVzLnRvb2xQYWxldHRlLnRpdGxlKTtcbiAgICAgICAgdGhpcy5fdG9vbFBhbGV0dGVUb29sYm94LmNvbnRlbnQgPSB0b29sUGFsZXR0ZUhvc3Q7XG5cbiAgICAgICAgbGV0IHRvb2xQYWxldHRlUGFuZWwgPSBuZXcgU2lkZVBhbmVsKFxuICAgICAgICAgICAgXCJ0b29sUGFsZXR0ZVBhbmVsXCIsXG4gICAgICAgICAgICBTaWRlUGFuZWxBbGlnbm1lbnQuTGVmdCxcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVmdENvbGxhcHNlZFBhbmVUYWJIb3N0XCIpKTtcbiAgICAgICAgdG9vbFBhbGV0dGVQYW5lbC5hZGRUb29sYm94KHRoaXMuX3Rvb2xQYWxldHRlVG9vbGJveCk7XG4gICAgICAgIHRvb2xQYWxldHRlUGFuZWwuaXNSZXNpemFibGUgPSBmYWxzZTtcblxuICAgICAgICB0b29sUGFsZXR0ZVBhbmVsLmF0dGFjaFRvKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9vbFBhbGV0dGVQYW5lbFwiKSk7XG5cbiAgICAgICAgLy8gSlNPTiBlZGl0b3JzIHBhbmVsXG4gICAgICAgIHRoaXMuX2NhcmRFZGl0b3JUb29sYm94ID0gbmV3IFRvb2xib3goXCJjYXJkRWRpdG9yXCIsIFN0cmluZ3MudG9vbGJveGVzLmNhcmRFZGl0b3IudGl0bGUpO1xuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVG9vbGJveC5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fY2FyZEVkaXRvclRvb2xib3guY29udGVudC5zdHlsZS5wYWRkaW5nID0gXCI4cHhcIjtcbiAgICAgICAgdGhpcy5fY2FyZEVkaXRvclRvb2xib3guY29udGVudC5pbm5lclRleHQgPSBTdHJpbmdzLmxvYWRpbmdFZGl0b3I7XG5cbiAgICAgICAgdGhpcy5fanNvbkVkaXRvcnNQYW5lbCA9IG5ldyBTaWRlUGFuZWwoXG4gICAgICAgICAgICBcImpzb25FZGl0b3JQYW5lbFwiLFxuICAgICAgICAgICAgU2lkZVBhbmVsQWxpZ25tZW50LkJvdHRvbSxcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm90dG9tQ29sbGFwc2VkUGFuZVRhYkhvc3RcIikpO1xuICAgICAgICB0aGlzLl9qc29uRWRpdG9yc1BhbmVsLm9uUmVzaXplZCA9IChzZW5kZXI6IFNpZGVQYW5lbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVKc29uRWRpdG9yc0xheW91dCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2pzb25FZGl0b3JzUGFuZWwub25Ub29sYm94UmVzaXplZCA9IChzZW5kZXI6IFNpZGVQYW5lbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVKc29uRWRpdG9yc0xheW91dCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2pzb25FZGl0b3JzUGFuZWwub25Ub29sYm94RXhwYW5kZWRPckNvbGxhcHNlZCA9IChzZW5kZXI6IFNpZGVQYW5lbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVKc29uRWRpdG9yc0xheW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fanNvbkVkaXRvcnNQYW5lbC5hZGRUb29sYm94KHRoaXMuX2NhcmRFZGl0b3JUb29sYm94KTtcblxuICAgICAgICBpZiAoU2hhcmVkLkdsb2JhbFNldHRpbmdzLmVuYWJsZURhdGFCaW5kaW5nU3VwcG9ydCAmJiBTaGFyZWQuR2xvYmFsU2V0dGluZ3Muc2hvd1NhbXBsZURhdGFFZGl0b3JUb29sYm94KSB7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveCA9IG5ldyBUb29sYm94KFwic2FtcGxlRGF0YUVkaXRvclwiLCBTdHJpbmdzLnRvb2xib3hlcy5zYW1wbGVEYXRhRWRpdG9yLnRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFFZGl0b3JUb29sYm94LmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3guY29udGVudC5zdHlsZS5wYWRkaW5nID0gXCI4cHhcIjtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFFZGl0b3JUb29sYm94LmNvbnRlbnQuaW5uZXJUZXh0ID0gU3RyaW5ncy5sb2FkaW5nRWRpdG9yO1xuXG4gICAgICAgICAgICB0aGlzLl9qc29uRWRpdG9yc1BhbmVsLmFkZFRvb2xib3godGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5lbmFibGVEYXRhQmluZGluZ1N1cHBvcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZUhvc3REYXRhRWRpdG9yVG9vbGJveCA9IG5ldyBUb29sYm94KFwic2FtcGxlSG9zdERhdGFFZGl0b3JcIiwgU3RyaW5ncy50b29sYm94ZXMuc2FtcGxlSG9zdERhdGFFZGl0b3IudGl0bGUpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3JUb29sYm94LmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlSG9zdERhdGFFZGl0b3JUb29sYm94LmNvbnRlbnQuc3R5bGUucGFkZGluZyA9IFwiOHB4XCI7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3guY29udGVudC5pbm5lclRleHQgPSBTdHJpbmdzLmxvYWRpbmdFZGl0b3I7XG5cbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZUhvc3REYXRhRWRpdG9yVG9vbGJveC5pc1Zpc2libGUgPSBTaGFyZWQuR2xvYmFsU2V0dGluZ3Muc2hvd1NhbXBsZUhvc3REYXRhRWRpdG9yVG9vbGJveCAmJiAodGhpcy5faG9zdENvbnRhaW5lciBpbnN0YW5jZW9mIFdpZGdldENvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIHRoaXMuX2pzb25FZGl0b3JzUGFuZWwuYWRkVG9vbGJveCh0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fanNvbkVkaXRvcnNQYW5lbC5hdHRhY2hUbyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImpzb25FZGl0b3JQYW5lbFwiKSk7XG5cbiAgICAgICAgLy8gUHJvcGVydHkgc2hlZXQgcGFuZWxcbiAgICAgICAgbGV0IHByb3BlcnR5U2hlZXRIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcHJvcGVydHlTaGVldEhvc3QuY2xhc3NOYW1lID0gXCJhY2QtcHJvcGVydHlTaGVldC1ob3N0XCI7XG5cbiAgICAgICAgdGhpcy5fcHJvcGVydHlTaGVldFRvb2xib3ggPSBuZXcgVG9vbGJveChcInByb3BlcnR5U2hlZXRcIiwgU3RyaW5ncy50b29sYm94ZXMucHJvcGVydHlTaGVldC50aXRsZSk7XG4gICAgICAgIHRoaXMuX3Byb3BlcnR5U2hlZXRUb29sYm94LmNvbnRlbnQgPSBwcm9wZXJ0eVNoZWV0SG9zdDtcblxuICAgICAgICBsZXQgcHJvcGVydHlTaGVldFBhbmVsID0gbmV3IFNpZGVQYW5lbChcbiAgICAgICAgICAgIFwicHJvcGVydHlTaGVldFBhbmVsXCIsXG4gICAgICAgICAgICBTaWRlUGFuZWxBbGlnbm1lbnQuUmlnaHQsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJpZ2h0Q29sbGFwc2VkUGFuZVRhYkhvc3RcIikpO1xuICAgICAgICBwcm9wZXJ0eVNoZWV0UGFuZWwuYWRkVG9vbGJveCh0aGlzLl9wcm9wZXJ0eVNoZWV0VG9vbGJveCk7XG4gICAgICAgIHByb3BlcnR5U2hlZXRQYW5lbC5vblJlc2l6ZWQgPSAoc2VuZGVyOiBTaWRlUGFuZWwpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVMYXlvdXRVcGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXRQYW5lbC5hdHRhY2hUbyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb3BlcnR5U2hlZXRQYW5lbFwiKSk7XG5cbiAgICAgICAgLy8gVHJlZSB2aWV3IHBhbmVsXG4gICAgICAgIGxldCB0cmVlVmlld0hvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0cmVlVmlld0hvc3QuY2xhc3NOYW1lID0gXCJhY2QtdHJlZVZpZXctaG9zdFwiO1xuXG4gICAgICAgIHRoaXMuX3RyZWVWaWV3VG9vbGJveCA9IG5ldyBUb29sYm94KFwidHJlZVZpZXdcIiwgU3RyaW5ncy50b29sYm94ZXMuY2FyZFN0cnVjdHVyZS50aXRsZSk7XG4gICAgICAgIHRoaXMuX3RyZWVWaWV3VG9vbGJveC5jb250ZW50ID0gdHJlZVZpZXdIb3N0O1xuXG4gICAgICAgIGxldCB0cmVlVmlld1BhbmVsID0gbmV3IFNpZGVQYW5lbChcbiAgICAgICAgICAgIFwidHJlZVZpZXdQYW5lbFwiLFxuICAgICAgICAgICAgU2lkZVBhbmVsQWxpZ25tZW50LlJpZ2h0LFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyaWdodENvbGxhcHNlZFBhbmVUYWJIb3N0XCIpKTtcbiAgICAgICAgdHJlZVZpZXdQYW5lbC5hZGRUb29sYm94KHRoaXMuX3RyZWVWaWV3VG9vbGJveCk7XG4gICAgICAgIHRyZWVWaWV3UGFuZWwub25SZXNpemVkID0gKHNlbmRlcjogU2lkZVBhbmVsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlTGF5b3V0VXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU2hhcmVkLkdsb2JhbFNldHRpbmdzLmVuYWJsZURhdGFCaW5kaW5nU3VwcG9ydCAmJiBTaGFyZWQuR2xvYmFsU2V0dGluZ3Muc2hvd0RhdGFTdHJ1Y3R1cmVUb29sYm94KSB7XG4gICAgICAgICAgICBsZXQgZGF0YUV4cGxvcmVySG9zdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkYXRhRXhwbG9yZXJIb3N0LmNsYXNzTmFtZSA9IFwiYWNkLXRyZWVWaWV3LWhvc3RcIjtcblxuICAgICAgICAgICAgdGhpcy5fZGF0YVRvb2xib3ggPSBuZXcgVG9vbGJveChcImRhdGFcIiwgU3RyaW5ncy50b29sYm94ZXMuZGF0YVN0cnVjdHVyZS50aXRsZSk7XG4gICAgICAgICAgICB0aGlzLl9kYXRhVG9vbGJveC5jb250ZW50ID0gZGF0YUV4cGxvcmVySG9zdDtcblxuICAgICAgICAgICAgdHJlZVZpZXdQYW5lbC5hZGRUb29sYm94KHRoaXMuX2RhdGFUb29sYm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyZWVWaWV3UGFuZWwuYXR0YWNoVG8oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmVlVmlld1BhbmVsXCIpKTtcblxuICAgICAgICB0aGlzLl9kZXNpZ25lckhvc3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNpZ25lckhvc3RcIik7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCAoZTogUG9pbnRlckV2ZW50KSA9PiB7IHRoaXMuaGFuZGxlUG9pbnRlck1vdmUoZSk7IH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7IHRoaXMuc2NoZWR1bGVMYXlvdXRVcGRhdGUoKTsgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIChlOiBQb2ludGVyRXZlbnQpID0+IHsgdGhpcy5oYW5kbGVQb2ludGVyVXAoZSk7IH0pO1xuXG4gICAgICAgIHRoaXMuX2lzQXR0YWNoZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMucmVjcmVhdGVEZXNpZ25lclN1cmZhY2UoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBbmRBZGRTYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3goKSB7XG4gICAgICAgIHRoaXMuX3NhbXBsZUhvc3REYXRhRWRpdG9yVG9vbGJveCA9IG5ldyBUb29sYm94KFwic2FtcGxlSG9zdERhdGFFZGl0b3JcIiwgU3RyaW5ncy50b29sYm94ZXMuc2FtcGxlSG9zdERhdGFFZGl0b3IudGl0bGUpO1xuICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3guY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX3NhbXBsZUhvc3REYXRhRWRpdG9yVG9vbGJveC5jb250ZW50LnN0eWxlLnBhZGRpbmcgPSBcIjhweFwiO1xuICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YUVkaXRvclRvb2xib3guY29udGVudC5pbm5lclRleHQgPSBTdHJpbmdzLmxvYWRpbmdFZGl0b3I7XG5cbiAgICAgICAgdGhpcy5fanNvbkVkaXRvcnNQYW5lbC5hZGRUb29sYm94KHRoaXMuX3NhbXBsZUhvc3REYXRhRWRpdG9yVG9vbGJveCk7XG4gICAgfVxuXG4gICAgY2xlYXJVbmRvU3RhY2soKSB7XG4gICAgICAgIHRoaXMuX3VuZG9TdGFjayA9IFtdO1xuICAgICAgICB0aGlzLl91bmRvU3RhY2tJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLnVwZGF0ZVRvb2xiYXIoKTtcbiAgICB9XG5cbiAgICBzZXRDYXJkKHBheWxvYWQ6IG9iamVjdCkge1xuICAgICAgICB0aGlzLmNsZWFyVW5kb1N0YWNrKCk7XG4gICAgICAgIHRoaXMuc2V0Q2FyZFBheWxvYWQocGF5bG9hZCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgZ2V0Q2FyZCgpOiBvYmplY3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzaWduZXJTdXJmYWNlID8gdGhpcy5fZGVzaWduZXJTdXJmYWNlLmdldENhcmRQYXlsb2FkQXNPYmplY3QoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXRCb3VuZENhcmQoKTogb2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZSA/IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5nZXRCb3VuZENhcmRQYXlsb2FkQXNPYmplY3QoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICBpZiAodGhpcy5jYW5VbmRvKSB7XG4gICAgICAgICAgICB0aGlzLl91bmRvU3RhY2tJbmRleC0tO1xuXG4gICAgICAgICAgICBsZXQgY2FyZCA9IHRoaXMuX3VuZG9TdGFja1t0aGlzLl91bmRvU3RhY2tJbmRleF07XG5cbiAgICAgICAgICAgIHRoaXMuc2V0Q2FyZFBheWxvYWQoY2FyZCwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUb29sYmFyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWRvKCkge1xuICAgICAgICBpZiAodGhpcy5fdW5kb1N0YWNrSW5kZXggPCB0aGlzLl91bmRvU3RhY2subGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5fdW5kb1N0YWNrSW5kZXgrKztcblxuICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB0aGlzLl91bmRvU3RhY2tbdGhpcy5fdW5kb1N0YWNrSW5kZXhdO1xuXG4gICAgICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkKHBheWxvYWQsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVG9vbGJhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd0hlbHAoKSB7XG4gICAgICAgIGxldCBoZWxwRGlhbG9nID0gbmV3IEhlbHBEaWFsb2coKTtcbiAgICAgICAgaGVscERpYWxvZy50aXRsZSA9IFwiSGVscFwiO1xuICAgICAgICBoZWxwRGlhbG9nLm9wZW4oKTtcbiAgICB9XG5cbiAgICBuZXdDYXJkKCkge1xuICAgICAgICBsZXQgY2FyZCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiQWRhcHRpdmVDYXJkXCIsXG4gICAgICAgICAgICAkc2NoZW1hOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCIsXG4gICAgICAgICAgICB2ZXJzaW9uOiB0aGlzLnRhcmdldFZlcnNpb24udG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGJvZHk6IFtcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0Q2FyZFBheWxvYWQoY2FyZCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgb25DYXJkUGF5bG9hZENoYW5nZWQ6IChkZXNpZ25lcjogQ2FyZERlc2lnbmVyKSA9PiB2b2lkO1xuICAgIG9uQ2FyZFZhbGlkYXRlZDogKGRlc2lnbmVyOiBDYXJkRGVzaWduZXIsIHZhbGlkYXRpb25Mb2dFbnRyaWVzOiBBZGFwdGl2ZS5JVmFsaWRhdGlvbkV2ZW50W10pID0+IHZvaWQ7XG4gICAgb25BY3RpdmVIb3N0Q29udGFpbmVyQ2hhbmdlZDogKGRlc2lnbmVyOiBDYXJkRGVzaWduZXIpID0+IHZvaWQ7XG4gICAgb25UYXJnZXRWZXJzaW9uQ2hhbmdlZDogKGRlc2lnbmVyOiBDYXJkRGVzaWduZXIpID0+IHZvaWQ7XG5cbiAgICBnZXQgdGFyZ2V0VmVyc2lvbigpOiBBZGFwdGl2ZS5WZXJzaW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldFZlcnNpb247XG4gICAgfVxuXG4gICAgc2V0IHRhcmdldFZlcnNpb24odmFsdWU6IEFkYXB0aXZlLlZlcnNpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX3RhcmdldFZlcnNpb24uY29tcGFyZVRvKHZhbHVlKSAhPT0gMCAmJiAhdGhpcy5fcHJldmVudFJlY3Vyc2l2ZVNldFRhcmdldFZlcnNpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZlbnRSZWN1cnNpdmVTZXRUYXJnZXRWZXJzaW9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRWZXJzaW9uID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFZlcnNpb25DaGFuZ2VkKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmVyc2lvbkNob2ljZVBpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92ZXJzaW9uQ2hvaWNlUGlja2VyLnNlbGVjdGVkSW5kZXggPSBTaGFyZWQuR2xvYmFsU2V0dGluZ3Muc3VwcG9ydGVkVGFyZ2V0VmVyc2lvbnMuaW5kZXhPZih0aGlzLl90YXJnZXRWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2ZW50UmVjdXJzaXZlU2V0VGFyZ2V0VmVyc2lvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGRhdGFTdHJ1Y3R1cmUoKTogRmllbGREZWZpbml0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFTdHJ1Y3R1cmU7XG4gICAgfVxuXG4gICAgc2V0IGRhdGFTdHJ1Y3R1cmUodmFsdWU6IEZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLl9kYXRhU3RydWN0dXJlID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5idWlsZERhdGFFeHBsb3JlcigpO1xuICAgIH1cblxuICAgIGdldCBob3N0RGF0YVN0cnVjdHVyZSgpOiBGaWVsZERlZmluaXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5faG9zdERhdGFTdHJ1Y3R1cmU7XG4gICAgfVxuXG4gICAgc2V0IGhvc3REYXRhU3RydWN0dXJlKHZhbHVlOiBGaWVsZERlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy5faG9zdERhdGFTdHJ1Y3R1cmUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgc2FtcGxlRGF0YSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2FtcGxlRGF0YTtcbiAgICB9XG5cbiAgICBzZXQgc2FtcGxlRGF0YSh2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuX3NhbXBsZURhdGEgPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLnNldFNhbXBsZURhdGFQYXlsb2FkKHZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXQgc2FtcGxlSG9zdERhdGEoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhbXBsZUhvc3REYXRhRWRpdG9yVG9vbGJveC5pc1Zpc2libGUgPyB0aGlzLl9zYW1wbGVIb3N0RGF0YSA6IFwie31cIjtcbiAgICB9XG5cbiAgICBzZXQgc2FtcGxlSG9zdERhdGEodmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLl9zYW1wbGVIb3N0RGF0YSA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMuc2V0U2FtcGxlSG9zdERhdGFQYXlsb2FkKHZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXQgYmluZGluZ1ByZXZpZXdNb2RlKCk6IERlc2lnbmVyLkJpbmRpbmdQcmV2aWV3TW9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nUHJldmlld01vZGU7XG4gICAgfVxuXG4gICAgc2V0IGJpbmRpbmdQcmV2aWV3TW9kZSh2YWx1ZTogRGVzaWduZXIuQmluZGluZ1ByZXZpZXdNb2RlKSB7XG4gICAgICAgIHRoaXMuX2JpbmRpbmdQcmV2aWV3TW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBob3N0Q29udGFpbmVyKCk6IEhvc3RDb250YWluZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faG9zdENvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBzZXQgaG9zdENvbnRhaW5lcih2YWx1ZTogSG9zdENvbnRhaW5lcikge1xuICAgICAgICBpZiAodGhpcy5faG9zdENvbnRhaW5lciAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hvc3RDb250YWluZXIgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVIb3N0Q29udGFpbmVyQ2hhbmdlZCgpO1xuXG4gICAgICAgICAgICBpZiAoU2hhcmVkLkdsb2JhbFNldHRpbmdzLnNlbGVjdGVkSG9zdENvbnRhaW5lckNvbnRyb2xzVGFyZ2V0VmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0VmVyc2lvbiA9IHRoaXMuX2hvc3RDb250YWluZXIudGFyZ2V0VmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBkZXZpY2VFbXVsYXRpb24oKTogRGV2aWNlRW11bGF0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RldmljZUVtdWxhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgZGV2aWNlRW11bGF0aW9uKHZhbHVlOiBEZXZpY2VFbXVsYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2RldmljZUVtdWxhdGlvbiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RldmljZUVtdWxhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVEZXZpY2VFbXVsYXRpb25DaGFuZ2VkKCk7XG4gICAgICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UudXBkYXRlTGF5b3V0KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGNhblVuZG8oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl91bmRvU3RhY2tJbmRleCA+PSAxO1xuICAgIH1cblxuICAgIGdldCBjYW5SZWRvKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdW5kb1N0YWNrSW5kZXggPCB0aGlzLl91bmRvU3RhY2subGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBnZXQgZGVzaWduZXJTdXJmYWNlKCk6IERlc2lnbmVyLkNhcmREZXNpZ25lclN1cmZhY2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzaWduZXJTdXJmYWNlO1xuICAgIH1cblxuICAgIGdldCB0cmVlVmlld1Rvb2xib3goKTogVG9vbGJveCB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmVlVmlld1Rvb2xib3g7XG4gICAgfVxuXG4gICAgZ2V0IHByb3BlcnR5U2hlZXRUb29sYm94KCk6IFRvb2xib3gge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydHlTaGVldFRvb2xib3g7XG4gICAgfVxuXG4gICAgZ2V0IGpzb25FZGl0b3JUb29sYm94KCk6IFRvb2xib3gge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZEVkaXRvclRvb2xib3g7XG4gICAgfVxuXG4gICAgZ2V0IHRvb2xQYWxldHRlVG9vbGJveCgpOiBUb29sYm94IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rvb2xQYWxldHRlVG9vbGJveDtcbiAgICB9XG5cbiAgICBnZXQgZGF0YVRvb2xib3goKTogVG9vbGJveCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhVG9vbGJveDtcbiAgICB9XG5cbiAgICBnZXQgYXNzZXRQYXRoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hc3NldFBhdGg7XG4gICAgfVxuXG4gICAgc2V0IGFzc2V0UGF0aCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2Fzc2V0UGF0aCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBjdXN0b21QYWxldHRlSXRlbXMoKTogQ3VzdG9tUGFsZXR0ZUl0ZW1bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21QZWxldHRlSXRlbXM7XG4gICAgfVxuXG4gICAgc2V0IGN1c3RvbVBhbGV0dGVJdGVtcyh2YWx1ZTogQ3VzdG9tUGFsZXR0ZUl0ZW1bXSkge1xuICAgICAgICB0aGlzLl9jdXN0b21QZWxldHRlSXRlbXMgPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLmJ1aWxkUGFsZXR0ZSgpO1xuICAgIH1cblxuICAgIGdldCBzYW1wbGVDYXRhbG9ndWVVcmwoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhbXBsZUNhdGFsb2d1ZS51cmw7XG4gICAgfVxuXG4gICAgc2V0IHNhbXBsZUNhdGFsb2d1ZVVybCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3NhbXBsZUNhdGFsb2d1ZS51cmwgPSB2YWx1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBtb2R1bGUgQ2FyZERlc2lnbmVyIHtcbiAgICBleHBvcnQgY2xhc3MgVG9vbGJhckNvbW1hbmRzIHtcbiAgICAgICAgc3RhdGljIHJlYWRvbmx5IEhvc3RBcHBQaWNrZXIgPSBcIl9faG9zdEFwcFBpY2tlclwiO1xuICAgICAgICBzdGF0aWMgcmVhZG9ubHkgRGV2aWNlRW11bGF0aW9uUGlja2VyID0gXCJfX2RldmljZUVtdWxhdGlvblBpY2tlclwiO1xuICAgICAgICBzdGF0aWMgcmVhZG9ubHkgVmVyc2lvblBpY2tlciA9IFwiX192ZXJzaW9uUGlja2VyXCI7XG4gICAgICAgIHN0YXRpYyByZWFkb25seSBVbmRvID0gXCJfX3VuZG9CdXR0b25cIjtcbiAgICAgICAgc3RhdGljIHJlYWRvbmx5IFJlZG8gPSBcIl9fcmVkb0J1dHRvblwiO1xuICAgICAgICBzdGF0aWMgcmVhZG9ubHkgTmV3Q2FyZCA9IFwiX19uZXdDYXJkQnV0dG9uXCI7XG4gICAgICAgIHN0YXRpYyByZWFkb25seSBDb3B5SlNPTiA9IFwiX19jb3B5SnNvbkJ1dHRvblwiO1xuICAgICAgICBzdGF0aWMgcmVhZG9ubHkgVG9nZ2xlUHJldmlldyA9IFwiX190b2dnbGVQcmV2aWV3QnV0dG9uXCI7XG4gICAgICAgIHN0YXRpYyByZWFkb25seSBIZWxwID0gXCJfX2hlbHBCdXR0b25cIjtcbiAgICAgICAgc3RhdGljIHJlYWRvbmx5IENvbnRhaW5lclNpemVQaWNrZXIgPSBcIl9fY29udGFpbmVyU2l6ZVBpY2tlclwiO1xuICAgICAgICBzdGF0aWMgcmVhZG9ubHkgQ29udGFpbmVyVGhlbWVQaWNrZXIgPSBcIl9fY29udGFpbmVyVGhlbWVQaWNrZXJcIjtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgRG93bmxvYWRlciB9IGZyb20gXCIuL2Rvd25sb2FkZXJcIjtcblxuZXhwb3J0IGNsYXNzIENhdGFsb2d1ZUVudHJ5IHtcbiAgICBwcml2YXRlIF9jYXJkUGF5bG9hZDogc3RyaW5nO1xuICAgIHByaXZhdGUgX2NhcmRQYXlsb2FkRG93bmxvYWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX3NhbXBsZURhdGE6IHN0cmluZztcbiAgICBwcml2YXRlIF9zYW1wbGVEYXRhRG93bmxvYWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2NhcmRJZDogc3RyaW5nO1xuXG4gICAgcHJpdmF0ZSBkb3dubG9hZENvbXBsZXRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhcmRQYXlsb2FkRG93bmxvYWRlZCAmJiB0aGlzLl9zYW1wbGVEYXRhRG93bmxvYWRlZCAmJiB0aGlzLm9uRG93bmxvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5vbkRvd25sb2FkZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYW1wbGVEYXRhVXJsPzogc3RyaW5nO1xuXG4gICAgb25Eb3dubG9hZGVkOiAoc2VuZGVyOiBDYXRhbG9ndWVFbnRyeSkgPT4gdm9pZCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nLCByZWFkb25seSBjYXJkUGF5bG9hZFVybDogc3RyaW5nLCBzYW1wbGVEYXRhVXJsPzogc3RyaW5nLCBjYXJkSWQ/OnN0cmluZykge1xuICAgICAgICB0aGlzLnNhbXBsZURhdGFVcmwgPSBzYW1wbGVEYXRhVXJsO1xuICAgICAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XG4gICAgfVxuXG4gICAgZG93bmxvYWQoKSB7XG4gICAgICAgIGxldCBjYXJkUGF5bG9hZERvd25sb2FkQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNhbXBsZURhdGFEb3dubG9hZENvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhcmRQYXlsb2FkRG93bmxvYWRlZCkge1xuICAgICAgICAgICAgbGV0IHBheWxvYWREb3dubG9hZGVyID0gbmV3IERvd25sb2FkZXIodGhpcy5jYXJkUGF5bG9hZFVybCk7XG4gICAgICAgICAgICBwYXlsb2FkRG93bmxvYWRlci5vblN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZFBheWxvYWQgPSBwYXlsb2FkRG93bmxvYWRlci5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhcmRQYXlsb2FkRG93bmxvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkQ29tcGxldGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXlsb2FkRG93bmxvYWRlci5vbkVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhcmRQYXlsb2FkRG93bmxvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkQ29tcGxldGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXlsb2FkRG93bmxvYWRlci5kb3dubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FyZFBheWxvYWREb3dubG9hZENvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNhbXBsZURhdGFVcmwgJiYgIXRoaXMuc2FtcGxlRGF0YURvd25sb2FkZWQpIHtcbiAgICAgICAgICAgIGxldCBzYW1wbGVEYXRhRG93bmxvYWRlciA9IG5ldyBEb3dubG9hZGVyKHRoaXMuc2FtcGxlRGF0YVVybCk7XG4gICAgICAgICAgICBzYW1wbGVEYXRhRG93bmxvYWRlci5vblN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YSA9IHNhbXBsZURhdGFEb3dubG9hZGVyLmRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YURvd25sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZENvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2FtcGxlRGF0YURvd25sb2FkZXIub25FcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRG93bmxvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkQ29tcGxldGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYW1wbGVEYXRhRG93bmxvYWRlci5kb3dubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YURvd25sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBzYW1wbGVEYXRhRG93bmxvYWRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FyZFBheWxvYWREb3dubG9hZENvbXBsZXRlICYmIHNhbXBsZURhdGFEb3dubG9hZENvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRvd25sb2FkQ29tcGxldGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgY2FyZFBheWxvYWREb3dubG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZFBheWxvYWREb3dubG9hZGVkO1xuICAgIH1cblxuXG4gICAgZ2V0IGNhcmRJZCgpOiBzdHJpbmcgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRJZDtcbiAgICB9XG5cbiAgICBnZXQgY2FyZFBheWxvYWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRQYXlsb2FkO1xuICAgIH1cblxuICAgIGdldCBzYW1wbGVEYXRhRG93bmxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhbXBsZURhdGFEb3dubG9hZGVkO1xuICAgIH1cblxuICAgIGdldCBzYW1wbGVEYXRhKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYW1wbGVEYXRhO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNhbXBsZUNhdGFsb2d1ZSB7XG4gICAgcHJpdmF0ZSBfZW50cmllczogQ2F0YWxvZ3VlRW50cnlbXSA9IFtdO1xuICAgIHByaXZhdGUgX2lzRG93bmxvYWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX3VybDogc3RyaW5nO1xuXG4gICAgcHJpdmF0ZSBkb3dubG9hZGVkKCkge1xuICAgICAgICB0aGlzLl9pc0Rvd25sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLm9uRG93bmxvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5vbkRvd25sb2FkZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHBhcnNlKGlucHV0OiBhbnkpIHtcbiAgICAgICAgbGV0IGVudHJpZXM6IGFueVtdID0gbnVsbDtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIGVudHJpZXMgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVudHJpZXMgPSBBcnJheS5pc0FycmF5KGlucHV0W1wiZW50cmllc1wiXSkgPyBpbnB1dFtcImVudHJpZXNcIl0gOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZW50cmllcyA9IFtdO1xuXG4gICAgICAgIGlmIChlbnRyaWVzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVudHJ5ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5TmFtZSA9IEFkYXB0aXZlLnBhcnNlU3RyaW5nKGVudHJ5W1wiZGlzcGxheU5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2FyZFBheWxvYWRVcmwgPSBBZGFwdGl2ZS5wYXJzZVN0cmluZyhlbnRyeVtcImNhcmRQYXlsb2FkVXJsXCJdKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU5hbWUgJiYgY2FyZFBheWxvYWRVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VudHJpZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2F0YWxvZ3VlRW50cnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkUGF5bG9hZFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRhcHRpdmUucGFyc2VTdHJpbmcoZW50cnlbXCJkYXRhU2FtcGxlVXJsXCJdKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Eb3dubG9hZGVkOiAoc2VuZGVyOiBTYW1wbGVDYXRhbG9ndWUpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZyA9IFwiLi9zYW1wbGUtY2F0YWxvZ3VlLmpzb25cIikge1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICB9XG5cbiAgICBkb3dubG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93bmxvYWRlZCkge1xuICAgICAgICAgICAgbGV0IGRvd25sb2FkZXIgPSBuZXcgRG93bmxvYWRlcih0aGlzLnVybCk7XG4gICAgICAgICAgICBkb3dubG9hZGVyLm9uRXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VudHJpZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZGVkKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG93bmxvYWRlci5vblN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRvd25sb2FkZXIuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZShKU09OLnBhcnNlKGRvd25sb2FkZXIuZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTd2FsbG93IHRoZSBlcnJvclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZGVkKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG93bmxvYWRlci5kb3dubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kb3dubG9hZGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaXNEb3dubG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEb3dubG9hZGVkO1xuICAgIH1cblxuICAgIGdldCBlbnRyaWVzKCk6IENhdGFsb2d1ZUVudHJ5W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW50cmllcztcbiAgICB9XG5cbiAgICBnZXQgdXJsKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cmw7XG4gICAgfVxuXG4gICAgc2V0IHVybCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXJsKSB7XG4gICAgICAgICAgICB0aGlzLl91cmwgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdGhpcy5faXNEb3dubG9hZGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmV4cG9ydCBjb25zdCBvdGhlclRlc3RQYXlsb2FkOiBzdHJpbmcgPSBge1xuXHRcIiRzY2hlbWFcIjogXCJodHRwOi8vYWRhcHRpdmVjYXJkcy5pby9zY2hlbWFzL2FkYXB0aXZlLWNhcmQuanNvblwiLFxuXHRcInR5cGVcIjogXCJBZGFwdGl2ZUNhcmRcIixcblx0XCJ2ZXJzaW9uXCI6IFwiMS4wXCIsXG5cdFwiYm9keVwiOiBbXG5cdFx0e1xuXHRcdFx0XCJ0eXBlXCI6IFwiQWN0aW9uU2V0XCIsXG5cdFx0XHRcImFjdGlvbnNcIjogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0XCJ0eXBlXCI6IFwiQWN0aW9uLlNob3dDYXJkXCIsXG5cdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIlNldCBkdWUgZGF0ZVwiLFxuXHRcdFx0XHRcdFwiY2FyZFwiOiB7XG5cdFx0XHRcdFx0XHRcInR5cGVcIjogXCJBZGFwdGl2ZUNhcmRcIixcblx0XHRcdFx0XHRcdFwiYm9keVwiOiBbXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcInR5cGVcIjogXCJJbnB1dC5EYXRlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJpZFwiOiBcImR1ZURhdGVcIixcblx0XHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiU2VsZWN0IGR1ZSBkYXRlXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFwidHlwZVwiOiBcIklucHV0LlRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcImlkXCI6IFwiY29tbWVudFwiLFxuXHRcdFx0XHRcdFx0XHRcdFwiaXNNdWx0aWxpbmVcIjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcInBsYWNlaG9sZGVyXCI6IFwiQWRkIGEgY29tbWVudFwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0XHRcImFjdGlvbnNcIjogW1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwiQWN0aW9uLk9wZW5VcmxcIixcblx0XHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiT0tcIixcblx0XHRcdFx0XHRcdFx0XHRcInVybFwiOiBcImh0dHBzOi8vYWRhcHRpdmVjYXJkcy5pb1wiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRcInR5cGVcIjogXCJBY3Rpb24uT3BlblVybFwiLFxuXHRcdFx0XHRcdFwidGl0bGVcIjogXCJWaWV3XCIsXG5cdFx0XHRcdFx0XCJ1cmxcIjogXCJodHRwczovL2FkYXB0aXZlY2FyZHMuaW9cIlxuXHRcdFx0XHR9XG5cdFx0XHRdXG5cdFx0fVxuXHRdXG59YDtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRQYXlsb2FkOiBzdHJpbmcgPSBge1xuICAgIFwidHlwZVwiOiBcIkFkYXB0aXZlQ2FyZFwiLFxuICAgIFwiYm9keVwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgXCJzaXplXCI6IFwiTWVkaXVtXCIsXG4gICAgICAgICAgICBcIndlaWdodFwiOiBcIkJvbGRlclwiLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiUHVibGlzaCBBZGFwdGl2ZSBDYXJkIHNjaGVtYVwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkNvbHVtblNldFwiLFxuICAgICAgICAgICAgXCJjb2x1bW5zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJJbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVcIjogXCJQZXJzb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImh0dHBzOi8vbWF0dGhpZGluZ2VyLmNvbS9pbWFnZXMvYmlvLXBob3RvLmpwZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVwiOiBcIlNtYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgXCJ3aWR0aFwiOiBcImF1dG9cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJDb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWlnaHRcIjogXCJCb2xkZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJNYXR0IEhpZGluZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3cmFwXCI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFjaW5nXCI6IFwiTm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIkNyZWF0ZWQge3tEQVRFKDIwMTctMDItMTRUMDY6MDg6MzlaLFNIT1JUKX19XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpc1N1YnRsZVwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid3JhcFwiOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIFwid2lkdGhcIjogXCJzdHJldGNoXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiTm93IHRoYXQgd2UgaGF2ZSBkZWZpbmVkIHRoZSBtYWluIHJ1bGVzIGFuZCBmZWF0dXJlcyBvZiB0aGUgZm9ybWF0LCB3ZSBuZWVkIHRvIHByb2R1Y2UgYSBzY2hlbWEgYW5kIHB1Ymxpc2ggaXQgdG8gR2l0SHViLiBUaGUgc2NoZW1hIHdpbGwgYmUgdGhlIHN0YXJ0aW5nIHBvaW50IG9mIG91ciByZWZlcmVuY2UgZG9jdW1lbnRhdGlvbi5cIixcbiAgICAgICAgICAgIFwid3JhcFwiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkZhY3RTZXRcIixcbiAgICAgICAgICAgIFwiZmFjdHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkJvYXJkOlwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiQWRhcHRpdmUgQ2FyZFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJMaXN0OlwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiQmFja2xvZ1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJBc3NpZ25lZCB0bzpcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIk1hdHQgSGlkaW5nZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiRHVlIGRhdGU6XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJOb3Qgc2V0XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdLFxuICAgIFwiYWN0aW9uc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkFjdGlvbi5TaG93Q2FyZFwiLFxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlNldCBkdWUgZGF0ZVwiLFxuICAgICAgICAgICAgXCJjYXJkXCI6IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJBZGFwdGl2ZUNhcmRcIixcbiAgICAgICAgICAgICAgICBcImJvZHlcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJJbnB1dC5EYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwiZHVlRGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIklucHV0LlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBsYWNlaG9sZGVyXCI6IFwiQWRkIGEgY29tbWVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpc011bHRpbGluZVwiOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwiYWN0aW9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkFjdGlvbi5PcGVuVXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiT0tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW9cIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcIiRzY2hlbWFcIjogXCJodHRwOi8vYWRhcHRpdmVjYXJkcy5pby9zY2hlbWFzL2FkYXB0aXZlLWNhcmQuanNvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkFjdGlvbi5PcGVuVXJsXCIsXG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiVmlld1wiLFxuICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwOi8vYWRhcHRpdmVjYXJkcy5pb1wiXG4gICAgICAgIH1cbiAgICBdLFxuICAgIFwiJHNjaGVtYVwiOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS4wXCJcbn1gO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFRlbXBsYXRlUGF5bG9hZDogc3RyaW5nID0gYHtcbiAgICBcInR5cGVcIjogXCJBZGFwdGl2ZUNhcmRcIixcbiAgICBcImJvZHlcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJDb250YWluZXJcIixcbiAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIlRoaXMgZXhhbXBsZSB1c2VzIFtBZGFwdGl2ZSBDYXJkIFRlbXBsYXRpbmddKGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2FkYXB0aXZlLWNhcmRzL3RlbXBsYXRpbmcvKSAqKFByZXZpZXcpKlwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogXCJNZWRpdW1cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ3cmFwXCI6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIkNsaWNrIHRoZSAqKlByZXZpZXcgbW9kZSoqIHRvb2xiYXIgYnV0dG9uIHRvIHNlZSB0aGUgY2FyZCBib3VuZCB0byB0aGUgKipTYW1wbGUgRGF0YSoqIGluIHRoZSBsb3dlci1yaWdodC4gU2FtcGxlIERhdGEgaGVscHMgZGVzaWduIHlvdXIgY2FyZCBieSBzaW11bGF0aW5nIHRoZSByZWFsIGRhdGEuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwid3JhcFwiOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJXaGVuIHlvdSdyZSByZWFkeSB0byBwb3B1bGF0ZSBpdCB3aXRoIHJlYWwgZGF0YSwgdXNlIHRoZSBBZGFwdGl2ZSBDYXJkIFt0ZW1wbGF0aW5nIFNES3NdKGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2FkYXB0aXZlLWNhcmRzL3RlbXBsYXRpbmcvc2RrKS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ3cmFwXCI6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcImdvb2RcIixcbiAgICAgICAgICAgIFwiYmxlZWRcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJUZXh0QmxvY2tcIixcbiAgICAgICAgICAgIFwic2l6ZVwiOiBcIk1lZGl1bVwiLFxuICAgICAgICAgICAgXCJ3ZWlnaHRcIjogXCJCb2xkZXJcIixcbiAgICAgICAgICAgIFwidGV4dFwiOiBcInt0aXRsZX1cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJDb2x1bW5TZXRcIixcbiAgICAgICAgICAgIFwiY29sdW1uc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJDb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiSW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlXCI6IFwiUGVyc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJ7Y3JlYXRvci5wcm9maWxlSW1hZ2V9XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplXCI6IFwiU21hbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBcIndpZHRoXCI6IFwiYXV0b1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJUZXh0QmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndlaWdodFwiOiBcIkJvbGRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIntjcmVhdG9yLm5hbWV9XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3cmFwXCI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFjaW5nXCI6IFwiTm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIkNyZWF0ZWQge3tEQVRFKHtjcmVhdGVkVXRjfSxTSE9SVCl9fVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXNTdWJ0bGVcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndyYXBcIjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBcIndpZHRoXCI6IFwic3RyZXRjaFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJUZXh0QmxvY2tcIixcbiAgICAgICAgICAgIFwidGV4dFwiOiBcIntkZXNjcmlwdGlvbn1cIixcbiAgICAgICAgICAgIFwid3JhcFwiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkZhY3RTZXRcIixcbiAgICAgICAgICAgIFwiZmFjdHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCIkZGF0YVwiOiBcIntwcm9wZXJ0aWVzfVwiLFxuICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwie2tleX06XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJ7dmFsdWV9XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdLFxuICAgIFwiYWN0aW9uc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkFjdGlvbi5TaG93Q2FyZFwiLFxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlNldCBkdWUgZGF0ZVwiLFxuICAgICAgICAgICAgXCJjYXJkXCI6IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJBZGFwdGl2ZUNhcmRcIixcbiAgICAgICAgICAgICAgICBcImJvZHlcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJJbnB1dC5EYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwiZHVlRGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIklucHV0LlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBsYWNlaG9sZGVyXCI6IFwiQWRkIGEgY29tbWVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpc011bHRpbGluZVwiOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwiYWN0aW9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkFjdGlvbi5TdWJtaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJPS1wiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwiJHNjaGVtYVwiOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQWN0aW9uLk9wZW5VcmxcIixcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJWaWV3XCIsXG4gICAgICAgICAgICBcInVybFwiOiBcInt2aWV3VXJsfVwiXG4gICAgICAgIH1cbiAgICBdLFxuICAgIFwiJHNjaGVtYVwiOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiMS4wXCJcbn1gO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdERhdGFQYXlsb2FkOiBzdHJpbmcgPSBge1xuICAgIFwidGl0bGVcIjogXCJQdWJsaXNoIEFkYXB0aXZlIENhcmQgU2NoZW1hXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIk5vdyB0aGF0IHdlIGhhdmUgZGVmaW5lZCB0aGUgbWFpbiBydWxlcyBhbmQgZmVhdHVyZXMgb2YgdGhlIGZvcm1hdCwgd2UgbmVlZCB0byBwcm9kdWNlIGEgc2NoZW1hIGFuZCBwdWJsaXNoIGl0IHRvIEdpdEh1Yi4gVGhlIHNjaGVtYSB3aWxsIGJlIHRoZSBzdGFydGluZyBwb2ludCBvZiBvdXIgcmVmZXJlbmNlIGRvY3VtZW50YXRpb24uXCIsXG4gICAgXCJjcmVhdG9yXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiTWF0dCBIaWRpbmdlclwiLFxuICAgICAgICBcInByb2ZpbGVJbWFnZVwiOiBcImh0dHBzOi8vbWF0dGhpZGluZ2VyLmNvbS9pbWFnZXMvYmlvLXBob3RvLmpwZ1wiXG4gICAgfSxcbiAgICBcImNyZWF0ZWRVdGNcIjogXCIyMDE3LTAyLTE0VDA2OjA4OjM5WlwiLFxuICAgIFwidmlld1VybFwiOiBcImh0dHBzOi8vYWRhcHRpdmVjYXJkcy5pb1wiLFxuICAgIFwicHJvcGVydGllc1wiOiBbXG4gICAgICAgIHsgXCJrZXlcIjogXCJCb2FyZFwiLCBcInZhbHVlXCI6IFwiQWRhcHRpdmUgQ2FyZHNcIiB9LFxuICAgICAgICB7IFwia2V5XCI6IFwiTGlzdFwiLCBcInZhbHVlXCI6IFwiQmFja2xvZ1wiIH0sXG4gICAgICAgIHsgXCJrZXlcIjogXCJBc3NpZ25lZCB0b1wiLCBcInZhbHVlXCI6IFwiTWF0dCBIaWRpbmdlclwiIH0sXG4gICAgICAgIHsgXCJrZXlcIjogXCJEdWUgZGF0ZVwiLCBcInZhbHVlXCI6IFwiTm90IHNldFwiIH1cbiAgICBdXG59YCIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IFNpbmdsZVRoZW1lSG9zdENvbnRhaW5lciB9IGZyb20gXCIuLi9zaW5nbGUtdGhlbWUtaG9zdC1jb250YWluZXJcIjtcbmltcG9ydCAqIGFzIGhvc3RDb25maWcgZnJvbSBcIi4uLy4uL2hvc3RDb25maWdzL3JlbmRlci10by1pbWFnZS5qc29uXCI7XG5cbmV4cG9ydCBjbGFzcyBCb3RGcmFtZXdvcmtDb250YWluZXIgZXh0ZW5kcyBTaW5nbGVUaGVtZUhvc3RDb250YWluZXIge1xuICAgIHB1YmxpYyByZW5kZXJUbyhob3N0RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jYXJkSG9zdC5jbGFzc0xpc3QuYWRkKFwiYmYtaW1hZ2VzLWNhcmRcIik7XG5cbiAgICAgICAgbGV0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZnJhbWUuY2xhc3NOYW1lID0gXCJiZi1pbWFnZXMtZnJhbWVcIjtcbiAgICAgICAgZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5jYXJkSG9zdCk7XG5cbiAgICAgICAgaG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQoZnJhbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRIb3N0Q29uZmlnKCk6IEFkYXB0aXZlLkhvc3RDb25maWcge1xuICAgICAgICByZXR1cm4gbmV3IEFkYXB0aXZlLkhvc3RDb25maWcoaG9zdENvbmZpZyk7XG4gICAgfVxuXG4gICAgZ2V0IGVuYWJsZURldmljZUVtdWxhdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgU2luZ2xlVGhlbWVIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4uL3NpbmdsZS10aGVtZS1ob3N0LWNvbnRhaW5lclwiO1xuaW1wb3J0ICogYXMgaG9zdENvbmZpZyBmcm9tIFwiLi4vLi4vaG9zdENvbmZpZ3MvY29ydGFuYS1za2lsbHMtY2xhc3NpYy5qc29uXCI7XG5cbmV4cG9ydCBjbGFzcyBDb3J0YW5hQ2xhc3NpY0NvbnRhaW5lciBleHRlbmRzIFNpbmdsZVRoZW1lSG9zdENvbnRhaW5lciB7XG4gICAgcHVibGljIHJlbmRlclRvKGhvc3RFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNhcmRIb3N0LmNsYXNzTGlzdC5hZGQoXCJjb3J0YW5hLWNhcmRcIik7XG5cbiAgICAgICAgbGV0IGxlZnRTaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbGVmdFNpZGUuY2xhc3NMaXN0LmFkZChcImNvcnRhbmEtbGVmdHNpZGVcIik7XG5cbiAgICAgICAgbGV0IHRvcExlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0b3BMZWZ0LmNsYXNzTGlzdC5hZGQoXCJjb3J0YW5hLXRvcGxlZnRcIik7XG5cbiAgICAgICAgbGV0IG1pZGRsZUxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtaWRkbGVMZWZ0LmNsYXNzTGlzdC5hZGQoXCJjb3J0YW5hLW1pZGRsZWxlZnRcIik7XG5cbiAgICAgICAgbGV0IGJvdHRvbUxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBib3R0b21MZWZ0LmNsYXNzTGlzdC5hZGQoXCJjb3J0YW5hLWJvdHRvbWxlZnRcIik7XG5cbiAgICAgICAgbGVmdFNpZGUuYXBwZW5kQ2hpbGQodG9wTGVmdCk7XG4gICAgICAgIGxlZnRTaWRlLmFwcGVuZENoaWxkKG1pZGRsZUxlZnQpO1xuICAgICAgICBsZWZ0U2lkZS5hcHBlbmRDaGlsZChib3R0b21MZWZ0KTtcblxuICAgICAgICBsZXQgcmlnaHRTaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcmlnaHRTaWRlLmNsYXNzTGlzdC5hZGQoXCJjb3J0YW5hLXJpZ2h0c2lkZVwiKTtcblxuICAgICAgICBsZXQgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJjb3J0YW5hLWhlYWRlclwiKTtcblxuICAgICAgICBsZXQgc2VhcmNoQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2VhcmNoQm94LmNsYXNzTGlzdC5hZGQoXCJjb3J0YW5hLXNlYXJjaGJveFwiKTtcblxuICAgICAgICBsZXQgbWFnbmlmeWluZ0dsYXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbWFnbmlmeWluZ0dsYXNzLmNsYXNzTGlzdC5hZGQoXCJjb3J0YW5hLXNlYXJjaGJveC1tYWduaWZ5aW5nZ2xhc3NcIik7XG5cbiAgICAgICAgbGV0IHNlYXJjaEJveE1pZGRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNlYXJjaEJveE1pZGRsZS5jbGFzc0xpc3QuYWRkKFwiY29ydGFuYS1zZWFyY2hib3gtbWlkZGxlXCIpO1xuXG4gICAgICAgIGxldCBtaWNyb3Bob25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbWljcm9waG9uZS5jbGFzc0xpc3QuYWRkKFwiY29ydGFuYS1zZWFyY2hib3gtbWljcm9waG9uZVwiKTtcblxuICAgICAgICBzZWFyY2hCb3guYXBwZW5kQ2hpbGQobWFnbmlmeWluZ0dsYXNzKTtcbiAgICAgICAgc2VhcmNoQm94LmFwcGVuZENoaWxkKHNlYXJjaEJveE1pZGRsZSk7XG4gICAgICAgIHNlYXJjaEJveC5hcHBlbmRDaGlsZChtaWNyb3Bob25lKTtcblxuICAgICAgICByaWdodFNpZGUuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICAgICAgcmlnaHRTaWRlLmFwcGVuZENoaWxkKHRoaXMuY2FyZEhvc3QpO1xuICAgICAgICByaWdodFNpZGUuYXBwZW5kQ2hpbGQoc2VhcmNoQm94KTtcblxuICAgICAgICBsZXQgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBmcmFtZS5jbGFzc0xpc3QuYWRkKFwiY29ydGFuYS1mcmFtZVwiKTtcblxuICAgICAgICBmcmFtZS5hcHBlbmRDaGlsZChsZWZ0U2lkZSk7XG4gICAgICAgIGZyYW1lLmFwcGVuZENoaWxkKHJpZ2h0U2lkZSk7XG5cbiAgICAgICAgaG9zdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNvcnRhbmEtb3V0ZXItZnJhbWVcIik7XG4gICAgICAgIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKGZyYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SG9zdENvbmZpZygpOiBBZGFwdGl2ZS5Ib3N0Q29uZmlnIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZS5Ib3N0Q29uZmlnKGhvc3RDb25maWcpO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IE11bHRpVGhlbWVIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4uL211bHRpLXRoZW1lLWhvc3QtY29udGFpbmVyXCI7XG5pbXBvcnQgKiBhcyBob3N0Q29uZmlnTGlnaHQgZnJvbSBcIi4uLy4uL2hvc3RDb25maWdzL2NvcnRhbmEtc2tpbGxzLWxpZ2h0Lmpzb25cIjtcbmltcG9ydCAqIGFzIGhvc3RDb25maWdEYXJrIGZyb20gXCIuLi8uLi9ob3N0Q29uZmlncy9jb3J0YW5hLXNraWxscy1kYXJrLmpzb25cIjtcblxuZXhwb3J0IGNsYXNzIENvcnRhbmFDb250YWluZXIgZXh0ZW5kcyBNdWx0aVRoZW1lSG9zdENvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgXCJDb3J0YW5hIFNraWxsc1wiLFxuICAgICAgICAgICAgXCJjb3J0YW5hLWNvbnRhaW5lclwiLFxuICAgICAgICAgICAgaG9zdENvbmZpZ0xpZ2h0LFxuICAgICAgICAgICAgaG9zdENvbmZpZ0RhcmssXG4gICAgICAgICAgICBcIiNGNkY2RjZcIixcbiAgICAgICAgICAgIFwiIzIwMUUxRlwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlclRvKGhvc3RFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB2YXIgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgIGZyYW1lLmFwcGVuZENoaWxkKHRoaXMuY2FyZEhvc3QpO1xuXG4gICAgICAgIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKGZyYW1lKTtcbiAgICB9XG5cbiAgICBnZXQgdGFyZ2V0VmVyc2lvbigpOiBBZGFwdGl2ZS5WZXJzaW9uIHtcbiAgICAgICAgcmV0dXJuIEFkYXB0aXZlLlZlcnNpb25zLnYxXzI7XG4gICAgfVxuXG4gICAgZ2V0IGVuYWJsZURldmljZUVtdWxhdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBTaW5nbGVUaGVtZUhvc3RDb250YWluZXIgfSBmcm9tIFwiLi4vc2luZ2xlLXRoZW1lLWhvc3QtY29udGFpbmVyXCI7XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0Q29udGFpbmVyIGV4dGVuZHMgU2luZ2xlVGhlbWVIb3N0Q29udGFpbmVyIHtcbiAgICBwdWJsaWMgcmVuZGVyVG8oaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGhvc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjYXJkLWZyYW1lXCIpO1xuICAgICAgICBob3N0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNhcmRIb3N0KTtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCAqIGFzIEFkYXB0aXZlIGZyb20gXCJhZGFwdGl2ZWNhcmRzXCI7XG5pbXBvcnQgeyBTaW5nbGVUaGVtZUhvc3RDb250YWluZXIgfSBmcm9tIFwiLi4vc2luZ2xlLXRoZW1lLWhvc3QtY29udGFpbmVyXCI7XG5pbXBvcnQgKiBhcyBob3N0Q29uZmlnIGZyb20gXCIuLi8uLi9ob3N0Q29uZmlncy9mZWRlcmF0ZWQtc2VhcmNoLmpzb25cIjtcblxuZXhwb3J0IGNsYXNzIEZlZGVyYXRlZFNlYXJjaENvbnRhaW5lciBleHRlbmRzIFNpbmdsZVRoZW1lSG9zdENvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBzdHlsZVNoZWV0OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgc3R5bGVTaGVldCk7XG5cbiAgICAgICAgdGhpcy5hY3Rpb25zUmVnaXN0cnkudW5yZWdpc3RlcihcIkFjdGlvbi5TdWJtaXRcIik7XG4gICAgICAgIHRoaXMuZWxlbWVudHNSZWdpc3RyeS51bnJlZ2lzdGVyKFwiSW5wdXQuVGV4dFwiKTtcbiAgICAgICAgdGhpcy5lbGVtZW50c1JlZ2lzdHJ5LnVucmVnaXN0ZXIoXCJJbnB1dC5EYXRlXCIpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzUmVnaXN0cnkudW5yZWdpc3RlcihcIklucHV0LlRpbWVcIik7XG4gICAgICAgIHRoaXMuZWxlbWVudHNSZWdpc3RyeS51bnJlZ2lzdGVyKFwiSW5wdXQuVG9nZ2xlXCIpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzUmVnaXN0cnkudW5yZWdpc3RlcihcIklucHV0LkNob2ljZVNldFwiKTtcbiAgICAgICAgdGhpcy5lbGVtZW50c1JlZ2lzdHJ5LnVucmVnaXN0ZXIoXCJJbnB1dC5OdW1iZXJcIik7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlclRvKGhvc3RFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNhcmRIb3N0LmNsYXNzTGlzdC5hZGQoXCJmZWRzZWFyY2gtY2FyZFwiKTtcbiAgICAgICAgaG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jYXJkSG9zdCk7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SG9zdENvbmZpZygpOiBBZGFwdGl2ZS5Ib3N0Q29uZmlnIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZS5Ib3N0Q29uZmlnKGhvc3RDb25maWcpO1xuICAgIH1cblxuICAgIGdldCB0YXJnZXRWZXJzaW9uKCk6IEFkYXB0aXZlLlZlcnNpb24ge1xuICAgICAgICByZXR1cm4gQWRhcHRpdmUuVmVyc2lvbnMudjFfNDtcbiAgICB9XG5cbiAgICBnZXQgZW5hYmxlRGV2aWNlRW11bGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IEdsb2JhbFNldHRpbmdzLCBHbG9iYWxSZWdpc3RyeSwgQ2FyZE9iamVjdFJlZ2lzdHJ5LCBDYXJkRWxlbWVudCwgQWN0aW9uLCBIb3N0Q29uZmlnLCBTZXJpYWxpemF0aW9uQ29udGV4dCwgVmVyc2lvbiwgVmVyc2lvbnMgfSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0ICogYXMgaG9zdENvbmZpZyBmcm9tIFwiLi4vaG9zdENvbmZpZ3Mvc2FtcGxlLmpzb25cIjtcblxuZXhwb3J0IGVudW0gQ29sb3JUaGVtZSB7XG4gICAgTGlnaHQgPSBcIkxpZ2h0XCIsXG4gICAgRGFyayA9IFwiRGFya1wiXG59O1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSG9zdENvbnRhaW5lciB7XG4gICAgcHJpdmF0ZSBfY2FyZEhvc3Q6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2VsZW1lbnRzUmVnaXN0cnkgPSBuZXcgQ2FyZE9iamVjdFJlZ2lzdHJ5PENhcmRFbGVtZW50PigpO1xuICAgIHByaXZhdGUgX2FjdGlvbnNSZWdpc3RyeSA9IG5ldyBDYXJkT2JqZWN0UmVnaXN0cnk8QWN0aW9uPigpO1xuXG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgdGhpcy5fY2FyZEhvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9jYXJkSG9zdC5jbGFzc05hbWUgPSBcImNhcmRIb3N0XCI7XG5cbiAgICAgICAgR2xvYmFsUmVnaXN0cnkucG9wdWxhdGVXaXRoRGVmYXVsdEVsZW1lbnRzKHRoaXMuX2VsZW1lbnRzUmVnaXN0cnkpO1xuICAgICAgICBHbG9iYWxSZWdpc3RyeS5wb3B1bGF0ZVdpdGhEZWZhdWx0QWN0aW9ucyh0aGlzLl9hY3Rpb25zUmVnaXN0cnkpO1xuICAgIH1cblxuICAgIGFic3RyYWN0IHJlbmRlclRvKGhvc3RFbGVtZW50OiBIVE1MRWxlbWVudCk7XG4gICAgXG4gICAgYWJzdHJhY3QgZ2V0Q3VycmVudFN0eWxlU2hlZXQoKTogc3RyaW5nO1xuXG4gICAgcHVibGljIGluaXRpYWxpemUoKSB7XG4gICAgICAgIEdsb2JhbFNldHRpbmdzLnVzZU1hcmtkb3duSW5SYWRpb0J1dHRvbkFuZENoZWNrYm94ID0gdHJ1ZTtcbiAgICAgICAgR2xvYmFsU2V0dGluZ3MudXNlQWR2YW5jZWRDYXJkQm90dG9tVHJ1bmNhdGlvbiA9IGZhbHNlO1xuICAgICAgICBHbG9iYWxTZXR0aW5ncy51c2VBZHZhbmNlZFRleHRCbG9ja1RydW5jYXRpb24gPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVTZXJpYWxpemF0aW9uQ29udGV4dCh0YXJnZXRWZXJzaW9uOiBWZXJzaW9uKTogU2VyaWFsaXphdGlvbkNvbnRleHQge1xuICAgICAgICBsZXQgY29udGV4dCA9IG5ldyBTZXJpYWxpemF0aW9uQ29udGV4dCh0YXJnZXRWZXJzaW9uKTtcbiAgICAgICAgY29udGV4dC5zZXRFbGVtZW50UmVnaXN0cnkodGhpcy5lbGVtZW50c1JlZ2lzdHJ5KTtcbiAgICAgICAgY29udGV4dC5zZXRBY3Rpb25SZWdpc3RyeSh0aGlzLmFjdGlvbnNSZWdpc3RyeSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEJhY2tncm91bmRDb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCIjRjZGNkY2XCI7XG4gICAgfVxuXG4gICAgcHVibGljIHBhcnNlRWxlbWVudChlbGVtZW50OiBDYXJkRWxlbWVudCwgc291cmNlOiBhbnksIGNvbnRleHQ6IFNlcmlhbGl6YXRpb25Db250ZXh0KSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgaW4gYmFzZSBpbXBsZW1lbnRhdGlvblxuICAgIH1cblxuICAgIHB1YmxpYyBhbmNob3JDbGlja2VkKGVsZW1lbnQ6IENhcmRFbGVtZW50LCBhbmNob3I6IEhUTUxBbmNob3JFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIE5vdCBoYW5kbGVkIGJ5IHRoZSBob3N0IGNvbnRhaW5lciBieSBkZWZhdWx0XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SG9zdENvbmZpZygpOiBIb3N0Q29uZmlnIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIb3N0Q29uZmlnKGhvc3RDb25maWcpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXF1aXJlc092ZXJmbG93U3R5bGluZygpOiBib29sZWFuIHtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgb3ZlcmZsb3cgc3R5bGluZyBpcyBub3QgaGFuZGxlZFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGFkanVzdFN0eWxlRm9yQmFja2dyb3VuZCgpOiB2b2lkIHtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgd2UgbWFrZSBubyBhZGp1c3RtZW50c1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3VwcG9ydHNBY3Rpb25CYXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCBjYXJkSG9zdCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkSG9zdDtcbiAgICB9XG5cbiAgICBnZXQgaXNGaXhlZEhlaWdodCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldCBlbGVtZW50c1JlZ2lzdHJ5KCk6IENhcmRPYmplY3RSZWdpc3RyeTxDYXJkRWxlbWVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudHNSZWdpc3RyeTtcbiAgICB9XG5cbiAgICBnZXQgYWN0aW9uc1JlZ2lzdHJ5KCk6IENhcmRPYmplY3RSZWdpc3RyeTxBY3Rpb24+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbnNSZWdpc3RyeTtcbiAgICB9XG5cbiAgICBnZXQgdGFyZ2V0VmVyc2lvbigpOiBWZXJzaW9uIHtcbiAgICAgICAgcmV0dXJuIFZlcnNpb25zLnYxXzA7XG4gICAgfVxuXG4gICAgZ2V0IGVuYWJsZURldmljZUVtdWxhdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldCBzdXBwb3J0c011bHRpcGxlU2l6ZXMoKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIHdlIGRvIG5vdCBzdXBwb3J0IGRpZmZlcmVudCBjb250YWluZXIgc2l6ZXNcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGlmIHZhcmlvdXMgY29udGFpbmVycyBzdXBwb3J0IGRpZmZlcmVudCB0aGVtZXMgaW4gdGhlIGZ1dHVyZSwgd2UgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kXG4gICAgc3RhdGljIGdldCBzdXBwb3J0ZWRDb250YWluZXJUaGVtZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhDb2xvclRoZW1lKTtcbiAgICB9XG5cbiAgICBnZXQgc3VwcG9ydHNNdWx0aXBsZVRoZW1lcygpOiBib29sZWFuIHtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgd2UgZG8gbm90IHN1cHBvcnQgZGlmZmVyZW50IGNvbG9yIHRoZW1lc1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc2V0IGNvbG9yVGhlbWUodmFsdWU6IENvbG9yVGhlbWUpIHtcbiAgICAgICAgLy8gTm90IGhhbmRsZWQgYnkgdGhlIGhvc3QgY29udGFpbmVyIGJ5IGRlZmF1bHRcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmV4cG9ydCAqIGZyb20gXCIuL2hvc3QtY29udGFpbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0L2RlZmF1bHQtY29udGFpbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXQvd2lkZ2V0LWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vYmYtaW1hZ2UvYmYtaW1hZ2UtY29udGFpbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb3J0YW5hLWNsYXNzaWMvY29ydGFuYS1jbGFzc2ljLWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29ydGFuYS9jb3J0YW5hLWNvbnRhaW5lclwiXG5leHBvcnQgKiBmcm9tIFwiLi9ub3RpZmljYXRpb25zL3RvYXN0LWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vb3V0bG9vay9vdXRsb29rLWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2t5cGUvc2t5cGUtY29udGFpbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90ZWFtcy90ZWFtcy1jb250YWluZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3RpbWVsaW5lL3RpbWVsaW5lLWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vd2ViY2hhdC93ZWJjaGF0LWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdml2YS1jb25uZWN0aW9ucy92aXZhLWNvbm5lY3Rpb25zLWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZmVkZXJhdGVkLXNlYXJjaC9mZWRlcmF0ZWQtc2VhcmNoLWNvbnRhaW5lclwiO1xuIiwiaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IEhvc3RDb250YWluZXIgfSBmcm9tIFwiLi9ob3N0LWNvbnRhaW5lclwiO1xuXG5leHBvcnQgZW51bSBDb2xvclRoZW1lIHtcbiAgICBMaWdodCA9IFwiTGlnaHRcIixcbiAgICBEYXJrID0gXCJEYXJrXCJcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE11bHRpVGhlbWVIb3N0Q29udGFpbmVyIGV4dGVuZHMgSG9zdENvbnRhaW5lciB7XG4gICAgcHJpdmF0ZSBfY29sb3JUaGVtZTogQ29sb3JUaGVtZSA9IENvbG9yVGhlbWUuTGlnaHQ7XG4gICAgcHJpdmF0ZSBfY3NzRmlsZU5hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIF9ob3N0Q29uZmlnTGlnaHQ6IGFueTtcbiAgICBwcml2YXRlIF9ob3N0Q29uZmlnRGFyazogYW55O1xuICAgIHByaXZhdGUgX2xpZ2h0QmFja2dyb3VuZDogc3RyaW5nO1xuICAgIHByaXZhdGUgX2RhcmtCYWNrZ3JvdW5kOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICBjc3NGaWxlTmFtZTogc3RyaW5nLFxuICAgICAgICBob3N0Q29uZmlnTGlnaHQ6IGFueSxcbiAgICAgICAgaG9zdENvbmZpZ0Rhcms6IGFueSxcbiAgICAgICAgbGlnaHRCYWNrZ3JvdW5kOiBzdHJpbmcsXG4gICAgICAgIGRhcmtCYWNrZ3JvdW5kOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG5cbiAgICAgICAgdGhpcy5fY3NzRmlsZU5hbWUgPSBjc3NGaWxlTmFtZTtcbiAgICAgICAgdGhpcy5faG9zdENvbmZpZ0xpZ2h0ID0gaG9zdENvbmZpZ0xpZ2h0O1xuICAgICAgICB0aGlzLl9ob3N0Q29uZmlnRGFyayA9IGhvc3RDb25maWdEYXJrO1xuICAgICAgICB0aGlzLl9saWdodEJhY2tncm91bmQgPSBsaWdodEJhY2tncm91bmQ7XG4gICAgICAgIHRoaXMuX2RhcmtCYWNrZ3JvdW5kID0gZGFya0JhY2tncm91bmQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEN1cnJlbnRTdHlsZVNoZWV0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgY29udGFpbmVycy8ke3RoaXMuX2Nzc0ZpbGVOYW1lfS0ke3RoaXMuX2NvbG9yVGhlbWUudG9Mb3dlckNhc2UoKX0uY3NzYDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SG9zdENvbmZpZygpOiBBZGFwdGl2ZS5Ib3N0Q29uZmlnIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZS5Ib3N0Q29uZmlnKFxuICAgICAgICAgICAgdGhpcy5fY29sb3JUaGVtZSA9PT0gQ29sb3JUaGVtZS5MaWdodCA/IHRoaXMuX2hvc3RDb25maWdMaWdodCA6IHRoaXMuX2hvc3RDb25maWdEYXJrXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEJhY2tncm91bmRDb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sb3JUaGVtZSA9PT0gQ29sb3JUaGVtZS5MaWdodCA/IHRoaXMuX2xpZ2h0QmFja2dyb3VuZCA6IHRoaXMuX2RhcmtCYWNrZ3JvdW5kO1xuICAgIH1cblxuICAgIHNldCBjb2xvclRoZW1lKHZhbHVlOiBDb2xvclRoZW1lKSB7XG4gICAgICAgIHRoaXMuX2NvbG9yVGhlbWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgc3VwcG9ydHNNdWx0aXBsZVRoZW1lcygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgU2luZ2xlVGhlbWVIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4uL3NpbmdsZS10aGVtZS1ob3N0LWNvbnRhaW5lclwiO1xuaW1wb3J0ICogYXMgaG9zdENvbmZpZyBmcm9tIFwiLi4vLi4vaG9zdENvbmZpZ3Mvd2luZG93cy1ub3RpZmljYXRpb24uanNvblwiO1xuXG5leHBvcnQgY2xhc3MgVG9hc3RDb250YWluZXIgZXh0ZW5kcyBTaW5nbGVUaGVtZUhvc3RDb250YWluZXIge1xuICAgIHB1YmxpYyByZW5kZXJUbyhob3N0RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jYXJkSG9zdC5jbGFzc0xpc3QuYWRkKFwidG9hc3QtY2FyZFwiKTtcblxuICAgICAgICBsZXQgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBmcmFtZS5jbGFzc05hbWUgPSBcInRvYXN0LWZyYW1lXCI7XG4gICAgICAgIGZyYW1lLmFwcGVuZENoaWxkKHRoaXMuY2FyZEhvc3QpO1xuXG4gICAgICAgIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKGZyYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SG9zdENvbmZpZygpOiBBZGFwdGl2ZS5Ib3N0Q29uZmlnIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZS5Ib3N0Q29uZmlnKGhvc3RDb25maWcpO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IFNpbmdsZVRoZW1lSG9zdENvbnRhaW5lciB9IGZyb20gXCIuLi9zaW5nbGUtdGhlbWUtaG9zdC1jb250YWluZXJcIjtcbmltcG9ydCAqIGFzIGhvc3RDb25maWcgZnJvbSBcIi4uLy4uL2hvc3RDb25maWdzL291dGxvb2stZGVza3RvcC5qc29uXCI7XG5cbmV4cG9ydCBjbGFzcyBPdXRsb29rQ29udGFpbmVyIGV4dGVuZHMgU2luZ2xlVGhlbWVIb3N0Q29udGFpbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHN0eWxlU2hlZXQ6IHN0cmluZykge1xuICAgICAgICBzdXBlcihuYW1lLCBzdHlsZVNoZWV0KTtcblxuICAgICAgICB0aGlzLmFjdGlvbnNSZWdpc3RyeS51bnJlZ2lzdGVyKFwiQWN0aW9uLlN1Ym1pdFwiKTtcbiAgICAgICAgdGhpcy5hY3Rpb25zUmVnaXN0cnkucmVnaXN0ZXIoXCJBY3Rpb24uSHR0cFwiLCBBZGFwdGl2ZS5IdHRwQWN0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyVG8oaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2FyZEhvc3QuY2xhc3NMaXN0LmFkZChcIm91dGxvb2stZnJhbWVcIik7XG4gICAgICAgIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY2FyZEhvc3QpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0aWFsaXplKCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplKCk7XG5cbiAgICAgICAgQWRhcHRpdmUuR2xvYmFsU2V0dGluZ3MudXNlTWFya2Rvd25JblJhZGlvQnV0dG9uQW5kQ2hlY2tib3ggPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBhcnNlUGFkZGluZyhzb3VyY2U6IGFueSk6IEFkYXB0aXZlLlBhZGRpbmdEZWZpbml0aW9uIHtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdW5pZm9ybVBhZGRpbmcgPSBBZGFwdGl2ZS5wYXJzZUVudW0oQWRhcHRpdmUuU3BhY2luZywgc291cmNlLCBBZGFwdGl2ZS5TcGFjaW5nLk5vbmUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZS5QYWRkaW5nRGVmaW5pdGlvbihcbiAgICAgICAgICAgICAgICAgICAgdW5pZm9ybVBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1QYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICB1bmlmb3JtUGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgdW5pZm9ybVBhZGRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQWRhcHRpdmUuUGFkZGluZ0RlZmluaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIEFkYXB0aXZlLnBhcnNlRW51bShBZGFwdGl2ZS5TcGFjaW5nLCBzb3VyY2VbXCJ0b3BcIl0sIEFkYXB0aXZlLlNwYWNpbmcuTm9uZSksXG4gICAgICAgICAgICAgICAgICAgIEFkYXB0aXZlLnBhcnNlRW51bShBZGFwdGl2ZS5TcGFjaW5nLCBzb3VyY2VbXCJyaWdodFwiXSwgQWRhcHRpdmUuU3BhY2luZy5Ob25lKSxcbiAgICAgICAgICAgICAgICAgICAgQWRhcHRpdmUucGFyc2VFbnVtKEFkYXB0aXZlLlNwYWNpbmcsIHNvdXJjZVtcImJvdHRvbVwiXSwgQWRhcHRpdmUuU3BhY2luZy5Ob25lKSxcbiAgICAgICAgICAgICAgICAgICAgQWRhcHRpdmUucGFyc2VFbnVtKEFkYXB0aXZlLlNwYWNpbmcsIHNvdXJjZVtcImxlZnRcIl0sIEFkYXB0aXZlLlNwYWNpbmcuTm9uZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIHBhcnNlRWxlbWVudChlbGVtZW50OiBBZGFwdGl2ZS5DYXJkRWxlbWVudCwgc291cmNlOiBhbnksIGNvbnRleHQ6IEFkYXB0aXZlLlNlcmlhbGl6YXRpb25Db250ZXh0KSB7XG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgQWRhcHRpdmUuQ29udGFpbmVyICYmIHR5cGVvZiBzb3VyY2VbXCJydGxcIl0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJ0bCA9IHNvdXJjZVtcInJ0bFwiXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgQWRhcHRpdmUuQWRhcHRpdmVDYXJkKSB7XG4gICAgICAgICAgICB2YXIgY2FyZCA9IDxBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQ+ZWxlbWVudDtcbiAgICAgICAgICAgIHZhciBhY3Rpb25BcnJheTogQXJyYXk8QWRhcHRpdmUuQWN0aW9uPiA9IFtdO1xuXG4gICAgICAgICAgICBjYXJkW1wicmVzb3VyY2VzXCJdID0geyBhY3Rpb25zOiBhY3Rpb25BcnJheSB9O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtcInJlc291cmNlc1wiXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25SZXNvdXJjZXMgPSBzb3VyY2VbXCJyZXNvdXJjZXNcIl1bXCJhY3Rpb25zXCJdIGFzIEFycmF5PGFueT47XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGlvblJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9uID0gdGhpcy5hY3Rpb25zUmVnaXN0cnkuY3JlYXRlSW5zdGFuY2UoYWN0aW9uUmVzb3VyY2VzW2ldW1widHlwZVwiXSwgY29udGV4dC50YXJnZXRWZXJzaW9uKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ucGFyc2UoYWN0aW9uUmVzb3VyY2VzW2ldLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRQYXJlbnQoY2FyZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkFycmF5LnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgQWRhcHRpdmUuSW1hZ2UpIHtcbiAgICAgICAgICAgICg8QWRhcHRpdmUuSW1hZ2U+ZWxlbWVudCkuYmFja2dyb3VuZENvbG9yID0gc291cmNlW1wiYmFja2dyb3VuZENvbG9yXCJdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBBZGFwdGl2ZS5Db250YWluZXIpIHtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5wYXJzZVBhZGRpbmcoc291cmNlW1wicGFkZGluZ1wiXSk7XG5cbiAgICAgICAgICAgIGlmIChwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgKDxBZGFwdGl2ZS5Db250YWluZXI+ZWxlbWVudCkucGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEFkYXB0aXZlLkNvbHVtblNldCkge1xuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnBhcnNlUGFkZGluZyhzb3VyY2VbXCJwYWRkaW5nXCJdKTtcblxuICAgICAgICAgICAgaWYgKHBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICAoPEFkYXB0aXZlLkNvbHVtblNldD5lbGVtZW50KS5wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhbmNob3JDbGlja2VkKGVsZW1lbnQ6IEFkYXB0aXZlLkNhcmRFbGVtZW50LCBhbmNob3I6IEhUTUxBbmNob3JFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIHZhciByZWdFeCA9IC9eYWN0aW9uOihbYS16MC05XSspJC9pZztcbiAgICAgICAgdmFyIHJvb3RDYXJkID0gZWxlbWVudC5nZXRSb290RWxlbWVudCgpIGFzIEFkYXB0aXZlLkFkYXB0aXZlQ2FyZDtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSByZWdFeC5leGVjKGFuY2hvci5ocmVmKTtcblxuICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgdmFyIGFjdGlvbklkID0gbWF0Y2hlc1sxXTtcblxuICAgICAgICAgICAgaWYgKHJvb3RDYXJkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbkFycmF5ID0gcm9vdENhcmRbXCJyZXNvdXJjZXNcIl1bXCJhY3Rpb25zXCJdIGFzIEFycmF5PEFkYXB0aXZlLkFjdGlvbj47XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGlvbkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25BcnJheVtpXS5pZCA9PSBhY3Rpb25JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uQXJyYXlbaV0uZXhlY3V0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SG9zdENvbmZpZygpOiBBZGFwdGl2ZS5Ib3N0Q29uZmlnIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZS5Ib3N0Q29uZmlnKGhvc3RDb25maWcpO1xuICAgIH1cblxuICAgIGdldCB0YXJnZXRWZXJzaW9uKCk6IEFkYXB0aXZlLlZlcnNpb24ge1xuICAgICAgICByZXR1cm4gQWRhcHRpdmUuVmVyc2lvbnMudjFfNDtcbiAgICB9XG5cbiAgICBnZXQgZW5hYmxlRGV2aWNlRW11bGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4vaG9zdC1jb250YWluZXJcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNpbmdsZVRoZW1lSG9zdENvbnRhaW5lciBleHRlbmRzIEhvc3RDb250YWluZXIge1xuICAgIHByaXZhdGUgX3N0eWxlU2hlZXQ6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgc3R5bGVTaGVldDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICB0aGlzLl9zdHlsZVNoZWV0ID0gc3R5bGVTaGVldDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q3VycmVudFN0eWxlU2hlZXQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlU2hlZXQ7XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgU2luZ2xlVGhlbWVIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4uL3NpbmdsZS10aGVtZS1ob3N0LWNvbnRhaW5lclwiO1xuaW1wb3J0ICogYXMgaG9zdENvbmZpZyBmcm9tIFwiLi4vLi4vaG9zdENvbmZpZ3Mvc2t5cGUuanNvblwiO1xuXG5leHBvcnQgY2xhc3MgU2t5cGVDb250YWluZXIgZXh0ZW5kcyBTaW5nbGVUaGVtZUhvc3RDb250YWluZXIge1xuICAgIHB1YmxpYyByZW5kZXJUbyhob3N0RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jYXJkSG9zdC5jbGFzc0xpc3QuYWRkKFwic2t5cGUtY2FyZFwiKTtcblxuICAgICAgICB2YXIgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBmcmFtZS5jbGFzc05hbWUgPSBcInNreXBlLWZyYW1lXCI7XG5cbiAgICAgICAgLy8gRHJhdyB0aGUgaGV4YWdvbiBib3QgbG9nb1xuICAgICAgICB2YXIgaGV4YWdvbk91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaGV4YWdvbk91dGVyLmNsYXNzTmFtZSA9IFwic2t5cGUtaGV4YWdvbi1vdXRlclwiO1xuXG4gICAgICAgIHZhciBoZXhhZ29uSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBoZXhhZ29uSW5uZXIuY2xhc3NOYW1lID0gXCJza3lwZS1oZXhhZ29uLWlubmVyXCI7XG5cbiAgICAgICAgdmFyIGJvdExvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBib3RMb2dvLmNsYXNzTmFtZSA9IFwic2t5cGUtYm90LWxvZ29cIjtcblxuICAgICAgICBoZXhhZ29uT3V0ZXIuYXBwZW5kQ2hpbGQoaGV4YWdvbklubmVyKTtcbiAgICAgICAgaGV4YWdvbklubmVyLmFwcGVuZENoaWxkKGJvdExvZ28pO1xuXG4gICAgICAgIGZyYW1lLmFwcGVuZENoaWxkKGhleGFnb25PdXRlcik7XG4gICAgICAgIGZyYW1lLmFwcGVuZENoaWxkKHRoaXMuY2FyZEhvc3QpO1xuXG4gICAgICAgIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKGZyYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SG9zdENvbmZpZygpOiBBZGFwdGl2ZS5Ib3N0Q29uZmlnIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZS5Ib3N0Q29uZmlnKGhvc3RDb25maWcpO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IE11bHRpVGhlbWVIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4uL211bHRpLXRoZW1lLWhvc3QtY29udGFpbmVyXCI7XG5pbXBvcnQgKiBhcyBob3N0Q29uZmlnTGlnaHQgZnJvbSBcIi4uLy4uL2hvc3RDb25maWdzL21pY3Jvc29mdC10ZWFtcy1saWdodC5qc29uXCI7XG5pbXBvcnQgKiBhcyBob3N0Q29uZmlnRGFyayBmcm9tIFwiLi4vLi4vaG9zdENvbmZpZ3MvbWljcm9zb2Z0LXRlYW1zLWRhcmsuanNvblwiO1xuXG5leHBvcnQgY2xhc3MgVGVhbXNDb250YWluZXIgZXh0ZW5kcyBNdWx0aVRoZW1lSG9zdENvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgXCJNaWNyb3NvZnQgVGVhbXNcIixcbiAgICAgICAgICAgIFwidGVhbXMtY29udGFpbmVyXCIsXG4gICAgICAgICAgICBob3N0Q29uZmlnTGlnaHQsXG4gICAgICAgICAgICBob3N0Q29uZmlnRGFyayxcbiAgICAgICAgICAgIFwiI0Y2RjZGNlwiLFxuICAgICAgICAgICAgXCIjMjAxRTFGXCJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyVG8oaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHZhciBvdXRlckZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgb3V0ZXJGcmFtZS5jbGFzc05hbWUgPSBcInRlYW1zLWZyYW1lXCI7XG5cbiAgICAgICAgLy8gRHJhdyB0aGUgaGV4YWdvbiBib3QgbG9nb1xuICAgICAgICB2YXIgaGV4YWdvbk91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaGV4YWdvbk91dGVyLmNsYXNzTmFtZSA9IFwidGVhbXMtaGV4YWdvbi1vdXRlclwiO1xuXG4gICAgICAgIHZhciBoZXhhZ29uSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBoZXhhZ29uSW5uZXIuY2xhc3NOYW1lID0gXCJ0ZWFtcy1oZXhhZ29uLWlubmVyXCI7XG5cbiAgICAgICAgdmFyIGJvdExvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBib3RMb2dvLmNsYXNzTmFtZSA9IFwidGVhbXMtYm90LWxvZ29cIjtcblxuICAgICAgICBoZXhhZ29uT3V0ZXIuYXBwZW5kQ2hpbGQoaGV4YWdvbklubmVyKTtcbiAgICAgICAgaGV4YWdvbklubmVyLmFwcGVuZENoaWxkKGJvdExvZ28pO1xuXG4gICAgICAgIG91dGVyRnJhbWUuYXBwZW5kQ2hpbGQoaGV4YWdvbk91dGVyKTtcblxuICAgICAgICBsZXQgaW5uZXJGcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGlubmVyRnJhbWUuY2xhc3NOYW1lID0gXCJ0ZWFtcy1pbm5lci1mcmFtZVwiO1xuXG4gICAgICAgIHRoaXMuY2FyZEhvc3QuY2xhc3NMaXN0LmFkZChcInRlYW1zLWNhcmRcIik7XG5cbiAgICAgICAgbGV0IGJvdE5hbWVBbmRUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYm90TmFtZUFuZFRpbWUuY2xhc3NOYW1lID0gXCJ0ZWFtcy1ib3ROYW1lQW5kVGltZVwiO1xuICAgICAgICBib3ROYW1lQW5kVGltZS5pbm5lclRleHQgPSBcIlRlc3QgQm90ICAgIDI6MzYgUE1cIjtcblxuICAgICAgICBpbm5lckZyYW1lLmFwcGVuZENoaWxkKGJvdE5hbWVBbmRUaW1lKTtcbiAgICAgICAgaW5uZXJGcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmNhcmRIb3N0KTtcblxuICAgICAgICBvdXRlckZyYW1lLmFwcGVuZENoaWxkKGlubmVyRnJhbWUpO1xuXG4gICAgICAgIGhvc3RFbGVtZW50LmFwcGVuZENoaWxkKG91dGVyRnJhbWUpO1xuICAgIH1cblxuICAgIGdldCB0YXJnZXRWZXJzaW9uKCk6IEFkYXB0aXZlLlZlcnNpb24ge1xuICAgICAgICByZXR1cm4gQWRhcHRpdmUuVmVyc2lvbnMudjFfNDtcbiAgICB9XG5cbiAgICBnZXQgZW5hYmxlRGV2aWNlRW11bGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCAqIGFzIEFkYXB0aXZlIGZyb20gXCJhZGFwdGl2ZWNhcmRzXCI7XG5pbXBvcnQgeyBTaW5nbGVUaGVtZUhvc3RDb250YWluZXIgfSBmcm9tIFwiLi4vc2luZ2xlLXRoZW1lLWhvc3QtY29udGFpbmVyXCI7XG5pbXBvcnQgKiBhcyBob3N0Q29uZmlnIGZyb20gXCIuLi8uLi9ob3N0Q29uZmlncy93aW5kb3dzLXRpbWVsaW5lLmpzb25cIjtcblxuZXhwb3J0IGNsYXNzIFRpbWVsaW5lQ29udGFpbmVyIGV4dGVuZHMgU2luZ2xlVGhlbWVIb3N0Q29udGFpbmVyIHtcbiAgICBwdWJsaWMgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgICAgIEFkYXB0aXZlLkdsb2JhbFNldHRpbmdzLnVzZU1hcmtkb3duSW5SYWRpb0J1dHRvbkFuZENoZWNrYm94ID0gdHJ1ZTtcbiAgICAgICAgQWRhcHRpdmUuR2xvYmFsU2V0dGluZ3MudXNlQWR2YW5jZWRDYXJkQm90dG9tVHJ1bmNhdGlvbiA9IHRydWU7XG4gICAgICAgIEFkYXB0aXZlLkdsb2JhbFNldHRpbmdzLnVzZUFkdmFuY2VkVGV4dEJsb2NrVHJ1bmNhdGlvbiA9IHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlclRvKGhvc3RFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNpZ25lckhvc3RcIik7XG4gICAgICAgIGxldCBmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGZyYW1lLmNsYXNzTmFtZSA9IFwidGltZWxpbmUtZnJhbWVcIjtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGZyYW1lKTtcblxuICAgICAgICBsZXQgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNhcmRDb250YWluZXIuY2xhc3NOYW1lID0gXCJ0aW1lbGluZS1jYXJkXCI7XG4gICAgICAgIGZyYW1lLmFwcGVuZENoaWxkKGNhcmRDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuY2FyZEhvc3Quc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgIHRoaXMuY2FyZEhvc3Quc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgdGhpcy5jYXJkSG9zdC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cbiAgICAgICAgY2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNhcmRIb3N0KTtcbiAgICAgICAgaG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQoZnJhbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRIb3N0Q29uZmlnKCk6IEFkYXB0aXZlLkhvc3RDb25maWcge1xuICAgICAgICByZXR1cm4gbmV3IEFkYXB0aXZlLkhvc3RDb25maWcoaG9zdENvbmZpZyk7XG4gICAgfVxuXG4gICAgZ2V0IGlzRml4ZWRIZWlnaHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IE11bHRpVGhlbWVIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4uL211bHRpLXRoZW1lLWhvc3QtY29udGFpbmVyXCI7XG5pbXBvcnQgKiBhcyBob3N0Q29uZmlnTGlnaHQgZnJvbSBcIi4uLy4uL2hvc3RDb25maWdzL3ZpdmEtY29ubmVjdGlvbnMtbGlnaHQuanNvblwiO1xuaW1wb3J0ICogYXMgaG9zdENvbmZpZ0RhcmsgZnJvbSBcIi4uLy4uL2hvc3RDb25maWdzL3ZpdmEtY29ubmVjdGlvbnMtZGFyay5qc29uXCI7XG5cbmV4cG9ydCBjbGFzcyBWaXZhQ29ubmVjdGlvbnNDb250YWluZXIgZXh0ZW5kcyBNdWx0aVRoZW1lSG9zdENvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgXCJWaXZhIENvbm5lY3Rpb25zXCIsXG4gICAgICAgICAgICBcInZpdmEtY29ubmVjdGlvbnMtY29udGFpbmVyXCIsXG4gICAgICAgICAgICBob3N0Q29uZmlnTGlnaHQsXG4gICAgICAgICAgICBob3N0Q29uZmlnRGFyayxcbiAgICAgICAgICAgIFwiI0Y2RjZGNlwiLFxuICAgICAgICAgICAgXCIjMWIxYTE5XCJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyVG8oaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2FyZEhvc3QuY2xhc3NMaXN0LmFkZChcInZpdmFDb25uZWN0aW9uc0NvbnRhaW5lclwiKTtcblxuICAgICAgICBsZXQgdmNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2Y0NvbnRhaW5lci5jbGFzc05hbWUgPSBcInZpdmFDb25uZWN0aW9uc0NvbnRhaW5lclwiO1xuICAgICAgICB2Y0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNhcmRIb3N0KTtcblxuICAgICAgICBob3N0RWxlbWVudC5hcHBlbmRDaGlsZCh2Y0NvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldFZlcnNpb24oKTogQWRhcHRpdmUuVmVyc2lvbiB7XG4gICAgICAgIHJldHVybiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8zO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IFNpbmdsZVRoZW1lSG9zdENvbnRhaW5lciB9IGZyb20gXCIuLi9zaW5nbGUtdGhlbWUtaG9zdC1jb250YWluZXJcIjtcbmltcG9ydCAqIGFzIGhvc3RDb25maWcgZnJvbSBcIi4uLy4uL2hvc3RDb25maWdzL3dlYmNoYXQuanNvblwiO1xuXG5leHBvcnQgY2xhc3MgV2ViQ2hhdENvbnRhaW5lciBleHRlbmRzIFNpbmdsZVRoZW1lSG9zdENvbnRhaW5lciB7XG4gICAgcHVibGljIHJlbmRlclRvKGhvc3RFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNhcmRIb3N0LmNsYXNzTGlzdC5hZGQoXCJ3ZWJDaGF0T3V0ZXJDb250YWluZXJcIik7XG5cbiAgICAgICAgbGV0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZnJhbWUuY2xhc3NOYW1lID0gXCJ3ZWJDaGF0SW5uZXJDb250YWluZXJcIjtcbiAgICAgICAgZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5jYXJkSG9zdCk7XG5cbiAgICAgICAgaG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQoZnJhbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRIb3N0Q29uZmlnKCk6IEFkYXB0aXZlLkhvc3RDb25maWcge1xuICAgICAgICByZXR1cm4gbmV3IEFkYXB0aXZlLkhvc3RDb25maWcoaG9zdENvbmZpZyk7XG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldFZlcnNpb24oKTogQWRhcHRpdmUuVmVyc2lvbiB7XG4gICAgICAgIHJldHVybiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8zO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IE11bHRpVGhlbWVIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4uL211bHRpLXRoZW1lLWhvc3QtY29udGFpbmVyXCI7XG5pbXBvcnQgKiBhcyBob3N0Q29uZmlnTGlnaHQgZnJvbSBcIi4uLy4uL2hvc3RDb25maWdzL3dpZGdldC1saWdodC5qc29uXCI7XG5pbXBvcnQgKiBhcyBob3N0Q29uZmlnRGFyayBmcm9tIFwiLi4vLi4vaG9zdENvbmZpZ3Mvd2lkZ2V0LWRhcmsuanNvblwiO1xuXG5leHBvcnQgZW51bSBDb250YWluZXJTaXplIHtcbiAgICBTbWFsbCA9IFwiU21hbGxcIixcbiAgICBNZWRpdW0gPSBcIk1lZGl1bVwiLFxuICAgIExhcmdlID0gXCJMYXJnZVwiXG59XG5cbmV4cG9ydCBjbGFzcyBXaWRnZXRDb250YWluZXIgZXh0ZW5kcyBNdWx0aVRoZW1lSG9zdENvbnRhaW5lciB7XG4gICAgcHJpdmF0ZSBfY29udGFpbmVyU2l6ZTogQ29udGFpbmVyU2l6ZTtcbiAgICBwcml2YXRlIF9vdXRlckZyYW1lOiBIVE1MRGl2RWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHNpemU6IENvbnRhaW5lclNpemUpIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBcIldpZGdldHMgQm9hcmRcIixcbiAgICAgICAgICAgIFwid2lkZ2V0LWNvbnRhaW5lclwiLFxuICAgICAgICAgICAgaG9zdENvbmZpZ0xpZ2h0LFxuICAgICAgICAgICAgaG9zdENvbmZpZ0RhcmssXG4gICAgICAgICAgICBcIiNEMkQyRDJcIixcbiAgICAgICAgICAgIFwiIzYxNjE2MVwiXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lclNpemUgPSBzaXplO1xuICAgIH1cbiAgICBcbiAgICBzdGF0aWMgcmVhZG9ubHkgd2lkZ2V0UGFkZGluZzogbnVtYmVyID0gMTY7XG5cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgICBBZGFwdGl2ZS5HbG9iYWxTZXR0aW5ncy5yZW1vdmVQYWRkaW5nRnJvbUNvbnRhaW5lcnNXaXRoQmFja2dyb3VuZEltYWdlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyVG8oaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2FyZEhvc3QuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgIFwid2lkZ2V0LXNtYWxsLWNhcmRcIixcbiAgICAgICAgICAgIFwid2lkZ2V0LW1lZGl1bS1jYXJkXCIsXG4gICAgICAgICAgICBcIndpZGdldC1sYXJnZS1jYXJkXCJcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jYXJkSG9zdC5jbGFzc0xpc3QuYWRkKGB3aWRnZXQtJHt0aGlzLl9jb250YWluZXJTaXplLnRvTG93ZXJDYXNlKCl9LWNhcmRgKTtcbiAgICAgICAgdGhpcy5fb3V0ZXJGcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX291dGVyRnJhbWUuY2xhc3NMaXN0LmFkZChcIndpZGdldC1vdXRlci1jb250YWluZXJcIik7XG4gICAgICAgIHRoaXMuX291dGVyRnJhbWUuY2xhc3NMaXN0LmFkZChgd2lkZ2V0LSR7dGhpcy5fY29udGFpbmVyU2l6ZS50b0xvd2VyQ2FzZSgpfS1jb250YWluZXJgKTtcblxuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBoZWFkZXIuY2xhc3NOYW1lID0gXCJ3aWRnZXQtaGVhZGVyXCI7XG4gICAgICAgIHRoaXMuX291dGVyRnJhbWUuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblxuICAgICAgICBjb25zdCBoZWFkZXJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGhlYWRlclRleHQuY2xhc3NOYW1lID0gXCJ3aWRnZXQtaGVhZGVyLXRleHRcIjtcbiAgICAgICAgaGVhZGVyVGV4dC50ZXh0Q29udGVudCA9IFwiV2lkZ2V0IEhlYWRlclwiO1xuICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoaGVhZGVyVGV4dCk7XG5cbiAgICAgICAgY29uc3QgbW9yZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1vcmVCdXR0b24uY2xhc3NOYW1lID0gXCJ3aWRnZXQtaGVhZGVyLW1vcmUtYnV0dG9uXCI7XG4gICAgICAgIG1vcmVCdXR0b24uc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgICAgbW9yZUJ1dHRvbi50YWJJbmRleCA9IDA7XG4gICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZChtb3JlQnV0dG9uKTtcblxuICAgICAgICBjb25zdCBpbm5lckZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaW5uZXJGcmFtZS5jbGFzc05hbWUgPSBcIndpZGdldC1pbm5lci1jb250YWluZXJcIjtcbiAgICAgICAgaW5uZXJGcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmNhcmRIb3N0KTtcblxuICAgICAgICB0aGlzLl9vdXRlckZyYW1lLmFwcGVuZENoaWxkKGlubmVyRnJhbWUpO1xuICAgICAgICBob3N0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9vdXRlckZyYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVxdWlyZXNPdmVyZmxvd1N0eWxpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJhYy1hZGFwdGl2ZUNhcmRcIilbMF0gYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgY29uc3QgY2FyZEhlaWdodCA9IHJlbmRlcmVkQ2FyZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHdpZGdldEhlaWdodCA9IHRoaXMuY2FyZEhvc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgaWYgKGNhcmRIZWlnaHQgPiB3aWRnZXRIZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlXaWRnZXRPdmVyZmxvd1N0eWxpbmcocmVuZGVyZWRDYXJkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFwcGx5V2lkZ2V0T3ZlcmZsb3dTdHlsaW5nKHJlbmRlcmVkQ2FyZDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgcmVuZGVyZWRDYXJkLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50c1dyYXBwZXIgPSB0aGlzLmFkZENhcmRFbGVtZW50c1dyYXBwZXIocmVuZGVyZWRDYXJkKTtcbiAgICAgICAgY2FyZEVsZW1lbnRzV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibm8tb3ZlcmZsb3dcIik7XG5cbiAgICAgICAgY29uc3QgY2Fyb3VzZWxFbGVtZW50cyA9IHJlbmRlcmVkQ2FyZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYWMtY2Fyb3VzZWwtY29udGFpbmVyXCIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2Fyb3VzZWxFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENhcm91c2VsID0gY2Fyb3VzZWxFbGVtZW50c1tpXSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgY29uc3QgY2Fyb3VzZWxSZWN0ID0gY3VycmVudENhcm91c2VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlclJlY3QgPSBjYXJkRWxlbWVudHNXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAvLyBwYWdpbmF0aW9uIHdpbGwgYmUgaW4gdGhlIGJvdHRvbSAxNnB4IG9mIGEgY2Fyb3VzZWxcbiAgICAgICAgICAgIGNvbnN0IHBhZ2luYXRpb25Ub3AgPSBjYXJvdXNlbFJlY3QuYm90dG9tIC0gMTY7XG4gICAgICAgICAgICBjb25zdCBwYWdpbmF0aW9uQm90dG9tID0gY2Fyb3VzZWxSZWN0LmJvdHRvbTtcblxuICAgICAgICAgICAgY29uc3QgcGFnaW5hdGlvbk92ZXJsYXBzQm91bmRhcnkgPSAoKHBhZ2luYXRpb25Cb3R0b20gPj0gd3JhcHBlclJlY3QuYm90dG9tKSAmJiAocGFnaW5hdGlvbkJvdHRvbSA8ICh3cmFwcGVyUmVjdC5ib3R0b20gKyBXaWRnZXRDb250YWluZXIud2lkZ2V0UGFkZGluZykpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFnaW5hdGlvblRvcCA+PSB3cmFwcGVyUmVjdC5ib3R0b20pICYmIChwYWdpbmF0aW9uVG9wIDwgKHdyYXBwZXJSZWN0LmJvdHRvbSArIFdpZGdldENvbnRhaW5lci53aWRnZXRQYWRkaW5nKSkpO1xuXG4gICAgICAgICAgICBpZiAocGFnaW5hdGlvbk92ZXJsYXBzQm91bmRhcnkpIHtcbiAgICAgICAgICAgICAgICAvLyBIaWRlIG92ZXJmbG93IG9uIHRoZSBjYXJkRWxlbWVudCBpbnN0ZWFkIG9mIHRoZSB3cmFwcGVyIHNpbmNlIHBhZ2luYXRpb24gZG90cyBhcmUgaW4gdGhlIG1hcmdpblxuICAgICAgICAgICAgICAgIHJlbmRlcmVkQ2FyZC5jbGFzc0xpc3QuYWRkKFwibm8tb3ZlcmZsb3dcIik7XG4gICAgICAgICAgICAgICAgY2FyZEVsZW1lbnRzV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKFwibm8tb3ZlcmZsb3dcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHBhZGRpbmcgdG8gdGhlIGNhcm91c2VsIGlmIHRoZSBwYWdpbmF0aW9uIGRvdHMgYXJlIGluIHRoZSBtYXJnaW5cbiAgICAgICAgICAgICAgICBjdXJyZW50Q2Fyb3VzZWwuc3R5bGUubWFyZ2luQm90dG9tID0gV2lkZ2V0Q29udGFpbmVyLndpZGdldFBhZGRpbmcgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBhZGRDYXJkRWxlbWVudHNXcmFwcGVyKHBhcmVudEVsZW1lbnQ6IEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50c1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjYXJkRWxlbWVudHNXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJhYy1jYXJkLWVsZW1lbnRzLXdyYXBwZXJcIik7XG5cbiAgICAgICAgQXJyYXkuZnJvbShwYXJlbnRFbGVtZW50LmNoaWxkcmVuKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY2FyZEVsZW1lbnRzV3JhcHBlci5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgcGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChjYXJkRWxlbWVudHNXcmFwcGVyKTtcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50c1dyYXBwZXI7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBhZGp1c3RTdHlsZUZvckJhY2tncm91bmQoKSB7XG4gICAgICAgIHRoaXMuX291dGVyRnJhbWUuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgIFwid2lkZ2V0LXNtYWxsLWNvbnRhaW5lci1uby1ib3JkZXJcIixcbiAgICAgICAgICAgIFwid2lkZ2V0LW1lZGl1bS1jb250YWluZXItbm8tYm9yZGVyXCIsXG4gICAgICAgICAgICBcIndpZGdldC1sYXJnZS1jb250YWluZXItbm8tYm9yZGVyXCJcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCByZW5kZXJlZENhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYWMtYWRhcHRpdmVDYXJkXCIpWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBpZiAocmVuZGVyZWRDYXJkLnN0eWxlLmJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBiYWNrZ3JvdW5kIGltYWdlIHByZXNlbnQsIHdlIHNob3VsZCByZW1vdmUgdGhlIGJvcmRlclxuICAgICAgICAgICAgdGhpcy5fb3V0ZXJGcmFtZS5jbGFzc0xpc3QuYWRkKGB3aWRnZXQtJHt0aGlzLl9jb250YWluZXJTaXplLnRvTG93ZXJDYXNlKCl9LWNvbnRhaW5lci1uby1ib3JkZXJgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCB0YXJnZXRWZXJzaW9uKCk6IEFkYXB0aXZlLlZlcnNpb24ge1xuICAgICAgICByZXR1cm4gQWRhcHRpdmUuVmVyc2lvbnMudjFfNjtcbiAgICB9XG5cbiAgICBnZXQgaXNGaXhlZEhlaWdodCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgc2V0IGNvbnRhaW5lclNpemUodmFsdWU6IENvbnRhaW5lclNpemUpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyU2l6ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBzdXBwb3J0c011bHRpcGxlU2l6ZXMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc3VwcG9ydGVkQ29udGFpbmVyU2l6ZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhDb250YWluZXJTaXplKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlVHJlZUl0ZW0gfSBmcm9tIFwiLi9iYXNlLXRyZWUtaXRlbVwiO1xuaW1wb3J0ICogYXMgRGF0YSBmcm9tIFwiLi9kYXRhXCI7XG5cbmV4cG9ydCBjbGFzcyBEYXRhVHJlZUl0ZW0gZXh0ZW5kcyBCYXNlVHJlZUl0ZW0ge1xuICAgIHByaXZhdGUgX2NoaWxkcmVuOiBBcnJheTxEYXRhVHJlZUl0ZW0+ID0gbnVsbDtcblxuICAgIHByaXZhdGUgYnVpbGRDaGlsZExpc3QoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG5cbiAgICAgICAgICAgIGxldCBwcm9wZXJ0aWVzID0gdGhpcy5maWVsZC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChuZXcgRGF0YVRyZWVJdGVtKHByb3BlcnRpZXNba2V5XSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRMYWJlbFRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZGlzcGxheU5hbWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEFkZGl0aW9uYWxUZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkLnZhbHVlVHlwZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0QWRkaXRpb25hbFRleHRDbGFzcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJhY2QtZGF0YS10cmVlLWl0ZW0tYWRkaXRpb25hbFRleHRcIjtcbiAgICB9XG5cbiAgICByZWFkb25seSBmaWVsZDogRGF0YS5GaWVsZERlZmluaXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcihmaWVsZDogRGF0YS5GaWVsZERlZmluaXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG5cbiAgICAgICAgdGhpcy5fbGV2ZWwgPSAwO1xuXG4gICAgICAgIGxldCBjdXJyZW50RmllbGQgPSBmaWVsZDtcblxuICAgICAgICB3aGlsZSAoY3VycmVudEZpZWxkKSB7XG4gICAgICAgICAgICB0aGlzLl9sZXZlbCsrO1xuXG4gICAgICAgICAgICBjdXJyZW50RmllbGQgPSBjdXJyZW50RmllbGQucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRDaGlsZENvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHRoaXMuYnVpbGRDaGlsZExpc3QoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO1xuICAgIH1cblxuICAgIGdldENoaWxkQXQoaW5kZXg6IG51bWJlcik6IERhdGFUcmVlSXRlbSB7XG4gICAgICAgIHRoaXMuYnVpbGRDaGlsZExpc3QoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW5baW5kZXhdO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuZnVuY3Rpb24gc2hvdWxkVXNlSW5kZXhlclN5bnRheChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBsZXQgcmVnRXggPSAvW2EtekEtWjAtOV8kXSovO1xuICAgIGxldCBtYXRjaGVzID0gcmVnRXguZXhlYyhuYW1lKTtcblxuICAgIC8vIElmIG5hbWUgZG9lc24ndCBvbmx5IGNvbnRhaW4gbGV0dGVycy9kaWdpdHMvX1xuICAgIC8vIHRoZSBhY2Nlc3NvciBtdXN0IHVzZSB0aGUgaW5kZXhlciBzeW50YXhcbiAgICByZXR1cm4gIShtYXRjaGVzICYmIG1hdGNoZXNbMF0gPT09IG5hbWUpO1xufSAgIFxuXG5leHBvcnQgdHlwZSBWYWx1ZVR5cGUgPSBcIlN0cmluZ1wiIHwgXCJCb29sZWFuXCIgfCBcIk51bWJlclwiIHwgXCJBcnJheVwiIHwgXCJPYmplY3RcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJU3RyaW5nRGF0YSB7XG4gICAgdmFsdWVUeXBlOiBcIlN0cmluZ1wiXG4gICAgc2FtcGxlVmFsdWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU51bWJlckRhdGEge1xuICAgIHZhbHVlVHlwZTogXCJOdW1iZXJcIlxuICAgIHNhbXBsZVZhbHVlPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCb29sZWFuRGF0YSB7XG4gICAgdmFsdWVUeXBlOiBcIkJvb2xlYW5cIlxuICAgIHNhbXBsZVZhbHVlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQXJyYXlEYXRhIHtcbiAgICB2YWx1ZVR5cGU6IFwiQXJyYXlcIjtcbiAgICBpdGVtVHlwZTogSURhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU9iamVjdERhdGEge1xuICAgIHZhbHVlVHlwZTogXCJPYmplY3RcIjtcbiAgICBmaWVsZHM6IElGaWVsZFtdO1xufVxuXG5leHBvcnQgdHlwZSBJRGF0YSA9IElTdHJpbmdEYXRhIHwgSUJvb2xlYW5EYXRhIHwgSU51bWJlckRhdGEgfCBJQXJyYXlEYXRhIHwgSU9iamVjdERhdGE7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURhdGFGaWVsZCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN0cmluZ0ZpZWxkIGV4dGVuZHMgSURhdGFGaWVsZCwgSVN0cmluZ0RhdGEgeyB9XG5leHBvcnQgaW50ZXJmYWNlIElOdW1iZXJGaWVsZCBleHRlbmRzIElEYXRhRmllbGQsIElOdW1iZXJEYXRhIHsgfVxuZXhwb3J0IGludGVyZmFjZSBJQm9vbGVhbkZpZWxkIGV4dGVuZHMgSURhdGFGaWVsZCwgSUJvb2xlYW5EYXRhIHsgfVxuZXhwb3J0IGludGVyZmFjZSBJT2JqZWN0RmllbGQgZXh0ZW5kcyBJRGF0YUZpZWxkLCBJT2JqZWN0RGF0YSB7IH1cbmV4cG9ydCBpbnRlcmZhY2UgSUFycmF5RmllbGQgZXh0ZW5kcyBJRGF0YUZpZWxkLCBJQXJyYXlEYXRhIHsgfVxuXG5leHBvcnQgdHlwZSBJRmllbGQgPSBJU3RyaW5nRmllbGQgfCBJTnVtYmVyRmllbGQgfCBJQm9vbGVhbkZpZWxkIHwgSU9iamVjdEZpZWxkIHwgSUFycmF5RmllbGQ7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXRhVHlwZSB7XG4gICAgc3RhdGljIHBhcnNlKHBhcmVudDogRmllbGREZWZpbml0aW9uLCBkYXRhOiBJRGF0YSk6IERhdGFUeXBlIHtcbiAgICAgICAgc3dpdGNoIChkYXRhLnZhbHVlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIlN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVmFsdWVUeXBlRGF0YTxzdHJpbmc+KHBhcmVudCwgXCJTYW1wbGUgZGF0YVwiLCBkYXRhLnNhbXBsZVZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlVHlwZURhdGE8bnVtYmVyPihwYXJlbnQsIDEyMywgZGF0YS5zYW1wbGVWYWx1ZSk7XG4gICAgICAgICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVmFsdWVUeXBlRGF0YTxib29sZWFuPihwYXJlbnQsIHRydWUsIGRhdGEuc2FtcGxlVmFsdWUpO1xuICAgICAgICAgICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5RGF0YS5wYXJzZShwYXJlbnQsIGRhdGEpO1xuICAgICAgICAgICAgY2FzZSBcIk9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3REYXRhLnBhcnNlKHBhcmVudCwgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZGVyaXZlRnJvbShwYXJlbnQ6IEZpZWxkRGVmaW5pdGlvbiwgdmFsdWU6IGFueSk6IERhdGFUeXBlIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZVR5cGVEYXRhPHN0cmluZz4ocGFyZW50LCBcIlNhbXBsZSBkYXRhXCIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlVHlwZURhdGE8Ym9vbGVhbj4ocGFyZW50LCB0cnVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlVHlwZURhdGE8bnVtYmVyPihwYXJlbnQsIDEyMywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5RGF0YS5kZXJpdmVGcm9tKHBhcmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdERhdGEuZGVyaXZlRnJvbShwYXJlbnQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGRhdGEgdHlwZTogXCIgKyB0eXBlb2YgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgb3duZXI6IEZpZWxkRGVmaW5pdGlvbikge31cblxuICAgIGFic3RyYWN0IGdlbmVyYXRlU2FtcGxlRGF0YSgpOiBhbnk7XG5cbiAgICBnZXRDaGlsZEZpZWxkcygpOiBGaWVsZERlZmluaXRpb25bXSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHF1YWxpZnlGaWVsZE5hbWUoZmllbGROYW1lOiBzdHJpbmcsIGZpZWxkSXNMZWFmOiBib29sZWFuKSB7XG4gICAgICAgIHJldHVybiBmaWVsZE5hbWU7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgZ2V0IHZhbHVlVHlwZSgpOiBWYWx1ZVR5cGU7XG5cbiAgICBnZXQgaXNDb2xsZWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmFsdWVUeXBlRGF0YTxUIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbj4gZXh0ZW5kcyBEYXRhVHlwZSB7XG4gICAgcHJpdmF0ZSBfc2FtcGxlVmFsdWU6IFQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgb3duZXI6IEZpZWxkRGVmaW5pdGlvbixcbiAgICAgICAgcmVhZG9ubHkgZGVmYXVsdFNhbXBsZVZhbHVlOiBULFxuICAgICAgICBzYW1wbGVWYWx1ZT86IFQpIHtcbiAgICAgICAgc3VwZXIob3duZXIpO1xuXG4gICAgICAgIHRoaXMuX3NhbXBsZVZhbHVlID0gc2FtcGxlVmFsdWU7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVTYW1wbGVEYXRhKCk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVWYWx1ZSA/IHRoaXMuc2FtcGxlVmFsdWUgOiB0aGlzLmRlZmF1bHRTYW1wbGVWYWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgc2FtcGxlVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYW1wbGVWYWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgdmFsdWVUeXBlKCk6IFZhbHVlVHlwZSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHRoaXMuZGVmYXVsdFNhbXBsZVZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiU3RyaW5nXCI7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTnVtYmVyXCI7XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkJvb2xlYW5cIjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFycmF5RGF0YSBleHRlbmRzIERhdGFUeXBlIHtcbiAgICBzdGF0aWMgcGFyc2UocGFyZW50OiBGaWVsZERlZmluaXRpb24sIGRhdGE6IElBcnJheURhdGEpOiBBcnJheURhdGEge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFycmF5RGF0YShwYXJlbnQpO1xuICAgICAgICByZXN1bHQuZGF0YVR5cGUgPSBEYXRhVHlwZS5wYXJzZShwYXJlbnQsIGRhdGEuaXRlbVR5cGUpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlcml2ZUZyb20ocGFyZW50OiBGaWVsZERlZmluaXRpb24sIGlucHV0OiBvYmplY3QpOiBBcnJheURhdGEge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBpcyBub3QgYW4gYXJyYXkuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheURhdGEocGFyZW50KTtcblxuICAgICAgICBpZiAoaW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LmRhdGFUeXBlID0gRGF0YVR5cGUuZGVyaXZlRnJvbShwYXJlbnQsIGlucHV0WzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZGF0YVR5cGU6IERhdGFUeXBlID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgb3duZXI6IEZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICBzdXBlcihvd25lcik7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVTYW1wbGVEYXRhKCk6IGFueSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhVHlwZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5kYXRhVHlwZS5nZW5lcmF0ZVNhbXBsZURhdGEoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGdldENoaWxkRmllbGRzKCk6IEZpZWxkRGVmaW5pdGlvbltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVR5cGUgPyB0aGlzLmRhdGFUeXBlLmdldENoaWxkRmllbGRzKCkgOiBbXTtcbiAgICB9XG5cbiAgICBxdWFsaWZ5RmllbGROYW1lKGZpZWxkTmFtZTogc3RyaW5nLCBmaWVsZElzTGVhZjogYm9vbGVhbikge1xuICAgICAgICBpZiAoIWZpZWxkSXNMZWFmKSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGROYW1lICsgXCJbMF1cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5xdWFsaWZ5RmllbGROYW1lKGZpZWxkTmFtZSwgZmllbGRJc0xlYWYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlzQ29sbGVjdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IHZhbHVlVHlwZSgpOiBWYWx1ZVR5cGUge1xuICAgICAgICByZXR1cm4gXCJBcnJheVwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9iamVjdERhdGEgZXh0ZW5kcyBEYXRhVHlwZSB7XG4gICAgc3RhdGljIHBhcnNlKHBhcmVudDogRmllbGREZWZpbml0aW9uLCBkYXRhOiBJT2JqZWN0RGF0YSk6IE9iamVjdERhdGEge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IE9iamVjdERhdGEocGFyZW50KTtcblxuICAgICAgICBmb3IgKGxldCBmaWVsZCBvZiBkYXRhLmZpZWxkcykge1xuICAgICAgICAgICAgbGV0IGZpZWxkRGVmaW5pdGlvbiA9IG5ldyBGaWVsZERlZmluaXRpb24ocGFyZW50KTtcbiAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5uYW1lID0gZmllbGQubmFtZTtcbiAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5kaXNwbGF5TmFtZSA9IGZpZWxkLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgZmllbGREZWZpbml0aW9uLmRhdGFUeXBlID0gRGF0YVR5cGUucGFyc2UoZmllbGREZWZpbml0aW9uLCA8SURhdGE+ZmllbGQpO1xuXG4gICAgICAgICAgICByZXN1bHQuZmllbGRzLnB1c2goZmllbGREZWZpbml0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlcml2ZUZyb20ocGFyZW50OiBGaWVsZERlZmluaXRpb24sIGlucHV0OiBvYmplY3QpOiBPYmplY3REYXRhIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBPYmplY3REYXRhKHBhcmVudCk7XG5cbiAgICAgICAgaWYgKGlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkID0gbmV3IEZpZWxkRGVmaW5pdGlvbihwYXJlbnQpO1xuICAgICAgICAgICAgICAgIGZpZWxkLmRhdGFUeXBlID0gIERhdGFUeXBlLmRlcml2ZUZyb20oZmllbGQsIGlucHV0W2tleV0pO1xuICAgICAgICAgICAgICAgIGZpZWxkLm5hbWUgPSBrZXk7XG5cbiAgICAgICAgICAgICAgICByZXN1bHQuZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZWFkb25seSBmaWVsZHM6IEZpZWxkRGVmaW5pdGlvbltdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBvd25lcjogRmllbGREZWZpbml0aW9uKSB7XG4gICAgICAgIHN1cGVyKG93bmVyKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVNhbXBsZURhdGEoKTogYW55IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGZpZWxkIG9mIHRoaXMuZmllbGRzKSB7XG4gICAgICAgICAgICByZXN1bHRbZmllbGQubmFtZV0gPSBmaWVsZC5kYXRhVHlwZS5nZW5lcmF0ZVNhbXBsZURhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRGaWVsZHMoKTogRmllbGREZWZpbml0aW9uW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZHM7XG4gICAgfVxuXG4gICAgZ2V0IHZhbHVlVHlwZSgpOiBWYWx1ZVR5cGUge1xuICAgICAgICByZXR1cm4gXCJPYmplY3RcIjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWVsZERlZmluaXRpb24ge1xuICAgIHN0YXRpYyBwYXJzZShkYXRhOiBJRGF0YSk6IEZpZWxkRGVmaW5pdGlvbiB7XG4gICAgICAgIGxldCBmaWVsZCA9IG5ldyBGaWVsZERlZmluaXRpb24obnVsbCk7XG4gICAgICAgIGZpZWxkLm5hbWUgPSBcIiRyb290XCI7XG4gICAgICAgIGZpZWxkLmRhdGFUeXBlID0gRGF0YVR5cGUucGFyc2UoZmllbGQsIGRhdGEpO1xuXG4gICAgICAgIHJldHVybiBmaWVsZDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVyaXZlRnJvbShpbnB1dDogYW55KTogRmllbGREZWZpbml0aW9uIHtcbiAgICAgICAgbGV0IGZpZWxkID0gbmV3IEZpZWxkRGVmaW5pdGlvbihudWxsKTtcbiAgICAgICAgZmllbGQubmFtZSA9IFwiJHJvb3RcIjtcbiAgICAgICAgZmllbGQuZGF0YVR5cGUgPSBEYXRhVHlwZS5kZXJpdmVGcm9tKGZpZWxkLCBpbnB1dCk7XG5cbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2Rpc3BsYXlOYW1lOiBzdHJpbmc7XG5cbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGF0YVR5cGU6IERhdGFUeXBlO1xuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgcGFyZW50OiBGaWVsZERlZmluaXRpb24pIHt9XG5cbiAgICBhc0V4cHJlc3Npb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiJHtcIiArIHRoaXMuZ2V0UGF0aCgpICsgXCJ9XCI7XG4gICAgfVxuXG4gICAgZ2V0UGF0aChhc0xlYWY6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGN1cnJlbnRGaWVsZDogRmllbGREZWZpbml0aW9uID0gdGhpcztcbiAgICAgICAgbGV0IHBhdGg6IEZpZWxkRGVmaW5pdGlvbltdID0gW107XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnRGaWVsZCkge1xuICAgICAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnRGaWVsZCk7XG5cbiAgICAgICAgICAgIGN1cnJlbnRGaWVsZCA9IGN1cnJlbnRGaWVsZC5wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgbGV0IGZvcmNlSW5kZXhlclN5bnRheDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgcXVhbGlmaWVkTmFtZSA9IHBhdGhbaV0ucXVhbGlmaWVkTmFtZShmYWxzZSlcblxuICAgICAgICAgICAgaWYgKHNob3VsZFVzZUluZGV4ZXJTeW50YXgocXVhbGlmaWVkTmFtZSkgfHwgZm9yY2VJbmRleGVyU3ludGF4KSB7XG4gICAgICAgICAgICAgICAgcXVhbGlmaWVkTmFtZSA9IFwiWydcIiArIHF1YWxpZmllZE5hbWUgKyBcIiddXCI7XG5cbiAgICAgICAgICAgICAgICBmb3JjZUluZGV4ZXJTeW50YXggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCIuXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgKz0gcXVhbGlmaWVkTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcXVhbGlmaWVkTmFtZShhc0xlYWY6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhVHlwZS5xdWFsaWZ5RmllbGROYW1lKHRoaXMubmFtZSwgYXNMZWFmKTtcbiAgICB9XG5cbiAgICBnZXQgZGlzcGxheU5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BsYXlOYW1lID8gdGhpcy5fZGlzcGxheU5hbWUgOiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgc2V0IGRpc3BsYXlOYW1lKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fZGlzcGxheU5hbWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgY2hpbGRyZW4oKTogRmllbGREZWZpbml0aW9uW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhVHlwZS5nZXRDaGlsZEZpZWxkcygpO1xuICAgIH1cblxuICAgIGdldCBpc0NvbGxlY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFUeXBlLmlzQ29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgdmFsdWVUeXBlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFUeXBlLnZhbHVlVHlwZTtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IEJhc2VUcmVlSXRlbSB9IGZyb20gXCIuL2Jhc2UtdHJlZS1pdGVtXCI7XG5pbXBvcnQgeyBEZXNpZ25lclBlZXIsIENhcmRFbGVtZW50UGVlciB9IGZyb20gXCIuL2Rlc2lnbmVyLXBlZXJzXCI7XG5cbmV4cG9ydCBjbGFzcyBEZXNpZ25lclBlZXJUcmVlSXRlbSBleHRlbmRzIEJhc2VUcmVlSXRlbSB7XG4gICAgcHJpdmF0ZSBjb21wdXRlTGV2ZWwoKSB7XG4gICAgICAgIHRoaXMuX2xldmVsID0gMDtcblxuICAgICAgICBsZXQgcGVlciA9IHRoaXMub3duZXI7XG5cbiAgICAgICAgd2hpbGUgKHBlZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xldmVsKys7XG5cbiAgICAgICAgICAgIHBlZXIgPSBwZWVyLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgKHRoaXMuZ2V0Q2hpbGRBdChpKSBhcyBEZXNpZ25lclBlZXJUcmVlSXRlbSkuY29tcHV0ZUxldmVsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SWNvbkNsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLnJlZ2lzdHJhdGlvbi5pY29uQ2xhc3M7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldExhYmVsVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5nZXRDYXJkT2JqZWN0KCkuZ2V0SnNvblR5cGVOYW1lKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEFkZGl0aW9uYWxUZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmdldFRyZWVJdGVtVGV4dCgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZWxlY3RlZENoYW5nZWQoc2Nyb2xsSW50b1ZpZXc6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIuc2VsZWN0ZWRDaGFuZ2VkKHNjcm9sbEludG9WaWV3KTtcblxuICAgICAgICB0aGlzLm93bmVyLmlzU2VsZWN0ZWQgPSB0aGlzLmlzU2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgb3duZXI6IERlc2lnbmVyUGVlcjtcblxuICAgIGNvbnN0cnVjdG9yKG93bmVyOiBEZXNpZ25lclBlZXIsIGlzRXhwYW5kZWQ6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKGlzRXhwYW5kZWQpO1xuXG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5vd25lci5vblBhcmVudENoYW5nZWQgPSAoc2VuZGVyOiBEZXNpZ25lclBlZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZUxldmVsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXB1dGVMZXZlbCgpO1xuICAgIH1cblxuICAgIGdldENoaWxkQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZ2V0Q2hpbGRDb3VudCgpO1xuICAgIH1cblxuICAgIGdldENoaWxkQXQoaW5kZXg6IG51bWJlcik6IEJhc2VUcmVlSXRlbSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmdldENoaWxkQXQoaW5kZXgpLnRyZWVJdGVtO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHN1cGVyLmNsaWNrKGUpO1xuXG4gICAgICAgIGxldCBjdXJyZW50UGVlciA9IHRoaXMub3duZXI7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnRQZWVyKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFBlZXIgaW5zdGFuY2VvZiBDYXJkRWxlbWVudFBlZXIgJiYgY3VycmVudFBlZXIuYnJpbmdDYXJkRWxlbWVudEludG9WaWV3KCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRQZWVyID0gY3VycmVudFBlZXIucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0ICogYXMgQ29udHJvbHMgZnJvbSBcImFkYXB0aXZlY2FyZHMtY29udHJvbHNcIjtcbmltcG9ydCB7IERyYWdnYWJsZUVsZW1lbnQgfSBmcm9tIFwiLi9kcmFnZ2FibGUtZWxlbWVudFwiO1xuaW1wb3J0IHsgUGVlckNvbW1hbmQgfSBmcm9tIFwiLi9wZWVyLWNvbW1hbmRcIjtcbmltcG9ydCB7IENhcmREZXNpZ25lclN1cmZhY2UsIERlc2lnbkNvbnRleHQgfSBmcm9tIFwiLi9jYXJkLWRlc2lnbmVyLXN1cmZhY2VcIjtcbmltcG9ydCB7IERlc2lnbmVyUGVlclRyZWVJdGVtIH0gZnJvbSBcIi4vZGVzaWduZXItcGVlci10cmVlaXRlbVwiO1xuaW1wb3J0IHsgUmVjdCwgSVBvaW50LCBVdGlscyB9IGZyb20gXCIuL21pc2NlbGxhbmVvdXNcIjtcbmltcG9ydCB7IEdsb2JhbFNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5pbXBvcnQgeyBGaWVsZFBpY2tlciB9IGZyb20gXCIuL2ZpZWxkLXBpY2tlclwiO1xuaW1wb3J0IHsgU3RyaW5ncyB9IGZyb20gXCIuL3N0cmluZ3NcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERlc2lnbmVyUGVlcklucGxhY2VFZGl0b3Ige1xuICAgIG9uQ2xvc2U6IChhcHBseUNoYW5nZXM6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgICBhYnN0cmFjdCBpbml0aWFsaXplKCk7XG4gICAgYWJzdHJhY3QgYXBwbHlDaGFuZ2VzKCk7XG4gICAgYWJzdHJhY3QgcmVuZGVyKCk6IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2FyZEVsZW1lbnRQZWVySW5wbGFjZUVkaXRvcjxUQ2FyZEVsZW1lbnQgZXh0ZW5kcyBBZGFwdGl2ZS5DYXJkRWxlbWVudD4gZXh0ZW5kcyBEZXNpZ25lclBlZXJJbnBsYWNlRWRpdG9yIHtcbiAgICByZWFkb25seSBjYXJkRWxlbWVudDogVENhcmRFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoY2FyZEVsZW1lbnQ6IFRDYXJkRWxlbWVudCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXNpZ25lclBlZXJSZWdpc3RyYXRpb25CYXNlIHtcbiAgICBwcml2YXRlIF9pY29uQ2xhc3M/OiBzdHJpbmc7XG5cbiAgICByZWFkb25seSBjYXRlZ29yeTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoY2F0ZWdvcnk6IHN0cmluZywgaWNvbkNsYXNzPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgICAgdGhpcy5faWNvbkNsYXNzID0gaWNvbkNsYXNzO1xuICAgIH1cblxuICAgIGdldCBpY29uQ2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ljb25DbGFzcyA/IHRoaXMuX2ljb25DbGFzcyA6IFwiYWNkLWljb24tZGVmYXVsdEVsZW1lbnRJY29uXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uPFRTb3VyY2UsIFRQZWVyPiBleHRlbmRzIERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2V7XG4gICAgcmVhZG9ubHkgc291cmNlVHlwZTogVFNvdXJjZTtcblxuICAgIHBlZXJUeXBlOiBUUGVlcjtcblxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZVR5cGU6IFRTb3VyY2UsIHBlZXJUeXBlOiBUUGVlciwgY2F0ZWdvcnk6IHN0cmluZywgaWNvbkNsYXNzOiBzdHJpbmcgPSBudWxsKSB7XG4gICAgICAgIHN1cGVyKGNhdGVnb3J5LCBpY29uQ2xhc3MpO1xuXG4gICAgICAgIHRoaXMuc291cmNlVHlwZSA9IHNvdXJjZVR5cGU7XG4gICAgICAgIHRoaXMucGVlclR5cGUgPSBwZWVyVHlwZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkge1xuICAgIHN0YXRpYyByZWFkb25seSBEZWZhdWx0Q2F0ZWdvcnkgPSBcIl9fZGVmYXVsdENhdGVnb3J5XCI7XG4gICAgc3RhdGljIHJlYWRvbmx5IExheW91dENhdGVnb3J5ID0gXCJMYXlvdXRcIjtcbiAgICBzdGF0aWMgcmVhZG9ubHkgU3R5bGVDYXRlZ29yeSA9IFwiU3R5bGVcIjtcbiAgICBzdGF0aWMgcmVhZG9ubHkgU2VsZWN0aW9uQWN0aW9uID0gXCJTZWxlY3Rpb24gYWN0aW9uXCI7XG4gICAgc3RhdGljIHJlYWRvbmx5IElubGluZUFjdGlvbiA9IFwiSW5saW5lIGFjdGlvblwiO1xuICAgIHN0YXRpYyByZWFkb25seSBWYWxpZGF0aW9uID0gXCJWYWxpZGF0aW9uXCI7XG4gICAgc3RhdGljIHJlYWRvbmx5IFJlZnJlc2ggPSBcIlJlZnJlc2hcIjtcblxuICAgIHByaXZhdGUgX2VudHJpZXM6IFByb3BlcnR5U2hlZXRFbnRyeVtdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBuYW1lOiBzdHJpbmcpIHsgfVxuXG4gICAgcmVuZGVyKGNvbnRhaW5lcjogQWRhcHRpdmUuQ29udGFpbmVyLCBjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgZGlzcGxheUNhdGVnb3J5TmFtZTogYm9vbGVhbikge1xuICAgICAgICBsZXQgZW50cmllc1RvUmVuZGVyOiBQcm9wZXJ0eVNoZWV0RW50cnlbXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHRoaXMuX2VudHJpZXMpIHtcbiAgICAgICAgICAgIGlmIChBZGFwdGl2ZS5pc1ZlcnNpb25MZXNzT3JFcXVhbChlbnRyeS50YXJnZXRWZXJzaW9uLCBjb250ZXh0LmRlc2lnbkNvbnRleHQudGFyZ2V0VmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICBlbnRyaWVzVG9SZW5kZXIucHVzaChlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cmllc1RvUmVuZGVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5Q2F0ZWdvcnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhlYWRlciA9IG5ldyBBZGFwdGl2ZS5UZXh0QmxvY2soKTtcbiAgICAgICAgICAgICAgICBoZWFkZXIuc2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dCA9IFwiKipcIiArICh0aGlzLm5hbWUgPT09IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkgPyBjb250ZXh0LnBlZXIuZ2V0Q2FyZE9iamVjdCgpLmdldEpzb25UeXBlTmFtZSgpIDogdGhpcy5uYW1lKSArIFwiKipcIjtcblxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRJdGVtKGhlYWRlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXNUb1JlbmRlcikge1xuICAgICAgICAgICAgICAgIGlmIChBZGFwdGl2ZS5pc1ZlcnNpb25MZXNzT3JFcXVhbChlbnRyeS50YXJnZXRWZXJzaW9uLCBjb250ZXh0LmRlc2lnbkNvbnRleHQudGFyZ2V0VmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZEl0ZW0oZW50cnkucmVuZGVyKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGQoLi4uZW50cmllczogUHJvcGVydHlTaGVldEVudHJ5W10pIHtcbiAgICAgICAgdGhpcy5fZW50cmllcyA9IHRoaXMuX2VudHJpZXMuY29uY2F0KGVudHJpZXMpO1xuICAgIH1cblxuICAgIHJlbW92ZSguLi5lbnRyaWVzOiBQcm9wZXJ0eVNoZWV0RW50cnlbXSkge1xuICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXg6IG51bWJlcjtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuX2VudHJpZXMuaW5kZXhPZihlbnRyeSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRyaWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoaW5kZXggPj0gMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRFbnRyeUF0KGluZGV4OiBudW1iZXIpOiBQcm9wZXJ0eVNoZWV0RW50cnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW50cmllc1tpbmRleF07XG4gICAgfVxuXG4gICAgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW50cmllcy5sZW5ndGg7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlTaGVldCB7XG4gICAgcHJpdmF0ZSBfY2F0ZWdvcmllczogeyBba2V5OiBzdHJpbmddOiBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkgfSA9IHt9O1xuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgZGlzcGxheUNhdGVnb3J5TmFtZXM6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX2NhdGVnb3JpZXNbUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeV0gPSBuZXcgUHJvcGVydHlTaGVldENhdGVnb3J5KFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpO1xuICAgICAgICB0aGlzLl9jYXRlZ29yaWVzW1Byb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeV0gPSBuZXcgUHJvcGVydHlTaGVldENhdGVnb3J5KFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSk7XG4gICAgICAgIHRoaXMuX2NhdGVnb3JpZXNbUHJvcGVydHlTaGVldENhdGVnb3J5LlN0eWxlQ2F0ZWdvcnldID0gbmV3IFByb3BlcnR5U2hlZXRDYXRlZ29yeShQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU3R5bGVDYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgYWRkKGNhdGVnb3J5TmFtZTogc3RyaW5nLCAuLi5lbnRyaWVzOiBQcm9wZXJ0eVNoZWV0RW50cnlbXSkge1xuICAgICAgICBsZXQgY2F0ZWdvcnkgPSB0aGlzLl9jYXRlZ29yaWVzW2NhdGVnb3J5TmFtZV07XG5cbiAgICAgICAgaWYgKCFjYXRlZ29yeSkge1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBuZXcgUHJvcGVydHlTaGVldENhdGVnb3J5KGNhdGVnb3J5TmFtZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NhdGVnb3JpZXNbY2F0ZWdvcnlOYW1lXSA9IGNhdGVnb3J5O1xuICAgICAgICB9XG5cbiAgICAgICAgY2F0ZWdvcnkuYWRkKC4uLmVudHJpZXMpO1xuICAgIH1cblxuICAgIGFkZEFjdGlvblByb3BlcnRpZXMoXG4gICAgICAgIHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb24sXG4gICAgICAgIHBlZXI6IERlc2lnbmVyUGVlcixcbiAgICAgICAgYWN0aW9uOiBBZGFwdGl2ZS5BY3Rpb24sXG4gICAgICAgIGNhdGVnb3J5OiBzdHJpbmcsXG4gICAgICAgIGV4Y2x1ZGVQcm9wZXJ0aWVzOiBQcm9wZXJ0eVNoZWV0RW50cnlbXSA9IFsgQWN0aW9uUGVlci5pY29uVXJsUHJvcGVydHksIEFjdGlvblBlZXIuc3R5bGVQcm9wZXJ0eSwgQWN0aW9uUGVlci5tb2RlUHJvcGVydHkgXSkge1xuICAgICAgICBsZXQgYWN0aW9uUGVlciA9IENhcmREZXNpZ25lclN1cmZhY2UuYWN0aW9uUGVlclJlZ2lzdHJ5LmNyZWF0ZVBlZXJJbnN0YW5jZShwZWVyLmRlc2lnbmVyU3VyZmFjZSwgbnVsbCwgYWN0aW9uKTtcbiAgICAgICAgYWN0aW9uUGVlci5vbkNoYW5nZWQgPSAoc2VuZGVyOiBEZXNpZ25lclBlZXIsIHVwZGF0ZVByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pID0+IHsgcGVlci5jaGFuZ2VkKHVwZGF0ZVByb3BlcnR5U2hlZXQpOyB9O1xuXG4gICAgICAgIGxldCBzdWJQcm9wZXJ0eVNoZWV0ID0gbmV3IFByb3BlcnR5U2hlZXQoZmFsc2UpO1xuICAgICAgICBhY3Rpb25QZWVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChzdWJQcm9wZXJ0eVNoZWV0LCBjYXRlZ29yeSk7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN1YlByb3BlcnR5U2hlZXQucmVtb3ZlKC4uLmV4Y2x1ZGVQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkKFxuICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICBuZXcgU3ViUHJvcGVydHlTaGVldEVudHJ5KHRhcmdldFZlcnNpb24sIGFjdGlvbiwgc3ViUHJvcGVydHlTaGVldCkpO1xuICAgIH1cblxuICAgIHJlbW92ZSguLi5lbnRyaWVzOiBQcm9wZXJ0eVNoZWV0RW50cnlbXSkge1xuICAgICAgICBmb3IgKGxldCBjYXRlZ29yeU5hbWUgb2YgT2JqZWN0LmtleXModGhpcy5fY2F0ZWdvcmllcykpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhdGVnb3JpZXNbY2F0ZWdvcnlOYW1lXS5yZW1vdmUoLi4uZW50cmllcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoY29udGFpbmVyOiBBZGFwdGl2ZS5Db250YWluZXIsIGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KSB7XG4gICAgICAgIGZvciAobGV0IGNhdGVnb3J5TmFtZSBvZiBPYmplY3Qua2V5cyh0aGlzLl9jYXRlZ29yaWVzKSkge1xuICAgICAgICAgICAgdGhpcy5fY2F0ZWdvcmllc1tjYXRlZ29yeU5hbWVdLnJlbmRlcihjb250YWluZXIsIGNvbnRleHQsIHRoaXMuZGlzcGxheUNhdGVnb3J5TmFtZXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlTaGVldENvbnRleHQge1xuICAgIHByaXZhdGUgX3RhcmdldDogb2JqZWN0ID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlYWRvbmx5IGRlc2lnbkNvbnRleHQ6IERlc2lnbkNvbnRleHQsXG4gICAgICAgIHJlYWRvbmx5IHBlZXI6IERlc2lnbmVyUGVlcixcbiAgICAgICAgdGFyZ2V0OiBvYmplY3QgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cblxuICAgIGdldCB0YXJnZXQoKTogb2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldCAhPSB1bmRlZmluZWQgPyB0aGlzLl90YXJnZXQgOiB0aGlzLnBlZXIuZ2V0Q2FyZE9iamVjdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFByb3BlcnR5U2hlZXRFbnRyeSB7XG4gICAgYWJzdHJhY3QgcmVuZGVyKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuQ2FyZEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1YlByb3BlcnR5U2hlZXRFbnRyeSB7XG4gICAgcmVuZGVyKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuQ2FyZEVsZW1lbnQge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gbmV3IEFkYXB0aXZlLkNvbnRhaW5lcigpO1xuICAgICAgICBjb250YWluZXIuc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0eVNoZWV0LnJlbmRlcihjb250YWluZXIsIG5ldyBQcm9wZXJ0eVNoZWV0Q29udGV4dChcbiAgICAgICAgICAgIGNvbnRleHQuZGVzaWduQ29udGV4dCxcbiAgICAgICAgICAgIGNvbnRleHQucGVlcixcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0KSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLCByZWFkb25seSB0YXJnZXQ6IG9iamVjdCwgcmVhZG9ubHkgcHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCkgeyB9XG59XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21Qcm9wZXJ0eVNoZWV0RW50cnkgZXh0ZW5kcyBQcm9wZXJ0eVNoZWV0RW50cnkge1xuICAgIHJlbmRlcihjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IEFkYXB0aXZlLkNhcmRFbGVtZW50IHtcbiAgICAgICAgaWYgKHRoaXMub25SZW5kZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uUmVuZGVyKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbiwgcmVhZG9ubHkgb25SZW5kZXI6IChjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCkgPT4gQWRhcHRpdmUuQ2FyZEVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbik7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQcm9wZXJ0eVNoZWV0RWRpdG9yQ29tbWFuZCB7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgY2FwdGlvbjogc3RyaW5nO1xuICAgIGFsdFRleHQ/OiBzdHJpbmc7XG4gICAgZXhwYW5kZWQ/OiBib29sZWFuO1xuICAgIG9uRXhlY3V0ZTogKHNlbmRlcjogU2luZ2xlSW5wdXRQcm9wZXJ0eUVkaXRvciwgY2xpY2tlZEVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2luZ2xlSW5wdXRQcm9wZXJ0eUVkaXRvciBleHRlbmRzIFByb3BlcnR5U2hlZXRFbnRyeSB7XG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUlucHV0KGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuSW5wdXQ7XG5cbiAgICBwcm90ZWN0ZWQgZ2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IGFueSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV07XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEFkZGl0aW9uYWxDb21tYW5kcyhjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IElQcm9wZXJ0eVNoZWV0RWRpdG9yQ29tbWFuZFtdIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJlbmRlcihjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IEFkYXB0aXZlLkNhcmRFbGVtZW50IHtcbiAgICAgICAgbGV0IGxlZnRDb2x1bW4gPSBuZXcgQWRhcHRpdmUuQ29sdW1uKCk7XG4gICAgICAgIGxlZnRDb2x1bW4ud2lkdGggPSBuZXcgQWRhcHRpdmUuU2l6ZUFuZFVuaXQoMTAwLCBBZGFwdGl2ZS5TaXplVW5pdC5QaXhlbCk7XG4gICAgICAgIGxlZnRDb2x1bW4udmVydGljYWxDb250ZW50QWxpZ25tZW50ID0gQWRhcHRpdmUuVmVydGljYWxBbGlnbm1lbnQuQ2VudGVyO1xuXG4gICAgICAgIGxldCByaWdodENvbHVtbiA9IG5ldyBBZGFwdGl2ZS5Db2x1bW4oKTtcbiAgICAgICAgcmlnaHRDb2x1bW4ud2lkdGggPSBcInN0cmV0Y2hcIjtcbiAgICAgICAgcmlnaHRDb2x1bW4udmVydGljYWxDb250ZW50QWxpZ25tZW50ID0gQWRhcHRpdmUuVmVydGljYWxBbGlnbm1lbnQuQ2VudGVyO1xuXG4gICAgICAgIGxldCBjb2x1bW5TZXQgPSBuZXcgQWRhcHRpdmUuQ29sdW1uU2V0KCk7XG5cbiAgICAgICAgY29sdW1uU2V0LnNwYWNpbmcgPSBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsO1xuXG4gICAgICAgIGNvbHVtblNldC5hZGRDb2x1bW4obGVmdENvbHVtbik7XG4gICAgICAgIGNvbHVtblNldC5hZGRDb2x1bW4ocmlnaHRDb2x1bW4pO1xuXG4gICAgICAgIGxldCBsYWJlbCA9IG5ldyBBZGFwdGl2ZS5UZXh0QmxvY2soKTtcbiAgICAgICAgbGFiZWwuaG9yaXpvbnRhbEFsaWdubWVudCA9IEFkYXB0aXZlLkhvcml6b250YWxBbGlnbm1lbnQuUmlnaHQ7XG4gICAgICAgIGxhYmVsLndyYXAgPSB0cnVlO1xuICAgICAgICBsYWJlbC50ZXh0ID0gdGhpcy5sYWJlbDtcbiAgICAgICAgbGFiZWwuaWQgPSBBZGFwdGl2ZS5nZW5lcmF0ZVVuaXF1ZUlkKCk7XG5cbiAgICAgICAgbGV0IGlucHV0ID0gdGhpcy5jcmVhdGVJbnB1dChjb250ZXh0KTtcbiAgICAgICAgaW5wdXQubGFiZWxsZWRCeSA9IGxhYmVsLmlkO1xuXG4gICAgICAgIGlucHV0Lm9uVmFsdWVDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQsIGlucHV0LnZhbHVlKTtcblxuICAgICAgICAgICAgY29udGV4dC5wZWVyLmNoYW5nZWQodGhpcy5jYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZWZ0Q29sdW1uLmFkZEl0ZW0obGFiZWwpO1xuICAgICAgICByaWdodENvbHVtbi5hZGRJdGVtKGlucHV0KTtcblxuICAgICAgICBsZXQgYWRkaXRpb25hbENvbW1hbmRzID0gdGhpcy5nZXRBZGRpdGlvbmFsQ29tbWFuZHMoY29udGV4dCk7XG5cbiAgICAgICAgaWYgKGFkZGl0aW9uYWxDb21tYW5kcyAmJiBhZGRpdGlvbmFsQ29tbWFuZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGNvbW1hbmRDb2x1bW4gPSBuZXcgQWRhcHRpdmUuQ29sdW1uKCk7XG4gICAgICAgICAgICBjb21tYW5kQ29sdW1uLndpZHRoID0gXCJhdXRvXCI7XG4gICAgICAgICAgICBjb21tYW5kQ29sdW1uLnNwYWNpbmcgPSBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsO1xuICAgICAgICAgICAgY29tbWFuZENvbHVtbi52ZXJ0aWNhbENvbnRlbnRBbGlnbm1lbnQgPSBBZGFwdGl2ZS5WZXJ0aWNhbEFsaWdubWVudC5DZW50ZXI7XG5cbiAgICAgICAgICAgIGxldCBhY3Rpb25TZXQgPSBuZXcgQWRhcHRpdmUuQWN0aW9uU2V0KCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGNvbW1hbmQgb2YgYWRkaXRpb25hbENvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvbiA9IG5ldyBBZGFwdGl2ZS5TdWJtaXRBY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBhY3Rpb24uaWQgPSBjb21tYW5kLmlkO1xuICAgICAgICAgICAgICAgIGFjdGlvbi50aXRsZSA9IGNvbW1hbmQuY2FwdGlvbjtcbiAgICAgICAgICAgICAgICBhY3Rpb24udG9vbHRpcCA9IGNvbW1hbmQuYWx0VGV4dDtcblxuICAgICAgICAgICAgICAgIGlmIChjb21tYW5kLmV4cGFuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5zdGF0ZSA9IEFkYXB0aXZlLkFjdGlvbkJ1dHRvblN0YXRlLkV4cGFuZGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhY3Rpb24ub25FeGVjdXRlID0gKHNlbmRlcjogQWRhcHRpdmUuQWN0aW9uKSA9PiB7IGNvbW1hbmQub25FeGVjdXRlKHRoaXMsIHNlbmRlci5yZW5kZXJlZEVsZW1lbnQpOyB9O1xuXG4gICAgICAgICAgICAgICAgYWN0aW9uU2V0LmFkZEFjdGlvbihhY3Rpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb21tYW5kQ29sdW1uLmFkZEl0ZW0oYWN0aW9uU2V0KTtcbiAgICAgICAgICAgIGNvbHVtblNldC5hZGRDb2x1bW4oY29tbWFuZENvbHVtbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sdW1uU2V0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLFxuICAgICAgICByZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2g6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcih0YXJnZXRWZXJzaW9uKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYXNlU3RyaW5nUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBTaW5nbGVJbnB1dFByb3BlcnR5RWRpdG9yIHtcbiAgICBwcm90ZWN0ZWQgcGxhY2VIb2xkZXI6IHN0cmluZyA9IFwiKG5vdCBzZXQpXCI7XG5cbiAgICBwcm90ZWN0ZWQgY3JlYXRlSW5wdXQoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5JbnB1dCB7XG4gICAgICAgIGxldCBpbnB1dCA9IG5ldyBBZGFwdGl2ZS5UZXh0SW5wdXQoKTtcbiAgICAgICAgaW5wdXQuZGVmYXVsdFZhbHVlID0gdGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQpO1xuICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IHRoaXMucGxhY2VIb2xkZXI7XG4gICAgICAgIGlucHV0LmlzTXVsdGlsaW5lID0gdGhpcy5pc011bHRpbGluZTtcblxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24sXG4gICAgICAgIHJlYWRvbmx5IHByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBsYWJlbDogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBhbGxvd0JpbmRpbmc6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcmVhZG9ubHkgaXNNdWx0aWxpbmU6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcmVhZG9ubHkgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2g6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcih0YXJnZXRWZXJzaW9uLCBwcm9wZXJ0eU5hbWUsIGxhYmVsLCBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RyaW5nUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBCYXNlU3RyaW5nUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRBZGRpdGlvbmFsQ29tbWFuZHMoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBJUHJvcGVydHlTaGVldEVkaXRvckNvbW1hbmRbXSB7XG4gICAgICAgIGlmIChHbG9iYWxTZXR0aW5ncy5lbmFibGVEYXRhQmluZGluZ1N1cHBvcnQgJiYgdGhpcy5hbGxvd0JpbmRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5wcm9wZXJ0eU5hbWUgKyBcIkJpbmREYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIGNhcHRpb246IFN0cmluZ3MudG9vbGJveGVzLnByb3BlcnR5U2hlZXQuY29tbWFuZHMuYmluZERhdGEuZGlzcGxheVRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgYWx0VGV4dDogU3RyaW5ncy50b29sYm94ZXMucHJvcGVydHlTaGVldC5jb21tYW5kcy5iaW5kRGF0YS5hY2Nlc3NpYmxlVGV4dCh0aGlzLmxhYmVsKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBvbkV4ZWN1dGU6IChzZW5kZXI6IFNpbmdsZUlucHV0UHJvcGVydHlFZGl0b3IsIGNsaWNrZWRFbGVtZW50OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEFkZCBob3N0IHBhcmFtZXRlciB0byBmaWVsZCBwaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZFBpY2tlciA9IG5ldyBGaWVsZFBpY2tlcihjb250ZXh0LmRlc2lnbkNvbnRleHQuZGF0YVN0cnVjdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFBpY2tlci5vbkNsb3NlID0gKHNlbmRlciwgd2FzQ2FuY2VsbGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2FzQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0LCBmaWVsZFBpY2tlci5zZWxlY3RlZEZpZWxkLmFzRXhwcmVzc2lvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tlZEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wZWVyLmNoYW5nZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrZWRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFBpY2tlci5wb3B1cChjbGlja2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldEFkZGl0aW9uYWxDb21tYW5kcyhjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0cmluZ0FycmF5UHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBCYXNlU3RyaW5nUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgbGV0IHJhd1ZhbHVlID0gY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIGlmIChyYXdWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIEFycmF5LmlzQXJyYXkocmF3VmFsdWUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHJhd1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoID4gMCA/IHJlc3VsdC5qb2luKFwiLFwiKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHJhd1ZhbHVlcyA9IHZhbHVlLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IHJhd1ZhbHVlIG9mIHJhd1ZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChyYXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSByZXN1bHQubGVuZ3RoID4gMCA/IHJlc3VsdCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLFxuICAgICAgICByZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgYWxsb3dCaW5kaW5nOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIHJlYWRvbmx5IGlzTXVsdGlsaW5lOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIHJlYWRvbmx5IGNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbiwgcHJvcGVydHlOYW1lLCBsYWJlbCwgYWxsb3dCaW5kaW5nLCBpc011bHRpbGluZSwgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2gpO1xuXG4gICAgICAgIHRoaXMucGxhY2VIb2xkZXIgPSBcIihub3Qgc2V0LCBjb21tYS1zZXBhcmF0ZWQgbGlzdClcIjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJQcm9wZXJ0eUVkaXRvciBleHRlbmRzIFNpbmdsZUlucHV0UHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBfaW5wdXQ6IEFkYXB0aXZlLk51bWJlcklucHV0O1xuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHRoaXMuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUlucHV0KGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuSW5wdXQge1xuICAgICAgICBsZXQgaW5wdXQgPSBuZXcgQWRhcHRpdmUuTnVtYmVySW5wdXQoKTtcblxuICAgICAgICBpbnB1dC5kZWZhdWx0VmFsdWUgPSB0aGlzLmdldFByb3BlcnR5VmFsdWUoY29udGV4dCkgPz8gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gXCIobm90IHNldClcIjtcblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24sXG4gICAgICAgIHJlYWRvbmx5IHByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBsYWJlbDogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBkZWZhdWx0VmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICAgICAgcmVhZG9ubHkgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2g6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcih0YXJnZXRWZXJzaW9uLCBwcm9wZXJ0eU5hbWUsIGxhYmVsLCBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2JqZWN0UHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBTdHJpbmdQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBhbnkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21DYXJkT2JqZWN0UHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBTdHJpbmdQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBhbnkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5wZWVyLmdldENhcmRPYmplY3QoKS5nZXRDdXN0b21Qcm9wZXJ0eSh0aGlzLnByb3BlcnR5TmFtZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29udGV4dC5wZWVyLmdldENhcmRPYmplY3QoKS5zZXRDdXN0b21Qcm9wZXJ0eSh0aGlzLnByb3BlcnR5TmFtZSwgdmFsdWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvb2xlYW5Qcm9wZXJ0eUVkaXRvciBleHRlbmRzIFNpbmdsZUlucHV0UHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgbGV0IHYgPSBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV07XG5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcImJvb2xlYW5cIiA/IHYudG9TdHJpbmcoKSA6IFwiZmFsc2VcIjtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSB2YWx1ZSA9PSBcInRydWVcIjtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY3JlYXRlSW5wdXQoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5JbnB1dCB7XG4gICAgICAgIGxldCBpbnB1dCA9IG5ldyBBZGFwdGl2ZS5Ub2dnbGVJbnB1dCgpO1xuICAgICAgICBpbnB1dC5kZWZhdWx0VmFsdWUgPSB0aGlzLmdldFByb3BlcnR5VmFsdWUoY29udGV4dCk7XG5cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVmVyc2lvbmVkQ2hvaWNlIHtcbiAgICB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB2YWx1ZTogc3RyaW5nO1xufVxuXG5jb25zdCBOb3RTZXRWYWx1ZSA9IFwiQEBub3Rfc2V0QEBcIjtcblxuZXhwb3J0IGNsYXNzIENob2ljZVByb3BlcnR5RWRpdG9yIGV4dGVuZHMgU2luZ2xlSW5wdXRQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBhbnkge1xuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuXG4gICAgICAgIHJldHVybiBjdXJyZW50VmFsdWUgIT09IHVuZGVmaW5lZCA/IGN1cnJlbnRWYWx1ZS50b1N0cmluZygpIDogTm90U2V0VmFsdWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBOb3RTZXRWYWx1ZSkge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY3JlYXRlSW5wdXQoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5JbnB1dCB7XG4gICAgICAgIGxldCBpbnB1dCA9IG5ldyBBZGFwdGl2ZS5DaG9pY2VTZXRJbnB1dCgpO1xuICAgICAgICBpbnB1dC5kZWZhdWx0VmFsdWUgPSB0aGlzLmdldFByb3BlcnR5VmFsdWUoY29udGV4dCk7XG4gICAgICAgIGlucHV0LmlzQ29tcGFjdCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNOdWxsYWJsZSkge1xuICAgICAgICAgICAgaW5wdXQuY2hvaWNlcy5wdXNoKG5ldyBBZGFwdGl2ZS5DaG9pY2UoXCIobm90IHNldClcIiwgTm90U2V0VmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gXCIobm90IHNldClcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGNob2ljZSBvZiB0aGlzLmNob2ljZXMpIHtcbiAgICAgICAgICAgIGlmIChBZGFwdGl2ZS5pc1ZlcnNpb25MZXNzT3JFcXVhbChjaG9pY2UudGFyZ2V0VmVyc2lvbiwgY29udGV4dC5kZXNpZ25Db250ZXh0LnRhcmdldFZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuY2hvaWNlcy5wdXNoKG5ldyBBZGFwdGl2ZS5DaG9pY2UoY2hvaWNlLm5hbWUsIGNob2ljZS52YWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLFxuICAgICAgICByZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgY2hvaWNlczogSVZlcnNpb25lZENob2ljZVtdLFxuICAgICAgICByZWFkb25seSBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaDogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICByZWFkb25seSBpc051bGxhYmxlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbiwgcHJvcGVydHlOYW1lLCBsYWJlbCwgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2gpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbnRhaW5lclN0eWxlUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBDaG9pY2VQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBhbnkge1xuICAgICAgICBsZXQgY3VycmVudFN0eWxlID0gY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuXG4gICAgICAgIHJldHVybiBjdXJyZW50U3R5bGUgPyBjdXJyZW50U3R5bGUudG9TdHJpbmcoKSA6IE5vdFNldFZhbHVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBOb3RTZXRWYWx1ZSkge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLCByZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZywgcmVhZG9ubHkgbGFiZWw6IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIHRhcmdldFZlcnNpb24sXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiKG5vdCBzZXQpXCIsIHZhbHVlOiBOb3RTZXRWYWx1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgbmFtZTogXCJEZWZhdWx0XCIsIHZhbHVlOiBcImRlZmF1bHRcIiB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgbmFtZTogXCJFbXBoYXNpc1wiLCB2YWx1ZTogXCJlbXBoYXNpc1wiIH0sXG4gICAgICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBuYW1lOiBcIkFjY2VudFwiLCB2YWx1ZTogXCJhY2NlbnRcIiB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgbmFtZTogXCJHb29kXCIsIHZhbHVlOiBcImdvb2RcIiB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgbmFtZTogXCJBdHRlbnRpb25cIiwgdmFsdWU6IFwiYXR0ZW50aW9uXCIgfSxcbiAgICAgICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIG5hbWU6IFwiV2FybmluZ1wiLCB2YWx1ZTogXCJ3YXJuaW5nXCIgfVxuICAgICAgICAgICAgXSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTnVsbGFibGVCb29sZWFuUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBDaG9pY2VQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBhbnkge1xuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuXG4gICAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudFZhbHVlID09PSBcImJvb2xlYW5cIiA/IGN1cnJlbnRWYWx1ZS50b1N0cmluZygpIDogTm90U2V0VmFsdWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBOb3RTZXRWYWx1ZSkge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdmFsdWUgPT09IFwidHJ1ZVwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbiwgcmVhZG9ubHkgcHJvcGVydHlOYW1lOiBzdHJpbmcsIHJlYWRvbmx5IGxhYmVsOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICB0YXJnZXRWZXJzaW9uLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBuYW1lOiBcIihub3Qgc2V0KVwiLCB2YWx1ZTogTm90U2V0VmFsdWUgfSxcbiAgICAgICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiVHJ1ZVwiLCB2YWx1ZTogXCJ0cnVlXCIgfSxcbiAgICAgICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiRmFsc2VcIiwgdmFsdWU6IFwiZmFsc2VcIiB9XG4gICAgICAgICAgICBdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2x1bW5XaWR0aFByb3BlcnR5RWRpdG9yIGV4dGVuZHMgQ2hvaWNlUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgaWYgKGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSBpbnN0YW5jZW9mIEFkYXB0aXZlLlNpemVBbmRVbml0KSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdLnVuaXQgPT0gQWRhcHRpdmUuU2l6ZVVuaXQuUGl4ZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJwaXhlbHNcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwid2VpZ2h0ZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gXCJhdXRvXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGl4ZWxzXCI6XG4gICAgICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gbmV3IEFkYXB0aXZlLlNpemVBbmRVbml0KDUwLCBBZGFwdGl2ZS5TaXplVW5pdC5QaXhlbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwid2VpZ2h0ZWRcIjpcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBuZXcgQWRhcHRpdmUuU2l6ZUFuZFVuaXQoNTAsIEFkYXB0aXZlLlNpemVVbml0LldlaWdodCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RyZXRjaFwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBcInN0cmV0Y2hcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhlaWdodFByb3BlcnR5RWRpdG9yIGV4dGVuZHMgQ2hvaWNlUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBwcm9jZXNzZWRWYWx1ZTogc3RyaW5nO1xuXG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICAgICAgICBjYXNlIFwic3RyZXRjaFwiOlxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFZhbHVlID0gXCJhdXRvXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBwcm9jZXNzZWRWYWx1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaXplQW5kVW5pdFByb3BlcnR5RWRpdG9yIGV4dGVuZHMgTnVtYmVyUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgcmV0dXJuICg8QWRhcHRpdmUuU2l6ZUFuZFVuaXQ+Y29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdKS5waHlzaWNhbFNpemUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBuZXcgQWRhcHRpdmUuU2l6ZUFuZFVuaXQocGFyc2VJbnQodmFsdWUpLCB0aGlzLnNpemVVbml0KTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbixcbiAgICAgICAgcmVhZG9ubHkgcHJvcGVydHlOYW1lOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGxhYmVsOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IHNpemVVbml0OiBBZGFwdGl2ZS5TaXplVW5pdCxcbiAgICAgICAgcmVhZG9ubHkgZGVmYXVsdFZhbHVlOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgICAgIHJlYWRvbmx5IGNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbiwgcHJvcGVydHlOYW1lLCBsYWJlbCwgZGVmYXVsdFZhbHVlLCBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2Fyb3VzZWxUaW1lclByb3BlcnR5RWRpdG9yIGV4dGVuZHMgTnVtYmVyUHJvcGVydHlFZGl0b3Ige1xuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBtaW5BdXRvcGxheURlbGF5ID0gY29udGV4dC5kZXNpZ25Db250ZXh0Lmhvc3RDb250YWluZXIuZ2V0SG9zdENvbmZpZygpLmNhcm91c2VsLm1pbkF1dG9wbGF5RGVsYXk7XG5cbiAgICAgICAgICAgIGlmIChwYXJzZWRWYWx1ZSA8IG1pbkF1dG9wbGF5RGVsYXkpIHtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgY2F1c2VzIGEgc3RyYW5nZSBidWcgLSBiYXNpY2FsbHkgY2Fubm90IGNsZWFyIE51bWJlcklucHV0IGFuZCB0eXBlIGEgbmV3IG51bWJlclxuICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gdXBkYXRlIHdoZXJlIHdlIGNhbGwgc2V0UHJvcGVydHlWYWx1ZS9hdCBsZWFzdCBkaXNwbGF5IGEgdmlzdWFsIHdhcm5pbmdcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dC52YWx1ZSA9IG1pbkF1dG9wbGF5RGVsYXk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oQWRhcHRpdmUuU3RyaW5ncy5lcnJvcnMudG9vTGl0dGxlVGltZURlbGF5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBtaW5BdXRvcGxheURlbGF5OyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gcGFyc2VkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25Qcm9wZXJ0eUVkaXRvciBleHRlbmRzIFNpbmdsZUlucHV0UHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgbGV0IGFjdGlvbiA9IDxBZGFwdGl2ZS5BY3Rpb24+Y29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuXG4gICAgICAgIHJldHVybiBhY3Rpb24gPyBhY3Rpb24uZ2V0SnNvblR5cGVOYW1lKCkgOiBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodmFsdWUgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IGNvbnRleHQuZGVzaWduQ29udGV4dC5ob3N0Q29udGFpbmVyLmFjdGlvbnNSZWdpc3RyeS5jcmVhdGVJbnN0YW5jZSh2YWx1ZSwgY29udGV4dC5kZXNpZ25Db250ZXh0LnRhcmdldFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUlucHV0KGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuSW5wdXQge1xuICAgICAgICBsZXQgaW5wdXQgPSBuZXcgQWRhcHRpdmUuQ2hvaWNlU2V0SW5wdXQoKTtcbiAgICAgICAgaW5wdXQuZGVmYXVsdFZhbHVlID0gdGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQpO1xuICAgICAgICBpbnB1dC5pc0NvbXBhY3QgPSB0cnVlO1xuICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IFwiKG5vdCBzZXQpXCI7XG4gICAgICAgIGlucHV0LmNob2ljZXMucHVzaChuZXcgQWRhcHRpdmUuQ2hvaWNlKFwiKG5vdCBzZXQpXCIsIFwibm9uZVwiKSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZXh0LmRlc2lnbkNvbnRleHQuaG9zdENvbnRhaW5lci5hY3Rpb25zUmVnaXN0cnkuZ2V0SXRlbUNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFjdGlvblR5cGUgPSBjb250ZXh0LmRlc2lnbkNvbnRleHQuaG9zdENvbnRhaW5lci5hY3Rpb25zUmVnaXN0cnkuZ2V0SXRlbUF0KGkpLnR5cGVOYW1lO1xuICAgICAgICAgICAgbGV0IGV4Y2x1ZGVBY3Rpb24gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5mb3JiaWRkZW5BY3Rpb25UeXBlcykge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBsaXN0IGNvbnRhaW5zIFwiKlwiLCBhbGwgYWN0aW9uIHR5cGVzIGFyZSBkaXNhbGxvd2VkLi4uXG4gICAgICAgICAgICAgICAgZXhjbHVkZUFjdGlvbiA9IHRoaXMuZm9yYmlkZGVuQWN0aW9uVHlwZXMuaW5kZXhPZihcIipcIikgPj0gMCB8fCB0aGlzLmZvcmJpZGRlbkFjdGlvblR5cGVzLmluZGV4T2YoYWN0aW9uVHlwZSkgPj0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChleGNsdWRlQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uLmV4Y2VwdCBpZiB0aGUgbGlzdCBleHBsaWNpdGx5IGNvbnRhaW5zIHRoZSB0eXBlIG5hbWUgcHJlZml4ZWQgd2l0aCBhIFwiLVwiIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICAvLyBFeGFtcGxlOlxuICAgICAgICAgICAgICAgICAgICAvLyAgICBbIFwiKlwiLCBcIi1BY3Rpb24uRXhlY3V0ZVwiLCBcIi1BY3Rpb24uU3VibWl0XCIgXVxuICAgICAgICAgICAgICAgICAgICAvLyAgICBNZWFuaW5nOiBhbGwgYWN0aW9ucyBhcmUgZGlzYWxsb3dlZCBleGNlcHQgQWN0aW9uLkV4ZWN1dGUgYW5kIEFjdGlvbi5TdWJtaXRcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVkZUFjdGlvbiA9IHRoaXMuZm9yYmlkZGVuQWN0aW9uVHlwZXMuaW5kZXhPZihcIi1cIiArIGFjdGlvblR5cGUpIDwgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZXhjbHVkZUFjdGlvbikge1xuICAgICAgICAgICAgICAgIGxldCBjaG9pY2UgPSBuZXcgQWRhcHRpdmUuQ2hvaWNlKGFjdGlvblR5cGUsIGFjdGlvblR5cGUpO1xuXG4gICAgICAgICAgICAgICAgaW5wdXQuY2hvaWNlcy5wdXNoKGNob2ljZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24sXG4gICAgICAgIHJlYWRvbmx5IHByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBsYWJlbDogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBmb3JiaWRkZW5BY3Rpb25UeXBlczogc3RyaW5nW10gPSBbXSxcbiAgICAgICAgcmVhZG9ubHkgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2g6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcih0YXJnZXRWZXJzaW9uLCBwcm9wZXJ0eU5hbWUsIGxhYmVsLCBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcG91bmRQcm9wZXJ0eUVkaXRvciBleHRlbmRzIFByb3BlcnR5U2hlZXRFbnRyeSB7XG4gICAgcmVuZGVyKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuQ2FyZEVsZW1lbnQge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gbmV3IEFkYXB0aXZlLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIGxldCB0YXJnZXQgPSBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuaW5pdGlhbGl6ZVByb3BlcnR5KSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB0aGlzLmluaXRpYWxpemVQcm9wZXJ0eSgpO1xuXG4gICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiB0aGlzLmVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoQWRhcHRpdmUuaXNWZXJzaW9uTGVzc09yRXF1YWwoZW50cnkudGFyZ2V0VmVyc2lvbiwgY29udGV4dC5kZXNpZ25Db250ZXh0LnRhcmdldFZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRJdGVtKFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkucmVuZGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9wZXJ0eVNoZWV0Q29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kZXNpZ25Db250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBlZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLFxuICAgICAgICByZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgZW50cmllczogUHJvcGVydHlTaGVldEVudHJ5W10gPSBbXSxcbiAgICAgICAgcmVhZG9ubHkgaW5pdGlhbGl6ZVByb3BlcnR5PzogKCkgPT4gb2JqZWN0KSB7XG4gICAgICAgIHN1cGVyKHRhcmdldFZlcnNpb24pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVudW1Qcm9wZXJ0eUVkaXRvciBleHRlbmRzIFNpbmdsZUlucHV0UHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgbGV0IHZhbHVlID0gY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBcIi0xXCI7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHZhbHVlQXNJbnQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuXG4gICAgICAgIGlmICh2YWx1ZUFzSW50ID49IDApIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHZhbHVlQXNJbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY3JlYXRlSW5wdXQoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5JbnB1dCB7XG4gICAgICAgIGxldCBpbnB1dCA9IG5ldyBBZGFwdGl2ZS5DaG9pY2VTZXRJbnB1dCgpO1xuICAgICAgICBpbnB1dC5pc0NvbXBhY3QgPSB0cnVlO1xuXG4gICAgICAgIGxldCBkZWZhdWx0VmFsdWUgPSB0aGlzLmdldFByb3BlcnR5VmFsdWUoY29udGV4dCk7XG4gICAgICAgIGlucHV0LmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogXCItMVwiO1xuXG4gICAgICAgIGlmICh0aGlzLmlzTnVsbGFibGUpIHtcbiAgICAgICAgICAgIGlucHV0LmNob2ljZXMucHVzaChuZXcgQWRhcHRpdmUuQ2hvaWNlKFwiKG5vdCBzZXQpXCIsIFwiLTFcIikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSBcIihub3Qgc2V0KVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuZW51bVR5cGUpIHtcbiAgICAgICAgICAgIGxldCB2ID0gcGFyc2VJbnQoa2V5LCAxMCk7XG5cbiAgICAgICAgICAgIGlmICghaXNOYU4odikpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5jaG9pY2VzLnB1c2gobmV3IEFkYXB0aXZlLkNob2ljZSh0aGlzLmVudW1UeXBlW2tleV0sIGtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLFxuICAgICAgICByZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgZW51bVR5cGU6IHsgW3M6IG51bWJlcl06IHN0cmluZyB9LFxuICAgICAgICByZWFkb25seSBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaDogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICByZWFkb25seSBpc051bGxhYmxlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbiwgcHJvcGVydHlOYW1lLCBsYWJlbCwgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2gpO1xuICAgIH1cbn1cblxuaW50ZXJmYWNlIElOYW1lVmFsdWVQYWlyIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbn1cblxuY2xhc3MgTmFtZVZhbHVlUGFpclByb3BlcnR5RWRpdG9yIGV4dGVuZHMgUHJvcGVydHlTaGVldEVudHJ5IHtcbiAgICBwcml2YXRlIGNvbGxlY3Rpb25DaGFuZ2VkKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCBuYW1lVmFsdWVQYWlyczogSU5hbWVWYWx1ZVBhaXJbXSwgcmVmcmVzaFByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5jb2xsZWN0aW9uUHJvcGVydHlOYW1lXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IG5hbWVWYWx1ZVBhaXIgb2YgbmFtZVZhbHVlUGFpcnMpIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5jcmVhdGVDb2xsZWN0aW9uSXRlbShuYW1lVmFsdWVQYWlyLm5hbWUsIG5hbWVWYWx1ZVBhaXIudmFsdWUpO1xuXG4gICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLmNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWVdLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnBlZXIuY2hhbmdlZChyZWZyZXNoUHJvcGVydHlTaGVldCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuQ2FyZEVsZW1lbnQge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFkYXB0aXZlLkNvbnRhaW5lcigpO1xuXG4gICAgICAgIGxldCBjb2xsZWN0aW9uID0gY29udGV4dC50YXJnZXRbdGhpcy5jb2xsZWN0aW9uUHJvcGVydHlOYW1lXTtcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBcIiArIHRoaXMuY29sbGVjdGlvblByb3BlcnR5TmFtZSArIFwiIHByb3BlcnR5IG9uIFwiICsgY29udGV4dC5wZWVyLmdldENhcmRPYmplY3QoKS5nZXRKc29uVHlwZU5hbWUoKSArIFwiIGVpdGhlciBkb2Vzbid0IGV4aXN0IG9yIGlzbid0IGFuIGFycmF5LlwiKVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5hbWVWYWx1ZVBhaXJzOiBJTmFtZVZhbHVlUGFpcltdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgcGFpciBvZiBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBuYW1lVmFsdWVQYWlycy5wdXNoKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcGFpclt0aGlzLm5hbWVQcm9wZXJ0eU5hbWVdLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFpclt0aGlzLnZhbHVlUHJvcGVydHlOYW1lXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmFtZVZhbHVlUGFpcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlVGV4dEJsb2NrID0gbmV3IEFkYXB0aXZlLlRleHRCbG9jaygpO1xuICAgICAgICAgICAgbWVzc2FnZVRleHRCbG9jay5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0QmxvY2sudGV4dCA9IHRoaXMubWVzc2FnZUlmRW1wdHk7XG5cbiAgICAgICAgICAgIHJlc3VsdC5hZGRJdGVtKG1lc3NhZ2VUZXh0QmxvY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lVmFsdWVQYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0SW5wdXQgPSBuZXcgQWRhcHRpdmUuVGV4dElucHV0KCk7XG4gICAgICAgICAgICAgICAgdGV4dElucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5uYW1lUHJvcGVydHlMYWJlbDtcbiAgICAgICAgICAgICAgICB0ZXh0SW5wdXQuZGVmYXVsdFZhbHVlID0gbmFtZVZhbHVlUGFpcnNbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICB0ZXh0SW5wdXQub25WYWx1ZUNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVWYWx1ZVBhaXJzW2ldLm5hbWUgPSBzZW5kZXIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uQ2hhbmdlZChjb250ZXh0LCBuYW1lVmFsdWVQYWlycywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsZXQgbmFtZUNvbHVtbiA9IG5ldyBBZGFwdGl2ZS5Db2x1bW4oXCJzdHJldGNoXCIpO1xuICAgICAgICAgICAgICAgIG5hbWVDb2x1bW4uYWRkSXRlbSh0ZXh0SW5wdXQpO1xuXG4gICAgICAgICAgICAgICAgdGV4dElucHV0ID0gbmV3IEFkYXB0aXZlLlRleHRJbnB1dCgpO1xuICAgICAgICAgICAgICAgIHRleHRJbnB1dC5wbGFjZWhvbGRlciA9IHRoaXMudmFsdWVQcm9wZXJ0eUxhYmVsO1xuICAgICAgICAgICAgICAgIHRleHRJbnB1dC5kZWZhdWx0VmFsdWUgPSBuYW1lVmFsdWVQYWlyc1tpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0ZXh0SW5wdXQub25WYWx1ZUNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVWYWx1ZVBhaXJzW2ldLnZhbHVlID0gc2VuZGVyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbkNoYW5nZWQoY29udGV4dCwgbmFtZVZhbHVlUGFpcnMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlQ29sdW1uID0gbmV3IEFkYXB0aXZlLkNvbHVtbihcInN0cmV0Y2hcIik7XG4gICAgICAgICAgICAgICAgdmFsdWVDb2x1bW4uc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICAgICAgdmFsdWVDb2x1bW4uYWRkSXRlbSh0ZXh0SW5wdXQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlbW92ZUFjdGlvbiA9IG5ldyBBZGFwdGl2ZS5TdWJtaXRBY3Rpb24oKTtcbiAgICAgICAgICAgICAgICByZW1vdmVBY3Rpb24uaWNvblVybCA9IHJlcXVpcmUoXCIuL2Fzc2V0cy94bWFyay5zdmdcIik7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQWN0aW9uLnRvb2x0aXAgPSBcIlJlbW92ZVwiO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFjdGlvbi5vbkV4ZWN1dGUgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVWYWx1ZVBhaXJzLnNwbGljZShpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25DaGFuZ2VkKGNvbnRleHQsIG5hbWVWYWx1ZVBhaXJzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvblNldCA9IG5ldyBBZGFwdGl2ZS5BY3Rpb25TZXQoKTtcbiAgICAgICAgICAgICAgICBhY3Rpb25TZXQuYWRkQWN0aW9uKHJlbW92ZUFjdGlvbik7XG5cbiAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlQ29sdW1uID0gbmV3IEFkYXB0aXZlLkNvbHVtbihcImF1dG9cIik7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ29sdW1uLnNwYWNpbmcgPSBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsO1xuICAgICAgICAgICAgICAgIHJlbW92ZUNvbHVtbi5hZGRJdGVtKGFjdGlvblNldCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgY29sdW1uU2V0ID0gbmV3IEFkYXB0aXZlLkNvbHVtblNldCgpO1xuICAgICAgICAgICAgICAgIGNvbHVtblNldC5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuYWRkQ29sdW1uKG5hbWVDb2x1bW4pO1xuICAgICAgICAgICAgICAgIGNvbHVtblNldC5hZGRDb2x1bW4odmFsdWVDb2x1bW4pO1xuICAgICAgICAgICAgICAgIGNvbHVtblNldC5hZGRDb2x1bW4ocmVtb3ZlQ29sdW1uKTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRJdGVtKGNvbHVtblNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWRkQWN0aW9uID0gbmV3IEFkYXB0aXZlLlN1Ym1pdEFjdGlvbigpO1xuICAgICAgICBhZGRBY3Rpb24udGl0bGUgPSB0aGlzLmFkZEJ1dHRvblRpdGxlO1xuICAgICAgICBhZGRBY3Rpb24ub25FeGVjdXRlID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgbmFtZVZhbHVlUGFpcnMucHVzaCh7IG5hbWU6IFwiXCIsIHZhbHVlOiBcIlwiIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25DaGFuZ2VkKGNvbnRleHQsIG5hbWVWYWx1ZVBhaXJzLCB0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgYWN0aW9uU2V0ID0gbmV3IEFkYXB0aXZlLkFjdGlvblNldCgpO1xuICAgICAgICBhY3Rpb25TZXQuc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgIGFjdGlvblNldC5hZGRBY3Rpb24oYWRkQWN0aW9uKTtcblxuICAgICAgICByZXN1bHQuYWRkSXRlbShhY3Rpb25TZXQpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24sXG4gICAgICAgIHJlYWRvbmx5IGNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgbmFtZVByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSB2YWx1ZVByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBjcmVhdGVDb2xsZWN0aW9uSXRlbTogKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4gYW55LFxuICAgICAgICByZWFkb25seSBuYW1lUHJvcGVydHlMYWJlbDogc3RyaW5nID0gXCJOYW1lXCIsXG4gICAgICAgIHJlYWRvbmx5IHZhbHVlUHJvcGVydHlMYWJlbDogc3RyaW5nID0gXCJWYWx1ZVwiLFxuICAgICAgICByZWFkb25seSBhZGRCdXR0b25UaXRsZTogc3RyaW5nID0gXCJBZGRcIixcbiAgICAgICAgcmVhZG9ubHkgbWVzc2FnZUlmRW1wdHk6IHN0cmluZyA9IFwiVGhpcyBjb2xsZWN0aW9uIGlzIGVtcHR5XCIpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbik7XG4gICAgfVxufVxuXG50eXBlIE5hbWVBbmRWYWx1ZSA9IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWU/OiBzdHJpbmc7XG59O1xuXG50eXBlIElubmVyUHJvcGVydGllc0RpY3Rpb25hcnkgPSB7XG4gICAgW25hbWU6IHN0cmluZ106IE5hbWVBbmRWYWx1ZTtcbn07XG5cbmNsYXNzIElubmVyU3RydWN0UHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBQcm9wZXJ0eVNoZWV0RW50cnkge1xuICAgIHByaXZhdGUgY29sbGVjdGlvbkNoYW5nZWQoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIGlubmVyUHJvcGVydGllc0xpc3Q6IElubmVyUHJvcGVydGllc0RpY3Rpb25hcnlbXSwgcmVmcmVzaFByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5jb2xsZWN0aW9uUHJvcGVydHlOYW1lXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25JdGVtcyA9IGlubmVyUHJvcGVydGllc0xpc3QubWFwKGUgPT4gdGhpcy5jcmVhdGVDb2xsZWN0aW9uSXRlbShlKSk7XG4gICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMuY29sbGVjdGlvblByb3BlcnR5TmFtZV0ucHVzaCguLi5jb2xsZWN0aW9uSXRlbXMpO1xuXG4gICAgICAgIGNvbnRleHQucGVlci5jaGFuZ2VkKHJlZnJlc2hQcm9wZXJ0eVNoZWV0KTtcbiAgICB9XG5cbiAgICByZW5kZXIoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5DYXJkRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBZGFwdGl2ZS5Db250YWluZXIoKTtcblxuICAgICAgICBsZXQgY29sbGVjdGlvbiA9IGNvbnRleHQudGFyZ2V0W3RoaXMuY29sbGVjdGlvblByb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgXCIgKyB0aGlzLmNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWUgKyBcIiBwcm9wZXJ0eSBvbiBcIiArIGNvbnRleHQucGVlci5nZXRDYXJkT2JqZWN0KCkuZ2V0SnNvblR5cGVOYW1lKCkgKyBcIiBlaXRoZXIgZG9lc24ndCBleGlzdCBvciBpc24ndCBhbiBhcnJheS5cIilcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbm5lclByb3BlcnRpZXNMaXN0OiBJbm5lclByb3BlcnRpZXNEaWN0aW9uYXJ5W10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpbm5lclByb3BlcnRpZXMgb2YgY29sbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIG5ld0l0ZW0gOiBJbm5lclByb3BlcnRpZXNEaWN0aW9uYXJ5ID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmlubmVyUHJvcGVydGllc0RlZmF1bHRzKS5mb3JFYWNoKGtleSA9PiBuZXdJdGVtW2tleV0gPSB7IG5hbWU6IHRoaXMuaW5uZXJQcm9wZXJ0aWVzRGVmYXVsdHNba2V5XS5uYW1lLCB2YWx1ZTogaW5uZXJQcm9wZXJ0aWVzW2tleV19KTtcbiAgICAgICAgICAgIGlubmVyUHJvcGVydGllc0xpc3QucHVzaChuZXdJdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbm5lclByb3BlcnRpZXNMaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZVRleHRCbG9jayA9IG5ldyBBZGFwdGl2ZS5UZXh0QmxvY2soKTtcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0QmxvY2suc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICBtZXNzYWdlVGV4dEJsb2NrLnRleHQgPSB0aGlzLm1lc3NhZ2VJZkVtcHR5O1xuXG4gICAgICAgICAgICByZXN1bHQuYWRkSXRlbShtZXNzYWdlVGV4dEJsb2NrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5uZXJQcm9wZXJ0aWVzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5TZXQgPSBuZXcgQWRhcHRpdmUuQ29sdW1uU2V0KCk7XG4gICAgICAgICAgICAgICAgY29sdW1uU2V0LnNwYWNpbmcgPSBBZGFwdGl2ZS5TcGFjaW5nLk1lZGl1bTtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuc2VwYXJhdG9yID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGxldCBuZXdDb2x1bW4gPSBuZXcgQWRhcHRpdmUuQ29sdW1uKFwic3RyZXRjaFwiKTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhpbm5lclByb3BlcnRpZXNMaXN0W2ldKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0SW5wdXQgPSBuZXcgQWRhcHRpdmUuVGV4dElucHV0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRleHRJbnB1dC5kZWZhdWx0VmFsdWUgPSBpbm5lclByb3BlcnRpZXNMaXN0W2ldW2tleV0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRleHRJbnB1dC5wbGFjZWhvbGRlciA9IGlubmVyUHJvcGVydGllc0xpc3RbaV1ba2V5XS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0SW5wdXQubGFiZWwgPSBpbm5lclByb3BlcnRpZXNMaXN0W2ldW2tleV0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dElucHV0Lm9uVmFsdWVDaGFuZ2VkID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQcm9wZXJ0aWVzTGlzdFtpXVtrZXldLnZhbHVlID0gc2VuZGVyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uQ2hhbmdlZChjb250ZXh0LCBpbm5lclByb3BlcnRpZXNMaXN0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRleHRJbnB1dC5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29sdW1uLmFkZEl0ZW0odGV4dElucHV0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuYWRkQ29sdW1uKG5ld0NvbHVtbik7XG5cbiAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlQWN0aW9uID0gbmV3IEFkYXB0aXZlLlN1Ym1pdEFjdGlvbigpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFjdGlvbi50aXRsZSA9IFwiWFwiO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFjdGlvbi50b29sdGlwID0gXCJSZW1vdmVcIjtcbiAgICAgICAgICAgICAgICByZW1vdmVBY3Rpb24ub25FeGVjdXRlID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbm5lclByb3BlcnRpZXNMaXN0LnNwbGljZShpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25DaGFuZ2VkKGNvbnRleHQsIGlubmVyUHJvcGVydGllc0xpc3QsIHRydWUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uU2V0ID0gbmV3IEFkYXB0aXZlLkFjdGlvblNldCgpO1xuICAgICAgICAgICAgICAgIGFjdGlvblNldC5hZGRBY3Rpb24ocmVtb3ZlQWN0aW9uKTtcblxuICAgICAgICAgICAgICAgIGxldCByZW1vdmVDb2x1bW4gPSBuZXcgQWRhcHRpdmUuQ29sdW1uKFwiYXV0b1wiKTtcbiAgICAgICAgICAgICAgICByZW1vdmVDb2x1bW4uc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ29sdW1uLnZlcnRpY2FsQ29udGVudEFsaWdubWVudCA9IEFkYXB0aXZlLlZlcnRpY2FsQWxpZ25tZW50LkNlbnRlcjtcbiAgICAgICAgICAgICAgICByZW1vdmVDb2x1bW4uYWRkSXRlbShhY3Rpb25TZXQpO1xuXG4gICAgICAgICAgICAgICAgY29sdW1uU2V0LmFkZENvbHVtbihyZW1vdmVDb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgcmVzdWx0LmFkZEl0ZW0oY29sdW1uU2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhZGRBY3Rpb24gPSBuZXcgQWRhcHRpdmUuU3VibWl0QWN0aW9uKCk7XG4gICAgICAgIGFkZEFjdGlvbi50aXRsZSA9IHRoaXMuYWRkQnV0dG9uVGl0bGU7XG4gICAgICAgIGFkZEFjdGlvbi5vbkV4ZWN1dGUgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICBpbm5lclByb3BlcnRpZXNMaXN0LnB1c2goey4uLnRoaXMuaW5uZXJQcm9wZXJ0aWVzRGVmYXVsdHN9KTtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbkNoYW5nZWQoY29udGV4dCwgaW5uZXJQcm9wZXJ0aWVzTGlzdCwgdHJ1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGFjdGlvblNldCA9IG5ldyBBZGFwdGl2ZS5BY3Rpb25TZXQoKTtcbiAgICAgICAgYWN0aW9uU2V0LnNwYWNpbmcgPSBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsO1xuICAgICAgICBhY3Rpb25TZXQuYWRkQWN0aW9uKGFkZEFjdGlvbik7XG5cbiAgICAgICAgcmVzdWx0LmFkZEl0ZW0oYWN0aW9uU2V0KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLFxuICAgICAgICByZWFkb25seSBjb2xsZWN0aW9uUHJvcGVydHlOYW1lOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGlubmVyUHJvcGVydGllc0RlZmF1bHRzOiBJbm5lclByb3BlcnRpZXNEaWN0aW9uYXJ5LFxuICAgICAgICByZWFkb25seSBjcmVhdGVDb2xsZWN0aW9uSXRlbTogKGlubmVyUHJvcGVydGllczogSW5uZXJQcm9wZXJ0aWVzRGljdGlvbmFyeSkgPT4gYW55LFxuICAgICAgICByZWFkb25seSBhZGRCdXR0b25UaXRsZTogc3RyaW5nID0gXCJBZGRcIixcbiAgICAgICAgcmVhZG9ubHkgbWVzc2FnZUlmRW1wdHk6IHN0cmluZyA9IFwiVGhpcyBjb2xsZWN0aW9uIGlzIGVtcHR5XCIpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbik7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGVzaWduZXJQZWVyIGV4dGVuZHMgRHJhZ2dhYmxlRWxlbWVudCB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGlkUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJpZFwiLCBcIklkXCIpO1xuXG4gICAgc3RhdGljIG9uUG9wdWxhdGVQcm9wZXJ0eVNoZWV0PzogKHNlbmRlcjogRGVzaWduZXJQZWVyLCBwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0KSA9PiB2b2lkO1xuXG4gICAgcHJpdmF0ZSBfcGFyZW50OiBEZXNpZ25lclBlZXI7XG4gICAgcHJpdmF0ZSBfY2FyZE9iamVjdDogQWRhcHRpdmUuQ2FyZE9iamVjdDtcbiAgICBwcml2YXRlIF9jaGlsZHJlbjogQXJyYXk8RGVzaWduZXJQZWVyPiA9IFtdO1xuICAgIHByaXZhdGUgX2lzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9pbnBsYWNlRWRpdG9yT3ZlcmxheTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaW5wbGFjZUVkaXRvcjogRGVzaWduZXJQZWVySW5wbGFjZUVkaXRvciA9IG51bGw7XG4gICAgcHJpdmF0ZSBfaW5zZXJ0QWZ0ZXJOZWlnaGJvciA9IGZhbHNlO1xuICAgIHByaXZhdGUgX3BhcmVudENhcm91c2VsUGFnZVBlZXI6IENhcm91c2VsUGFnZVBlZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICBwcml2YXRlIGNsb3NlSW5wbGFjZUVkaXRvcihhcHBseUNoYW5nZXM6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2lucGxhY2VFZGl0b3IpIHtcbiAgICAgICAgICAgIGlmIChhcHBseUNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yLmFwcGx5Q2hhbmdlcygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHRyeU9wZW5JbnBsYWNlRWRpdG9yKCk6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yID0gdGhpcy5jcmVhdGVJbnBsYWNlRWRpdG9yKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lucGxhY2VFZGl0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucGxhY2VFZGl0b3Iub25DbG9zZSA9IChhcHBseUNoYW5nZXM6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlSW5wbGFjZUVkaXRvcihhcHBseUNoYW5nZXMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkudGFiSW5kZXggPSAwO1xuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkuc3R5bGUuekluZGV4ID0gXCI2MDBcIjtcbiAgICAgICAgICAgIHRoaXMuX2lucGxhY2VFZGl0b3JPdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICAgIHRoaXMuX2lucGxhY2VFZGl0b3JPdmVybGF5LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheS5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuX2lucGxhY2VFZGl0b3JPdmVybGF5LnN0eWxlLmhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheS5vbmZvY3VzID0gKGUpID0+IHsgdGhpcy5jbG9zZUlucGxhY2VFZGl0b3IodHJ1ZSk7IH07XG5cbiAgICAgICAgICAgIGxldCBjYXJkT2JqZWN0Qm91bmRpbmdSZWN0ID0gdGhpcy5nZXRDYXJkT2JqZWN0Qm91bmRpbmdSZWN0KCk7XG4gICAgICAgICAgICBsZXQgcGVlckJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7XG4gICAgICAgICAgICBsZXQgdG9wUGFkZGluZyA9IHBlZXJCb3VuZGluZ1JlY3QuaGVpZ2h0IC0gY2FyZE9iamVjdEJvdW5kaW5nUmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGxldCBpbnBsYWNlRWRpdG9ySG9zdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBpbnBsYWNlRWRpdG9ySG9zdC5jbGFzc05hbWUgPSBcImFjZC1pbnBsYWNlLWVkaXRvci1ob3N0XCI7XG4gICAgICAgICAgICBpbnBsYWNlRWRpdG9ySG9zdC5zdHlsZS5sZWZ0ID0gTWF0aC5mbG9vcihjYXJkT2JqZWN0Qm91bmRpbmdSZWN0LmxlZnQgKyBwYWdlWE9mZnNldCkgKyBcInB4XCI7XG4gICAgICAgICAgICBpbnBsYWNlRWRpdG9ySG9zdC5zdHlsZS50b3AgPSBNYXRoLmZsb29yKGNhcmRPYmplY3RCb3VuZGluZ1JlY3QudG9wICsgcGFnZVlPZmZzZXQgLSB0b3BQYWRkaW5nKSArIFwicHhcIjtcbiAgICAgICAgICAgIGlucGxhY2VFZGl0b3JIb3N0LnN0eWxlLndpZHRoID0gTWF0aC5jZWlsKHBlZXJCb3VuZGluZ1JlY3Qud2lkdGgpICsgXCJweFwiO1xuICAgICAgICAgICAgaW5wbGFjZUVkaXRvckhvc3Quc3R5bGUuaGVpZ2h0ID0gTWF0aC5jZWlsKHBlZXJCb3VuZGluZ1JlY3QuaGVpZ2h0KSArIFwicHhcIjtcbiAgICAgICAgICAgIGlucGxhY2VFZGl0b3JIb3N0LnN0eWxlLnBhZGRpbmdUb3AgPSB0b3BQYWRkaW5nICsgXCJweFwiO1xuXG4gICAgICAgICAgICBsZXQgcmVuZGVyZWRJbnBsYWNlRWRpdG9yID0gdGhpcy5faW5wbGFjZUVkaXRvci5yZW5kZXIoKTtcbiAgICAgICAgICAgIHJlbmRlcmVkSW5wbGFjZUVkaXRvci5jbGFzc0xpc3QuYWRkKFwiYWNkLWlucGxhY2UtZWRpdG9yXCIpO1xuICAgICAgICAgICAgcmVuZGVyZWRJbnBsYWNlRWRpdG9yLnRhYkluZGV4ID0gMDtcbiAgICAgICAgICAgIHJlbmRlcmVkSW5wbGFjZUVkaXRvci5vbmJsdXIgPSAoZSkgPT4geyB0aGlzLmNsb3NlSW5wbGFjZUVkaXRvcih0cnVlKTsgfTtcblxuICAgICAgICAgICAgaW5wbGFjZUVkaXRvckhvc3QuYXBwZW5kQ2hpbGQocmVuZGVyZWRJbnBsYWNlRWRpdG9yKTtcblxuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkuYXBwZW5kQ2hpbGQoaW5wbGFjZUVkaXRvckhvc3QpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2lucGxhY2VFZGl0b3JPdmVybGF5KTtcblxuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvci5pbml0aWFsaXplKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHN1cGVyLmNsaWNrKGUpO1xuXG4gICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRvdWJsZUNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgc3VwZXIuZG91YmxlQ2xpY2soZSk7XG5cbiAgICAgICAgdGhpcy50cnlPcGVuSW5wbGFjZUVkaXRvcigpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRUb29sVGlwKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGNvbW1hbmRzOiBBcnJheTxQZWVyQ29tbWFuZD4pIHtcbiAgICAgICAgLy8gRG8gbm90aGluZyBpbiBiYXNlIGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtcGVlclwiKTtcbiAgICAgICAgZWxlbWVudC50YWJJbmRleCA9IDA7XG4gICAgICAgIGVsZW1lbnQub25mb2N1cyA9IChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCB0b29sVGlwID0gdGhpcy5nZXRUb29sVGlwKCk7XG5cbiAgICAgICAgaWYgKHRvb2xUaXApIHtcbiAgICAgICAgICAgIGVsZW1lbnQudGl0bGUgPSB0b29sVGlwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDb250YWluZXIoKSkge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY29udGFpbmVyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgLy8gSXNzdWU6IEkgYmVsaWV2ZSB0aGlzIHN0b3BzIHVzIGZyb20gaW50ZXJhY3Rpbmcgd2l0aCB0aGUgZWxlbWVudHMgLSB0aGlzIGNvdWxkIGJlIG9rYXkgc2luY2UgaXQgc2hvdWxkbid0IGJlIGFuIGlzc3VlIGluIHByZXZpZXcgbW9kZVxuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgcGVlciBpcyBpbiBmcm9udCBvZiB0aGUgY2FyZFxuICAgICAgICBlbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiMTBcIjtcblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVDc3NTdHlsZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZHJhZ2dpbmdcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dpbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcGVlckFkZGVkKG5ld1BlZXI6IERlc2lnbmVyUGVlcikge1xuICAgICAgICB0aGlzLmNoYW5nZWQoZmFsc2UpO1xuXG4gICAgICAgIGlmICh0aGlzLm9uUGVlckFkZGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uUGVlckFkZGVkKHRoaXMsIG5ld1BlZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHBlZXJSZW1vdmVkKHBlZXI6IERlc2lnbmVyUGVlcikge1xuICAgICAgICBpZiAodGhpcy5vblBlZXJSZW1vdmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uUGVlclJlbW92ZWQocGVlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgICAgbGV0IGNsaWVudFJlY3QgPSB0aGlzLmdldEJvdW5kaW5nUmVjdCgpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zdHlsZS53aWR0aCA9IGNsaWVudFJlY3Qud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBjbGllbnRSZWN0LmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnN0eWxlLmxlZnQgPSBjbGllbnRSZWN0LmxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zdHlsZS50b3AgPSBjbGllbnRSZWN0LnRvcCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBjcmVhdGVJbnBsYWNlRWRpdG9yKCk6IERlc2lnbmVyUGVlcklucGxhY2VFZGl0b3Ige1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGludGVybmFsUmVtb3ZlKCk6IGJvb2xlYW47XG5cbiAgICByZWFkb25seSByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2U7XG4gICAgcmVhZG9ubHkgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlO1xuICAgIHJlYWRvbmx5IHRyZWVJdGVtOiBEZXNpZ25lclBlZXJUcmVlSXRlbTtcblxuICAgIG9uUGFyZW50Q2hhbmdlZDogKHNlbmRlcjogRGVzaWduZXJQZWVyKSA9PiB2b2lkO1xuICAgIG9uU2VsZWN0ZWRDaGFuZ2VkOiAoc2VuZGVyOiBEZXNpZ25lclBlZXIpID0+IHZvaWQ7XG4gICAgb25DaGFuZ2VkOiAoc2VuZGVyOiBEZXNpZ25lclBlZXIsIHVwZGF0ZVByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gICAgb25QZWVyUmVtb3ZlZDogKHNlbmRlcjogRGVzaWduZXJQZWVyKSA9PiB2b2lkO1xuICAgIG9uUGVlckFkZGVkOiAoc2VuZGVyOiBEZXNpZ25lclBlZXIsIG5ld1BlZXI6IERlc2lnbmVyUGVlcikgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJlbnQ6IERlc2lnbmVyUGVlcixcbiAgICAgICAgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlLFxuICAgICAgICByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UsXG4gICAgICAgIGNhcmRPYmplY3Q6IEFkYXB0aXZlLkNhcmRPYmplY3QpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RyYXRpb24gPSByZWdpc3RyYXRpb247XG4gICAgICAgIHRoaXMuZGVzaWduZXJTdXJmYWNlID0gZGVzaWduZXJTdXJmYWNlO1xuICAgICAgICB0aGlzLl9jYXJkT2JqZWN0ID0gY2FyZE9iamVjdDtcbiAgICAgICAgdGhpcy50cmVlSXRlbSA9IG5ldyBEZXNpZ25lclBlZXJUcmVlSXRlbSh0aGlzLCB0aGlzLmlzVHJlZUl0ZW1FeHBhbmRlZEJ5RGVmYXVsdCk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgZ2V0Qm91bmRpbmdSZWN0KCk6IFJlY3Q7XG4gICAgYWJzdHJhY3QgZ2V0Q2FyZE9iamVjdEJvdW5kaW5nUmVjdCgpOiBSZWN0O1xuXG4gICAgZ2V0Q2FyZE9iamVjdCgpOiBBZGFwdGl2ZS5DYXJkT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRPYmplY3Q7XG4gICAgfVxuXG4gICAgdXBkYXRlQ2hpbGRyZW4oKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5nZXRDaGlsZEF0KGkpLnVwZGF0ZUNoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGFuZ2VkKHVwZGF0ZVByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMub25DaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlZCh0aGlzLCB1cGRhdGVQcm9wZXJ0eVNoZWV0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFRyZWVJdGVtVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEdldFRyZWVJdGVtVGV4dCgpO1xuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZyBpbiBiYXNlIGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgY2FuRHJvcChwZWVyOiBEZXNpZ25lclBlZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNhbkJlUmVtb3ZlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdHJ5RHJvcChwZWVyOiBEZXNpZ25lclBlZXIsIGluc2VydGlvblBvaW50OiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeUFkZChwZWVyOiBEZXNpZ25lclBlZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGluc2VydENoaWxkKHBlZXI6IERlc2lnbmVyUGVlciwgaW5kZXg6IG51bWJlciA9IC0xKSB7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChwZWVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgcGVlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwZWVyLnBhcmVudCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5wZWVyQWRkZWQocGVlcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hpbGQocGVlcjogRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2NoaWxkcmVuLmluZGV4T2YocGVlcik7XG5cbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHBlZXIucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDaGlsZENvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRBdChpbmRleDogbnVtYmVyKTogRGVzaWduZXJQZWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuW2luZGV4XTtcbiAgICB9XG5cbiAgICBnZXRDb21tYW5kcyhjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBwcm9tb3RlUGFyZW50Q29tbWFuZHM6IGJvb2xlYW4gPSBmYWxzZSk6IEFycmF5PFBlZXJDb21tYW5kPiB7XG4gICAgICAgIGxldCByZXN1bHQ6IEFycmF5PFBlZXJDb21tYW5kPiA9IFtdO1xuXG4gICAgICAgIHRoaXMuaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0LCByZXN1bHQpO1xuXG4gICAgICAgIGlmIChwcm9tb3RlUGFyZW50Q29tbWFuZHMgJiYgdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnRDb21tYW5kcyA9IHRoaXMucGFyZW50LmdldENvbW1hbmRzKGNvbnRleHQpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBjb21tYW5kIG9mIHBhcmVudENvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQuaXNQcm9tb3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVtb3ZlKG9ubHlGcm9tQ2FyZDogYm9vbGVhbiwgcmVtb3ZlQ2hpbGRyZW46IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHJlbW92ZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuWzBdLnJlbW92ZShvbmx5RnJvbUNhcmQsIHJlbW92ZUNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmludGVybmFsUmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCAmJiAhb25seUZyb21DYXJkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50c0Zyb21EZXNpZ25lclN1cmZhY2UoKTtcbiAgICAgICAgICAgIHRoaXMucGVlclJlbW92ZWQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGFkZEVsZW1lbnRzVG9EZXNpZ25lclN1cmZhY2UoZGVzaWduZXJTdXJmYWNlOiBIVE1MRWxlbWVudCwgbmVpZ2hib3I6IEhUTUxFbGVtZW50ID0gdW5kZWZpbmVkKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChuZWlnaGJvcikge1xuICAgICAgICAgICAgICAgIC8vIEFkZHMgdGhlIHJlbmRlcmVkIGVsZW1lbnQgYWZ0ZXIgaXRzIG5laWdoYm9yXG4gICAgICAgICAgICAgICAgbmVpZ2hib3IuYWZ0ZXIodGhpcy5yZW5kZXJlZEVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q2hpbGRDb3VudCgpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3IgPSB0aGlzLnJlbmRlcmVkRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdldENoaWxkQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGUgbmVpZ2hib3Igd2l0aCB0aGUgbW9zdCByZWNlbnRseSBhZGRlZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBuZWlnaGJvciA9IHRoaXMuZ2V0Q2hpbGRBdChpKS5hZGRFbGVtZW50c1RvRGVzaWduZXJTdXJmYWNlKGRlc2lnbmVyU3VyZmFjZSwgbmVpZ2hib3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZmlyc3QgdGltZSB3ZSByZW5kZXIgdGhlIGNhcmQsIHdlIGNhbiBhcHBlbmQgdGhlIGVsZW1lbnRzIGluIG9yZGVyXG4gICAgICAgICAgICAgICAgZGVzaWduZXJTdXJmYWNlLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZWRFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmVpZ2hib3I7XG4gICAgfVxuXG4gICAgcmVtb3ZlRWxlbWVudHNGcm9tRGVzaWduZXJTdXJmYWNlKHByb2Nlc3NDaGlsZHJlbjogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5yZW5kZXJlZEVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChwcm9jZXNzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRBdChpKS5yZW1vdmVFbGVtZW50c0Zyb21EZXNpZ25lclN1cmZhY2UocHJvY2Vzc0NoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJ1aWxkUHJvcGVydHlTaGVldENhcmQoY29udGV4dDogRGVzaWduQ29udGV4dCk6IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCB7XG4gICAgICAgIGxldCBjYXJkID0gbmV3IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCgpO1xuICAgICAgICBjYXJkLnBhZGRpbmcgPSBuZXcgQWRhcHRpdmUuUGFkZGluZ0RlZmluaXRpb24oXG4gICAgICAgICAgICBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsLFxuICAgICAgICAgICAgQWRhcHRpdmUuU3BhY2luZy5TbWFsbCxcbiAgICAgICAgICAgIEFkYXB0aXZlLlNwYWNpbmcuU21hbGwsXG4gICAgICAgICAgICBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsKTtcblxuICAgICAgICBsZXQgcHJvcGVydHlTaGVldCA9IG5ldyBQcm9wZXJ0eVNoZWV0KCk7XG5cbiAgICAgICAgdGhpcy5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCk7XG5cbiAgICAgICAgaWYgKERlc2lnbmVyUGVlci5vblBvcHVsYXRlUHJvcGVydHlTaGVldCkge1xuICAgICAgICAgICAgRGVzaWduZXJQZWVyLm9uUG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHRoaXMsIHByb3BlcnR5U2hlZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5yZW5kZXIoXG4gICAgICAgICAgICBjYXJkLFxuICAgICAgICAgICAgbmV3IFByb3BlcnR5U2hlZXRDb250ZXh0KGNvbnRleHQsIHRoaXMpKTtcblxuICAgICAgICBsZXQgYWN0aW9uU2V0ID0gbmV3IEFkYXB0aXZlLkFjdGlvblNldCgpO1xuICAgICAgICBsZXQgY29tbWFuZHMgPSB0aGlzLmdldENvbW1hbmRzKGNvbnRleHQsIHRydWUpO1xuXG4gICAgICAgIGZvciAobGV0IGNvbW1hbmQgb2YgY29tbWFuZHMpIHtcbiAgICAgICAgICAgIGlmIChjb21tYW5kLnNob3dJblByb3BlcnR5U2hlZXQpIHtcbiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uID0gbmV3IEFkYXB0aXZlLlN1Ym1pdEFjdGlvbigpO1xuICAgICAgICAgICAgICAgIGFjdGlvbi50aXRsZSA9IGNvbW1hbmQubmFtZTtcbiAgICAgICAgICAgICAgICBhY3Rpb24ub25FeGVjdXRlID0gKHNlbmRlcjogQWRhcHRpdmUuQWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQuZXhlY3V0ZShjb21tYW5kLCBhY3Rpb24ucmVuZGVyZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYWN0aW9uU2V0LmFkZEFjdGlvbihhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYWN0aW9uU2V0LnNlcGFyYXRvciA9IHRydWU7XG5cbiAgICAgICAgY2FyZC5hZGRJdGVtKGFjdGlvblNldCk7XG5cbiAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgfVxuXG4gICAgc2Nyb2xsSW50b1ZpZXcoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnRyZWVJdGVtICYmIHRoaXMudHJlZUl0ZW0ucmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnRyZWVJdGVtLnJlbmRlcmVkRWxlbWVudC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQYXJlbnRDYXJvdXNlbFBhZ2VQZWVyKHZhbHVlOiBDYXJvdXNlbFBhZ2VQZWVyIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZCwgd2Ugc2hvdWxkIHVwZGF0ZSBpdCBhbmQgdGhlIGN1cnJlbnQgcGVlcidzIGNoaWxkcmVuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fcGFyZW50Q2Fyb3VzZWxQYWdlUGVlcikge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50Q2Fyb3VzZWxQYWdlUGVlciA9IHZhbHVlO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlUGFyZW50Q2Fyb3VzZWxQYWdlUGVlcih0aGlzLl9wYXJlbnRDYXJvdXNlbFBhZ2VQZWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBpc1RyZWVJdGVtRXhwYW5kZWRCeURlZmF1bHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGdldCBwYXJlbnQoKTogRGVzaWduZXJQZWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcbiAgICB9XG5cbiAgICBzZXQgcGFyZW50KHZhbHVlOiBEZXNpZ25lclBlZXIpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy51cGRhdGVQYXJlbnRDYXJvdXNlbFBhZ2VQZWVyKHRoaXMuX3BhcmVudCBpbnN0YW5jZW9mIENhcm91c2VsUGFnZVBlZXIgPyB0aGlzLl9wYXJlbnQgOiB0aGlzLl9wYXJlbnQ/Ll9wYXJlbnRDYXJvdXNlbFBhZ2VQZWVyKTtcblxuICAgICAgICBpZiAodGhpcy5vblBhcmVudENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25QYXJlbnRDaGFuZ2VkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlzU2VsZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1NlbGVjdGVkO1xuICAgIH1cblxuICAgIHNldCBpc1NlbGVjdGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSB0aGlzLl9pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICB0aGlzLnRyZWVJdGVtLmlzU2VsZWN0ZWQgPSB0aGlzLl9pc1NlbGVjdGVkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25TZWxlY3RlZENoYW5nZWQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaW5zZXJ0QWZ0ZXJOZWlnaGJvcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc2VydEFmdGVyTmVpZ2hib3I7XG4gICAgfVxuXG4gICAgc2V0IGluc2VydEFmdGVyTmVpZ2hib3IoaW5zZXJ0QWZ0ZXJOZWlnaGJvcjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlck5laWdoYm9yID0gaW5zZXJ0QWZ0ZXJOZWlnaGJvcjtcbiAgICB9XG5cbiAgICBnZXQgY2hpbGRyZW4oKTogQXJyYXk8RGVzaWduZXJQZWVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbjtcbiAgICB9XG5cbiAgICBnZXQgcGFyZW50Q2Fyb3VzZWxQYWdlUGVlcigpOiBDYXJvdXNlbFBhZ2VQZWVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudENhcm91c2VsUGFnZVBlZXI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWN0aW9uUGVlciBleHRlbmRzIERlc2lnbmVyUGVlciB7XG4gICAgc3RhdGljIHJlYWRvbmx5IHRpdGxlUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJ0aXRsZVwiLCBcIlRpdGxlXCIsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBtb2RlUHJvcGVydHkgPSBuZXcgQ2hvaWNlUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsXG4gICAgICAgIFwibW9kZVwiLFxuICAgICAgICBcIk1vZGVcIixcbiAgICAgICAgW1xuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBuYW1lOiBcIlByaW1hcnlcIiwgdmFsdWU6IEFkYXB0aXZlLkFjdGlvbk1vZGU/LlByaW1hcnkgfSxcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfNSwgbmFtZTogXCJTZWNvbmRhcnlcIiwgdmFsdWU6IEFkYXB0aXZlLkFjdGlvbk1vZGU/LlNlY29uZGFyeSB9XG4gICAgICAgIF0pO1xuICAgIHN0YXRpYyByZWFkb25seSBzdHlsZVByb3BlcnR5ID0gbmV3IENob2ljZVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLFxuICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgIFwiU3R5bGVcIixcbiAgICAgICAgW1xuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBuYW1lOiBcIkRlZmF1bHRcIiwgdmFsdWU6IEFkYXB0aXZlLkFjdGlvblN0eWxlPy5EZWZhdWx0IH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIG5hbWU6IFwiUG9zaXRpdmVcIiwgdmFsdWU6IEFkYXB0aXZlLkFjdGlvblN0eWxlPy5Qb3NpdGl2ZSB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBuYW1lOiBcIkRlc3RydWN0aXZlXCIsIHZhbHVlOiBBZGFwdGl2ZS5BY3Rpb25TdHlsZT8uRGVzdHJ1Y3RpdmUgfVxuICAgICAgICBdKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaWNvblVybFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIFwiaWNvblVybFwiLCBcIkljb24gVVJMXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSB0b29sdGlwUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfNSwgXCJ0b29sdGlwXCIsIFwiVG9vbHRpcFwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaXNFbmFibGVkUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsIFwiaXNFbmFibGVkXCIsIFwiRW5hYmxlZFwiKTtcblxuICAgIHByb3RlY3RlZCBkb3VibGVDbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHN1cGVyLmRvdWJsZUNsaWNrKGUpO1xuXG4gICAgICAgIHRoaXMuYWN0aW9uLnJlbmRlcmVkRWxlbWVudC5jbGljaygpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbFJlbW92ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJlbnQ6IERlc2lnbmVyUGVlcixcbiAgICAgICAgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlLFxuICAgICAgICByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UsXG4gICAgICAgIGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudCwgZGVzaWduZXJTdXJmYWNlLCByZWdpc3RyYXRpb24sIGFjdGlvbik7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsR2V0VHJlZUl0ZW1UZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmFjdGlvbi50aXRsZSAmJiB0aGlzLmFjdGlvbi50aXRsZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb24udGl0bGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGlvbi5yZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHN1cGVyLmludGVybmFsVXBkYXRlTGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0RyYWdnYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldEJvdW5kaW5nUmVjdCgpOiBSZWN0IHtcbiAgICAgICAgbGV0IGRlc2lnblN1cmZhY2VPZmZzZXQgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5nZXREZXNpZ25lclN1cmZhY2VPZmZzZXQoKTtcbiAgICAgICAgbGV0IGFjdGlvbkJvdW5kaW5nUmVjdCA9IHRoaXMuYWN0aW9uLnJlbmRlcmVkRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFJlY3QoXG4gICAgICAgICAgICBhY3Rpb25Cb3VuZGluZ1JlY3QudG9wIC0gZGVzaWduU3VyZmFjZU9mZnNldC55LFxuICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LnJpZ2h0IC0gZGVzaWduU3VyZmFjZU9mZnNldC54LFxuICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LmJvdHRvbSAtIGRlc2lnblN1cmZhY2VPZmZzZXQueSxcbiAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC5sZWZ0IC0gZGVzaWduU3VyZmFjZU9mZnNldC54XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0Q2FyZE9iamVjdEJvdW5kaW5nUmVjdCgpOiBSZWN0IHtcbiAgICAgICAgbGV0IGFjdGlvbkJvdW5kaW5nUmVjdCA9IHRoaXMuYWN0aW9uLnJlbmRlcmVkRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFJlY3QoXG4gICAgICAgICAgICBhY3Rpb25Cb3VuZGluZ1JlY3QudG9wLFxuICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LnJpZ2h0LFxuICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LmJvdHRvbSxcbiAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC5sZWZ0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIEFjdGlvblBlZXIuaWRQcm9wZXJ0eSxcbiAgICAgICAgICAgIEFjdGlvblBlZXIuaXNFbmFibGVkUHJvcGVydHksXG4gICAgICAgICAgICBBY3Rpb25QZWVyLnRpdGxlUHJvcGVydHksXG4gICAgICAgICAgICBBY3Rpb25QZWVyLnRvb2x0aXBQcm9wZXJ0eSxcbiAgICAgICAgICAgIEFjdGlvblBlZXIubW9kZVByb3BlcnR5LFxuICAgICAgICAgICAgQWN0aW9uUGVlci5zdHlsZVByb3BlcnR5LFxuICAgICAgICAgICAgQWN0aW9uUGVlci5pY29uVXJsUHJvcGVydHkpO1xuICAgIH1cblxuICAgIGdldCBhY3Rpb24oKTogQWRhcHRpdmUuQWN0aW9uIHtcbiAgICAgICAgcmV0dXJuIDxBZGFwdGl2ZS5BY3Rpb24+dGhpcy5nZXRDYXJkT2JqZWN0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVHlwZWRBY3Rpb25QZWVyPFRBY3Rpb24gZXh0ZW5kcyBBZGFwdGl2ZS5BY3Rpb24+IGV4dGVuZHMgQWN0aW9uUGVlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmVudDogRGVzaWduZXJQZWVyLFxuICAgICAgICBkZXNpZ25lclN1cmZhY2U6IENhcmREZXNpZ25lclN1cmZhY2UsXG4gICAgICAgIHJlZ2lzdHJhdGlvbjogRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uQmFzZSxcbiAgICAgICAgYWN0aW9uOiBUQWN0aW9uKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudCwgZGVzaWduZXJTdXJmYWNlLCByZWdpc3RyYXRpb24sIGFjdGlvbik7XG4gICAgfVxuXG4gICAgZ2V0IGFjdGlvbigpOiBUQWN0aW9uIHtcbiAgICAgICAgcmV0dXJuIDxUQWN0aW9uPnRoaXMuZ2V0Q2FyZE9iamVjdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0dHBBY3Rpb25QZWVyIGV4dGVuZHMgVHlwZWRBY3Rpb25QZWVyPEFkYXB0aXZlLkh0dHBBY3Rpb24+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaWdub3JlSW5wdXRWYWxpZGF0aW9uUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzMsIFwiaWdub3JlSW5wdXRWYWxpZGF0aW9uXCIsIFwiSWdub3JlIGlucHV0IHZhbGlkYXRpb25cIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IG1ldGhvZFByb3BlcnR5ID0gbmV3IENob2ljZVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICBcIm1ldGhvZFwiLFxuICAgICAgICBcIk1ldGhvZFwiLFxuICAgICAgICBbXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiR0VUXCIsIHZhbHVlOiBcIkdFVFwiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiUE9TVFwiLCB2YWx1ZTogXCJQT1NUXCIgfVxuICAgICAgICBdLFxuICAgICAgICB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgdXJsUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJ1cmxcIiwgXCJVcmxcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IGJvZHlQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImJvZHlcIiwgXCJCb2R5XCIsIGZhbHNlLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaGVhZGVyc1Byb3BlcnR5ID0gbmV3IE5hbWVWYWx1ZVBhaXJQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMCxcbiAgICAgICAgXCJoZWFkZXJzXCIsXG4gICAgICAgIFwibmFtZVwiLFxuICAgICAgICBcInZhbHVlXCIsXG4gICAgICAgIChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHsgcmV0dXJuIG5ldyBBZGFwdGl2ZS5IdHRwSGVhZGVyKG5hbWUsIHZhbHVlKTsgfSxcbiAgICAgICAgXCJOYW1lXCIsXG4gICAgICAgIFwiVmFsdWVcIixcbiAgICAgICAgXCJBZGQgYSBuZXcgaGVhZGVyXCIsXG4gICAgICAgIFwiVGhpcyBhY3Rpb24gaGFzIG5vIGhlYWRlci5cIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIEh0dHBBY3Rpb25QZWVyLmlnbm9yZUlucHV0VmFsaWRhdGlvblByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIEh0dHBBY3Rpb25QZWVyLm1ldGhvZFByb3BlcnR5LFxuICAgICAgICAgICAgSHR0cEFjdGlvblBlZXIudXJsUHJvcGVydHkpO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbi5tZXRob2QgPT0gXCJQT1NUXCIpIHtcbiAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBIdHRwQWN0aW9uUGVlci5ib2R5UHJvcGVydHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBcIkhUVFAgaGVhZGVyc1wiLFxuICAgICAgICAgICAgSHR0cEFjdGlvblBlZXIuaGVhZGVyc1Byb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlU3VibWl0QWN0aW9uUGVlcjxUQWN0aW9uIGV4dGVuZHMgQWRhcHRpdmUuU3VibWl0QWN0aW9uPiBleHRlbmRzIFR5cGVkQWN0aW9uUGVlcjxUQWN0aW9uPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGRhdGFQcm9wZXJ0eSA9IG5ldyBPYmplY3RQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImRhdGFcIiwgXCJEYXRhXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBhc3NvY2lhdGVkSW5wdXRzUHJvcGVydHkgPSBuZXcgQ2hvaWNlUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzMsXG4gICAgICAgIFwiYXNzb2NpYXRlZElucHV0c1wiLFxuICAgICAgICBcIkFzc29jaWF0ZWQgaW5wdXRzXCIsXG4gICAgICAgIFtcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMywgbmFtZTogXCJBdXRvbWF0aWNcIiwgdmFsdWU6IFwiYXV0b1wiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzMsIG5hbWU6IFwiTm9uZVwiLCB2YWx1ZTogXCJub25lXCIgfVxuICAgICAgICBdKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZGlzYWJsZWRVbmxlc3NBc3NvY2lhdGVkSW5wdXRzQ2hhbmdlUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzYsIFwiZGlzYWJsZWRVbmxlc3NBc3NvY2lhdGVkSW5wdXRzQ2hhbmdlXCIsIFwiT25seSBlbmFibGUgd2hlbiBhc3NvY2lhdGVkIGlucHV0cyBjaGFuZ2VcIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgQmFzZVN1Ym1pdEFjdGlvblBlZXIuZGF0YVByb3BlcnR5LFxuICAgICAgICAgICAgQmFzZVN1Ym1pdEFjdGlvblBlZXIuYXNzb2NpYXRlZElucHV0c1Byb3BlcnR5LFxuICAgICAgICAgICAgQmFzZVN1Ym1pdEFjdGlvblBlZXIuZGlzYWJsZWRVbmxlc3NBc3NvY2lhdGVkSW5wdXRzQ2hhbmdlUHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1Ym1pdEFjdGlvblBlZXIgZXh0ZW5kcyBCYXNlU3VibWl0QWN0aW9uUGVlcjxBZGFwdGl2ZS5TdWJtaXRBY3Rpb24+IHsgfVxuXG5leHBvcnQgY2xhc3MgRXhlY3V0ZUFjdGlvblBlZXIgZXh0ZW5kcyBCYXNlU3VibWl0QWN0aW9uUGVlcjxBZGFwdGl2ZS5FeGVjdXRlQWN0aW9uPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IHZlcmJQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV80LCBcInZlcmJcIiwgXCJWZXJiXCIpO1xuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChkZWZhdWx0Q2F0ZWdvcnksIEV4ZWN1dGVBY3Rpb25QZWVyLnZlcmJQcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3BlblVybEFjdGlvblBlZXIgZXh0ZW5kcyBUeXBlZEFjdGlvblBlZXI8QWRhcHRpdmUuT3BlblVybEFjdGlvbj4ge1xuICAgIHN0YXRpYyByZWFkb25seSB1cmxQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInVybFwiLCBcIlVybFwiKTtcblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBPcGVuVXJsQWN0aW9uUGVlci51cmxQcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2hvd0NhcmRBY3Rpb25QZWVyIGV4dGVuZHMgVHlwZWRBY3Rpb25QZWVyPEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uPiB7XG4gICAgcHJvdGVjdGVkIGdldFRvb2xUaXAoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiRG91YmxlIGNsaWNrIHRvIG9wZW4vY2xvc2VcIjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVWaXNpYmlsaXR5QWN0aW9uUGVlciBleHRlbmRzIFR5cGVkQWN0aW9uUGVlcjxBZGFwdGl2ZS5Ub2dnbGVWaXNpYmlsaXR5QWN0aW9uPiB7XG59XG5cbmV4cG9ydCBjbGFzcyBDYXJkRWxlbWVudFBlZXIgZXh0ZW5kcyBEZXNpZ25lclBlZXIge1xuICAgIHN0YXRpYyByZWFkb25seSBkYXRhQ29udGV4dFByb3BlcnR5ID0gbmV3IEN1c3RvbUNhcmRPYmplY3RQcm9wZXJ0eUVkaXRvcihcIipcIiwgXCIkZGF0YVwiLCBcIkRhdGEgY29udGV4dFwiLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgd2hlblByb3BlcnR5ID0gbmV3IEN1c3RvbUNhcmRPYmplY3RQcm9wZXJ0eUVkaXRvcihcIipcIiwgXCIkd2hlblwiLCBcIk9ubHkgc2hvdyB3aGVuXCIsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBpZFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiaWRcIiwgXCJJZFwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaXNWaXNpYmxlUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIFwiaXNWaXNpYmxlXCIsIFwiSW5pdGlhbGx5IHZpc2libGVcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHNwYWNpbmdQcm9wZXJ0eSA9IG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJzcGFjaW5nXCIsIFwiU3BhY2luZ1wiLCBBZGFwdGl2ZS5TcGFjaW5nKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgc2VwYXJhdG9yUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwic2VwYXJhdG9yXCIsIFwiU2VwYXJhdG9yXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBob3Jpem9udGFsQWxpZ25tZW50UHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiaG9yaXpvbnRhbEFsaWdubWVudFwiLCBcIkhvcml6b250YWwgYWxpZ25tZW50XCIsIEFkYXB0aXZlLkhvcml6b250YWxBbGlnbm1lbnQpO1xuICAgIHN0YXRpYyByZWFkb25seSBoZWlnaHRQcm9wZXJ0eSA9IG5ldyBIZWlnaHRQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMSxcbiAgICAgICAgXCJoZWlnaHRcIixcbiAgICAgICAgXCJIZWlnaHRcIixcbiAgICAgICAgW1xuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBuYW1lOiBcIkF1dG9tYXRpY1wiLCB2YWx1ZTogXCJhdXRvXCIgfSxcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMSwgbmFtZTogXCJTdHJldGNoXCIsIHZhbHVlOiBcInN0cmV0Y2hcIiB9XG4gICAgICAgIF1cbiAgICApO1xuXG4gICAgcHJvdGVjdGVkIGluc2VydEVsZW1lbnRBZnRlcihuZXdFbGVtZW50OiBBZGFwdGl2ZS5DYXJkRWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC5wYXJlbnQgaW5zdGFuY2VvZiBBZGFwdGl2ZS5Db250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQucGFyZW50Lmluc2VydEl0ZW1BZnRlcihuZXdFbGVtZW50LCB0aGlzLmNhcmRFbGVtZW50KTtcblxuICAgICAgICAgICAgdmFyIG5ld1BlZXIgPSBDYXJkRGVzaWduZXJTdXJmYWNlLmNhcmRFbGVtZW50UGVlclJlZ2lzdHJ5LmNyZWF0ZVBlZXJJbnN0YW5jZSh0aGlzLmRlc2lnbmVyU3VyZmFjZSwgdGhpcywgbmV3RWxlbWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMucGVlckFkZGVkKG5ld1BlZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVtb3ZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVDc3NTdHlsZXMoKSB7XG4gICAgICAgIHN1cGVyLmludGVybmFsVXBkYXRlQ3NzU3R5bGVzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaW52aXNpYmxlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImludmlzaWJsZVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJlbnQ6IERlc2lnbmVyUGVlcixcbiAgICAgICAgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlLFxuICAgICAgICByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UsXG4gICAgICAgIGNhcmRFbGVtZW50OiBBZGFwdGl2ZS5DYXJkRWxlbWVudCxcbiAgICAgICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50PzogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihwYXJlbnQsIGRlc2lnbmVyU3VyZmFjZSwgcmVnaXN0cmF0aW9uLCBjYXJkRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKGluaXRpYWxpemVDYXJkRWxlbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ2FyZEVsZW1lbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4oKTtcbiAgICB9XG5cbiAgICBmaW5kQ2FyZEVsZW1lbnRDaGlsZChlbGVtZW50OiBBZGFwdGl2ZS5DYXJkRWxlbWVudCkgOiBDYXJkRWxlbWVudFBlZXIgfCB1bmRlZmluZWQge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ2V0Q2hpbGRDb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwZWVyID0gdGhpcy5nZXRDaGlsZEF0KGkpO1xuXG4gICAgICAgICAgICBpZiAocGVlciBpbnN0YW5jZW9mIENhcmRFbGVtZW50UGVlciAmJiBwZWVyLmNhcmRFbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZpbmRBY3Rpb25DaGlsZChhY3Rpb246IEFkYXB0aXZlLkFjdGlvbikgOiBBY3Rpb25QZWVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdldENoaWxkQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcGVlciA9IHRoaXMuZ2V0Q2hpbGRBdChpKTtcblxuICAgICAgICAgICAgaWYgKHBlZXIgaW5zdGFuY2VvZiBBY3Rpb25QZWVyICYmIHBlZXIuYWN0aW9uID09PSBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdXBkYXRlQ2hpbGRyZW4oaW5pdGlhbGl6ZUNhcmRFbGVtZW50PzogYm9vbGVhbikge1xuICAgICAgICAvLyBSZW1vdmUgYWxsIHBlZXJzIGZyb20gdGhlIGRlc2lnbmVyIHN1cmZhY2VcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdldENoaWxkQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdQZWVyID0gdGhpcy5nZXRDaGlsZEF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdQZWVyIGluc3RhbmNlb2YgQ2FyZEVsZW1lbnRQZWVyICYmIHRoaXMuY2FyZEVsZW1lbnQuaW5kZXhPZihleGlzdGluZ1BlZXIuY2FyZEVsZW1lbnQpIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoZXhpc3RpbmdQZWVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGVlciBpbnN0YW5jZW9mIEFjdGlvblBlZXIgJiYgdGhpcy5jYXJkRWxlbWVudC5pbmRleE9mQWN0aW9uKGV4aXN0aW5nUGVlci5hY3Rpb24pIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoZXhpc3RpbmdQZWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpdGVtQ291bnQgPSAwO1xuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudCBpbnN0YW5jZW9mIEFkYXB0aXZlLkNhcmRFbGVtZW50Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBpdGVtQ291bnQgPSB0aGlzLmNhcmRFbGVtZW50LmdldEl0ZW1Db3VudCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBleGlzdGluZ1BlZXIgPSB0aGlzLmZpbmRDYXJkRWxlbWVudENoaWxkKHRoaXMuY2FyZEVsZW1lbnQuZ2V0SXRlbUF0KGkpKTtcblxuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmdQZWVyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVlciA9IENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNpZ25lclN1cmZhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5nZXRJdGVtQXQoaSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplQ2FyZEVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQocGVlciwgaSk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FyZEVsZW1lbnQuZ2V0QWN0aW9uQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdQZWVyID0gdGhpcy5maW5kQWN0aW9uQ2hpbGQodGhpcy5jYXJkRWxlbWVudC5nZXRBY3Rpb25BdChpKSk7XG5cbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdQZWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgQ2FyZERlc2lnbmVyU3VyZmFjZS5hY3Rpb25QZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNpZ25lclN1cmZhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5nZXRBY3Rpb25BdChpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtQ291bnQgKyBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnVwZGF0ZUNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgZ2V0VHJlZUl0ZW1UZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIGxldCB0ZXh0ID0gc3VwZXIuZ2V0VHJlZUl0ZW1UZXh0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBcIkhpZGRlblwiO1xuXG4gICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiAtIFwiICsgdGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZyBpbiBiYXNlIGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgY2FuRHJvcChwZWVyOiBEZXNpZ25lclBlZXIpIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICBsZXQgcGFyZW50Q2FuQ29udGFpbkVsZW1lbnQgPSB0cnVlO1xuXG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBDYXJvdXNlbFBhZ2VQZWVyKSB7IFxuICAgICAgICAgICAgICAgIHBhcmVudENhbkNvbnRhaW5FbGVtZW50ID0gcGFyZW50LmNhbkRyb3AocGVlcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIH0gXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQgaW5zdGFuY2VvZiBBZGFwdGl2ZS5Db250YWluZXIgJiYgcGVlciBpbnN0YW5jZW9mIENhcmRFbGVtZW50UGVlciAmJiBwYXJlbnRDYW5Db250YWluRWxlbWVudDtcbiAgICB9XG5cbiAgICB0cnlEcm9wKHBlZXI6IERlc2lnbmVyUGVlciwgaW5zZXJ0aW9uUG9pbnQ6IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBFdmVuIHRob3VnaCBDYXJvdXNlbCBpcyBhIENvbnRhaW5lciwgd2UgZG8gbm90IHdhbnQgdG8gYmUgYWJsZSB0byBkcm9wIHBlZXJzXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50IGluc3RhbmNlb2YgQWRhcHRpdmUuQ29udGFpbmVyICYmIHBlZXIgaW5zdGFuY2VvZiBDYXJkRWxlbWVudFBlZXIgJiYgISh0aGlzLmNhcmRFbGVtZW50IGluc3RhbmNlb2YgQWRhcHRpdmUuQ2Fyb3VzZWwpKSB7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0Q2hpbGQ6IERlc2lnbmVyUGVlciA9IG51bGw7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0QWZ0ZXI6IGJvb2xlYW47XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5nZXRDaGlsZEF0KGkpLmdldEJvdW5kaW5nUmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlY3QuaXNJbnNpZGUoaW5zZXJ0aW9uUG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGluc2VydEFmdGVyID0gKGluc2VydGlvblBvaW50LnkgLSByZWN0LnRvcCkgPj0gKHJlY3QuaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0Q2hpbGQgIT0gcGVlcikge1xuICAgICAgICAgICAgICAgIGlmIChwZWVyLmNhcmRFbGVtZW50LnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBlZXIucmVtb3ZlKHRydWUsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcGVlci5wYXJlbnQucmVtb3ZlQ2hpbGQocGVlcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QWZ0ZXIgPSAoaW5zZXJ0aW9uUG9pbnQueSAtIHJlY3QudG9wKSA+PSAocmVjdC5oZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC5nZXRJdGVtQ291bnQoKSA+IDAgJiYgaW5zZXJ0QWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuaW5zZXJ0SXRlbUFmdGVyKHBlZXIuY2FyZEVsZW1lbnQsIHRoaXMuY2FyZEVsZW1lbnQuZ2V0SXRlbUF0KHRoaXMuY2FyZEVsZW1lbnQuZ2V0SXRlbUNvdW50KCkgLSAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50Lmluc2VydEl0ZW1BZnRlcihwZWVyLmNhcmRFbGVtZW50LCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRBZnRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5pbnNlcnRJdGVtQWZ0ZXIocGVlci5jYXJkRWxlbWVudCwgKDxDYXJkRWxlbWVudFBlZXI+dGFyZ2V0Q2hpbGQpLmNhcmRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuaW5zZXJ0SXRlbUJlZm9yZShwZWVyLmNhcmRFbGVtZW50LCAoPENhcmRFbGVtZW50UGVlcj50YXJnZXRDaGlsZCkuY2FyZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChwZWVyLCBwZWVyLmNhcmRFbGVtZW50LmluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZWQoZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5QWRkKHBlZXI6IERlc2lnbmVyUGVlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudCBpbnN0YW5jZW9mIEFkYXB0aXZlLkNvbnRhaW5lciAmJiBwZWVyIGluc3RhbmNlb2YgQ2FyZEVsZW1lbnRQZWVyKSB7XG4gICAgICAgICAgICBpZiAocGVlci5jYXJkRWxlbWVudC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBlZXIucmVtb3ZlKHRydWUsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGVlci5wYXJlbnQucmVtb3ZlQ2hpbGQocGVlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkSXRlbShwZWVyLmNhcmRFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQocGVlciwgcGVlci5jYXJkRWxlbWVudC5pbmRleCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoZmFsc2UpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ1JlY3QoKTogUmVjdCB7XG4gICAgICAgIGxldCBkZXNpZ25TdXJmYWNlT2Zmc2V0ID0gdGhpcy5kZXNpZ25lclN1cmZhY2UuZ2V0RGVzaWduZXJTdXJmYWNlT2Zmc2V0KCk7XG4gICAgICAgIGxldCBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdCA9IHRoaXMuY2FyZEVsZW1lbnQucmVuZGVyZWRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGxldCByZXR1cm5SZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC5oYXNWaXNpYmxlU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICBsZXQgc2VwYXJhdG9yQm91bmRpbmdSZWN0ID0gdGhpcy5jYXJkRWxlbWVudC5zZXBhcmF0b3JFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICByZXR1cm5SZWN0ID0gbmV3IFJlY3QoXG4gICAgICAgICAgICAgICAgTWF0aC5taW4oc2VwYXJhdG9yQm91bmRpbmdSZWN0LnRvcCwgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QudG9wKSAtIGRlc2lnblN1cmZhY2VPZmZzZXQueSxcbiAgICAgICAgICAgICAgICBNYXRoLm1heChzZXBhcmF0b3JCb3VuZGluZ1JlY3QucmlnaHQsIGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0LnJpZ2h0KSAtIGRlc2lnblN1cmZhY2VPZmZzZXQueCxcbiAgICAgICAgICAgICAgICBNYXRoLm1heChzZXBhcmF0b3JCb3VuZGluZ1JlY3QuYm90dG9tLCBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC5ib3R0b20pIC0gZGVzaWduU3VyZmFjZU9mZnNldC55LFxuICAgICAgICAgICAgICAgIE1hdGgubWluKHNlcGFyYXRvckJvdW5kaW5nUmVjdC5sZWZ0LCBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC5sZWZ0KSAtIGRlc2lnblN1cmZhY2VPZmZzZXQueFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVyblJlY3QgPSBuZXcgUmVjdChcbiAgICAgICAgICAgICAgICBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC50b3AgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnksXG4gICAgICAgICAgICAgICAgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QucmlnaHQgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LngsXG4gICAgICAgICAgICAgICAgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QuYm90dG9tIC0gZGVzaWduU3VyZmFjZU9mZnNldC55LFxuICAgICAgICAgICAgICAgIGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0LmxlZnQgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBhcmUgZGlzcGxheWluZyBhIGNhcm91c2VsLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGFsbCBvZiB0aGUgY2hpbGQgcGVlcnMgYXJlIGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSBwZWVyIGhhcyBhIHBhcmVudCB0aGF0IGlzIGEgQ2Fyb3VzZWxQYWdlUGVlciBhbmQgaXQgaXMgdGhlIHZpc2libGUgcGFnZVxuICAgICAgICAvLyBUaGVuIHNlZSBpZiB0aGUgYm91bmRpbmcgcmVjdCBuZWVkcyB0byBiZSBhZGp1c3RlZFxuICAgICAgICBpZiAodGhpcy5wYXJlbnRDYXJvdXNlbFBhZ2VQZWVyPy5pc1Zpc2libGUoKSAmJiAhdGhpcy5wYXJlbnRDYXJvdXNlbFBhZ2VQZWVyLnBlZXJJbkNvcnJlY3RMb2NhdGlvbih7IHg6IHJldHVyblJlY3QueCwgeTogcmV0dXJuUmVjdC55IH0pKSB7XG4gICAgICAgICAgICByZXR1cm5SZWN0LmxlZnQgPSByZXR1cm5SZWN0LmxlZnQgLSB0aGlzLnBhcmVudENhcm91c2VsUGFnZVBlZXIucGFnZU9mZnNldDtcbiAgICAgICAgICAgIHJldHVyblJlY3QucmlnaHQgPSByZXR1cm5SZWN0LnJpZ2h0IC0gdGhpcy5wYXJlbnRDYXJvdXNlbFBhZ2VQZWVyLnBhZ2VPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0dXJuUmVjdDtcbiAgICB9XG5cbiAgICBnZXRDYXJkT2JqZWN0Qm91bmRpbmdSZWN0KCk6IFJlY3Qge1xuICAgICAgICBsZXQgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QgPSB0aGlzLmNhcmRFbGVtZW50LnJlbmRlcmVkRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFJlY3QoXG4gICAgICAgICAgICBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC50b3AsXG4gICAgICAgICAgICBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC5yaWdodCxcbiAgICAgICAgICAgIGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0LmJvdHRvbSxcbiAgICAgICAgICAgIGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0LmxlZnRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIGlmIChHbG9iYWxTZXR0aW5ncy5lbmFibGVEYXRhQmluZGluZ1N1cHBvcnQpIHtcbiAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuZGF0YUNvbnRleHRQcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIud2hlblByb3BlcnR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmlkUHJvcGVydHksXG4gICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuaXNWaXNpYmxlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLnNwYWNpbmdQcm9wZXJ0eSxcbiAgICAgICAgICAgIENhcmRFbGVtZW50UGVlci5zZXBhcmF0b3JQcm9wZXJ0eSxcbiAgICAgICAgICAgIENhcmRFbGVtZW50UGVlci5ob3Jpem9udGFsQWxpZ25tZW50UHJvcGVydHksXG4gICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuaGVpZ2h0UHJvcGVydHkpO1xuICAgIH1cblxuICAgIGdldCBjYXJkRWxlbWVudCgpOiBBZGFwdGl2ZS5DYXJkRWxlbWVudCB7XG4gICAgICAgIHJldHVybiA8QWRhcHRpdmUuQ2FyZEVsZW1lbnQ+dGhpcy5nZXRDYXJkT2JqZWN0KCk7XG4gICAgfVxuXG4gICAgaXNWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBDYXJkRWxlbWVudFBlZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5pc1Zpc2libGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBicmluZ0NhcmRFbGVtZW50SW50b1ZpZXcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUeXBlZENhcmRFbGVtZW50UGVlcjxUQ2FyZEVsZW1lbnQgZXh0ZW5kcyBBZGFwdGl2ZS5DYXJkRWxlbWVudD4gZXh0ZW5kcyBDYXJkRWxlbWVudFBlZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJlbnQ6IERlc2lnbmVyUGVlcixcbiAgICAgICAgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlLFxuICAgICAgICByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UsXG4gICAgICAgIGNhcmRFbGVtZW50OiBUQ2FyZEVsZW1lbnQsXG4gICAgICAgIGluaXRpYWxpemVDYXJkRWxlbWVudD86IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBkZXNpZ25lclN1cmZhY2UsIHJlZ2lzdHJhdGlvbiwgY2FyZEVsZW1lbnQsIGluaXRpYWxpemVDYXJkRWxlbWVudCk7XG4gICAgfVxuXG4gICAgZ2V0IGNhcmRFbGVtZW50KCk6IFRDYXJkRWxlbWVudCB7XG4gICAgICAgIHJldHVybiA8VENhcmRFbGVtZW50PnRoaXMuZ2V0Q2FyZE9iamVjdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFkYXB0aXZlQ2FyZFBlZXIgZXh0ZW5kcyBUeXBlZENhcmRFbGVtZW50UGVlcjxBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgbGFuZ1Byb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIFwibGFuZ1wiLCBcIkxhbmd1YWdlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBmYWxsYmFja1RleHRQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImZhbGxiYWNrVGV4dFwiLCBcIkZhbGxiYWNrIHRleHRcIiwgZmFsc2UsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBzcGVha1Byb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwic3BlYWtcIiwgXCJTcGVha1wiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgcmVmcmVzaFByb3BlcnR5ID0gbmV3IENvbXBvdW5kUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzQsXG4gICAgICAgIFwicmVmcmVzaFwiLFxuICAgICAgICBbXG4gICAgICAgICAgICBuZXcgU3RyaW5nQXJyYXlQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV80LCBcInVzZXJJZHNcIiwgXCJVc2VyIElEc1wiLCBmYWxzZSwgdHJ1ZSksXG4gICAgICAgICAgICBuZXcgQWN0aW9uUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfNCwgXCJhY3Rpb25cIiwgXCJBY3Rpb25cIiwgWyBcIipcIiwgXCItQWN0aW9uLkV4ZWN1dGVcIiBdLCB0cnVlKVxuICAgICAgICBdLFxuICAgICAgICAoKSA9PiB7IHJldHVybiBuZXcgQWRhcHRpdmUuUmVmcmVzaERlZmluaXRpb24oKSB9KTtcblxuICAgIHByb3RlY3RlZCBhZGRBY3Rpb24oYWN0aW9uOiBBZGFwdGl2ZS5BY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRBY3Rpb24oYWN0aW9uKTtcblxuICAgICAgICB0aGlzLmluc2VydENoaWxkKENhcmREZXNpZ25lclN1cmZhY2UuYWN0aW9uUGVlclJlZ2lzdHJ5LmNyZWF0ZVBlZXJJbnN0YW5jZSh0aGlzLmRlc2lnbmVyU3VyZmFjZSwgdGhpcywgYWN0aW9uKSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVtb3ZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBjb21tYW5kczogQXJyYXk8UGVlckNvbW1hbmQ+KSB7XG4gICAgICAgIHN1cGVyLmludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dCwgY29tbWFuZHMpO1xuXG4gICAgICAgIGxldCBhdmFpbGFibGVBY3Rpb25zOiBBZGFwdGl2ZS5JVHlwZVJlZ2lzdHJhdGlvbjxBZGFwdGl2ZS5BY3Rpb24+W10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRleHQuaG9zdENvbnRhaW5lci5hY3Rpb25zUmVnaXN0cnkuZ2V0SXRlbUNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IHR5cGVSZWdpc3RyYXRpb24gPSBjb250ZXh0Lmhvc3RDb250YWluZXIuYWN0aW9uc1JlZ2lzdHJ5LmdldEl0ZW1BdChpKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVSZWdpc3RyYXRpb24uc2NoZW1hVmVyc2lvbi5jb21wYXJlVG8oY29udGV4dC50YXJnZXRWZXJzaW9uKSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgYXZhaWxhYmxlQWN0aW9ucy5wdXNoKHR5cGVSZWdpc3RyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF2YWlsYWJsZUFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgUGVlckNvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWRkIGFuIGFjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2hvd05hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3M6IFwiYWNkLWljb24tYm9sdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luUHJvcGVydHlTaGVldDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGU6IChjb21tYW5kOiBQZWVyQ29tbWFuZCwgY2xpY2tlZEVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvcHVwTWVudSA9IG5ldyBDb250cm9scy5Qb3B1cE1lbnUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXZhaWxhYmxlQWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVudUl0ZW0gPSBuZXcgQ29udHJvbHMuRHJvcERvd25JdGVtKGkudG9TdHJpbmcoKSwgYXZhaWxhYmxlQWN0aW9uc1tpXS50eXBlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtLm9uQ2xpY2sgPSAoY2xpY2tlZEl0ZW06IENvbnRyb2xzLkRyb3BEb3duSXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2lzdHJhdGlvbiA9IGF2YWlsYWJsZUFjdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9uID0gbmV3IHJlZ2lzdHJhdGlvbi5vYmplY3RUeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24udGl0bGUgPSByZWdpc3RyYXRpb24udHlwZU5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQWN0aW9uKGFjdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwTWVudS5jbG9zZVBvcHVwKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cE1lbnUuaXRlbXMuYWRkKG1lbnVJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cE1lbnUucG9wdXAoY2xpY2tlZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzRHJhZ2dhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY2FuQmVSZW1vdmVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LnJlbW92ZShcbiAgICAgICAgICAgIERlc2lnbmVyUGVlci5pZFByb3BlcnR5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmlzVmlzaWJsZVByb3BlcnR5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmhvcml6b250YWxBbGlnbm1lbnRQcm9wZXJ0eSxcbiAgICAgICAgICAgIENhcmRFbGVtZW50UGVlci5zZXBhcmF0b3JQcm9wZXJ0eSxcbiAgICAgICAgICAgIENhcmRFbGVtZW50UGVlci5oZWlnaHRQcm9wZXJ0eSxcbiAgICAgICAgICAgIENhcmRFbGVtZW50UGVlci5zcGFjaW5nUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgQWRhcHRpdmVDYXJkUGVlci5sYW5nUHJvcGVydHksXG4gICAgICAgICAgICBBZGFwdGl2ZUNhcmRQZWVyLmZhbGxiYWNrVGV4dFByb3BlcnR5LFxuICAgICAgICAgICAgQWRhcHRpdmVDYXJkUGVlci5zcGVha1Byb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5SZWZyZXNoLFxuICAgICAgICAgICAgQWRhcHRpdmVDYXJkUGVlci5yZWZyZXNoUHJvcGVydHkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LnJlZnJlc2ggJiYgdGhpcy5jYXJkRWxlbWVudC5yZWZyZXNoLmFjdGlvbikge1xuICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGRBY3Rpb25Qcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzQsXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnJlZnJlc2guYWN0aW9uLFxuICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5SZWZyZXNoLFxuICAgICAgICAgICAgICAgIFsgQmFzZVN1Ym1pdEFjdGlvblBlZXIuYXNzb2NpYXRlZElucHV0c1Byb3BlcnR5LCBBY3Rpb25QZWVyLmljb25VcmxQcm9wZXJ0eSwgQWN0aW9uUGVlci5zdHlsZVByb3BlcnR5LCBBY3Rpb25QZWVyLm1vZGVQcm9wZXJ0eSBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5taW5IZWlnaHRQcm9wZXJ0eSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIudmVydGljYWxDb250ZW50QWxpZ25tZW50UHJvcGVydHksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnJ0bFByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFwiQmFja2dyb3VuZCBpbWFnZVwiLFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5iYWNrZ3JvdW5kSW1hZ2VQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU2VsZWN0aW9uQWN0aW9uLFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5zZWxlY3RBY3Rpb25Qcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0QWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZEFjdGlvblByb3BlcnRpZXMoXG4gICAgICAgICAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMCxcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0QWN0aW9uLFxuICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TZWxlY3Rpb25BY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sdW1uUGVlciBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPEFkYXB0aXZlLkNvbHVtbj4ge1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHBpeGVsV2lkdGhQcm9wZXJ0eSA9IG5ldyBTaXplQW5kVW5pdFByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIFwid2lkdGhcIiwgXCJXaWR0aCBpbiBwaXhlbHNcIiwgQWRhcHRpdmUuU2l6ZVVuaXQuUGl4ZWwpO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHdlaWdodFByb3BlcnR5ID0gbmV3IFNpemVBbmRVbml0UHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJ3aWR0aFwiLCBcIldlaWdodFwiLCBBZGFwdGl2ZS5TaXplVW5pdC5XZWlnaHQpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IHdpZHRoUHJvcGVydHkgPSBuZXcgQ29sdW1uV2lkdGhQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMCxcbiAgICAgICAgXCJ3aWR0aFwiLFxuICAgICAgICBcIldpZHRoXCIsXG4gICAgICAgIFtcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgbmFtZTogXCJBdXRvbWF0aWNcIiwgdmFsdWU6IFwiYXV0b1wiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiU3RyZXRjaFwiLCB2YWx1ZTogXCJzdHJldGNoXCIgfSxcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgbmFtZTogXCJXZWlnaHRlZFwiLCB2YWx1ZTogXCJ3ZWlnaHRlZFwiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIG5hbWU6IFwiUGl4ZWxzXCIsIHZhbHVlOiBcInBpeGVsc1wiIH1cbiAgICAgICAgXSxcbiAgICAgICAgdHJ1ZSk7XG5cbiAgICBwcm90ZWN0ZWQgaXNDb250YWluZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbEdldFRyZWVJdGVtVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC53aWR0aCBpbnN0YW5jZW9mIEFkYXB0aXZlLlNpemVBbmRVbml0KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuY2FyZEVsZW1lbnQud2lkdGgudW5pdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgQWRhcHRpdmUuU2l6ZVVuaXQuV2VpZ2h0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJXZWlnaHQ6IFwiICsgdGhpcy5jYXJkRWxlbWVudC53aWR0aC5waHlzaWNhbFNpemU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQud2lkdGgucGh5c2ljYWxTaXplICsgXCIgcGl4ZWxzXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuY2FyZEVsZW1lbnQud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyZXRjaFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTdHJldGNoXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImF1dG9cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQXV0b21hdGljXCI7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0RyYWdnYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuTGF5b3V0Q2F0ZWdvcnksXG4gICAgICAgICAgICBDb2x1bW5QZWVyLndpZHRoUHJvcGVydHkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LndpZHRoIGluc3RhbmNlb2YgQWRhcHRpdmUuU2l6ZUFuZFVuaXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LndpZHRoLnVuaXQgPT0gQWRhcHRpdmUuU2l6ZVVuaXQuUGl4ZWwpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBDb2x1bW5QZWVyLnBpeGVsV2lkdGhQcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuTGF5b3V0Q2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIENvbHVtblBlZXIud2VpZ2h0UHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuTGF5b3V0Q2F0ZWdvcnksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLm1pbkhlaWdodFByb3BlcnR5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci52ZXJ0aWNhbENvbnRlbnRBbGlnbm1lbnRQcm9wZXJ0eSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIucnRsUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlN0eWxlQ2F0ZWdvcnksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnN0eWxlUHJvcGVydHksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLmJsZWVkUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgXCJCYWNrZ3JvdW5kIGltYWdlXCIsXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLmJhY2tncm91bmRJbWFnZVByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TZWxlY3Rpb25BY3Rpb24sXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnNlbGVjdEFjdGlvblByb3BlcnR5KTtcblxuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC5zZWxlY3RBY3Rpb24pIHtcbiAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkQWN0aW9uUHJvcGVydGllcyhcbiAgICAgICAgICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5zZWxlY3RBY3Rpb24sXG4gICAgICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlNlbGVjdGlvbkFjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2x1bW5TZXRQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuQ29sdW1uU2V0PiB7XG4gICAgcHJvdGVjdGVkIGlzQ29udGFpbmVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBjb21tYW5kczogQXJyYXk8UGVlckNvbW1hbmQ+KSB7XG4gICAgICAgIHN1cGVyLmludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dCwgY29tbWFuZHMpO1xuXG4gICAgICAgIGNvbW1hbmRzLnB1c2goXG4gICAgICAgICAgICBuZXcgUGVlckNvbW1hbmQoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkFkZCBhIGNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3M6IFwiYWNkLWljb24tYWRkQ29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgIGlzUHJvbW90YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBuZXcgQWRhcHRpdmUuQ29sdW1uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4ud2lkdGggPSBcInN0cmV0Y2hcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRDb2x1bW4oY29sdW1uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGVlciA9IENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKHRoaXMuZGVzaWduZXJTdXJmYWNlLCB0aGlzLCBjb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGVlci5pbnNlcnRBZnRlck5laWdoYm9yID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChuZXdQZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsR2V0VHJlZUl0ZW1UZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBjb2x1bW5Db3VudCA9IHRoaXMuY2FyZEVsZW1lbnQuZ2V0SXRlbUNvdW50KCk7XG5cbiAgICAgICAgc3dpdGNoIChjb2x1bW5Db3VudCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk5vIGNvbHVtblwiO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIjEgY29sdW1uXCI7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW5Db3VudCArIFwiIGNvbHVtbnNcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLm1pbkhlaWdodFByb3BlcnR5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5zdHlsZVByb3BlcnR5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5ibGVlZFByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TZWxlY3Rpb25BY3Rpb24sXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnNlbGVjdEFjdGlvblByb3BlcnR5KTtcblxuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC5zZWxlY3RBY3Rpb24pIHtcbiAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkQWN0aW9uUHJvcGVydGllcyhcbiAgICAgICAgICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5zZWxlY3RBY3Rpb24sXG4gICAgICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlNlbGVjdGlvbkFjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5Ecm9wKHBlZXI6IERlc2lnbmVyUGVlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb250YWluZXJQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuQ29udGFpbmVyPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IHNlbGVjdEFjdGlvblByb3BlcnR5ID0gbmV3IEFjdGlvblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIFwic2VsZWN0QWN0aW9uXCIsIFwiQWN0aW9uIHR5cGVcIiwgWyBBZGFwdGl2ZS5TaG93Q2FyZEFjdGlvbi5Kc29uVHlwZU5hbWUgXSwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IG1pbkhlaWdodFByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIFwibWluUGl4ZWxIZWlnaHRcIiwgXCJNaW5pbXVtIGhlaWdodCBpbiBwaXhlbHNcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHZlcnRpY2FsQ29udGVudEFsaWdubWVudFByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBcInZlcnRpY2FsQ29udGVudEFsaWdubWVudFwiLCBcIlZlcnRpY2FsIGNvbnRlbnQgYWxpZ25tZW50XCIsIEFkYXB0aXZlLlZlcnRpY2FsQWxpZ25tZW50KTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgc3R5bGVQcm9wZXJ0eSA9IG5ldyBDb250YWluZXJTdHlsZVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwic3R5bGVcIiwgXCJTdHlsZVwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgYmxlZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgXCJibGVlZFwiLCBcIkJsZWVkXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBiYWNrZ3JvdW5kSW1hZ2VQcm9wZXJ0eSA9IG5ldyBDb21wb3VuZFByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICBcImJhY2tncm91bmRJbWFnZVwiLFxuICAgICAgICBbXG4gICAgICAgICAgICBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJ1cmxcIiwgXCJVUkxcIiwgdHJ1ZSksXG4gICAgICAgICAgICBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIFwiZmlsbE1vZGVcIiwgXCJGaWxsIG1vZGVcIiwgQWRhcHRpdmUuRmlsbE1vZGUpLFxuICAgICAgICAgICAgbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBcImhvcml6b250YWxBbGlnbm1lbnRcIiwgXCJIb3Jpem9udGFsIGFsaWdubWVudFwiLCBBZGFwdGl2ZS5Ib3Jpem9udGFsQWxpZ25tZW50KSxcbiAgICAgICAgICAgIG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgXCJ2ZXJ0aWNhbEFsaWdubWVudFwiLCBcIlZlcnRpY2FsIGFsaWdubWVudFwiLCBBZGFwdGl2ZS5WZXJ0aWNhbEFsaWdubWVudClcbiAgICAgICAgXVxuICAgICk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHJ0bFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBcInJ0bFwiLCBcIlByZXNlbnQgcmlnaHQgdG8gbGVmdFwiKTtcblxuICAgIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIubWluSGVpZ2h0UHJvcGVydHksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnZlcnRpY2FsQ29udGVudEFsaWdubWVudFByb3BlcnR5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5ydGxQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU3R5bGVDYXRlZ29yeSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuc3R5bGVQcm9wZXJ0eSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuYmxlZWRQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBcIkJhY2tncm91bmQgaW1hZ2VcIixcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuYmFja2dyb3VuZEltYWdlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlNlbGVjdGlvbkFjdGlvbixcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuc2VsZWN0QWN0aW9uUHJvcGVydHkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LnNlbGVjdEFjdGlvbikge1xuICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGRBY3Rpb25Qcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnNlbGVjdEFjdGlvbixcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU2VsZWN0aW9uQWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjdGlvblNldFBlZXIgZXh0ZW5kcyBUeXBlZENhcmRFbGVtZW50UGVlcjxBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQ+IHtcbiAgICBwcm90ZWN0ZWQgYWRkQWN0aW9uKGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkQWN0aW9uKGFjdGlvbik7XG5cbiAgICAgICAgY29uc3QgbmV3UGVlciA9IENhcmREZXNpZ25lclN1cmZhY2UuYWN0aW9uUGVlclJlZ2lzdHJ5LmNyZWF0ZVBlZXJJbnN0YW5jZSh0aGlzLmRlc2lnbmVyU3VyZmFjZSwgdGhpcywgYWN0aW9uKTtcbiAgICAgICAgbmV3UGVlci5pbnNlcnRBZnRlck5laWdoYm9yID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmluc2VydENoaWxkKG5ld1BlZXIpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGNvbW1hbmRzOiBBcnJheTxQZWVyQ29tbWFuZD4pIHtcbiAgICAgICAgc3VwZXIuaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0LCBjb21tYW5kcyk7XG5cbiAgICAgICAgbGV0IGF2YWlsYWJsZUFjdGlvbnM6IEFkYXB0aXZlLklUeXBlUmVnaXN0cmF0aW9uPEFkYXB0aXZlLkFjdGlvbj5bXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dC5ob3N0Q29udGFpbmVyLmFjdGlvbnNSZWdpc3RyeS5nZXRJdGVtQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdHlwZVJlZ2lzdHJhdGlvbiA9IGNvbnRleHQuaG9zdENvbnRhaW5lci5hY3Rpb25zUmVnaXN0cnkuZ2V0SXRlbUF0KGkpO1xuXG4gICAgICAgICAgICBpZiAodHlwZVJlZ2lzdHJhdGlvbi5zY2hlbWFWZXJzaW9uLmNvbXBhcmVUbyhjb250ZXh0LnRhcmdldFZlcnNpb24pIDw9IDApIHtcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVBY3Rpb25zLnB1c2godHlwZVJlZ2lzdHJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXZhaWxhYmxlQWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBQZWVyQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBZGQgYW4gYWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTaG93TmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogXCJhY2QtaWNvbi1ib2x0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5Qcm9wZXJ0eVNoZWV0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9wdXBNZW51ID0gbmV3IENvbnRyb2xzLlBvcHVwTWVudSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdmFpbGFibGVBY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtZW51SXRlbSA9IG5ldyBDb250cm9scy5Ecm9wRG93bkl0ZW0oaS50b1N0cmluZygpLCBhdmFpbGFibGVBY3Rpb25zW2ldLnR5cGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW0ub25DbGljayA9IChjbGlja2VkSXRlbTogQ29udHJvbHMuRHJvcERvd25JdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnaXN0cmF0aW9uID0gYXZhaWxhYmxlQWN0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhY3Rpb24gPSBuZXcgcmVnaXN0cmF0aW9uLm9iamVjdFR5cGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50aXRsZSA9IHJlZ2lzdHJhdGlvbi50eXBlTmFtZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBY3Rpb24oYWN0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBNZW51LmNsb3NlUG9wdXAoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwTWVudS5pdGVtcy5hZGQobWVudUl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwTWVudS5wb3B1cChjbGlja2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW1hZ2VTZXRQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuSW1hZ2VTZXQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgSW1hZ2VTaXplUHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiaW1hZ2VTaXplXCIsIFwiSW1hZ2Ugc2l6ZVwiLCBBZGFwdGl2ZS5JbWFnZVNpemUpO1xuXG4gICAgcHJvdGVjdGVkIGludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dDogRGVzaWduQ29udGV4dCwgY29tbWFuZHM6IEFycmF5PFBlZXJDb21tYW5kPikge1xuICAgICAgICBzdXBlci5pbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQsIGNvbW1hbmRzKTtcblxuICAgICAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgICAgICAgbmV3IFBlZXJDb21tYW5kKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBZGQgYW4gaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiBcImFjZC1pY29uLWltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGlzUHJvbW90YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJbWFnZSA9IG5ldyBBZGFwdGl2ZS5JbWFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFkZEltYWdlKG5ld0ltYWdlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGVlciA9IENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKHRoaXMuZGVzaWduZXJTdXJmYWNlLCB0aGlzLCBuZXdJbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQZWVyLmluc2VydEFmdGVyTmVpZ2hib3IgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydENoaWxkKG5ld1BlZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgSW1hZ2VTZXRQZWVyLkltYWdlU2l6ZVByb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbWFnZVBlZXIgZXh0ZW5kcyBUeXBlZENhcmRFbGVtZW50UGVlcjxBZGFwdGl2ZS5JbWFnZT4ge1xuICAgIHN0YXRpYyByZWFkb25seSB1cmxQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInVybFwiLCBcIlVybFwiLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgYWx0VGV4dFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiYWx0VGV4dFwiLCBcIkFsdGVybmF0ZSB0ZXh0XCIsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBzaXplUHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwic2l6ZVwiLCBcIlNpemVcIiwgQWRhcHRpdmUuU2l6ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHBpeGVsV2lkdGhQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBcInBpeGVsV2lkdGhcIiwgXCJXaWR0aCBpbiBwaXhlbHNcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHBpeGVsSGVpZ2h0UHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMSwgXCJwaXhlbEhlaWdodFwiLCBcIkhlaWdodCBpbiBwaXhlbHNcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHN0eWxlUHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwic3R5bGVcIiwgXCJTdHlsZVwiLCBBZGFwdGl2ZS5JbWFnZVN0eWxlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgYmFja2dyb3VuZENvbG9yUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMSwgXCJiYWNrZ3JvdW5kQ29sb3JcIiwgXCJCYWNrZ3JvdW5kIGNvbG9yXCIpO1xuXG4gICAgcHJpdmF0ZSBnZXQgaXNQYXJlbnRJbWFnZVNldCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50IGluc3RhbmNlb2YgSW1hZ2VTZXRQZWVyO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGNvbW1hbmRzOiBBcnJheTxQZWVyQ29tbWFuZD4pIHtcbiAgICAgICAgc3VwZXIuaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0LCBjb21tYW5kcyk7XG5cbiAgICAgICAgaWYgKEdsb2JhbFNldHRpbmdzLmVuYWJsZURhdGFCaW5kaW5nU3VwcG9ydCAmJiBjb250ZXh0LmRhdGFTdHJ1Y3R1cmUpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IFBlZXJDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkJpbmQuLi5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsd2F5c1Nob3dOYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFRpcDogXCJTZWxlY3QgYSBkYXRhIGZpZWxkIHRvIGJpbmQgdGhpcyBJbWFnZSB0by5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGU6IChjb21tYW5kOiBQZWVyQ29tbWFuZCwgY2xpY2tlZEVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkUGlja2VyID0gbmV3IEZpZWxkUGlja2VyKGNvbnRleHQuZGF0YVN0cnVjdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRQaWNrZXIub25DbG9zZSA9IChzZW5kZXIsIHdhc0NhbmNlbGxlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdhc0NhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC51cmwgPSBmaWVsZFBpY2tlci5zZWxlY3RlZEZpZWxkLmFzRXhwcmVzc2lvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkUGlja2VyLnBvcHVwKGNsaWNrZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0RyYWdnYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzUGFyZW50SW1hZ2VTZXQ7XG4gICAgfVxuXG4gICAgZ2V0Qm91bmRpbmdSZWN0KCk6IFJlY3Qge1xuICAgICAgICBpZiAodGhpcy5pc1BhcmVudEltYWdlU2V0KSB7XG4gICAgICAgICAgICBsZXQgZGVzaWduU3VyZmFjZU9mZnNldCA9IHRoaXMuZGVzaWduZXJTdXJmYWNlLmdldERlc2lnbmVyU3VyZmFjZU9mZnNldCgpO1xuICAgICAgICAgICAgbGV0IGFjdGlvbkJvdW5kaW5nUmVjdCA9IHRoaXMuY2FyZEVsZW1lbnQucmVuZGVyZWRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICBsZXQgcmV0dXJuUmVjdCA9IG5ldyBSZWN0KFxuICAgICAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC50b3AgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnksXG4gICAgICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LnJpZ2h0IC0gZGVzaWduU3VyZmFjZU9mZnNldC54LFxuICAgICAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC5ib3R0b20gLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnksXG4gICAgICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LmxlZnQgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnhcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBkaXNwbGF5aW5nIGEgY2Fyb3VzZWwsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIG9mIHRoZSBjaGlsZCBwZWVycyBhcmUgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb25cbiAgICAgICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSBwZWVyIGhhcyBhIHBhcmVudCB0aGF0IGlzIGEgQ2Fyb3VzZWxQYWdlUGVlciBhbmQgaXQgaXMgdGhlIHZpc2libGUgcGFnZVxuICAgICAgICAgICAgLy8gVGhlbiBzZWUgaWYgdGhlIGJvdW5kaW5nIHJlY3QgbmVlZHMgdG8gYmUgYWRqdXN0ZWRcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudENhcm91c2VsUGFnZVBlZXI/LmlzVmlzaWJsZSgpICYmICF0aGlzLnBhcmVudENhcm91c2VsUGFnZVBlZXIucGVlckluQ29ycmVjdExvY2F0aW9uKHsgeDogcmV0dXJuUmVjdC5yaWdodCwgeTogcmV0dXJuUmVjdC5ib3R0b20gfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5SZWN0LmxlZnQgPSByZXR1cm5SZWN0LmxlZnQgLSB0aGlzLnBhcmVudENhcm91c2VsUGFnZVBlZXIucGFnZU9mZnNldDtcbiAgICAgICAgICAgICAgICByZXR1cm5SZWN0LnJpZ2h0ID0gcmV0dXJuUmVjdC5yaWdodCAtIHRoaXMucGFyZW50Q2Fyb3VzZWxQYWdlUGVlci5wYWdlT2Zmc2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuUmVjdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXRCb3VuZGluZ1JlY3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBJbWFnZVBlZXIudXJsUHJvcGVydHksXG4gICAgICAgICAgICBJbWFnZVBlZXIuYWx0VGV4dFByb3BlcnR5KTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNQYXJlbnRJbWFnZVNldCkge1xuICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIEltYWdlUGVlci5zaXplUHJvcGVydHksXG4gICAgICAgICAgICAgICAgSW1hZ2VQZWVyLnBpeGVsV2lkdGhQcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICBJbWFnZVBlZXIucGl4ZWxIZWlnaHRQcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TdHlsZUNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIEltYWdlUGVlci5zdHlsZVByb3BlcnR5LFxuICAgICAgICAgICAgICAgIEltYWdlUGVlci5iYWNrZ3JvdW5kQ29sb3JQcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TZWxlY3Rpb25BY3Rpb24sXG4gICAgICAgICAgICAgICAgQ29udGFpbmVyUGVlci5zZWxlY3RBY3Rpb25Qcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LnNlbGVjdEFjdGlvbikge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkQWN0aW9uUHJvcGVydGllcyhcbiAgICAgICAgICAgICAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5zZWxlY3RBY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TZWxlY3Rpb25BY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWVkaWFQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuTWVkaWE+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgYWx0VGV4dFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIFwiYWx0VGV4dFwiLCBcIkFsdGVybmF0ZSB0ZXh0XCIsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBwb3N0ZXJVcmxQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBcInBvc3RlclVybFwiLCBcIlBvc3RlciBVUkxcIiwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHNvdXJjZXNQcm9wZXJ0eSA9IG5ldyBJbm5lclN0cnVjdFByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLFxuICAgICAgICBcInNvdXJjZXNcIixcbiAgICAgICAge1widXJsXCI6IHtuYW1lOiBcIlVSTFwifSwgXCJtaW1lVHlwZVwiOiB7bmFtZTogXCJNSU1FIFR5cGVcIn19LFxuICAgICAgICAoaW5uZXJQcm9wZXJ0aWVzOiBJbm5lclByb3BlcnRpZXNEaWN0aW9uYXJ5KSA9PiB7IHJldHVybiBuZXcgQWRhcHRpdmUuTWVkaWFTb3VyY2UoaW5uZXJQcm9wZXJ0aWVzW1widXJsXCJdLnZhbHVlLCBpbm5lclByb3BlcnRpZXNbXCJtaW1lVHlwZVwiXS52YWx1ZSk7IH0sXG4gICAgICAgIFwiQWRkIGEgbmV3IHNvdXJjZVwiLFxuICAgICAgICBcIk5vIHNvdXJjZSBoYXMgYmVlbiBkZWZpbmVkLlwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgY2FwdGlvblNvdXJjZXNQcm9wZXJ0eSA9IG5ldyBJbm5lclN0cnVjdFByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV82LFxuICAgICAgICBcImNhcHRpb25Tb3VyY2VzXCIsXG4gICAgICAgIHtcInVybFwiOiB7bmFtZTogXCJVUkxcIn0sIFwibWltZVR5cGVcIjoge25hbWU6IFwiTUlNRSBUeXBlXCJ9LCBcImxhYmVsXCI6IHtuYW1lOiBcIkxhYmVsXCJ9fSxcbiAgICAgICAgKGlubmVyUHJvcGVydGllczogSW5uZXJQcm9wZXJ0aWVzRGljdGlvbmFyeSkgPT4geyByZXR1cm4gbmV3IEFkYXB0aXZlLkNhcHRpb25Tb3VyY2UoaW5uZXJQcm9wZXJ0aWVzW1widXJsXCJdLnZhbHVlLCBpbm5lclByb3BlcnRpZXNbXCJtaW1lVHlwZVwiXS52YWx1ZSwgaW5uZXJQcm9wZXJ0aWVzW1wibGFiZWxcIl0udmFsdWUpOyB9LFxuICAgICAgICBcIkFkZCBhIG5ldyBjYXB0aW9uIHNvdXJjZVwiLFxuICAgICAgICBcIk5vIGNhcHRpb24gc291cmNlIGhhcyBiZWVuIGRlZmluZWQuXCIpO1xuXG4gICAgcHJvdGVjdGVkIGludGVybmFsR2V0VHJlZUl0ZW1UZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LnNlbGVjdGVkTWVkaWFUeXBlID09IFwiYXVkaW9cIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiYXVkaW9cIjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhcmRFbGVtZW50LnNlbGVjdGVkTWVkaWFUeXBlID09IFwidmlkZW9cIikge1xuICAgICAgICAgICAgcmV0dXJuIFwidmlkZW9cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5pbnRlcm5hbEdldFRyZWVJdGVtVGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIE1lZGlhUGVlci5hbHRUZXh0UHJvcGVydHksXG4gICAgICAgICAgICBNZWRpYVBlZXIucG9zdGVyVXJsUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgXCJTb3VyY2VzXCIsXG4gICAgICAgICAgICBNZWRpYVBlZXIuc291cmNlc1Byb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFwiQ2FwdGlvbiBTb3VyY2VzXCIsXG4gICAgICAgICAgICBNZWRpYVBlZXIuY2FwdGlvblNvdXJjZXNQcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmFjdFNldFBlZXIgZXh0ZW5kcyBUeXBlZENhcmRFbGVtZW50UGVlcjxBZGFwdGl2ZS5GYWN0U2V0PiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGZhY3RzUHJvcGVydHkgPSBuZXcgTmFtZVZhbHVlUGFpclByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICBcImZhY3RzXCIsXG4gICAgICAgIFwibmFtZVwiLFxuICAgICAgICBcInZhbHVlXCIsXG4gICAgICAgIChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHsgcmV0dXJuIG5ldyBBZGFwdGl2ZS5GYWN0KG5hbWUsIHZhbHVlKTsgfSxcbiAgICAgICAgXCJOYW1lXCIsXG4gICAgICAgIFwiVmFsdWVcIixcbiAgICAgICAgXCJBZGQgYSBuZXcgZmFjdFwiLFxuICAgICAgICBcIlRoaXMgRmFjdFNldCBpcyBlbXB0eS5cIik7XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuZmFjdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBcIk5vIGZhY3RcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhbGxOYW1lcyA9IHRoaXMuY2FyZEVsZW1lbnQuZmFjdHMubWFwKFxuICAgICAgICAgICAgKHZhbHVlLCBpbmRleCwgYXJyYXkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiBhbGxOYW1lcy5qb2luKFwiLCBcIik7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplQ2FyZEVsZW1lbnQoKTtcblxuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmZhY3RzLnB1c2goXG4gICAgICAgICAgICBuZXcgQWRhcHRpdmUuRmFjdChcIkZhY3QgMVwiLCBcIlZhbHVlIDFcIiksXG4gICAgICAgICAgICBuZXcgQWRhcHRpdmUuRmFjdChcIkZhY3QgMlwiLCBcIlZhbHVlIDJcIilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgXCJGYWN0c1wiLFxuICAgICAgICAgICAgRmFjdFNldFBlZXIuZmFjdHNQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5yZW1vdmUoQ2FyZEVsZW1lbnRQZWVyLmhvcml6b250YWxBbGlnbm1lbnRQcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW5wdXRQZWVyPFRJbnB1dCBleHRlbmRzIEFkYXB0aXZlLklucHV0PiBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPFRJbnB1dD4ge1xuICAgIHN0YXRpYyByZWFkb25seSBsYWJlbFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8zLFxuICAgICAgICBcImxhYmVsXCIsXG4gICAgICAgIFwiTGFiZWxcIik7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgaXNSZXF1aXJlZFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMyxcbiAgICAgICAgXCJpc1JlcXVpcmVkXCIsXG4gICAgICAgIFwiUmVxdWlyZWRcIik7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgZXJyb3JNZXNzYWdlUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzMsXG4gICAgICAgIFwiZXJyb3JNZXNzYWdlXCIsXG4gICAgICAgIFwiRXJyb3IgbWVzc2FnZVwiKTtcblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbEdldFRyZWVJdGVtVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXJkRWxlbWVudC5pZCA/IHRoaXMuY2FyZEVsZW1lbnQuaWQgOiBzdXBlci5pbnRlcm5hbEdldFRyZWVJdGVtVGV4dCgpO1xuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoZGVmYXVsdENhdGVnb3J5LCBJbnB1dFBlZXIubGFiZWxQcm9wZXJ0eSk7XG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlZhbGlkYXRpb24sXG4gICAgICAgICAgICBJbnB1dFBlZXIuaXNSZXF1aXJlZFByb3BlcnR5LFxuICAgICAgICAgICAgSW5wdXRQZWVyLmVycm9yTWVzc2FnZVByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LnJlbW92ZShcbiAgICAgICAgICAgIENhcmRFbGVtZW50UGVlci5ob3Jpem9udGFsQWxpZ25tZW50UHJvcGVydHksXG4gICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuaGVpZ2h0UHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRleHRJbnB1dFBlZXIgZXh0ZW5kcyBJbnB1dFBlZXI8QWRhcHRpdmUuVGV4dElucHV0PiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRWYWx1ZVByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiZGVmYXVsdFZhbHVlXCIsIFwiRGVmYXVsdCB2YWx1ZVwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgcGxhY2Vob2xkZXJQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInBsYWNlaG9sZGVyXCIsIFwiUGxhY2Vob2xkZXJcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IGlzTXVsdGlsaW5lUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiaXNNdWx0aWxpbmVcIiwgXCJNdWx0aS1saW5lXCIsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBzdHlsZVByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInN0eWxlXCIsIFwiU3R5bGVcIiwgQWRhcHRpdmUuSW5wdXRUZXh0U3R5bGUpO1xuICAgIHN0YXRpYyByZWFkb25seSBtYXhMZW5ndGhQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIm1heExlbmd0aFwiLCBcIk1heGltdW0gbGVuZ3RoXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBpbmxpbmVBY3Rpb25Qcm9wZXJ0eSA9IG5ldyBBY3Rpb25Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBcImlubGluZUFjdGlvblwiLCBcIkFjdGlvbiB0eXBlXCIsIFsgQWRhcHRpdmUuU2hvd0NhcmRBY3Rpb24uSnNvblR5cGVOYW1lIF0sIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSByZWdleFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzMsIFwicmVnZXhcIiwgXCJQYXR0ZXJuXCIpO1xuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIFRleHRJbnB1dFBlZXIucGxhY2Vob2xkZXJQcm9wZXJ0eSxcbiAgICAgICAgICAgIFRleHRJbnB1dFBlZXIuaXNNdWx0aWxpbmVQcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhcmRFbGVtZW50LmlzTXVsdGlsaW5lKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIFRleHRJbnB1dFBlZXIuc3R5bGVQcm9wZXJ0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuTGF5b3V0Q2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmhlaWdodFByb3BlcnR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LklubGluZUFjdGlvbixcbiAgICAgICAgICAgIFRleHRJbnB1dFBlZXIuaW5saW5lQWN0aW9uUHJvcGVydHkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LmlubGluZUFjdGlvbikge1xuICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGRBY3Rpb25Qcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmlubGluZUFjdGlvbixcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuSW5saW5lQWN0aW9uLFxuICAgICAgICAgICAgICAgIFsgQWN0aW9uUGVlci5zdHlsZVByb3BlcnR5LCBBY3Rpb25QZWVyLm1vZGVQcm9wZXJ0eSBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgVGV4dElucHV0UGVlci5tYXhMZW5ndGhQcm9wZXJ0eSxcbiAgICAgICAgICAgIFRleHRJbnB1dFBlZXIuZGVmYXVsdFZhbHVlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlZhbGlkYXRpb24sXG4gICAgICAgICAgICBUZXh0SW5wdXRQZWVyLnJlZ2V4UHJvcGVydHkpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCk7XG5cbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5wbGFjZWhvbGRlciA9IFwiUGxhY2Vob2xkZXIgdGV4dFwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE51bWJlcklucHV0UGVlciBleHRlbmRzIElucHV0UGVlcjxBZGFwdGl2ZS5OdW1iZXJJbnB1dD4ge1xuICAgIHN0YXRpYyByZWFkb25seSBkZWZhdWx0VmFsdWVQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImRlZmF1bHRWYWx1ZVwiLCBcIkRlZmF1bHQgdmFsdWVcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHBsYWNlaG9sZGVyUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJwbGFjZWhvbGRlclwiLCBcIlBsYWNlaG9sZGVyXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBtaW5Qcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIm1pblwiLCBcIk1pbmltdW0gdmFsdWVcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IG1heFByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwibWF4XCIsIFwiTWF4aW11bSB2YWx1ZVwiKTtcblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBOdW1iZXJJbnB1dFBlZXIucGxhY2Vob2xkZXJQcm9wZXJ0eSxcbiAgICAgICAgICAgIE51bWJlcklucHV0UGVlci5kZWZhdWx0VmFsdWVQcm9wZXJ0eSxcbiAgICAgICAgICAgIE51bWJlcklucHV0UGVlci5taW5Qcm9wZXJ0eSxcbiAgICAgICAgICAgIE51bWJlcklucHV0UGVlci5tYXhQcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplQ2FyZEVsZW1lbnQoKTtcblxuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnBsYWNlaG9sZGVyID0gXCJQbGFjZWhvbGRlciB0ZXh0XCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0ZUlucHV0UGVlciBleHRlbmRzIElucHV0UGVlcjxBZGFwdGl2ZS5EYXRlSW5wdXQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZGVmYXVsdFZhbHVlUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJkZWZhdWx0VmFsdWVcIiwgXCJEZWZhdWx0IHZhbHVlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBtaW5Qcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIm1pblwiLCBcIk1pbmltdW0gdmFsdWVcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IG1heFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwibWF4XCIsIFwiTWF4aW11bSB2YWx1ZVwiKTtcblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBEYXRlSW5wdXRQZWVyLmRlZmF1bHRWYWx1ZVByb3BlcnR5LFxuICAgICAgICAgICAgRGF0ZUlucHV0UGVlci5taW5Qcm9wZXJ0eSxcbiAgICAgICAgICAgIERhdGVJbnB1dFBlZXIubWF4UHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVJbnB1dFBlZXIgZXh0ZW5kcyBJbnB1dFBlZXI8QWRhcHRpdmUuVGltZUlucHV0PiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRWYWx1ZVByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiZGVmYXVsdFZhbHVlXCIsIFwiRGVmYXVsdCB2YWx1ZVwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgbWluUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJtaW5cIiwgXCJNaW5pbXVtIHZhbHVlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBtYXhQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIm1heFwiLCBcIk1heGltdW0gdmFsdWVcIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgVGltZUlucHV0UGVlci5kZWZhdWx0VmFsdWVQcm9wZXJ0eSxcbiAgICAgICAgICAgIFRpbWVJbnB1dFBlZXIubWluUHJvcGVydHksXG4gICAgICAgICAgICBUaW1lSW5wdXRQZWVyLm1heFByb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVJbnB1dFBlZXIgZXh0ZW5kcyBJbnB1dFBlZXI8QWRhcHRpdmUuVG9nZ2xlSW5wdXQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZGVmYXVsdFZhbHVlUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJkZWZhdWx0VmFsdWVcIiwgXCJEZWZhdWx0IHZhbHVlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSB0aXRsZVByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwidGl0bGVcIiwgXCJUaXRsZVwiLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgdmFsdWVPblByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwidmFsdWVPblwiLCBcIlZhbHVlIHdoZW4gb25cIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHZhbHVlT2ZmUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJ2YWx1ZU9mZlwiLCBcIlZhbHVlIHdoZW4gb2ZmXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSB3cmFwUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIFwid3JhcFwiLCBcIldyYXBcIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgVG9nZ2xlSW5wdXRQZWVyLnRpdGxlUHJvcGVydHksXG4gICAgICAgICAgICBUb2dnbGVJbnB1dFBlZXIudmFsdWVPblByb3BlcnR5LFxuICAgICAgICAgICAgVG9nZ2xlSW5wdXRQZWVyLnZhbHVlT2ZmUHJvcGVydHksXG4gICAgICAgICAgICBUb2dnbGVJbnB1dFBlZXIuZGVmYXVsdFZhbHVlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgVG9nZ2xlSW5wdXRQZWVyLndyYXBQcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCkge1xuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnRpdGxlID0gXCJOZXcgSW5wdXQuVG9nZ2xlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hvaWNlU2V0SW5wdXRQZWVyIGV4dGVuZHMgSW5wdXRQZWVyPEFkYXB0aXZlLkNob2ljZVNldElucHV0PiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRWYWx1ZVByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiZGVmYXVsdFZhbHVlXCIsIFwiRGVmYXVsdCB2YWx1ZVwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgcGxhY2Vob2xkZXJQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInBsYWNlaG9sZGVyXCIsIFwiUGxhY2Vob2xkZXJcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IGlzTXVsdGlzZWxlY3RQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJpc011bHRpU2VsZWN0XCIsIFwiQWxsb3cgbXVsdGkgc2VsZWN0aW9uXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBzdHlsZVByb3BlcnR5ID0gbmV3IENob2ljZVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgIFwiU3R5bGVcIixcbiAgICAgICAgW1xuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBuYW1lOiBcIkNvbXBhY3RcIiwgdmFsdWU6IFwiY29tcGFjdFwiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiRXhwYW5kZWRcIiwgdmFsdWU6IFwiZXhwYW5kZWRcIiB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBuYW1lOiBcIkZpbHRlcmVkXCIsIHZhbHVlOiBcImZpbHRlcmVkXCIgfVxuICAgICAgICBdLFxuICAgICAgICB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgd3JhcFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBcIndyYXBcIiwgXCJXcmFwXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBjaG9pY2VzUHJvcGVydHkgPSBuZXcgTmFtZVZhbHVlUGFpclByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICBcImNob2ljZXNcIixcbiAgICAgICAgXCJ0aXRsZVwiLFxuICAgICAgICBcInZhbHVlXCIsXG4gICAgICAgIChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHsgcmV0dXJuIG5ldyBBZGFwdGl2ZS5DaG9pY2UobmFtZSwgdmFsdWUpOyB9LFxuICAgICAgICBcIlRpdGxlXCIsXG4gICAgICAgIFwiVmFsdWVcIixcbiAgICAgICAgXCJBZGQgYSBuZXcgY2hvaWNlXCIsXG4gICAgICAgIFwiVGhpcyBDaG9pY2VTZXQgaXMgZW1wdHlcIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgQ2hvaWNlU2V0SW5wdXRQZWVyLnBsYWNlaG9sZGVyUHJvcGVydHksXG4gICAgICAgICAgICBDaG9pY2VTZXRJbnB1dFBlZXIuaXNNdWx0aXNlbGVjdFByb3BlcnR5LFxuICAgICAgICAgICAgQ2hvaWNlU2V0SW5wdXRQZWVyLnN0eWxlUHJvcGVydHksXG4gICAgICAgICAgICBDaG9pY2VTZXRJbnB1dFBlZXIuZGVmYXVsdFZhbHVlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgVG9nZ2xlSW5wdXRQZWVyLndyYXBQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBcIkNob2ljZXNcIixcbiAgICAgICAgICAgIENob2ljZVNldElucHV0UGVlci5jaG9pY2VzUHJvcGVydHkpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5wbGFjZWhvbGRlciA9IFwiUGxhY2Vob2xkZXIgdGV4dFwiO1xuXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuY2hvaWNlcy5wdXNoKFxuICAgICAgICAgICAgbmV3IEFkYXB0aXZlLkNob2ljZShcIkNob2ljZSAxXCIsIFwiQ2hvaWNlIDFcIiksXG4gICAgICAgICAgICBuZXcgQWRhcHRpdmUuQ2hvaWNlKFwiQ2hvaWNlIDJcIiwgXCJDaG9pY2UgMlwiKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuY2xhc3MgVGV4dEJsb2NrUGVlcklucGxhY2VFZGl0b3IgZXh0ZW5kcyBDYXJkRWxlbWVudFBlZXJJbnBsYWNlRWRpdG9yPEFkYXB0aXZlLlRleHRCbG9jaz4ge1xuICAgIHByaXZhdGUgX3JlbmRlcmVkRWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudDtcblxuICAgIHByaXZhdGUgY2xvc2UoYXBwbHlDaGFuZ2VzOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZShhcHBseUNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50LnNlbGVjdCgpO1xuICAgIH1cblxuICAgIGFwcGx5Q2hhbmdlcygpIHtcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC50ZXh0ID0gdGhpcy5fcmVuZGVyZWRFbGVtZW50LnZhbHVlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtdGV4dEJsb2NrLWlucGxhY2UtZWRpdG9yXCI7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC52YWx1ZSA9IHRoaXMuY2FyZEVsZW1lbnQudGV4dDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50Lm9ua2V5ZG93biA9IChlKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDb250cm9scy5Db25zdGFudHMua2V5cy5lc2NhcGU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ29udHJvbHMuQ29uc3RhbnRzLmtleXMuZW50ZXI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhZS5jYW5jZWxCdWJibGU7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hcHBseVN0eWxlc1RvKHRoaXMuX3JlbmRlcmVkRWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkRWxlbWVudDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0QmxvY2tQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuVGV4dEJsb2NrPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IHRleHRQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInRleHRcIiwgXCJUZXh0XCIsIHRydWUsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSB3cmFwUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwid3JhcFwiLCBcIldyYXBcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IG1heExpbmVzUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJtYXhMaW5lc1wiLCBcIk1heGltdW0gbGluZXNcIiwgMCk7XG4gICAgc3RhdGljIHJlYWRvbmx5IGZvbnRUeXBlUHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIFwiZm9udFR5cGVcIiwgXCJGb250IHR5cGVcIiwgQWRhcHRpdmUuRm9udFR5cGUsIGZhbHNlLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgc2l6ZVByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInNpemVcIiwgXCJTaXplXCIsIEFkYXB0aXZlLlRleHRTaXplLCBmYWxzZSwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHdlaWdodFByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIndlaWdodFwiLCBcIldlaWdodFwiLCBBZGFwdGl2ZS5UZXh0V2VpZ2h0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IGNvbG9yUHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiY29sb3JcIiwgXCJDb2xvclwiLCBBZGFwdGl2ZS5UZXh0Q29sb3IsIGZhbHNlLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgc3VidGxlUHJvcGVydHkgPSBuZXcgTnVsbGFibGVCb29sZWFuUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJpc1N1YnRsZVwiLCBcIlN1YnRsZVwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgc3R5bGVQcm9wZXJ0eSA9IG5ldyBDaG9pY2VQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfNSxcbiAgICAgICAgXCJzdHlsZVwiLFxuICAgICAgICBcIkJhc2Ugc3R5bGVcIixcbiAgICAgICAgW1xuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBuYW1lOiBcIkRlZmF1bHRcIiwgdmFsdWU6IFwiZGVmYXVsdFwiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsIG5hbWU6IFwiSGVhZGluZ1wiLCB2YWx1ZTogXCJoZWFkaW5nXCIgfSxcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfNSwgbmFtZTogXCJDb2x1bW4gaGVhZGVyXCIsIHZhbHVlOiBcImNvbHVtbkhlYWRlclwiIH1cbiAgICAgICAgXSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHRydWUpO1xuXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUlucGxhY2VFZGl0b3IoKTogRGVzaWduZXJQZWVySW5wbGFjZUVkaXRvciB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dEJsb2NrUGVlcklucGxhY2VFZGl0b3IodGhpcy5jYXJkRWxlbWVudCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsR2V0VHJlZUl0ZW1UZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcmRFbGVtZW50LnRleHQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dDogRGVzaWduQ29udGV4dCwgY29tbWFuZHM6IEFycmF5PFBlZXJDb21tYW5kPikge1xuICAgICAgICBzdXBlci5pbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQsIGNvbW1hbmRzKTtcblxuICAgICAgICBpZiAoY29udGV4dC5kYXRhU3RydWN0dXJlKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBQZWVyQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJCaW5kLi4uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTaG93TmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiU2VsZWN0IGEgZGF0YSBmaWVsZCB0byBiaW5kIHRoaXMgVGV4dEJsb2NrIHRvLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGRQaWNrZXIgPSBuZXcgRmllbGRQaWNrZXIoY29udGV4dC5kYXRhU3RydWN0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFBpY2tlci5vbkNsb3NlID0gKHNlbmRlciwgd2FzQ2FuY2VsbGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2FzQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnRleHQgPSBmaWVsZFBpY2tlci5zZWxlY3RlZEZpZWxkLmFzRXhwcmVzc2lvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkUGlja2VyLnBvcHVwKGNsaWNrZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgVGV4dEJsb2NrUGVlci50ZXh0UHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgVGV4dEJsb2NrUGVlci53cmFwUHJvcGVydHksXG4gICAgICAgICAgICBUZXh0QmxvY2tQZWVyLm1heExpbmVzUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlN0eWxlQ2F0ZWdvcnksXG4gICAgICAgICAgICBUZXh0QmxvY2tQZWVyLnN0eWxlUHJvcGVydHksXG4gICAgICAgICAgICBUZXh0QmxvY2tQZWVyLmZvbnRUeXBlUHJvcGVydHksXG4gICAgICAgICAgICBUZXh0QmxvY2tQZWVyLnNpemVQcm9wZXJ0eSxcbiAgICAgICAgICAgIFRleHRCbG9ja1BlZXIud2VpZ2h0UHJvcGVydHksXG4gICAgICAgICAgICBUZXh0QmxvY2tQZWVyLmNvbG9yUHJvcGVydHksXG4gICAgICAgICAgICBUZXh0QmxvY2tQZWVyLnN1YnRsZVByb3BlcnR5KTtcbiAgICB9XG5cbiAgICBnZXRUb29sVGlwKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIkRvdWJsZSBjbGljayB0byBlZGl0XCI7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuY2FyZEVsZW1lbnQudGV4dCB8fCB0aGlzLmNhcmRFbGVtZW50LnRleHQgPT0gXCJcIikge1xuICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC50ZXh0ID0gXCJOZXcgVGV4dEJsb2NrXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LndyYXAgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJpY2hUZXh0QmxvY2tQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuUmljaFRleHRCbG9jaz4ge1xuICAgIHByb3RlY3RlZCBpbnRlcm5hbEdldFRyZWVJdGVtVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXJkRWxlbWVudC5hc1N0cmluZygpO1xuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBuZXcgQ3VzdG9tUHJvcGVydHlTaGVldEVudHJ5KFxuICAgICAgICAgICAgICAgIFwiKlwiLFxuICAgICAgICAgICAgICAgIChjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5mb1RleHRCbG9jayA9IG5ldyBBZGFwdGl2ZS5UZXh0QmxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb1RleHRCbG9jay50ZXh0ID0gXCJVc2UgdGhlICoqQ2FyZCBQYXlsb2FkIEVkaXRvcioqIHRvIGVkaXQgdGhlIHRleHQgb2YgdGhpcyBSaWNoVGV4dEJsb2NrIGVsZW1lbnQuXCI7XG4gICAgICAgICAgICAgICAgICAgIGluZm9UZXh0QmxvY2sud3JhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGluZm9UZXh0QmxvY2suc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuTGFyZ2U7XG4gICAgICAgICAgICAgICAgICAgIGluZm9UZXh0QmxvY2suc2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb1RleHRCbG9jay5ob3Jpem9udGFsQWxpZ25tZW50ID0gQWRhcHRpdmUuSG9yaXpvbnRhbEFsaWdubWVudC5DZW50ZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZm9UZXh0QmxvY2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgbGV0IHRleHRSdW4gPSBuZXcgQWRhcHRpdmUuVGV4dFJ1bigpO1xuICAgICAgICB0ZXh0UnVuLnRleHQgPSBcIk5ldyBSaWNoVGV4dEJsb2NrXCI7XG5cbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRJbmxpbmUodGV4dFJ1bik7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVDZWxsUGVlciBleHRlbmRzIENvbnRhaW5lclBlZXIge1xuICAgIGNhbkJlUmVtb3ZlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzRHJhZ2dhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVSb3dQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuVGFibGVSb3c+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaG9yaXpvbnRhbENlbGxDb250ZW50QWxpZ25tZW50UHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LFxuICAgICAgICBcImhvcml6b250YWxDZWxsQ29udGVudEFsaWdubWVudFwiLFxuICAgICAgICBcIkhvcml6b250YWwgY2VsbCBjb250ZW50IGFsaWdubWVudFwiLFxuICAgICAgICBBZGFwdGl2ZS5Ib3Jpem9udGFsQWxpZ25tZW50LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgdHJ1ZSk7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgdmVydGljYWxDZWxsQ29udGVudEFsaWdubWVudFByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfNSxcbiAgICAgICAgXCJ2ZXJ0aWNhbENlbGxDb250ZW50QWxpZ25tZW50XCIsXG4gICAgICAgIFwiVmVydGljYWwgY2VsbCBjb250ZW50IGFsaWdubWVudFwiLFxuICAgICAgICBBZGFwdGl2ZS5WZXJ0aWNhbEFsaWdubWVudCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHRydWUpO1xuXG4gICAgcHJvdGVjdGVkIGlzQ29udGFpbmVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc0RyYWdnYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU3R5bGVDYXRlZ29yeSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuc3R5bGVQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuTGF5b3V0Q2F0ZWdvcnksXG4gICAgICAgICAgICBUYWJsZVJvd1BlZXIuaG9yaXpvbnRhbENlbGxDb250ZW50QWxpZ25tZW50UHJvcGVydHksXG4gICAgICAgICAgICBUYWJsZVJvd1BlZXIudmVydGljYWxDZWxsQ29udGVudEFsaWdubWVudFByb3BlcnR5KTtcbiAgICB9XG5cbiAgICBnZXQgaXNUcmVlSXRlbUV4cGFuZGVkQnlEZWZhdWx0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5jbGFzcyBUYWJsZUNvbHVtbnNQcm9wZXJ0eUVkaXRvciBleHRlbmRzIFByb3BlcnR5U2hlZXRFbnRyeSB7XG4gICAgcHJpdmF0ZSBjb2x1bW5zQ2hhbmdlZChjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgcmVmcmVzaFByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29udGV4dC5wZWVyLnVwZGF0ZUNoaWxkcmVuKCk7XG4gICAgICAgIGNvbnRleHQucGVlci5jaGFuZ2VkKHJlZnJlc2hQcm9wZXJ0eVNoZWV0KTtcbiAgICB9XG5cbiAgICByZW5kZXIoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5DYXJkRWxlbWVudCB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQWRhcHRpdmUuQ29udGFpbmVyKCk7XG4gICAgICAgIGxldCBwZWVyID0gY29udGV4dC5wZWVyIGFzIFRhYmxlUGVlcjtcblxuICAgICAgICBpZiAocGVlci5jYXJkRWxlbWVudC5nZXRDb2x1bW5Db3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZVRleHRCbG9jayA9IG5ldyBBZGFwdGl2ZS5UZXh0QmxvY2soKTtcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0QmxvY2suc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICBtZXNzYWdlVGV4dEJsb2NrLnRleHQgPSBcIk5vIGNvbHVtbiBoYXMgYmVlbiBkZWZpbmVkXCI7XG5cbiAgICAgICAgICAgIHJlc3VsdC5hZGRJdGVtKG1lc3NhZ2VUZXh0QmxvY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZWVyLmNhcmRFbGVtZW50LmdldENvbHVtbkNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5EZWZpbml0aW9uID0gcGVlci5jYXJkRWxlbWVudC5nZXRDb2x1bW5BdChpKTtcblxuICAgICAgICAgICAgICAgIGxldCB3aWR0aElucHV0ID0gbmV3IEFkYXB0aXZlLk51bWJlcklucHV0KCk7XG4gICAgICAgICAgICAgICAgd2lkdGhJbnB1dC5wbGFjZWhvbGRlciA9IFwiV2lkdGhcIjtcbiAgICAgICAgICAgICAgICB3aWR0aElucHV0Lm1pbiA9IDA7XG4gICAgICAgICAgICAgICAgd2lkdGhJbnB1dC5kZWZhdWx0VmFsdWUgPSBjb2x1bW5EZWZpbml0aW9uLndpZHRoLnBoeXNpY2FsU2l6ZTtcbiAgICAgICAgICAgICAgICB3aWR0aElucHV0Lm9uVmFsdWVDaGFuZ2VkID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZpbml0aW9uLndpZHRoLnBoeXNpY2FsU2l6ZSA9IHNlbmRlci52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnNDaGFuZ2VkKGNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoQ29sdW1uID0gbmV3IEFkYXB0aXZlLkNvbHVtbihcInN0cmV0Y2hcIik7XG4gICAgICAgICAgICAgICAgd2lkdGhDb2x1bW4uYWRkSXRlbSh3aWR0aElucHV0KTtcblxuICAgICAgICAgICAgICAgIGxldCB1bml0SW5wdXQgPSBuZXcgQWRhcHRpdmUuQ2hvaWNlU2V0SW5wdXQoKTtcbiAgICAgICAgICAgICAgICB1bml0SW5wdXQucGxhY2Vob2xkZXIgPSBcIlVuaXRcIjtcbiAgICAgICAgICAgICAgICB1bml0SW5wdXQuY2hvaWNlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBuZXcgQWRhcHRpdmUuQ2hvaWNlKFwiUGl4ZWxzXCIsIEFkYXB0aXZlLlNpemVVbml0LlBpeGVsLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgQWRhcHRpdmUuQ2hvaWNlKFwiV2VpZ2h0XCIsIEFkYXB0aXZlLlNpemVVbml0LldlaWdodC50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdW5pdElucHV0LmRlZmF1bHRWYWx1ZSA9IGNvbHVtbkRlZmluaXRpb24ud2lkdGgudW5pdC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHVuaXRJbnB1dC5vblZhbHVlQ2hhbmdlZCA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRGVmaW5pdGlvbi53aWR0aC51bml0ID0gcGFyc2VJbnQoc2VuZGVyLnZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnNDaGFuZ2VkKGNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbGV0IHVuaXRDb2x1bW4gPSBuZXcgQWRhcHRpdmUuQ29sdW1uKFwic3RyZXRjaFwiKTtcbiAgICAgICAgICAgICAgICB1bml0Q29sdW1uLnNwYWNpbmcgPSBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsO1xuICAgICAgICAgICAgICAgIHVuaXRDb2x1bW4uYWRkSXRlbSh1bml0SW5wdXQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlbW92ZUFjdGlvbiA9IG5ldyBBZGFwdGl2ZS5TdWJtaXRBY3Rpb24oKTtcbiAgICAgICAgICAgICAgICByZW1vdmVBY3Rpb24udGl0bGUgPSBcIlhcIjtcbiAgICAgICAgICAgICAgICByZW1vdmVBY3Rpb24udG9vbHRpcCA9IFwiUmVtb3ZlXCI7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQWN0aW9uLm9uRXhlY3V0ZSA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGVlci5jYXJkRWxlbWVudC5yZW1vdmVDb2x1bW4oY29sdW1uRGVmaW5pdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zQ2hhbmdlZChjb250ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvblNldCA9IG5ldyBBZGFwdGl2ZS5BY3Rpb25TZXQoKTtcbiAgICAgICAgICAgICAgICBhY3Rpb25TZXQuYWRkQWN0aW9uKHJlbW92ZUFjdGlvbik7XG5cbiAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlQWN0aW9uQ29sdW1uID0gbmV3IEFkYXB0aXZlLkNvbHVtbihcImF1dG9cIik7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQWN0aW9uQ29sdW1uLnNwYWNpbmcgPSBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFjdGlvbkNvbHVtbi5hZGRJdGVtKGFjdGlvblNldCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgY29sdW1uU2V0ID0gbmV3IEFkYXB0aXZlLkNvbHVtblNldCgpO1xuICAgICAgICAgICAgICAgIGNvbHVtblNldC5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuYWRkQ29sdW1uKHdpZHRoQ29sdW1uKTtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuYWRkQ29sdW1uKHVuaXRDb2x1bW4pO1xuICAgICAgICAgICAgICAgIGNvbHVtblNldC5hZGRDb2x1bW4ocmVtb3ZlQWN0aW9uQ29sdW1uKTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdC5hZGRJdGVtKGNvbHVtblNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWRkQWN0aW9uID0gbmV3IEFkYXB0aXZlLlN1Ym1pdEFjdGlvbigpO1xuICAgICAgICBhZGRBY3Rpb24udGl0bGUgPSBcIkFkZCBhIGNvbHVtblwiO1xuICAgICAgICBhZGRBY3Rpb24ub25FeGVjdXRlID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgcGVlci5jYXJkRWxlbWVudC5hZGRDb2x1bW4obmV3IEFkYXB0aXZlLlRhYmxlQ29sdW1uRGVmaW5pdGlvbigpKTtcblxuICAgICAgICAgICAgdGhpcy5jb2x1bW5zQ2hhbmdlZChjb250ZXh0LCB0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgYWN0aW9uU2V0ID0gbmV3IEFkYXB0aXZlLkFjdGlvblNldCgpO1xuICAgICAgICBhY3Rpb25TZXQuc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgIGFjdGlvblNldC5hZGRBY3Rpb24oYWRkQWN0aW9uKTtcblxuICAgICAgICByZXN1bHQuYWRkSXRlbShhY3Rpb25TZXQpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuVGFibGU+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZmlyc3RSb3dBc0hlYWRlcnNQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsXG4gICAgICAgIFwiZmlyc3RSb3dBc0hlYWRlcnNcIixcbiAgICAgICAgXCJGaXJzdCByb3cgYXMgaGVhZGVyc1wiKTtcblxuICAgIHN0YXRpYyByZWFkb25seSBjZWxsU3BhY2luZ1Byb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LFxuICAgICAgICBcImNlbGxTcGFjaW5nXCIsXG4gICAgICAgIFwiQ2VsbCBzcGFjaW5nIChpbiBwaXhlbHMpXCIpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IHNob3dHcmlkTGluZXNQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsXG4gICAgICAgIFwic2hvd0dyaWRMaW5lc1wiLFxuICAgICAgICBcIkdyaWQgbGluZXNcIik7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgZ3JpZFN0eWxlUHJvcGVydHkgPSBuZXcgQ29udGFpbmVyU3R5bGVQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBcImdyaWRTdHlsZVwiLCBcIkdyaWQgc3R5bGVcIik7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgaG9yaXpvbnRhbENlbGxDb250ZW50QWxpZ25tZW50UHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LFxuICAgICAgICBcImhvcml6b250YWxDZWxsQ29udGVudEFsaWdubWVudFwiLFxuICAgICAgICBcIkhvcml6b250YWwgY2VsbCBjb250ZW50IGFsaWdubWVudFwiLFxuICAgICAgICBBZGFwdGl2ZS5Ib3Jpem9udGFsQWxpZ25tZW50LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgdHJ1ZSk7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgdmVydGljYWxDZWxsQ29udGVudEFsaWdubWVudFByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfNSxcbiAgICAgICAgXCJ2ZXJ0aWNhbENlbGxDb250ZW50QWxpZ25tZW50XCIsXG4gICAgICAgIFwiVmVydGljYWwgY2VsbCBjb250ZW50IGFsaWdubWVudFwiLFxuICAgICAgICBBZGFwdGl2ZS5WZXJ0aWNhbEFsaWdubWVudCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHRydWUpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IGNvbHVtbnNQcm9wZXJ0eSA9IG5ldyBUYWJsZUNvbHVtbnNQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV81KTtcblxuICAgIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dDogRGVzaWduQ29udGV4dCwgY29tbWFuZHM6IEFycmF5PFBlZXJDb21tYW5kPikge1xuICAgICAgICBzdXBlci5pbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQsIGNvbW1hbmRzKTtcblxuICAgICAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgICAgICAgbmV3IFBlZXJDb21tYW5kKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBZGQgYSByb3dcIixcbiAgICAgICAgICAgICAgICAgICAgaXNQcm9tb3RhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3cgPSBuZXcgQWRhcHRpdmUuVGFibGVSb3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRSb3cocm93KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGVlciA9IENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKHRoaXMuZGVzaWduZXJTdXJmYWNlLCB0aGlzLCByb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGVlci5pbnNlcnRBZnRlck5laWdoYm9yID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChuZXdQZWVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSSdtIG5vdCBzdXJlIGlmIHRoaXMgY2FsbCBpcyBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudXBkYXRlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplQ2FyZEVsZW1lbnQoKTtcblxuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFkZENvbHVtbihuZXcgQWRhcHRpdmUuVGFibGVDb2x1bW5EZWZpbml0aW9uKCkpO1xuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFkZENvbHVtbihuZXcgQWRhcHRpdmUuVGFibGVDb2x1bW5EZWZpbml0aW9uKCkpO1xuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFkZENvbHVtbihuZXcgQWRhcHRpdmUuVGFibGVDb2x1bW5EZWZpbml0aW9uKCkpO1xuXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkUm93KG5ldyBBZGFwdGl2ZS5UYWJsZVJvdygpKTtcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRSb3cobmV3IEFkYXB0aXZlLlRhYmxlUm93KCkpO1xuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFkZFJvdyhuZXcgQWRhcHRpdmUuVGFibGVSb3coKSk7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIFRhYmxlUGVlci5maXJzdFJvd0FzSGVhZGVyc1Byb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFwiQ29sdW1uc1wiLFxuICAgICAgICAgICAgVGFibGVQZWVyLmNvbHVtbnNQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU3R5bGVDYXRlZ29yeSxcbiAgICAgICAgICAgIFRhYmxlUGVlci5zaG93R3JpZExpbmVzUHJvcGVydHksXG4gICAgICAgICAgICBUYWJsZVBlZXIuZ3JpZFN0eWxlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgVGFibGVQZWVyLmNlbGxTcGFjaW5nUHJvcGVydHksXG4gICAgICAgICAgICBUYWJsZVBlZXIuaG9yaXpvbnRhbENlbGxDb250ZW50QWxpZ25tZW50UHJvcGVydHksXG4gICAgICAgICAgICBUYWJsZVBlZXIudmVydGljYWxDZWxsQ29udGVudEFsaWdubWVudFByb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDYXJvdXNlbFBlZXIgZXh0ZW5kcyBDb250YWluZXJQZWVyIHtcbiAgICAvLyBRdWVzdGlvbjogV2hhdCBkbyB3ZSB3YW50IHRoZSBkZWZhdWx0IHZhbHVlIHRvIGJlIGhlcmU/XG4gICAgc3RhdGljIHJlYWRvbmx5IHRpbWVyUHJvcGVydHkgPSBuZXcgQ2Fyb3VzZWxUaW1lclByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzYsIFwidGltZXJcIiwgXCJUaW1lclwiLCA1MDAwKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaW5pdGlhbFBhZ2VQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV82LCBcImluaXRpYWxQYWdlSW5kZXhcIiwgXCJJbml0aWFsIHBhZ2VcIiwgMCk7XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBjb21tYW5kczogQXJyYXk8UGVlckNvbW1hbmQ+KSB7XG4gICAgICAgIHN1cGVyLmludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dCwgY29tbWFuZHMpO1xuXG4gICAgICAgIGNvbW1hbmRzLnB1c2goXG4gICAgICAgICAgICBuZXcgUGVlckNvbW1hbmQoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkFkZCBhIHBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgaXNQcm9tb3RhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlID0gbmV3IEFkYXB0aXZlLkNhcm91c2VsUGFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5jYXJkRWxlbWVudCBhcyBBZGFwdGl2ZS5DYXJvdXNlbCkuYWRkUGFnZShwYWdlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCk7XG5cbiAgICAgICAgKHRoaXMuY2FyZEVsZW1lbnQgYXMgQWRhcHRpdmUuQ2Fyb3VzZWwpLmFkZFBhZ2UobmV3IEFkYXB0aXZlLkNhcm91c2VsUGFnZSgpKTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQucmVtb3ZlKENhcmRFbGVtZW50UGVlci5pc1Zpc2libGVQcm9wZXJ0eSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuYmxlZWRQcm9wZXJ0eSwgXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnN0eWxlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgQ2Fyb3VzZWxQZWVyLnRpbWVyUHJvcGVydHksXG4gICAgICAgICAgICBDYXJvdXNlbFBlZXIuaW5pdGlhbFBhZ2VQcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgY2FuRHJvcChwZWVyOiBEZXNpZ25lclBlZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhcm91c2VsUGFnZVBlZXIgZXh0ZW5kcyBDb250YWluZXJQZWVyIHtcbiAgICBwcml2YXRlIF9wYWdlT2Zmc2V0OiBudW1iZXIgPSAwO1xuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ1JlY3QoKTogUmVjdCB7XG4gICAgICAgIGNvbnN0IGJvdW5kaW5nUmVjdCA9IHN1cGVyLmdldEJvdW5kaW5nUmVjdCgpO1xuXG4gICAgICAgIGNvbnN0IGNhcm91c2VsID0gdGhpcy5jYXJkRWxlbWVudC5wYXJlbnQgYXMgQWRhcHRpdmUuQ2Fyb3VzZWw7XG4gICAgICAgIGNvbnN0IGluaXRpYWxMZWZ0ID0gYm91bmRpbmdSZWN0LmxlZnQ7XG5cbiAgICAgICAgaWYgKGNhcm91c2VsPy5jYXJvdXNlbFBhZ2VDb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lckNsaWVudFJlY3QgPSBjYXJvdXNlbC5jYXJvdXNlbFBhZ2VDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIGJvdW5kaW5nUmVjdC5sZWZ0ID0gY2Fyb3VzZWwucmVuZGVyZWRFbGVtZW50Lm9mZnNldExlZnQgKyBjYXJvdXNlbC5jYXJvdXNlbFBhZ2VDb250YWluZXIub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgIGJvdW5kaW5nUmVjdC5yaWdodCA9IGJvdW5kaW5nUmVjdC5sZWZ0ICsgY29udGFpbmVyQ2xpZW50UmVjdD8ud2lkdGg7XG4gICAgICAgICAgICBib3VuZGluZ1JlY3QuYm90dG9tID0gYm91bmRpbmdSZWN0LnRvcCArIGNvbnRhaW5lckNsaWVudFJlY3Q/LmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BhZ2VPZmZzZXQgPSBpbml0aWFsTGVmdCAtIGJvdW5kaW5nUmVjdC5sZWZ0O1xuICAgICAgICByZXR1cm4gYm91bmRpbmdSZWN0O1xuICAgIH1cblxuICAgIHBlZXJJbkNvcnJlY3RMb2NhdGlvbihjdXJyZW50TG9jYXRpb246IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKTtcbiAgICAgICAgcmV0dXJuIHJlY3QuaXNJbnNpZGUoY3VycmVudExvY2F0aW9uKTtcbiAgICB9XG5cbiAgICBpc1Zpc2libGUoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHBhcmVudENhcm91c2VsID0gdGhpcy5wYXJlbnQgYXMgQ2Fyb3VzZWxQZWVyO1xuXG4gICAgICAgIHJldHVybiB0aGlzID09PSBwYXJlbnRDYXJvdXNlbD8uY2hpbGRyZW5bKHBhcmVudENhcm91c2VsLmNhcmRFbGVtZW50IGFzIEFkYXB0aXZlLkNhcm91c2VsKS5jdXJyZW50UGFnZUluZGV4XTtcbiAgICB9XG5cbiAgICBicmluZ0NhcmRFbGVtZW50SW50b1ZpZXcoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGNhcm91c2VsUGVlciA9IHRoaXMucGFyZW50IGFzIENhcm91c2VsUGVlcjtcblxuICAgICAgICBpZiAoY2Fyb3VzZWxQZWVyICYmIGNhcm91c2VsUGVlci5jYXJkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kZXNpZ25lclN1cmZhY2Uuc2hvdWxkUGVyc2lzdFNlbGVjdGVkRWxlbWVudCA9IHRydWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2Fyb3VzZWxQZWVyLmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICAgICAgICAoY2Fyb3VzZWxQZWVyLmNhcmRFbGVtZW50IGFzIEFkYXB0aXZlLkNhcm91c2VsKS5zbGlkZVRvKGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNhbkRyb3AocGVlcjogRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIHJldHVybiAhKHRoaXMuY2FyZEVsZW1lbnQgYXMgQWRhcHRpdmUuQ2Fyb3VzZWxQYWdlKS5nZXRGb3JiaWRkZW5DaGlsZEVsZW1lbnRzKCkuaW5jbHVkZXMocGVlci5nZXRDYXJkT2JqZWN0KCkuZ2V0SnNvblR5cGVOYW1lKCkpO1xuICAgIH1cblxuICAgIGdldCBwYWdlT2Zmc2V0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWdlT2Zmc2V0O1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcImFkYXB0aXZlY2FyZHMtY29udHJvbHNcIjtcblxuZXhwb3J0IGNsYXNzIERpYWxvZ0J1dHRvbiB7XG4gICAgb25DbGljazogKHNlbmRlcjogRGlhbG9nQnV0dG9uKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGNhcHRpb246IHN0cmluZykge31cblxuICAgIHJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1kaWFsb2ctYnV0dG9uXCI7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5jYXB0aW9uO1xuICAgICAgICBlbGVtZW50Lm9uY2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGlja2VkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjbGlja2VkKCkge1xuICAgICAgICBpZiAodGhpcy5vbkNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEaWFsb2cge1xuICAgIHByaXZhdGUgX292ZXJsYXlFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9pc09wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9vcmlnaW5hbEZvY3VzZWRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9maXJzdEZvY3VzYWJsZUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2xhc3RGb2N1c2FibGVFbGVtZW50OiBIVE1MRWxlbWVudDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCByZW5kZXJDb250ZW50KCk6IEhUTUxFbGVtZW50O1xuXG4gICAgb25DbG9zZTogKHNlbmRlcjogRGlhbG9nKSA9PiB2b2lkID0gbnVsbDtcblxuICAgIHJlYWRvbmx5IGNsb3NlQnV0dG9uOiBEaWFsb2dCdXR0b247XG4gICAgYnV0dG9ucz86IERpYWxvZ0J1dHRvbltdO1xuXG4gICAgdGl0bGU6IHN0cmluZztcbiAgICB3aWR0aDogc3RyaW5nO1xuICAgIGhlaWdodDogc3RyaW5nO1xuICAgIC8vIGZsYWcgdG8gcHJldmVudCBkaWFsb2cgY2xvc2Ugb24gb3ZlcmxheSBlbGVtZW50IGNsaWNrLCBkZWZhdWx0IGl0J3Mgc2V0IHRvIGZhbHNlLCBmb3IgUGkyQ2FyZCBpdCB3aWxsIGJlIHNldCB0byB0cnVlXG4gICAgcHJldmVudExpZ2h0RGlzbWlzc2FsOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbiA9IG5ldyBEaWFsb2dCdXR0b24oXCJDbG9zZVwiKTtcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5vbkNsaWNrID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3BlbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsRm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1kaWFsb2ctb3ZlcmxheVwiO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxheUVsZW1lbnQub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY2xpY2tzIG9uIHRoZSBvdmVybGF5IHdpbmRvdyBzaG91bGQgZGlzbWlzcyB0aGUgZGlhbG9nXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZlbnRMaWdodERpc21pc3NhbCkgeyB0aGlzLmNsb3NlKCk7IH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxldCBkaWFsb2dGcmFtZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWRpYWxvZy1mcmFtZVwiO1xuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgICAgIGRpYWxvZ0ZyYW1lRWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgICAgIGRpYWxvZ0ZyYW1lRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLW1vZGFsXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIGRpYWxvZ0ZyYW1lRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiZGlhbG9nXCIpO1xuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCBcImFjZC1kaWFsb2ctdGl0bGUtZWxlbWVudFwiKTtcbiAgICAgICAgICAgIGRpYWxvZ0ZyYW1lRWxlbWVudC50YWJJbmRleCA9IC0xO1xuXG4gICAgICAgICAgICBkaWFsb2dGcmFtZUVsZW1lbnQub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBjbGljayBidWJibGluZyBmcm9tIHRoZSBmcmFtZSBlbGVtZW50IC0tIG90aGVyd2lzZSBpdCdsbCBnZXQgdG8gdGhlIG92ZXJsYXksIGNsb3NpbmcgdGhlXG4gICAgICAgICAgICAgICAgLy8gZGlhbG9nIHVuZXhwZWN0ZWRseVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcmV2ZW50TGlnaHREaXNtaXNzYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBrZXlib2FyZCBuYXZpZ2F0aW9uIHN1cHBvcnRcbiAgICAgICAgICAgIGRpYWxvZ0ZyYW1lRWxlbWVudC5vbmtleWRvd24gPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy50YWI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLl9maXJzdEZvY3VzYWJsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiYWNrd2FyZHMgdGFiIG9uIGZpcnN0IGVsZW1lbnQuIHNldCBmb2N1cyBvbiBsYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RGb2N1c2FibGVFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghZS5zaGlmdEtleSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLl9sYXN0Rm9jdXNhYmxlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcndhcmQgdGFiIG9uIGxhc3QgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJzdEZvY3VzYWJsZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLmtleXMuZXNjYXBlOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuICFlLmNhbmNlbEJ1YmJsZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxldCB0aXRsZUJhckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGl0bGVCYXJFbGVtZW50LmNsYXNzTmFtZT1cImFjZC1kaWFsb2ctdGl0bGUtaG9zdFwiO1xuXG4gICAgICAgICAgICBsZXQgdGl0bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRpdGxlRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1kaWFsb2ctdGl0bGVcIjtcbiAgICAgICAgICAgIHRpdGxlRWxlbWVudC5pZCA9IFwiYWNkLWRpYWxvZy10aXRsZS1lbGVtZW50XCI7XG4gICAgICAgICAgICB0aXRsZUVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy50aXRsZTtcbiAgICAgICAgICAgIHRpdGxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiaGVhZGluZ1wiKTtcbiAgICAgICAgICAgIHRpdGxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxldmVsXCIsXCIxXCIpO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LnRhYkluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgIGxldCB4QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgIHhCdXR0b24uY2xhc3NOYW1lID0gXCJhY2QtaWNvbiBhY2QtZGlhbG9nLXRpdGxlQmFyLWJ1dHRvbiBhY2QtaWNvbi1yZW1vdmVcIjtcbiAgICAgICAgICAgIHhCdXR0b24udGl0bGUgPSBcIkNsb3NlXCI7XG4gICAgICAgICAgICB4QnV0dG9uLm9uY2xpY2sgPSAoZSkgPT4geyB0aGlzLmNsb3NlKCk7IH1cblxuICAgICAgICAgICAgdGl0bGVCYXJFbGVtZW50LmFwcGVuZENoaWxkKHRpdGxlRWxlbWVudCk7XG4gICAgICAgICAgICB0aXRsZUJhckVsZW1lbnQuYXBwZW5kQ2hpbGQoeEJ1dHRvbik7XG5cbiAgICAgICAgICAgIGxldCBjb250ZW50RWxlbWVudCA9IHRoaXMucmVuZGVyQ29udGVudCgpO1xuICAgICAgICAgICAgY29udGVudEVsZW1lbnQuc3R5bGUuZmxleCA9IFwiMSAxIGF1dG9cIjtcblxuICAgICAgICAgICAgbGV0IGJ1dHRvbkJhckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgYnV0dG9uQmFyRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1kaWFsb2ctYnV0dG9uQmFyXCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJ1dHRvbnM/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0aGlzLmJ1dHRvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uQmFyRWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24ucmVuZGVyKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnV0dG9uQmFyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNsb3NlQnV0dG9uLnJlbmRlcigpKTtcblxuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LmFwcGVuZENoaWxkKHRpdGxlQmFyRWxlbWVudCk7XG4gICAgICAgICAgICBkaWFsb2dGcmFtZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGVudEVsZW1lbnQpO1xuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbkJhckVsZW1lbnQpO1xuXG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC5hcHBlbmRDaGlsZChkaWFsb2dGcmFtZUVsZW1lbnQpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX292ZXJsYXlFbGVtZW50KTtcblxuICAgICAgICAgICAgbGV0IGZvY3VzYWJsZUVsZW1lbnRzID0gZGlhbG9nRnJhbWVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBbdGFiaW5kZXg9XCIwXCJdJyk7XG4gICAgICAgICAgICB0aGlzLl9maXJzdEZvY3VzYWJsZUVsZW1lbnQgPSBmb2N1c2FibGVFbGVtZW50c1swXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RGb2N1c2FibGVFbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoLTFdIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgICB0aGlzLl9maXJzdEZvY3VzYWJsZUVsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgICAgICAgdGhpcy5faXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNPcGVuKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX292ZXJsYXlFbGVtZW50KTtcblxuICAgICAgICAgICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xvc2UodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmluZyB0aGUgZm9jdXMgYWN0aW9uIG9uIGNsb3NlLCBpdCBoYXMgYmVlbiBoYW5kbGVkIHZpYSBvbkNsb3NlIG1ldGhvZCBvZiBEaWFsb2cgY29uc3VtZSBwbGFjZS5cbiAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsRm9jdXNlZEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsRm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIERvd25sb2FkZXIge1xuICAgIHByaXZhdGUgX2RhdGE6IHN0cmluZztcblxuICAgIHByaXZhdGUgZXJyb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3VjY2VzcygpIHtcbiAgICAgICAgaWYgKHRoaXMub25TdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLm9uU3VjY2Vzcyh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRXJyb3I6IChzZW5kZXI6IERvd25sb2FkZXIpID0+IHZvaWQgPSBudWxsO1xuICAgIG9uU3VjY2VzczogKHNlbmRlcjogRG93bmxvYWRlcikgPT4gdm9pZCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSB1cmw6IHN0cmluZykge31cblxuICAgIGRvd25sb2FkKCkge1xuICAgICAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gcmVxdWVzdC5yZXNwb25zZVRleHQ7XG5cbiAgICAgICAgICAgIHRoaXMuc3VjY2VzcygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgdGhpcy51cmwsIHRydWUpO1xuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBkYXRhKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cbn0iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJhZGFwdGl2ZWNhcmRzLWNvbnRyb2xzXCI7XG5pbXBvcnQgeyBJUG9pbnQgfSBmcm9tIFwiLi9taXNjZWxsYW5lb3VzXCI7XG5cbmV4cG9ydCBjb25zdCBEUkFHX1RIUkVTSE9MRCA9IDEwO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRHJhZ2dhYmxlRWxlbWVudCB7XG4gICAgcHJpdmF0ZSBfcmVuZGVyZWRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9pc1BvaW50ZXJPdmVyOiBib29sZWFuO1xuICAgIHByaXZhdGUgX2lzUG9pbnRlckRvd246IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfbGFzdENsaWNrZWRQb2ludDogSVBvaW50O1xuICAgIHByaXZhdGUgX2RyYWdnaW5nOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSByZWxlYXNlUG9pbnRlckNhcHR1cmUocG9pbnRlcklkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5nZXREcmFnU291cmNlRWxlbWVudCgpLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShwb2ludGVySWQpO1xuXG4gICAgICAgIHRoaXMuX2lzUG9pbnRlckRvd24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IGlzUG9pbnRlck92ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1BvaW50ZXJPdmVyO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXQgaXNQb2ludGVyT3Zlcih2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodmFsdWUgIT0gdGhpcy5faXNQb2ludGVyT3Zlcikge1xuICAgICAgICAgICAgdGhpcy5faXNQb2ludGVyT3ZlciA9IHZhbHVlO1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHN0YXJ0RHJhZygpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2FibGUoKSAmJiAhdGhpcy5kcmFnZ2luZykge1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uU3RhcnREcmFnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0YXJ0RHJhZyh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBwb2ludGVyRG93bihlOiBQb2ludGVyRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1BvaW50ZXJEb3duKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1BvaW50ZXJEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDbGlja2VkUG9pbnQgPSB7IHg6IGUub2Zmc2V0WCwgeTogZS5vZmZzZXRZIH07XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0RHJhZ1NvdXJjZUVsZW1lbnQoKS5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcG9pbnRlclVwKGU6IFBvaW50ZXJFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5faXNQb2ludGVyRG93bikge1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuXG4gICAgICAgICAgICB0aGlzLmVuZERyYWcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBwb2ludGVyTW92ZShlOiBQb2ludGVyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzUG9pbnRlckRvd24pIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhlLm9mZnNldFggLSB0aGlzLl9sYXN0Q2xpY2tlZFBvaW50LngpID49IERSQUdfVEhSRVNIT0xEIHx8IE1hdGguYWJzKGUub2Zmc2V0WSAtIHRoaXMuX2xhc3RDbGlja2VkUG9pbnQueSkgPj0gRFJBR19USFJFU0hPTEQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMub25DbGljaykge1xuICAgICAgICAgICAgdGhpcy5vbkNsaWNrKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRvdWJsZUNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMub25Eb3VibGVDbGljaykge1xuICAgICAgICAgICAgdGhpcy5vbkRvdWJsZUNsaWNrKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsVXBkYXRlQ3NzU3R5bGVzKCkge1xuICAgICAgICAvLyBEbyBub3RoaW5nIGluIGJhc2UgaW1wbGVtZW50YXRpb25cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgaW4gYmFzZSBpbXBsZW1lbnRhdGlvblxuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXREcmFnU291cmNlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGludGVybmFsUmVuZGVyKCk6IEhUTUxFbGVtZW50O1xuXG4gICAgb25TdGFydERyYWc6IChzZW5kZXI6IERyYWdnYWJsZUVsZW1lbnQpID0+IHZvaWQ7XG4gICAgb25FbmREcmFnOiAoc2VuZGVyOiBEcmFnZ2FibGVFbGVtZW50KSA9PiB2b2lkO1xuICAgIG9uQ2xpY2s6IChzZW5kZXI6IERyYWdnYWJsZUVsZW1lbnQpID0+IHZvaWQ7XG4gICAgb25Eb3VibGVDbGljazogKHNlbmRlcjogRHJhZ2dhYmxlRWxlbWVudCkgPT4gdm9pZDtcblxuICAgIGlzRHJhZ2dhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBlbmREcmFnKCkge1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZykge1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkVuZERyYWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRW5kRHJhZyh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUxheW91dCgpIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFVwZGF0ZUNzc1N0eWxlcygpO1xuICAgICAgICB0aGlzLmludGVybmFsVXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50ID0gdGhpcy5pbnRlcm5hbFJlbmRlcigpO1xuXG4gICAgICAgIGxldCBkcmFnU291cmNlRWxlbWVudCA9IHRoaXMuZ2V0RHJhZ1NvdXJjZUVsZW1lbnQoKTtcbiAgICAgICAgZHJhZ1NvdXJjZUVsZW1lbnQub25jbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7IHRoaXMuY2xpY2soZSk7IH07XG4gICAgICAgIGRyYWdTb3VyY2VFbGVtZW50Lm9ua2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09IENvbnN0YW50cy5rZXlzLmVudGVyIHx8IGUua2V5ID09PSBDb25zdGFudHMua2V5cy5zcGFjZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGljayhudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5vbkRvdWJsZUNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG91YmxlQ2xpY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBkcmFnU291cmNlRWxlbWVudC5vbmRibGNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHsgdGhpcy5kb3VibGVDbGljayhlKTsgfTtcblxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnYWJsZSgpKSB7XG4gICAgICAgICAgICBkcmFnU291cmNlRWxlbWVudC5vbm1vdXNlZG93biA9IChlOiBNb3VzZUV2ZW50KSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgfTtcbiAgICAgICAgICAgIGRyYWdTb3VyY2VFbGVtZW50Lm9ucG9pbnRlcmVudGVyID0gKCkgPT4geyB0aGlzLmlzUG9pbnRlck92ZXIgPSB0cnVlOyB9O1xuICAgICAgICAgICAgZHJhZ1NvdXJjZUVsZW1lbnQub25wb2ludGVybGVhdmUgPSAoKSA9PiB7IHRoaXMuaXNQb2ludGVyT3ZlciA9IGZhbHNlOyB9O1xuICAgICAgICAgICAgZHJhZ1NvdXJjZUVsZW1lbnQub25wb2ludGVyZG93biA9IChlOiBQb2ludGVyRXZlbnQpID0+IHsgdGhpcy5wb2ludGVyRG93bihlKTsgfTtcbiAgICAgICAgICAgIGRyYWdTb3VyY2VFbGVtZW50Lm9ucG9pbnRlcnVwID0gKGU6IFBvaW50ZXJFdmVudCkgPT4geyB0aGlzLnBvaW50ZXJVcChlKTsgfTtcbiAgICAgICAgICAgIGRyYWdTb3VyY2VFbGVtZW50Lm9ucG9pbnRlcm1vdmUgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7IHRoaXMucG9pbnRlck1vdmUoZSk7IH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cblxuICAgIGZvY3VzKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCByZW5kZXJlZEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cblxuICAgIGdldCBkcmFnZ2luZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RyYWdnaW5nO1xuICAgIH1cblxuICAgIHNldCBkcmFnZ2luZyh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9kcmFnZ2luZyA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMuaW50ZXJuYWxVcGRhdGVDc3NTdHlsZXMoKTtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCAqIGFzIENvbnRyb2xzIGZyb20gXCJhZGFwdGl2ZWNhcmRzLWNvbnRyb2xzXCI7XG5pbXBvcnQgeyBGaWVsZERlZmluaXRpb24gfSBmcm9tIFwiLi9kYXRhXCI7XG5pbXBvcnQgeyBUcmVlVmlldyB9IGZyb20gXCIuL3RyZWUtdmlld1wiO1xuaW1wb3J0IHsgRGF0YVRyZWVJdGVtIH0gZnJvbSBcIi4vZGF0YS10cmVlaXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgRmllbGRQaWNrZXIgZXh0ZW5kcyBDb250cm9scy5Qb3B1cENvbnRyb2wge1xuICAgIHByaXZhdGUgX3NlbGVjdGVkRmllbGQ6IEZpZWxkRGVmaW5pdGlvbjtcbiAgICBwcml2YXRlIF90cmVlVmlldzogVHJlZVZpZXc7XG5cbiAgICBwcm90ZWN0ZWQgcmVuZGVyQ29udGVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1maWVsZFBpY2tlci1ob3N0XCI7XG5cbiAgICAgICAgbGV0IHRyZWVJdGVtID0gbmV3IERhdGFUcmVlSXRlbSh0aGlzLmRhdGFTdHJ1Y3R1cmUpO1xuXG4gICAgICAgIHRoaXMuX3RyZWVWaWV3ID0gbmV3IFRyZWVWaWV3KHRyZWVJdGVtKTtcblxuICAgICAgICB0aGlzLl90cmVlVmlldy5vblNlbGVjdGVkSXRlbUNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZEZpZWxkID0gKHRoaXMuX3RyZWVWaWV3LnNlbGVjdGVkSXRlbSBhcyBEYXRhVHJlZUl0ZW0pLmZpZWxkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRGaWVsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl90cmVlVmlldy5yZW5kZXIoKSk7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXRkb2NcbiAgICAgKi9cbiAgICByZW5kZXIocm9vdEVsZW1lbnRCb3VuZHM6IENsaWVudFJlY3QpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHJvb3RFbGVtZW50ID0gc3VwZXIucmVuZGVyKHJvb3RFbGVtZW50Qm91bmRzKTtcbiAgICAgICAgcm9vdEVsZW1lbnQudGFiSW5kZXggPSAtMTtcblxuICAgICAgICByZXR1cm4gcm9vdEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgZGF0YVN0cnVjdHVyZTogRmllbGREZWZpbml0aW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXRkb2NcbiAgICAgKi9cbiAgICBmb2N1cygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyZWVWaWV3KSB7XG4gICAgICAgICAgICB0aGlzLl90cmVlVmlldy5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAga2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIHN1cGVyLmtleURvd24oZSk7XG5cbiAgICAgICAgLy8gVE9ET1xuICAgIH1cblxuICAgIGdldCBzZWxlY3RlZEZpZWxkKCk6IEZpZWxkRGVmaW5pdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZEZpZWxkO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuZXhwb3J0IGNsYXNzIEZ1bGxTY3JlZW5IYW5kbGVyIHtcbiAgICBwcml2YXRlIGZ1bGxTY3JlcmVuQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMub25GdWxsU2NyZWVuQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5vbkZ1bGxTY3JlZW5DaGFuZ2VkKHRoaXMuaXNGdWxsU2NyZWVuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRnVsbFNjcmVlbkNoYW5nZWQ6IChpc0Z1bGxTY3JlZW46IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgbGV0IHVudHlwZWRCb2R5ID0gPGFueT5kb2N1bWVudC5ib2R5O1xuXG4gICAgICAgIGlmICh0eXBlb2YgdW50eXBlZEJvZHkub25mdWxsc2NyZWVuY2hhbmdlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB1bnR5cGVkQm9keS5vbmZ1bGxzY3JlZW5jaGFuZ2UgPSAoKSA9PiB0aGlzLmZ1bGxTY3JlcmVuQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1bnR5cGVkQm9keS5vbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHVudHlwZWRCb2R5Lm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZSA9ICgpID0+IHRoaXMuZnVsbFNjcmVyZW5DaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVudHlwZWRCb2R5Lm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdW50eXBlZEJvZHkub25tb3pmdWxsc2NyZWVuY2hhbmdlID0gKCkgPT4gdGhpcy5mdWxsU2NyZXJlbkNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdW50eXBlZEJvZHkub253ZWJraXRmdWxsc2NyZWVuY2hhbmdlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB1bnR5cGVkQm9keS5NU0Z1bGxzY3JlZW5DaGFuZ2UgPSAoKSA9PiB0aGlzLmZ1bGxTY3JlcmVuQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW50ZXJGdWxsU2NyZWVuKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICBsZXQgdW50eXBlZEJvZHkgPSA8YW55PmRvY3VtZW50LmJvZHk7XG5cbiAgICAgICAgICAgIGlmICh1bnR5cGVkQm9keS5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIHVudHlwZWRCb2R5LnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bnR5cGVkQm9keS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIHVudHlwZWRCb2R5LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bnR5cGVkQm9keS5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIHVudHlwZWRCb2R5Lm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bnR5cGVkQm9keS5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgdW50eXBlZEJvZHkubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGZ1bGxzY3JlZW4uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhpdEZ1bGxTY3JlZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgbGV0IHVudHlwZWREb2N1bWVudCA9IDxhbnk+ZG9jdW1lbnQ7XG5cbiAgICAgICAgICAgIGlmICh1bnR5cGVkRG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB1bnR5cGVkRG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVudHlwZWREb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIHVudHlwZWREb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW50eXBlZERvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB1bnR5cGVkRG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW50eXBlZERvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB1bnR5cGVkRG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlRnVsbFNjcmVlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXRGdWxsU2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVudGVyRnVsbFNjcmVlbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlzRnVsbFNjcmVlbigpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHVudHlwZWREb2N1bWVudCA9IDxhbnk+ZG9jdW1lbnQ7XG5cbiAgICAgICAgcmV0dXJuIHVudHlwZWREb2N1bWVudC5mdWxsc2NyZWVuIHx8IHVudHlwZWREb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4gfHwgdW50eXBlZERvY3VtZW50Lm1vekZ1bGxTY3JlZW47XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgRGlhbG9nIH0gZnJvbSBcIi4vZGlhbG9nXCI7XG5cbmV4cG9ydCBjbGFzcyBIZWxwRGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgICBwcml2YXRlIF9yZW5kZXJlZEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSBfZ2V0U2hvcnRjdXRSb3coc2hvcnRjdXQ6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgaXNIZWFkZXI6IGJvb2xlYW49ZmFsc2UpIDogSFRNTEVsZW1lbnQge1xuICAgICAgICBsZXQgc2hvcnRjdXRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJcIik7XG4gICAgICAgIHNob3J0Y3V0VGV4dC5pbm5lclRleHQgPSBzaG9ydGN1dDtcbiAgICAgICAgbGV0IHNob3J0Y3V0Q2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXNIZWFkZXIgPyBcInRoXCIgOiBcInRkXCIpO1xuICAgICAgICBzaG9ydGN1dENlbGwuc3R5bGUudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgIHNob3J0Y3V0Q2VsbC5hcHBlbmRDaGlsZChzaG9ydGN1dFRleHQpO1xuXG4gICAgICAgIGxldCBkZXNjcmlwdGlvbkNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGlzSGVhZGVyID8gXCJ0aFwiIDogXCJ0ZFwiKTtcbiAgICAgICAgZGVzY3JpcHRpb25DZWxsLnN0eWxlLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICBkZXNjcmlwdGlvbkNlbGwuaW5uZXJUZXh0ID0gZGVzY3JpcHRpb247XG5cbiAgICAgICAgbGV0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKHNob3J0Y3V0Q2VsbCk7XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbkNlbGwpO1xuICAgICAgICByZXR1cm4gcm93O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCByZW5kZXJDb250ZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICBsZXQgY2FyZEhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIGNhcmRIZWFkaW5nLmlubmVyVGV4dCA9IFwiQ2FyZCBQYXlsb2FkIGFuZCBTYW1wbGUgRGF0YSBFZGl0b3JzXCI7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChjYXJkSGVhZGluZyk7XG5cbiAgICAgICAgbGV0IGtleWJvYXJkSGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAga2V5Ym9hcmRIZWFkaW5nLmlubmVyVGV4dCA9IFwiS2V5Ym9hcmQgU2hvcnRjdXRzXCI7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChrZXlib2FyZEhlYWRpbmcpO1xuXG4gICAgICAgIGxldCBzaG9ydGN1dFRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuXG4gICAgICAgIGxldCB0YWJsZUNhcHRpb24gPSBzaG9ydGN1dFRhYmxlLmNyZWF0ZUNhcHRpb24oKTtcbiAgICAgICAgdGFibGVDYXB0aW9uLnN0eWxlLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICB0YWJsZUNhcHRpb24uaW5uZXJUZXh0ID0gXCJUaGVzZSBrZXlib2FyZCBzaG9ydGN1dHMgb25seSB3b3JrIHdoZW4gdGhlIGtleWJvYXJkIGZvY3VzIGlzIHdpdGhpbiBlaXRoZXIgdGhlIGNhcmQgcGF5bG9hZCBvciBzYW1wbGUgZGF0YSBlZGl0b3JzXCI7XG5cbiAgICAgICAgc2hvcnRjdXRUYWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuXG4gICAgICAgIHNob3J0Y3V0VGFibGUuYXBwZW5kQ2hpbGQodGhpcy5fZ2V0U2hvcnRjdXRSb3coXCJTaG9ydGN1dFwiLCBcIkRlc2NyaXB0aW9uXCIsIHRydWUpKTtcbiAgICAgICAgc2hvcnRjdXRUYWJsZS5hcHBlbmRDaGlsZCh0aGlzLl9nZXRTaG9ydGN1dFJvdyhcIkFsdC1GMVwiLCBcIlNob3cgaGVscCBkaWFsb2cgZm9yIGVkaXRvclwiKSk7XG4gICAgICAgIHNob3J0Y3V0VGFibGUuYXBwZW5kQ2hpbGQodGhpcy5fZ2V0U2hvcnRjdXRSb3coXCJDdHJsLU1cIiwgXCJUb2dnbGUgYmVoYXZpb3Igb2YgVEFCIGtleS4gQnkgZGVmYXVsdCwgcHJlc3NpbmcgVEFCIHdpbGwgaW5zZXJ0IGEgVEFCIGNoYXJhY3Rlci4gV2hlbiB0b2dnbGVkLCBwcmVzc2luZyBUQUIgd2lsbCBuYXZpZ2F0ZSB0byB0aGUgbmV4dCBmb2N1c2FibGUgaXRlbS5cIikpO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChzaG9ydGN1dFRhYmxlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkRWxlbWVudDtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCAqIGFzIEFkYXB0aXZlIGZyb20gXCJhZGFwdGl2ZWNhcmRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBvaW50IHtcblx0eDogbnVtYmVyO1xuXHR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBSZWN0IHtcblx0dG9wOiBudW1iZXI7XG5cdHJpZ2h0OiBudW1iZXI7XG5cdGJvdHRvbTogbnVtYmVyO1xuXHRsZWZ0OiBudW1iZXI7XG5cblx0Y29uc3RydWN0b3IodG9wOiBudW1iZXIgPSAwLCByaWdodDogbnVtYmVyID0gMCwgYm90dG9tOiBudW1iZXIgPSAwLCBsZWZ0OiBudW1iZXIgPSAwKSB7XG5cdFx0dGhpcy50b3AgPSB0b3A7XG5cdFx0dGhpcy5yaWdodCA9IHJpZ2h0O1xuXHRcdHRoaXMuYm90dG9tID0gYm90dG9tO1xuXHRcdHRoaXMubGVmdCA9IGxlZnQ7XG5cdH1cblxuXHR1bmlvbihvdGhlclJlY3Q6IFJlY3QpIHtcblx0XHR0aGlzLnRvcCA9IE1hdGgubWluKHRoaXMudG9wLCBvdGhlclJlY3QudG9wKTtcblx0XHR0aGlzLmxlZnQgPSBNYXRoLm1pbih0aGlzLmxlZnQsIG90aGVyUmVjdC5sZWZ0KTtcblx0XHR0aGlzLmJvdHRvbSA9IE1hdGgubWF4KHRoaXMuYm90dG9tLCBvdGhlclJlY3QuYm90dG9tKTtcblx0XHR0aGlzLnJpZ2h0ID0gTWF0aC5tYXgodGhpcy5yaWdodCwgb3RoZXJSZWN0LnJpZ2h0KTtcblx0fVxuXG5cdGlzSW5zaWRlKHBvaW50OiBJUG9pbnQpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gcG9pbnQueCA+PSB0aGlzLmxlZnQgJiYgcG9pbnQueCA8PSB0aGlzLnJpZ2h0ICYmIHBvaW50LnkgPj0gdGhpcy50b3AgJiYgcG9pbnQueSA8PSB0aGlzLmJvdHRvbTtcblx0fVxuXG5cdGdldCB3aWR0aCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLnJpZ2h0IC0gdGhpcy5sZWZ0O1xuXHR9XG5cblx0Z2V0IGhlaWdodCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmJvdHRvbSAtIHRoaXMudG9wO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBVdGlscyB7XG5cdHB1YmxpYyBzdGF0aWMgaXNBYnNvbHV0ZVVybCh1cmxTdHJpbmc6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB1cmxTdHJpbmcuaW5kZXhPZignaHR0cDovLycpID09PSAwXG5cdFx0fHwgdXJsU3RyaW5nLmluZGV4T2YoJ2h0dHBzOi8vJykgPT09IDA7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGpvaW5QYXRocyguLi5hcmdzOiBzdHJpbmdbXSkge1xuXHRcdHJldHVybiBhcmdzLm1hcChcblx0XHRcdChwYXJ0LCBpKSA9PiB7XG5cdFx0XHRcdGlmICghcGFydCkge1xuXHRcdFx0XHRcdHBhcnQgPSBcIlwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGkgPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gcGFydC50cmltKCkucmVwbGFjZSgvW1xcL10qJC9nLCAnJylcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gcGFydC50cmltKCkucmVwbGFjZSgvKF5bXFwvXSp8W1xcL10qJCkvZywgJycpXG5cdFx0XHRcdH1cblx0XHRcdH0pLmZpbHRlcih4ID0+IHgubGVuZ3RoKS5qb2luKCcvJylcblx0fVxuXG4gICAgcHVibGljIHN0YXRpYyBhZGp1c3RQb2ludEZvclNjcm9sbChwb3NpdGlvbjogSVBvaW50KTogSVBvaW50IHtcbiAgICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IGRvY3VtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcG9zaXRpb24ueCArIGZpcnN0Q2hpbGQuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHk6IHBvc2l0aW9uLnkgKyBmaXJzdENoaWxkLnNjcm9sbFRvcFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IHZhciBkZWZhdWx0SG9zdENvbmZpZyA9IG5ldyBBZGFwdGl2ZS5Ib3N0Q29uZmlnKFxuICAgIHtcbiAgICAgICAgcHJlRXhwYW5kU2luZ2xlU2hvd0NhcmRBY3Rpb246IHRydWUsXG4gICAgICAgIHN1cHBvcnRzSW50ZXJhY3Rpdml0eTogdHJ1ZSxcbiAgICAgICAgc3BhY2luZzoge1xuICAgICAgICAgICAgc21hbGw6IDEwLFxuICAgICAgICAgICAgZGVmYXVsdDogMjAsXG4gICAgICAgICAgICBtZWRpdW06IDMwLFxuICAgICAgICAgICAgbGFyZ2U6IDQwLFxuICAgICAgICAgICAgZXh0cmFMYXJnZTogNTAsXG4gICAgICAgICAgICBwYWRkaW5nOiAyMFxuICAgICAgICB9LFxuICAgICAgICBzZXBhcmF0b3I6IHtcbiAgICAgICAgICAgIGxpbmVUaGlja25lc3M6IDEsXG4gICAgICAgICAgICBsaW5lQ29sb3I6IFwiI0VFRUVFRVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRleHRBbGlnbjoge1xuICAgICAgICAgICAgcmlnaHQ6IFwicmlnaHRcIlxuICAgICAgICB9LFxuICAgICAgICBpbWFnZVNpemVzOiB7XG4gICAgICAgICAgICBzbWFsbDogNDAsXG4gICAgICAgICAgICBtZWRpdW06IDgwLFxuICAgICAgICAgICAgbGFyZ2U6IDE2MFxuICAgICAgICB9LFxuICAgICAgICBmb250U3R5bGVzOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCInU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplczoge1xuICAgICAgICAgICAgICAgICAgICBzbWFsbDogMTIsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDE0LFxuICAgICAgICAgICAgICAgICAgICBtZWRpdW06IDE3LFxuICAgICAgICAgICAgICAgICAgICBsYXJnZTogMjEsXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhTGFyZ2U6IDI2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0czoge1xuICAgICAgICAgICAgICAgICAgICBsaWdodGVyOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgYm9sZGVyOiA2MDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW9ub3NwYWNlOiB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCInQ291cmllciBOZXcnLCBDb3VyaWVyLCBtb25vc3BhY2VcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc21hbGw6IDEyLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAxNCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaXVtOiAxNyxcbiAgICAgICAgICAgICAgICAgICAgbGFyZ2U6IDIxLFxuICAgICAgICAgICAgICAgICAgICBleHRyYUxhcmdlOiAyNlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodHM6IHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRlcjogMjAwLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiA0MDAsXG4gICAgICAgICAgICAgICAgICAgIGJvbGRlcjogNjAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb250YWluZXJTdHlsZXM6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y5ZjlmOVwiLFxuICAgICAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMzMzMzMzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0VFMzMzMzMzXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWNjZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMyRTg5RkNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjODgyRTg5RkNcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhdHRlbnRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI2NjMzMwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERGNjMzMwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdvb2Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzAyOEEwMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERDAyNzUwMlwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI2U2OTUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERGU2OTUwMFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW1waGFzaXM6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzA4MDAwMDAwXCIsXG4gICAgICAgICAgICAgICAgZm9yZWdyb3VuZENvbG9yczoge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMzMzMzMzNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRUUzMzMzMzNcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhY2NlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzJFODlGQ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiM4ODJFODlGQ1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGF0dGVudGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjY2MzMzAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REY2MzMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ29vZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMDI4QTAyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REMDI3NTAyXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjZTY5NTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REZTY5NTAwXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhY2NlbnQ6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0M3REVGOVwiLFxuICAgICAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMzMzMzMzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0VFMzMzMzMzXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGFyazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzY2MDAwMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI0ZGRkZGRlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiMzMzAwMDAwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFjY2VudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMkU4OUZDXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzg4MkU4OUZDXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW50aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNjYzMzMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERjYzMzMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnb29kOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMwMjhBMDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjREQwMjc1MDJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNlNjk1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERlNjk1MDBcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdvb2Q6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0NDRkZDQ1wiLFxuICAgICAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMzMzMzMzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0VFMzMzMzMzXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGFyazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzY2MDAwMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI0ZGRkZGRlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiMzMzAwMDAwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFjY2VudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMkU4OUZDXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzg4MkU4OUZDXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW50aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNjYzMzMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERjYzMzMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnb29kOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMwMjhBMDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjREQwMjc1MDJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNlNjk1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERlNjk1MDBcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF0dGVudGlvbjoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZDNUIyXCIsXG4gICAgICAgICAgICAgICAgZm9yZWdyb3VuZENvbG9yczoge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMzMzMzMzNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRUUzMzMzMzNcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXJrOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjNjYwMDAwMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsaWdodDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjRkZGRkZGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzMzMDAwMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWNjZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMyRTg5RkNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjODgyRTg5RkNcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhdHRlbnRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI2NjMzMwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERGNjMzMwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdvb2Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzAyOEEwMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERDAyNzUwMlwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI2U2OTUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERGU2OTUwMFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd2FybmluZzoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZFMkIyXCIsXG4gICAgICAgICAgICAgICAgZm9yZWdyb3VuZENvbG9yczoge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMzMzMzMzNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRUUzMzMzMzNcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXJrOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjNjYwMDAwMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsaWdodDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjRkZGRkZGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzMzMDAwMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWNjZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMyRTg5RkNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjODgyRTg5RkNcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhdHRlbnRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI2NjMzMwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERGNjMzMwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdvb2Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzAyOEEwMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERDAyNzUwMlwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI2U2OTUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERGU2OTUwMFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICAgIG1heEFjdGlvbnM6IDUsXG4gICAgICAgICAgICBzcGFjaW5nOiBBZGFwdGl2ZS5TcGFjaW5nLkRlZmF1bHQsXG4gICAgICAgICAgICBidXR0b25TcGFjaW5nOiAxMCxcbiAgICAgICAgICAgIHNob3dDYXJkOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uTW9kZTogQWRhcHRpdmUuU2hvd0NhcmRBY3Rpb25Nb2RlLklubGluZSxcbiAgICAgICAgICAgICAgICBpbmxpbmVUb3BNYXJnaW46IDE2XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWN0aW9uc09yaWVudGF0aW9uOiBBZGFwdGl2ZS5PcmllbnRhdGlvbi5Ib3Jpem9udGFsLFxuICAgICAgICAgICAgYWN0aW9uQWxpZ25tZW50OiBBZGFwdGl2ZS5BY3Rpb25BbGlnbm1lbnQuTGVmdFxuICAgICAgICB9LFxuICAgICAgICBhZGFwdGl2ZUNhcmQ6IHtcbiAgICAgICAgICAgIGFsbG93Q3VzdG9tU3R5bGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2VTZXQ6IHtcbiAgICAgICAgICAgIGltYWdlU2l6ZTogQWRhcHRpdmUuU2l6ZS5NZWRpdW0sXG4gICAgICAgICAgICBtYXhJbWFnZUhlaWdodDogMTAwXG4gICAgICAgIH0sXG4gICAgICAgIGZhY3RTZXQ6IHtcbiAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IEFkYXB0aXZlLlRleHRDb2xvci5EZWZhdWx0LFxuICAgICAgICAgICAgICAgIHNpemU6IEFkYXB0aXZlLlRleHRTaXplLkRlZmF1bHQsXG4gICAgICAgICAgICAgICAgaXNTdWJ0bGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdlaWdodDogQWRhcHRpdmUuVGV4dFdlaWdodC5Cb2xkZXIsXG4gICAgICAgICAgICAgICAgd3JhcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogMTUwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IEFkYXB0aXZlLlRleHRDb2xvci5EZWZhdWx0LFxuICAgICAgICAgICAgICAgIHNpemU6IEFkYXB0aXZlLlRleHRTaXplLkRlZmF1bHQsXG4gICAgICAgICAgICAgICAgaXNTdWJ0bGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdlaWdodDogQWRhcHRpdmUuVGV4dFdlaWdodC5EZWZhdWx0LFxuICAgICAgICAgICAgICAgIHdyYXA6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3BhY2luZzogMTBcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbmRlZmF1bHRIb3N0Q29uZmlnLmNzc0NsYXNzTmFtZVByZWZpeCA9IFwiZGVmYXVsdFwiO1xuIiwiaW1wb3J0IHsgRGlhbG9nIH0gZnJvbSBcIi4vZGlhbG9nXCI7XG5pbXBvcnQgeyBQaWMyQ2FyZFx0IH0gZnJvbSBcIi4vcGljMmNhcmRcIjtcbmV4cG9ydCBjbGFzcyBGZXRjaE1hbmFnZXIge1xuICAgIHByaXZhdGUgcGljMmNhcmRTZXJ2aWNlID0gUGljMkNhcmQucGljMmNhcmRTZXJ2aWNlICE9PSAnJyA/IFBpYzJDYXJkLnBpYzJjYXJkU2VydmljZSA6IHByb2Nlc3MuZW52LlBJQ19UT19DQVJEX1BSRURJQ1RJT05fQVBJO1xuICAgIHByaXZhdGUgaGVhZGVycyA9IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCI6IFwiKlwiLFxuICAgIH07XG5cbiAgICBhc3luYyBnZXRTYW1wbGVJbWFnZXMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZUltYWdlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgICAgICAgIHRoaXMucGljMmNhcmRTZXJ2aWNlICsgXCIvZ2V0X2NhcmRfdGVtcGxhdGVzXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHNhbXBsZUltYWdlcy5qc29uKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0UHJlZGljdGVkRGF0YShpbWFnZUNvbnRlbnQsIGlzVGVtcGxhdGVCaW5kaW5nRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBpbWFnZTogaW1hZ2VDb250ZW50LnNwbGl0KFwiLFwiKVsxXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZW5kUG9pbnQgPSBpc1RlbXBsYXRlQmluZGluZ0VuYWJsZWRcbiAgICAgICAgICAgICAgICA/IFwiL3ByZWRpY3RfanNvbj9mb3JtYXQ9dGVtcGxhdGVcIlxuICAgICAgICAgICAgICAgIDogXCIvcHJlZGljdF9qc29uXCI7XG4gICAgICAgICAgICBjb25zdCBwaWNSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgICAgICAgIHRoaXMucGljMmNhcmRTZXJ2aWNlICsgZW5kUG9pbnQsXG4gICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBwaWNSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3BlbkltYWdlRGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgICBwcml2YXRlIF9yZW5kZXJlZEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2ltYWdlRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfYnV0dG9uQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9pbnB1dFRlbXBsYXRlOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF91cGxvYWRlZEltYWdlOiBzdHJpbmcgPVxuICAgICAgICBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBR1lBQUFCYUNBWUFBQUJLWnlPMEFBQUFBWE5TUjBJQXJzNGM2UUFBQUVSbFdFbG1UVTBBS2dBQUFBZ0FBWWRwQUFRQUFBQUJBQUFBR2dBQUFBQUFBNkFCQUFNQUFBQUJBQUVBQUtBQ0FBUUFBQUFCQUFBQVpxQURBQVFBQUFBQkFBQUFXZ0FBQUFEbGxraGhBQUFMUkVsRVFWUjRBZTJjNlpmVlJCREZCd2R4RndXVlJWbG1RSEhYNHhjLyt2L3IwYU9vdUxBNXVJQUtpSUlidU4zZll5cm1kYW83bmJ4a1hzaExuWE5KMHVtMWJuZFZkZWNOdTlicTVUNWxlVkxZTHp3cTdObkdMbDNITEg5cGNMZUZQNFNmaEd2Qzc4S09TRXE1NityQnM4SlJnZnRKMXRadVNBa1hoSnQ5S3lOR3pENDFmRXBnZFV4UzFjQVZKWjBWL3FtKzZpYkZXd2xIVlBXTGd2ZXVtMWJ2L1ZvdzZVemU2OExmZlF3blZENW1hN09QaGtaWTV3TWFFK1I4TC96YjlmaktwdXdwVmY1S29nR2M0RlVCKzRwVDdMd3pxbk5JY3I4Njg2Q0E4Z2wrWW9KT3pnaWQ2c09JMmEySzN4YTRobkpIQ1RpOFhtWkcyTmhBbng5V3YwNEtNWUkrMXp2MDA1bVlLVHVtR3IxR2YxUDZSd0xSeUNvTGsvTUhnYTNEWGtjUitKekxRbWVyQm1JQUpzeFdqMjVuOHFmK2hSU3VrOXpWQVBzWmZNdGpnVUt3TkpqNlcwRjY2MGZiUEhJTmhYQndJaVhVeXRyYXVZaGVucTVtYlo4Q0llem9ROEhCczlPZHBLb0I5aTViMWVTWkt6RFg0THh1bGdReDJNZFFmZ3dUcHVjNURSQ0poWUlySUVqb1JDREcyOTMzZnVUUVNlK1hWd25CQUlGUktQaWZUZ1JpaU5kRFlaOHlTVm9Ebm80OFhhWnJpYnlGbURBYUkydG5ZVitrM1RFa2UrZGs2TE1UNmF5aVRub3pWVkpvWUNLbVVNV3diaVppaHNWSDBadUptRUlWdzdxWmlCa1dIMFZ2Sm1JS1ZRenJaaUptV0h3VXZmRyt2eFF2bDNEemhOcDhSbmhFWU5Kd2lNcUpMdC9ZZS9tRXEzb0hLVU1oaG42Y0VBNEdXdUljajBQVzU0UXZoSlg1TGpRRVU4YUo3RnRDU0lxU0N1RVQ3eHNDcTJrbFpBakViRXJURDJWcSszbmw2K3lnTUxQTnBXUmJOakY4Q1R6Y1lPU1lQSWdjdlN5YkdINlowMVFvcyt4K04rMXo0L3pMSG1DYkQwdjBlVkZ6aGwvcjdJaStzZFl6Q2l3N0ttczdNYnhQRlJuRG5YM2lPSzZNL0xBUjRmTTVQejNpQitTRGtyYUs2V29RL0xLa2piVDVrUWhrRWp3WUtiUkxLUDY2c093SlNsL21aTm5FOE52ZnB2S3pDclRaYko1VXVVTk9Zd1FnZ3lObkNNUTAzVFJlY0pSYmw4UktTVVYvZ3lObjJjVHdDWnNkdmZlWjFsUDIxMHI4eFh1UlNLc2p4WW9PaXB4bEU0TlM4RE1mQ3Q2dlRuaVBRT0NXY0pHSEJwSkxpbFU1R0hMNklvWndsR09VWE9IblV1OExLTC84NTNTc3BHdkNCOEpYUXBNZmlhUkk0V0Qwa3VESklNanBJeHJod0hGVElBcml0N3huaExLeTllZ0tKSHkxRFNZTWFCdkc0dWhqUGdWU1BoSE1mQjdWZlNoR3ptbTlhTnVIc001R3p3eStTem1teWs0SWtJSndPc3poWSs1WkdHVVFsTlpXSVpEeUxKVTRRcUR4cVdDa1lCb3ZPZmxJTW5MNm1MeVJKdjlQN3BJWVp0N3gvNnN1N3RpbFEwNFQwMVlVYm5oVFJ3b3JKUXkxQjBsT1Y4UkF5a1pDaVpEenB0QW5PYXpVMUVyeFNMRXVRdzRSbnlkTFdUbGRFSE5FbzBtUllvUHRjK1ZBQ3I3TkU4eFhpaFFyYzBFM2d5Rm5VV0pReHFhTkxPTnFIN3k2WERsZGtHSmRoNXh2N0NHNDd1aktXWVFZU0VFcG5oQ0ZiWGt2bEdia3NJSVdsUlFwSE4za3JKU3dEK2VWc0hSeTF0V0o0MkhQOVB5dGtJcUtzT1U0V2s4Z2hUOFJ2Q2JnYVBtcjMxQjJLK0VwZ2I4ekNaMXhtRGYyekVyRmpIb0NLUjhMYmVzbXBMNWZlRndJaFFuMXBNQ2tEaWNYWjMvc3lSYVdOaXVHL1VHTUZIYnhrR0tudjh5ODg0SW5yQndDZ25Cd1h0NHdyVTlTcksxenVtR0Nlb0paODBqejhyWkthMG9NcDdQc3FEMnhveFVqeGZMVWtVTW8zWVNjblNERitwNGl4L0wwY20xQ0RLUzhFT2xGakJUTG5pS0h6V2N1T1VSL2Zaa3Y2MnQ0aFp6dndzUytuM09KT2FpT3BFZ3BtNjlZbnhjbEIxTFlMM25DaWZNaVBzV3JzNXgyVmc4N1NrNE9NUWZVcVZQbFhwYnV6YWR3elpFY2N2WTRGZFdSd3BsV1cwZnZOT2NtUWM1bDkwMFBpWFZSR1Qrd2V5blNibE5TckJwbU4wcjBvalVpb2YxQ09WcXJJNlhQbGFLdUZNS0UyUzBRa2UwcVV1ZHZDQWllRVBpUkNaTWVmL3V2MEZob0tDWXBVbWdRODVXN1VzSTJXRG1JdHc5aVVQZ2M2aWNDckROZnFiQmV4UmNTQ09BL1ZxQWZlek5xUXA5TU9KdDA5TzE3Z1pYMnE1QXRzUldENG1NK2hYY2ZDbTFKc2M3VnJaeUR5bWdEdERKMnBTd3JwVTlTYVB0VkFWTGFubFN3YWxoRjFNRkorMDBocTg4eFlsaXVublJGaXRXZElvZStlY0xnK2lTRjBCMmZpZ25GdEhZbFdBSTI1cERGdUpNbUxrYU15bFZrVWZOVnFYQTdJVVZPV0FaU1RndFpzeTRzblBITTdHYlR5d2F5RDhFMFloTHhROWVGYU1DUzhqRXFWNGlSa3ZNbHNpalU0Q2JsYzZ5YXZrbmhpSWhBcHk1Uy9WbDVVQ3E2dUwwTnloQWNzTm9nbDdwU3F3MXkzaEk0eTdzbFZBUUczNm1remlmUU9ENmxMMUxLclQybmh4UGxoTzM3dmtuQmRML3V0R3RKck5BdEFVZCt4eElUVi9RS1FRUXUreEw1cU90OWdZay9KM1dtYkNkSm9XT2VXZXVibElmVUxxVEVWc29sdmVOM0N6ZUVmNFJjUWRrL0NLd3dITCszUDBQL21EWHl6Zm1jRkRFN1RZcjZOaFBJdVM0d3NDdkNlYUdKUXBROVd6RGxoT2FZb0ZDdy8vdys0TEt3U1B0RXI2dzBJanNJQ2dYQ21CeHovK05WakJoSStVallDZk9sWmlwQys4eTBSckYvcFpiNmhCUEs0cGthVEF6bW0wa1NFOHpWWVlGRDNmM0Nid0w5OW9UVmNGV0FZTXhtS1B6TktiNm0wSGZNK1ROVGFHak13aXc5NUF3UUpUTCsxS1NBRkFncGwwZmhId3VZdkpoOHJSZXNUc0xtVURhVmdLV1ltYlNZWGMxeGNHSEY5OXJ6aGpxTWdrTTVxd1JXYTB3OFVzaUxMbDhUOEJrcHdUUjc1TEhQT1dBRlk4VFkrN0Zlc2ZWUE80UERkT0ZUWWhJanhmTG5rTU9LK0ZLWXJRd3J1SDA5WnMrclNveEhDanE1WUlweHJuV2tXSkVjY3ZBbDNnUW9Bb1JWSlFabkhjcFBTb2lac0Z4U3JNNGNjcllzYzNDZDlXMFZpY0hwRXdXRk1oZXVsbDQySmNXSzFwRmprYWZsdHl1bkJ0Rk5sV1VhNHpYbW5LOUZCc3NwZHpuNmltUnpreUhuRlNFVy9SSkNoNEwvVzEvRkZVTzRHZ3FoY1d3UE1wdkJZWUVHejVBU213d3gwN2xuSXVhdWhqbGxpSWxIR1A3STIrZXh3L2RPakdQYmoxaTdENndpTWQ2WmxhZDhJK3FTYnNydk1UK2ZDTjR4elUybG53N3kyM21aa2lzU0kyeFB6UFpWYWhoUmduY2NuL3ErUTJqN25zQnBNWXBFK1NsaEw1U2JuNzBNYlljOHJJY0pxUWJIOHM0ek5SNVo1ZkdpUEk1TGNpVTNQeGJMNCtCMnpKUVJJbzVWdk5WUlIweGZ1dkRNS20zTmlDbmJUK3RBcklDOXY1ZXZ4UWx1YVJCdGYyeFJxcUxWTFhzcVQvNWt4WGlSd1NOZTdwR2tlYWZHSENBdWd4enZCSUtnNGc3RWVCMWROSFlmTW9leHZZT25wTDdINGJVNU8vcUhHRy9IeTRhSUtHU013aGZGVzg3QVlnZWJUdFpPa3RDeHQwcG5wd0VRdzJiSmk4bjVFTVQ3TWNxUHpxRDJLczJid1U3V1RwSTJJN1hNb2o4VVQvajRqWk9KTTVzWGhUR1M0eEdEQ3ZqVXZNaDR2VzhzMUJzS3EvT3hNRkhQV0svWnB0TTZ3U2RQYnhkS0JXOElZd3NHaU15d0ZLRVFKWjBNRXlQUG5tLzJqbW5DNHBpdkY4TEU3ZWVMbHI2K2ZZTXB3L1o2ZHBaRHY4TUNLOGlJWkdaNDVrL0o5NHlnV01ZVkNqT1pmZHlOOEVYd1RIbUNKTnNnY2s3bVdaNXlNZlROUlBkOHl4V2xGeC9Qd28za2hsNGVGZW9FOCtldHNMcHlRM3ZQcEF0MVlIM2MwZzFJbVNjVURaRnNXcjJBUXNtRnNJbDlXZkJPbXBuazd3ckYxaVhzRk04YndoRmhrcnMvT2ZwQ2l2Qk9DNXJvQjFmd3F1Q3RGT281STh6NVBUTmx2RFRCOW1MVzlna2hjWlpuVmE1c1BBOElFT1A1bERvOVlPYU9DNmVFMkxIUGx0NTlKOHhKU3ZFY3l4d1REZ21wZkhNVmp2Z0J4NDRDaVp5WXVERkJWL2hqL0E4K3pIeVFiaXZDS3ZsTXFKakxISVZERUt1SEdKOEdlYllnUUxjckthd2VpTUluY05hSVB0QUxZR1BPdFU2K1ZZYnpRb1VVQ3VZUVE3NVFNSUZ0eTRaMURlMFpDN0hSNC9nZzRxeFFSR0M2cjhoWWxWc1phTU1FblBWTEF0Y3U1YVlxT3lmd01TMHBFekZ4OWFBYkhEL2JoOWp4Zkx6MC9CczJ0QmVGdWNoclBzdjgwMFRNdkQ2OEozU0VJNGNrOWlCZUpLdmtpaERKRVNpQXE0THJTNVR1eWtTTXE1Wm9JazRlNTc1WE1HZlBGYVZiSU1DVnpTYWZGeHFSb2Z5Ri9BZUttZ2dPaTdPVXRBQUFBQUJKUlU1RXJrSmdnZz09XCI7XG4gICAgcHJpdmF0ZSBfcHJlZGljdGVkQ2FyZEpTT046IHByZWRpY3RlZENhcmRKU09OO1xuICAgIHByaXZhdGUgZmV0Y2hNYW5hZ2VyOiBGZXRjaE1hbmFnZXI7XG4gICAgcHJpdmF0ZSBpc1RlbXBsYXRlT3B0aW9uQ2hlY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgYWxsb3dlZEltYWdlU2l6ZSA9IDI7IC8vIEluIE1CXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5mZXRjaE1hbmFnZXIgPSBuZXcgRmV0Y2hNYW5hZ2VyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRDb250ZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZUNvbnRlbnQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyVGl0bGUoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9IFwiYWNkLWltYWdlLXRpdGxlXCI7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9IFwiVXBsb2FkIHlvdXIgb3duIGNhcmQgZGVzaWduXCI7XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclRpdGxlQ29udGVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb250ZW50LmNsYXNzTmFtZSA9IFwiYWNkLWltYWdlLXRpdGxlLWNvbnRlbnRcIjtcbiAgICAgICAgY29udGVudC5pbm5lclRleHQgPVxuICAgICAgICAgICAgXCJEZXNpZ24geW91ciBjYXJkIGFuZCB1cGxvYWQgaXQgYXMgYSBwbmcgb3IganBlZywgYW5kIHdhdGNoIGl0IG1hZ2ljYWxseSBjb252ZXJ0IHRvIGEgZnVuY3Rpb25pbmcgQWRhcHRpdmUgQ2FyZFwiO1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclVwbG9hZGVkSW1hZ2UoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9pbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICB0aGlzLl9pbWFnZUVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtaW1hZ2UtcGxhY2Vob2xkZXJcIjtcbiAgICAgICAgdGhpcy5faW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcInNyY1wiLCB0aGlzLl91cGxvYWRlZEltYWdlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclVwbG9hZEJ1dHRvbih0eXBlOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHByaXZhY3lMaW5rID0gUGljMkNhcmQucHJpdmFjeUxpbms7XG4gICAgICAgIHRoaXMuX2J1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX2J1dHRvbkNvbnRhaW5lci5jbGFzc05hbWUgPSBcImFjZC11cGxvYWQtYnV0dG9uLWNvbnRhaW5lclwiO1xuICAgICAgICBjb25zdCBmaWxlTm90ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGZpbGVOb3RlLmNsYXNzTmFtZSA9IFwiYWNkLWltYWdlLWZpbGUtbm90ZVwiO1xuICAgICAgICBmaWxlTm90ZS5pbm5lckhUTUwgPVxuICAgICAgICAgICAgYEJ5IHVzaW5nIHRoZSB1cGxvYWQgZmVhdHVyZSB5b3UgYWdyZWUgdG8gb3VyIDxhIGhyZWY9JHtwcml2YWN5TGlua30gdGFyZ2V0PSdfYmxhbmsnPjxzcGFuIGNsYXNzPSdsaW5rJz4gaW1hZ2UgdXNhZ2UgcG9saWN5PC9zcGFuPjwvYT5gO1xuICAgICAgICB0eXBlICE9PSBcImZpbGVcIiAmJlxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyQ2hlY2tib3goKSk7XG4gICAgICAgIHRoaXMuX2J1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgIHR5cGUgPT09IFwiZmlsZVwiXG4gICAgICAgICAgICAgICAgPyB0aGlzLmNyZWF0ZUZpbGVCdXR0b24oKVxuICAgICAgICAgICAgICAgIDogdGhpcy5jcmVhdGVBY3Rpb25CdXR0b24oKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9idXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoZmlsZU5vdGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYnV0dG9uQ29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQ2hlY2tib3goKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY2hlY2tib3hDb250YWluZXIuY2xhc3NOYW1lID0gXCJhY2QtY2hlY2tib3gtY29udGFpbmVyXCI7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJTlBVVFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWNoZWNrYm94LWVsZW1lbnRcIjtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIFwidGVtcGxhdGUtb3B0aW9uXCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZS1vcHRpb25cIlxuICAgICAgICAgICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5pc1RlbXBsYXRlT3B0aW9uQ2hlY2tlZCA9IGNoZWNrYm94LmNoZWNrZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIGlucHV0RWxlbWVudC5vbmZvY3VzID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICBcImFjZC1jdXN0b20tY2hlY2tib3gtaXRlbVwiXG4gICAgICAgICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBjdXN0b21DaGVja2JveC5jbGFzc05hbWUgPSBcImFjZC1jdXN0b20tY2hlY2tib3ggYWNkLWN1c3RvbS1jaGVja2JveC1mb3Vjc1wiXG4gICAgICAgIH07XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICBcImFjZC1jdXN0b20tY2hlY2tib3gtaXRlbVwiXG4gICAgICAgICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBjdXN0b21DaGVja2JveC5jbGFzc05hbWUgPSBcImFjZC1jdXN0b20tY2hlY2tib3hcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY3VzdG9tQ2hlY2tib3hFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+KFxuICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIilcbiAgICAgICAgKTtcbiAgICAgICAgY3VzdG9tQ2hlY2tib3hFbGVtZW50LmlkID0gXCJhY2QtY3VzdG9tLWNoZWNrYm94LWl0ZW1cIjtcbiAgICAgICAgY3VzdG9tQ2hlY2tib3hFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWN1c3RvbS1jaGVja2JveFwiO1xuICAgICAgICBjaGVja2JveENvbnRhaW5lci5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBjaGVja2JveENvbnRhaW5lci5hcHBlbmRDaGlsZChjdXN0b21DaGVja2JveEVsZW1lbnQpO1xuICAgICAgICBjaGVja2JveENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckxhYmVsVGV4dCgpKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrYm94Q29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyTGFiZWxUZXh0KCkge1xuICAgICAgICBjb25zdCBsYWJlbEVsZW1lbnQgPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiTEFCRUxcIik7XG4gICAgICAgIGxhYmVsRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1sYWJlbC1lbGVtZW50XCI7XG4gICAgICAgIGxhYmVsRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJ0ZW1wbGF0ZS1vcHRpb25cIik7XG4gICAgICAgIGxhYmVsRWxlbWVudC5pbm5lckhUTUwgPVxuICAgICAgICAgICAgXCJDcmVhdGUgQWRhcHRpdmUgQ2FyZCB3aXRoIDxhIGhyZWY9J2h0dHBzOi8vYWthLm1zL0FDVGVtcGxhdGluZycgdGFyZ2V0PSdfYmxhbmsnPjxzcGFuIGNsYXNzPSdsaW5rJz50ZW1wbGF0ZSBiaW5kaW5nczwvc3Bhbj48L2E+IGFuZCBzYW1wbGUgZGF0YVwiO1xuICAgICAgICByZXR1cm4gbGFiZWxFbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tGaWxlU2l6ZShmaWxlOiBGaWxlKSB7XG4gICAgICAgIGNvbnN0IGZpbGVzaXplID0gcGFyc2VJbnQoKGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDQpKTsgLy8gTUJcbiAgICAgICAgcmV0dXJuIGZpbGVzaXplIDwgdGhpcy5hbGxvd2VkSW1hZ2VTaXplO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRmlsZUJ1dHRvbigpIHtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklOUFVUXCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtZmlsZS10eXBlXCI7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiZmlsZVwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcImJ1dHRvbi1uYW1lXCIsIFwiQnJvd3NlIEZpbGVcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhY2NlcHRcIiwgXCJpbWFnZS8qXCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkJyb3dzZSBGaWxlXCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQub25jaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0ZpbGVTaXplKGlucHV0RWxlbWVudC5maWxlc1swXSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0RWxlbWVudC5maWxlc1swXSk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHRoaXMucmVuZGVySW1hZ2UocmVhZGVyLnJlc3VsdCBhcyBzdHJpbmcsIGlucHV0RWxlbWVudC5maWxlc1swXS5uYW1lKTtcbiAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dFRlbXBsYXRlLnJlbW92ZUNoaWxkKHRoaXMuX2J1dHRvbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5wdXRUZW1wbGF0ZS5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJVcGxvYWRCdXR0b24oXCJmaWxlXCIpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXJyb3JUZXh0KFxuICAgICAgICAgICAgICAgICAgICBcIkludmFsaWQgZmlsZSBzaXplLiBUcnkgaW1hZ2UgdW5kZXIgMiBNQlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGxvYWRlZEltYWdlID1cbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUdZQUFBQmFDQVlBQUFCS1p5TzBBQUFBQVhOU1IwSUFyczRjNlFBQUFFUmxXRWxtVFUwQUtnQUFBQWdBQVlkcEFBUUFBQUFCQUFBQUdnQUFBQUFBQTZBQkFBTUFBQUFCQUFFQUFLQUNBQVFBQUFBQkFBQUFacUFEQUFRQUFBQUJBQUFBV2dBQUFBRGxsa2hoQUFBTFJFbEVRVlI0QWUyYzZaZlZSQkRGQndkeEZ3V1ZSVmxtUUhIWDR4Yy8rdi9yMGFPb3VMQTV1SUFLaUlJYnVOM2ZZeXJtZGFvN25ieGtYc2hMblhOSjB1bTFibmRWZGVjTnU5YnE1VDVsZVZMWUx6d3E3Tm5HTGwzSExIOXBjTGVGUDRTZmhHdkM3OEtPU0VxNTYrckJzOEpSZ2Z0SjF0WnVTQWtYaEp0OUt5Tkd6RDQxZkVwZ2RVeFMxY0FWSlowVi9xbSs2aWJGV3dsSFZQV0xndmV1bTFidi9Wb3c2VXplNjhMZmZRd25WRDVtYTdPUGhrWlk1d01hRStSOEwvemI5ZmpLcHV3cFZmNUtvZ0djNEZVQis0cFQ3THd6cW5OSWNyODY4NkNBOGdsK1lvSk96Z2lkNnNPSTJhMkszeGE0aG5KSENUaThYbVpHMk5oQW54OVd2MDRLTVlJKzF6djAwNW1ZS1R1bUdyMUdmMVA2UndMUnlDb0xrL01IZ2EzRFhrY1IrSnpMUW1lckJtSUFKc3hXajI1bjhxZitoUlN1azl6VkFQc1pmTXRqZ1VLd05KajZXMEY2NjBmYlBISU5oWEJ3SWlYVXl0cmF1WWhlbnE1bWJaOENJZXpvUThIQnM5T2RwS29COWk1YjFlU1pLekRYNEx4dWxnUXgyTWRRZmd3VHB1YzVEUkNKaFlJcklFam9SQ0RHMjkzM2Z1VFFTZStYVnduQkFJRlJLUGlmVGdSaWlOZERZWjh5U1ZvRG5vNDhYYVpyaWJ5Rm1EQWFJMnRuWVYrazNURWtlK2RrNkxNVDZheWlUbm96VlZKb1lDS21VTVd3YmlaaWhzVkgwWnVKbUVJVnc3cVppQmtXSDBWdkptSUtWUXpyWmlKbVdId1V2ZkcrdnhRdmwzRHpoTnA4Um5oRVlOSndpTXFKTHQvWWUvbUVxM29IS1VNaGhuNmNFQTRHV3VJY2owUFc1NFF2aEpYNUxqUUVVOGFKN0Z0Q1NJcVNDdUVUN3hzQ3Eya2xaQWpFYkVyVEQyVnErM25sNit5Z01MUE5wV1JiTmpGOENUemNZT1NZUElnY3ZTeWJHSDZaMDFRb3MreCtOKzF6NC96TEhtQ2JEMHYwZVZGemhsL3I3SWkrc2RZekNpdzdLbXM3TWJ4UEZSbkRuWDNpT0s2TS9MQVI0Zk01UHozaUIrU0RrcmFLNldvUS9MS2tqYlQ1a1Foa0Vqd1lLYlJMS1A2NnNPd0pTbC9tWk5uRThOdmZwdkt6Q3JUWmJKNVV1VU5PWXdRZ2d5Tm5DTVEwM1RSZWNKUmJsOFJLU1VWL2d5Tm4yY1R3Q1pzZHZmZVoxbFAyMTByOHhYdVJTS3NqeFlvT2lweGxFNE5TOERNZkN0NnZUbmlQUU9DV2NKR0hCcEpMaWxVNUdITDZJb1p3bEdPVVhPSG5VdThMS0wvODUzU3NwR3ZDQjhKWFFwTWZpYVJJNFdEMGt1REpJTWpwSXhyaHdIRlRJQXJpdDd4bmhMS3k5ZWdLSkh5MURTWU1hQnZHNHVoalBnVlNQaEhNZkI3VmZTaEd6bW05YU51SHNNNUd6d3krU3ptbXlrNElrSUp3T3N6aFkrNVpHR1VRbE5aV0laRHlMSlU0UXFEeHFXQ2tZQm92T2ZsSU1uTDZtTHlSSnY5UDdwSVladDd4LzZzdTd0aWxRMDRUMDFZVWJuaFRSd29ySlF5MUIwbE9WOFJBeWtaQ2laRHpwdEFuT2F6VTFFcnhTTEV1UXc0Um55ZExXVGxkRUhORW8wbVJZb1B0YytWQUNyN05FOHhYaWhRcmMwRTNneUZuVVdKUXhxYU5MT05xSDd5NlhEbGRrR0pkaDV4djdDRzQ3dWpLV1lRWVNFRXBuaENGYlhrdmxHYmtzSUlXbFJRcEhOM2tySlN3RCtlVnNIUnkxdFdKNDJIUDlQeXRrSXFLc09VNFdrOGdoVDhSdkNiZ2FQbXIzMUIySytFcGdiOHpDWjF4bURmMnpFckZqSG9DS1I4TGJlc21wTDVmZUZ3SWhRbjFwTUNrRGljWFozL3N5UmFXTml1Ry9VR01GSGJ4a0dLbnY4eTg4NEluckJ3Q2duQndYdDR3clU5U3JLMXp1bUdDZW9KWjgwano4clpLYTBvTXA3UHNxRDJ4b3hVanhmTFVrVU1vM1lTY25TREYrcDRpeC9MMGNtMUNES1M4RU9sRmpCVExuaUtIeldjdU9VUi9mWmt2NjJ0NGhaenZ3c1MrbjNPSk9haU9wRWdwbTY5WW54Y2xCMUxZTDNuQ2lmTWlQc1dyczV4MlZnODdTazRPTVFmVXFWUGxYcGJ1emFkd3paRWNjdlk0RmRXUndwbFdXMGZ2Tk9jbVFjNWw5MDBQaVhWUkdUK3dleW5TYmxOU3JCcG1OMHIwb2pVaW9mMUNPVnFySTZYUGxhS3VGTUtFMlMwUWtlMHFVdWR2Q0FpZUVQaVJDWk1lZi91djBGaG9LQ1lwVW1nUTg1VzdVc0kyV0RtSXR3OWlVUGdjNmljQ3JETmZxYkJleFJjU0NPQS9WcUFmZXpOcVFwOU1PSnQwOU8xN2daWDJxNUF0c1JXRDRtTStoWGNmQ20xSnNjN1ZyWnlEeW1nRHRESjJwU3dycFU5U2FQdFZBVkxhbmxTd2FsaEYxTUZKKzAwaHE4OHhZbGl1bm5SRml0V2RJb2UrZWNMZytpU0YwQjJmaWduRnRIWWxXQUkyNXBERnVKTW1Ma2FNeWxWa1VmTlZxWEE3SVVWT1dBWlNUZ3Rac3k0c25QSE03R2JUeXdheUQ4RTBZaEx4UTllRmFNQ1M4akVxVjRpUmt2TWxzaWpVNENibGM2eWF2a25oaUloQXB5NVMvVmw1VUNxNnVMME55aEFjc05vZ2w3cFNxdzF5M2hJNHk3c2xWQVFHMzZta3ppZlFPRDZsTDFMS3JUMm5oeFBsaE8zN3ZrbkJkTC91dEd0SnJOQXRBVWQreHhJVFYvUUtRUVF1K3hMNXFPdDlnWWsvSjNXbWJDZEpvV09lV2V1YmxJZlVMcVRFVnNvbHZlTjNDemVFZjRSY1Fkay9DS3d3SEwrM1AwUC9tRFh5emZtY0ZERTdUWXI2TmhQSXVTNHdzQ3ZDZWFHSlFwUTlXekRsaE9hWW9GQ3cvL3crNExLd1NQdEVyNncwSWpzSUNnWENtQnh6LytOVmpCaEkrVWpZQ2ZPbFppcEMrOHkwUnJGL3BaYjZoQlBLNHBrYVRBem1tMGtTRTh6VllZRkQzZjNDYndMOTlvVFZjRldBWU14bUtQek5LYjZtMEhmTStUTlRhR2pNd2l3OTVBd1FKVEwrMUtTQUZBZ3BsMGZoSHd1WXZKaDhyUmVzVHNMbVVEYVZnS1dZbWJTWVhjMXhjR0hGOTlyemhqcU1na001cXdSV2EwdzhVc2lMTGw4VDhCa3B3VFI3NUxIUE9XQUZZOFRZKzdGZXNmVlBPNFBEZE9GVFloSWp4Zkxua01PSytGS1lyUXdydUgwOVpzK3JTb3hIQ2pxNVlJcHhybldrV0pFY2N2QWwzZ1FvQW9SVkpRWm5IY3BQU29pWnNGeFNyTTRjY3JZc2MzQ2Q5VzBWaWNIcEV3V0ZNaGV1bGw0MkpjV0sxcEZqa2FmbHR5dW5CdEZObFdVYTR6WG1uSzlGQnNzcGR6bjZpbVJ6a3lIbkZTRVcvUkpDaDRML1cxL0ZGVU80R2dxaGNXd1BNcHZCWVlFR3o1QVNtd3d4MDdsbkl1YXVoamxsaUlsSEdQN0kyK2V4dy9kT2pHUGJqMWk3RDZ3aU1kNlpsYWQ4SStxU2JzcnZNVCtmQ040eHpVMmxudzd5MjNtWmtpc1NJMnhQelBaVmFoaFJnbmNjbi9xK1Eyajduc0JwTVlwRStTbGhMNVNibjcwTWJZYzhySWNKcVFiSDhzNHpOUjVaNWZHaVBJNUxjaVUzUHhiTDQrQjJ6SlFSSW81VnZOVlJSMHhmdXZETUttM05pQ25iVCt0QXJJQzl2NWV2eFFsdWFSQnRmMnhScXFMVkxYc3FULzVreFhpUndTTmU3cEdrZWFmR0hDQXVneHp2QklLZzRnN0VlQjFkTkhZZk1vZXh2WU9ucEw3SDRiVTVPL3FIR0cvSHk0YUlLR1NNd2hmRlc4N0FZZ2ViVHRaT2t0Q3h0MHBucHdFUXcyYkppOG41RU1UN01jcVB6cUQyS3MyYndVN1dUcEkySTdYTW9qOFVUL2o0alpPSk01c1hoVEdTNHhHREN2alV2TWg0dlc4czFCc0txL094TUZIUFdLL1pwdE02d1NkUGJ4ZEtCVzhJWXdzR2lNeXdGS0VRSlowTUV5UFBubS8yam1uQzRwaXZGOExFN2VlTGxyNitmWU1wdy9aNmRwWkR2OE1DSzhpSVpHWjQ1ay9KOTR5Z1dNWVZDak9aZmR5TjhFWHdUSG1DSk5zZ2NrN21XWjV5TWZUTlJQZDh5eFdsRngvUHdvM2tobDRlRmVvRTgrZXRzTHB5UTN2UHBBdDFZSDNjMGcxSW1TY1VEWkZzV3IyQVFzbUZzSWw5V2ZCT21wbms3d3JGMWlYc0ZNOGJ3aEZoa3JzL09mcENpdkJPQzVyb0IxZndxdUN0Rk9vNUk4ejVQVE5sdkRUQjltTFc5Z2toY1pablZhNXNQQThJRU9QNWxEbzlZT2FPQzZlRTJMSFBsdDU5Sjh4SlN2RWN5eHdURGdtcGZITVZqdmdCeDQ0Q2laeVl1REZCVi9oai9BOCt6SHlRYml2Q0t2bE1xSmpMSElWREVLdUhHSjhHZWJZZ1FMY3JLYXdlaU1JbmNOYUlQdEFMWUdQT3RVNitWWWJ6UW9VVUN1WVFRNzVRTUlGdHk0WjFEZTBaQzdIUjQvZ2c0cXhRUkdDNnI4aFlsVnNaYU1NRW5QVkxBdGN1NWFZcU95ZndNUzBwRXpGeDlhQWJIRC9iaDlqeGZMejAvQnMydEJlRnVjaHJQc3Y4MDBUTXZENjhKM1NFSTRjazlpQmVKS3ZraWhESkVTaUFxNExyUzVUdXlrU01xNVpvSWs0ZTU3NVhNR2ZQRmFWYklNQ1Z6U2FmRnhxUm9meUYvQWVLbWdnT2k3T1V0QUFBQUFCSlJVNUVya0pnZ2c9PVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5fdXBsb2FkZWRJbWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlRXJyb3JUZXh0KHRleHQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBlcnJvckNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlcnJvckNvbnRlbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInN0YXR1c1wiKTtcbiAgICAgICAgZXJyb3JDb250ZW50LmNsYXNzTmFtZSA9IFwiYWNkLWVycm9yLXRleHRcIjtcbiAgICAgICAgZXJyb3JDb250ZW50LmlubmVyVGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuX2J1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChlcnJvckNvbnRlbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25DYXJkRmFpbHVyZShzcGlubmVyRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDb250ZW50KHNwaW5uZXJFbGVtZW50KTtcbiAgICAgICAgdGhpcy5faW5wdXRUZW1wbGF0ZS5yZW1vdmVDaGlsZCh0aGlzLl9idXR0b25Db250YWluZXIpO1xuICAgICAgICBsZXQgdXBsb2FkQnV0dG9uID0gdGhpcy5yZW5kZXJVcGxvYWRCdXR0b24oXCJmaWxlXCIpO1xuICAgICAgICB0aGlzLl9pbnB1dFRlbXBsYXRlLmFwcGVuZENoaWxkKHVwbG9hZEJ1dHRvbik7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVFcnJvclRleHQoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY2FyZCBmb3Igc2VsZWN0ZWQgSW1hZ2VcIik7XG4gICAgICAgIHVwbG9hZEJ1dHRvbi5mb2N1cygpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFjdGlvbkJ1dHRvbigpIHtcbiAgICAgICAgY29uc3QgdXBsb2FkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklOUFVUXCIpO1xuICAgICAgICB1cGxvYWRCdXR0b24uY2xhc3NOYW1lID0gXCJhY2QtY2FyZC1idXR0b25cIjtcbiAgICAgICAgdXBsb2FkQnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJCVVRUT05cIik7XG4gICAgICAgIHVwbG9hZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJidXR0b24tbmFtZVwiLCBcIkNvbnZlcnQgdG8gQWRhcHRpdmUgQ2FyZFwiKTtcbiAgICAgICAgdXBsb2FkQnV0dG9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQ29udmVydCB0byBBZGFwdGl2ZSBDYXJkXCIpO1xuICAgICAgICB1cGxvYWRCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHVwbG9hZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiQ29udmVyc2lvbiB0byBBZGFwdGl2ZSBjYXJkIGJ1dHRvbiBwcmVzc2VkLiBBZGFwdGl2ZSBDYXJkIGNvbnZlcnNpb24gaW4gUHJvZ3Jlc3NcIik7XG4gICAgICAgICAgICBsZXQgc3Bpbm5lckVsZW1lbnQgPSB0aGlzLmxvYWRTcGlubmVyKCk7XG4gICAgICAgICAgICB0aGlzLnNldENvbnRlbnQoc3Bpbm5lckVsZW1lbnQpO1xuICAgICAgICAgICAgc3Bpbm5lckVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hNYW5hZ2VyXG4gICAgICAgICAgICAgICAgLmdldFByZWRpY3RlZERhdGEoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwbG9hZGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNUZW1wbGF0ZU9wdGlvbkNoZWNrZWRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcyB8fCByZXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25DYXJkRmFpbHVyZShzcGlubmVyRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmVkaWN0ZWRDYXJkSlNPTiA9IHJlcy5jYXJkX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdXBsb2FkQnV0dG9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFNwaW5uZXIoKSB7XG4gICAgICAgIGxldCBzcGlubmVySG9zdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzcGlubmVySG9zdEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Qtc3Bpbm5lci1ob3N0XCI7XG4gICAgICAgIGxldCBzcGlubmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNwaW5uZXJFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXNwaW5uZXIgYWNkLWltYWdlLXNwaW5uZXJcIjtcbiAgICAgICAgbGV0IHNwaW5uZXJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc3Bpbm5lclRleHQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInN0YXR1c1wiKTtcbiAgICAgICAgc3Bpbm5lclRleHQuY2xhc3NOYW1lID0gXCJhY2QtY29udmVyc2lvbi10ZXh0XCI7XG4gICAgICAgIHNwaW5uZXJUZXh0LmlubmVyVGV4dCA9IFwiQWRhcHRpdmUgQ2FyZCBjb252ZXJzaW9uIGluIHByb2dyZXNzXCI7XG4gICAgICAgIHNwaW5uZXJIb3N0RWxlbWVudC5hcHBlbmRDaGlsZChzcGlubmVyRWxlbWVudCk7XG4gICAgICAgIHNwaW5uZXJIb3N0RWxlbWVudC5hcHBlbmRDaGlsZChzcGlubmVyVGV4dCk7XG4gICAgICAgIHJldHVybiBzcGlubmVySG9zdEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJJbWFnZShpbWFnZUNvbnRlbnQ6IHN0cmluZywgaW1hZ2VOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5faW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcInNyY1wiLCBpbWFnZUNvbnRlbnQpO1xuICAgICAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGltYWdlTmFtZSk7XG4gICAgICAgIHRoaXMuX3VwbG9hZGVkSW1hZ2UgPSBpbWFnZUNvbnRlbnQ7XG4gICAgICAgIHRoaXMuX2lucHV0VGVtcGxhdGUucmVtb3ZlQ2hpbGQodGhpcy5fYnV0dG9uQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5faW5wdXRUZW1wbGF0ZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlclVwbG9hZEJ1dHRvbihcImFjdGlvblwiKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJVcGxvYWRDb250cm9sKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgdGhpcy5faW5wdXRUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX2lucHV0VGVtcGxhdGUuY2xhc3NOYW1lID0gXCJhY2QtdXBsb2FkLWNvbnRyb2xcIjtcbiAgICAgICAgdGhpcy5faW5wdXRUZW1wbGF0ZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlclVwbG9hZGVkSW1hZ2UoKSk7XG4gICAgICAgIHRoaXMuX2lucHV0VGVtcGxhdGUuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJVcGxvYWRCdXR0b24oXCJmaWxlXCIpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0VGVtcGxhdGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJVcGxvYWRDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCB1cGxvYWRUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHVwbG9hZFRlbXBsYXRlLmNsYXNzTmFtZSA9IFwiYWNkLWltYWdlLWZpbGUtY29udGFpbmVyXCI7XG4gICAgICAgIHVwbG9hZFRlbXBsYXRlLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyVXBsb2FkQ29udHJvbCgpKTtcbiAgICAgICAgcmV0dXJuIHVwbG9hZFRlbXBsYXRlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVySW1hZ2VDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0ZW1wbGF0ZS5jbGFzc05hbWUgPSBcImFjZC1pbWFnZS11cGxvYWQtY29udGFpbmVyXCI7XG4gICAgICAgIHRlbXBsYXRlLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyVGl0bGUoKSk7XG4gICAgICAgIHRlbXBsYXRlLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyVGl0bGVDb250ZW50KCkpO1xuICAgICAgICB0ZW1wbGF0ZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlclVwbG9hZENvbnRhaW5lcigpKTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyU2FtcGxlVGVtcGxhdGUoKSB7XG4gICAgICAgIGxldCBzYW1wbGVJbWFnZVRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5pZCA9IFwiYWNkLXNhbXBsZS1pbWFnZXNcIjtcbiAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS50YWJJbmRleCA9IDA7XG4gICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUuY2xhc3NOYW1lID0gXCJhY2Qtc2FtcGxlLWltYWdlLWNvbnRhaW5lclwiO1xuICAgICAgICBzYW1wbGVJbWFnZVRlbXBsYXRlLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcImNvbHVtblwiO1xuICAgICAgICBsZXQgc3Bpbm5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzcGlubmVyRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1zcGlubmVyXCI7XG4gICAgICAgIHNwaW5uZXJFbGVtZW50LnN0eWxlLndpZHRoID0gXCIyOHB4XCI7XG4gICAgICAgIHNwaW5uZXJFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMjhweFwiO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbWVzc2FnZS5jbGFzc05hbWUgPSBcImFjZC1kaWFsb2ctbWVzc2FnZVwiO1xuICAgICAgICBtZXNzYWdlLmlubmVyVGV4dCA9IFwiTG9hZGluZyBTYW1wbGUgSW1hZ2VzLi4uXCI7XG4gICAgICAgIG1lc3NhZ2Uuc3R5bGUubWFyZ2luVG9wID0gXCIxMHB4XCI7XG4gICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUuYXBwZW5kQ2hpbGQoc3Bpbm5lckVsZW1lbnQpO1xuICAgICAgICBzYW1wbGVJbWFnZVRlbXBsYXRlLmFwcGVuZENoaWxkKG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMuZmV0Y2hNYW5hZ2VyLmdldFNhbXBsZUltYWdlcygpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGltYWdlVGl0bGUuaW5uZXJUZXh0ID0gXCJDaG9vc2UgZnJvbSBvdXIgU2FtcGxlIEltYWdlc1wiO1xuICAgICAgICAgICAgICAgIGltYWdlVGl0bGUuY2xhc3NOYW1lID0gXCJhY2QtaW1hZ2UtdGl0bGUgc2FtcGxlLWluZm8tdGV4dFwiO1xuICAgICAgICAgICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUuc3R5bGUuZmxleERpcmVjdGlvbiA9IFwicm93XCI7XG4gICAgICAgICAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5yZW1vdmVDaGlsZChzcGlubmVyRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5yZW1vdmVDaGlsZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBzYW1wbGVJbWFnZVRlbXBsYXRlLmFwcGVuZENoaWxkKGltYWdlVGl0bGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBpbWFnZUNvbnRhaW5lci5jbGFzc05hbWUgPSBcImFjZC1zYW1wbGUtbGlzdFwiO1xuICAgICAgICAgICAgICAgIGltYWdlQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJsaXN0XCIpO1xuICAgICAgICAgICAgICAgIHJlcy50ZW1wbGF0ZXMubWFwKCh0ZW1wbGF0ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNhbXBsZUltYWdlID0gbmV3IEltYWdlSXRlbSh0ZW1wbGF0ZSwgaW5kZXgrMSk7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZUltYWdlLm9uQ2xpY2sgPSAoc2VsZWN0ZWRJbWFnZTogc3RyaW5nLCBpbWFnZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJJbWFnZShzZWxlY3RlZEltYWdlLCBpbWFnZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpbWFnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzYW1wbGVJbWFnZS5yZW5kZXIoKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5hcHBlbmRDaGlsZChpbWFnZUNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0Q2hpbGQgPSBpbWFnZUNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBmaXJzdENoaWxkLmZvY3VzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgZXJyb3JFbGVtZW50LmlubmVyVGV4dCA9IFwiRmFpbGVkIHRvIHJlYWNoIHBpYzJjYXJkIHNlcnZpY2VcIjtcbiAgICAgICAgICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtaW1hZ2UtdGl0bGUgZXJyb3ItaW5mb1wiO1xuICAgICAgICAgICAgICAgIGVycm9yRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwic3RhdHVzXCIpO1xuICAgICAgICAgICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUucmVtb3ZlQ2hpbGQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5yZW1vdmVDaGlsZChzcGlubmVyRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5hcHBlbmRDaGlsZChlcnJvckVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNhbXBsZUltYWdlVGVtcGxhdGU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHJlbmRlckNvbnRlbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtcGljMmNhcmQtY29udGFpbmVyXCI7XG4gICAgICAgIGNvbnN0IHBvd2VyZWRCeUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHBvd2VyZWRCeUNvbnRhaW5lci5jbGFzc05hbWUgPSBcImFjZC1wb3dlcmVkYnktdGl0bGVcIjtcbiAgICAgICAgcG93ZXJlZEJ5Q29udGFpbmVyLmlubmVySFRNTCA9XG4gICAgICAgICAgICBcIlBvd2VyZWQgQnkgPGEgY2xhc3M9J3Bvd2VyZWRieS1saW5rJyBocmVmPSdodHRwczovL3d3dy5iaWd0aGlua2NvZGUuY29tLycgdGFyZ2V0PSdfYmxhbmsnPjxzcGFuIGNsYXNzPSdsaW5rJz5CaWdUaGlua0NvZGU8L3NwYW4+PC9hPlwiO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJhY2Qtc2FtcGxlLWNvbnRhaW5lclwiO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckltYWdlQ29udGFpbmVyKCkpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJTYW1wbGVUZW1wbGF0ZSgpKTtcbiAgICAgICAgdGhpcy5zZXRDb250ZW50KHBvd2VyZWRCeUNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuc2V0Q29udGVudChjb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IHByZWRpY3RlZENhcmRKU09OKCk6IHByZWRpY3RlZENhcmRKU09OIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWRpY3RlZENhcmRKU09OO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEltYWdlSXRlbSB7XG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdGVtcGxhdGU6IHN0cmluZywgcmVhZG9ubHkgaXRlbUluZGV4OiBudW1iZXIpIHt9XG4gICAgb25DbGljazogKHRlbXBsYXRlOiBzdHJpbmcsIHNhbXBsZUltYWdlTmFtZTogc3RyaW5nKSA9PiB2b2lkO1xuXG4gICAgcmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3Qgc2FtcGxlSW1hZ2VOYW1lID0gYFNhbXBsZSBJbWFnZSAke3RoaXMuaXRlbUluZGV4fWA7XG4gICAgICAgIGNvbnN0IGltYWdlUGxhY2Vob2xkZXIgPSA8SFRNTEltYWdlRWxlbWVudD4oXG4gICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpXG4gICAgICAgICk7XG4gICAgICAgIGltYWdlUGxhY2Vob2xkZXIuY2xhc3NOYW1lID0gXCJhY2Qtc2FtcGxlLWltYWdlXCI7XG4gICAgICAgIGltYWdlUGxhY2Vob2xkZXIudGFiSW5kZXggPSAwO1xuICAgICAgICBpbWFnZVBsYWNlaG9sZGVyLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJsaXN0aXRlbVwiKTtcbiAgICAgICAgaW1hZ2VQbGFjZWhvbGRlci5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgc2FtcGxlSW1hZ2VOYW1lKTtcbiAgICAgICAgaW1hZ2VQbGFjZWhvbGRlci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBcInNyY1wiLFxuICAgICAgICAgICAgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsXCIgKyB0aGlzLnRlbXBsYXRlXG4gICAgICAgICk7XG4gICAgICAgIGltYWdlUGxhY2Vob2xkZXIub25jbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNsaWNrKChldmVudC50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudCkuc3JjLCBzYW1wbGVJbWFnZU5hbWUpO1xuICAgICAgICAgICAgaW1hZ2VQbGFjZWhvbGRlci5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgYCR7c2FtcGxlSW1hZ2VOYW1lfSBzZWxlY3RlZGApO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZVBsYWNlaG9sZGVyLm9uZm9jdXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBpbWFnZVBsYWNlaG9sZGVyLnNldEF0dHJpYnV0ZShcImFsdFwiLCBzYW1wbGVJbWFnZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGltYWdlUGxhY2Vob2xkZXIub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsaWNrKChldmVudC50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudCkuc3JjLCBzYW1wbGVJbWFnZU5hbWUpO1xuICAgICAgICAgICAgICAgIGltYWdlUGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGAke3NhbXBsZUltYWdlTmFtZX0gc2VsZWN0ZWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1hZ2VQbGFjZWhvbGRlcjtcbiAgICB9XG59XG5leHBvcnQgaW50ZXJmYWNlIHByZWRpY3RlZENhcmRKU09OIHtcbiAgICBjYXJkOiB7fTtcbiAgICBkYXRhOiB7fTtcbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0ICogYXMgbW9uYWNvIGZyb20gXCJtb25hY28tZWRpdG9yXCI7XG5pbXBvcnQgeyBEaWFsb2csIERpYWxvZ0J1dHRvbiB9IGZyb20gXCIuL2RpYWxvZ1wiO1xuaW1wb3J0IHsgQ2FyZERhdGEgfSBmcm9tIFwiLi9vcGVuLXNhbXBsZS1kaWFsb2dcIjtcbmltcG9ydCB7IEpTT05TY2hlbWFDYXJkIH0gZnJvbSBcImFkYXB0aXZlY2FyZHMtdGVtcGxhdGluZ1wiO1xuXG5leHBvcnQgY2xhc3MgT3Blbkpzb25TY2hlbWFEaWFsb2cgZXh0ZW5kcyBEaWFsb2cge1xuICAgIHByaXZhdGUgX291dHB1dDogQ2FyZERhdGE7XG4gICAgcHJpdmF0ZSBfcHJldmlld0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfcHJldmlld0VsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2VkaXRvcjogbW9uYWNvLmVkaXRvci5JU3RhbmRhbG9uZUNvZGVFZGl0b3I7XG5cbiAgICByZWFkb25seSBzdWJtaXRCdXR0b246IERpYWxvZ0J1dHRvbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc3VibWl0QnV0dG9uID0gbmV3IERpYWxvZ0J1dHRvbihcIkNyZWF0ZVwiKTtcbiAgICAgICAgdGhpcy5zdWJtaXRCdXR0b24ub25DbGljayA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBbdGhpcy5zdWJtaXRCdXR0b25dO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICAgICAgdGhpcy5fZWRpdG9yLmxheW91dCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyUHJldmlldygpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1vcGVuLWNvZGUtZGlhbG9nLXByZXZpZXdcIjtcblxuICAgICAgICBjb25zdCBjYXJkID0gbmV3IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCgpO1xuXG4gICAgICAgIGlmICh0aGlzLm91dHB1dD8uY2FyZFBheWxvYWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZERhdGEgPSBKU09OLnBhcnNlKHRoaXMub3V0cHV0LmNhcmRQYXlsb2FkKTtcbiAgICAgICAgICAgICAgICBjYXJkLnBhcnNlKGNhcmREYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FyZC5wYXJzZSh7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQWRhcHRpdmVDYXJkXCIsXG4gICAgICAgICAgICAgICAgXCIkc2NoZW1hXCI6IFwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW8vc2NoZW1hcy9hZGFwdGl2ZS1jYXJkLmpzb25cIixcbiAgICAgICAgICAgICAgICBcInZlcnNpb25cIjogXCIxLjBcIixcbiAgICAgICAgICAgICAgICBcImJvZHlcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJUZXh0QmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIklucHV0IEpTT04gU2NoZW1hIHRvIGNyZWF0ZSBhIGNhcmQhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndyYXBcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVwiOiBcIkxhcmdlXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjYXJkLnJlbmRlcigpO1xuICAgICAgICBjYXJkLnJlbmRlcmVkRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuXG4gICAgICAgIHJlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChjYXJkLnJlbmRlcmVkRWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudFxuICAgIH1cblxuICAgIHByaXZhdGUgcmVmcmVzaFByZXZpZXcoKSB7XG4gICAgICAgIHRoaXMuX3ByZXZpZXdDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fcHJldmlld0VsZW1lbnQpO1xuICAgICAgICB0aGlzLl9wcmV2aWV3RWxlbWVudCA9IHRoaXMucmVuZGVyUHJldmlldygpO1xuICAgICAgICB0aGlzLl9wcmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3ByZXZpZXdFbGVtZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckVkaXRvcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1vcGVuLWNvZGUtZGlhbG9nLWVkaXRvclwiO1xuXG4gICAgICAgIGNvbnN0IG1vbmFjbyA9IHdpbmRvd1tcIm1vbmFjb1wiXTtcbiAgICAgICAgdGhpcy5fZWRpdG9yID0gbW9uYWNvLmVkaXRvci5jcmVhdGUoXG4gICAgICAgICAgICByZW5kZXJlZEVsZW1lbnQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9sZGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTMuNSxcbiAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9lZGl0b3IubGF5b3V0KCk7XG5cbiAgICAgICAgdGhpcy5fZWRpdG9yLm9uRGlkQ2hhbmdlTW9kZWxDb250ZW50KCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9lZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShtb2RlbCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gSlNPTlNjaGVtYUNhcmQoanNvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3V0cHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICBjYXJkUGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoY2FyZCksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFByZXZpZXcoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnRcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcmVuZGVyQ29udGVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1vcGVuLWNvZGUtZGlhbG9nLWNvbnRhaW5lclwiO1xuXG4gICAgICAgIGNvbnN0IGVkaXRvckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVkaXRvckNvbnRhaW5lci5jbGFzc05hbWUgPSBcImFjZC1vcGVuLWNvZGUtZGlhbG9nLWVkaXRvci1jb250YWluZXJcIjtcbiAgICAgICAgcmVuZGVyZWRFbGVtZW50LmFwcGVuZENoaWxkKGVkaXRvckNvbnRhaW5lcik7XG5cbiAgICAgICAgY29uc3QgZWRpdG9yTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgIGVkaXRvckxhYmVsLmlubmVyVGV4dCA9IFwiSlNPTiBTY2hlbWFcIlxuICAgICAgICBlZGl0b3JDb250YWluZXIuYXBwZW5kQ2hpbGQoZWRpdG9yTGFiZWwpO1xuXG4gICAgICAgIGNvbnN0IGVkaXRvckVsZW1lbnQgPSB0aGlzLnJlbmRlckVkaXRvcigpO1xuICAgICAgICBlZGl0b3JDb250YWluZXIuYXBwZW5kQ2hpbGQoZWRpdG9yRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5fcHJldmlld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX3ByZXZpZXdDb250YWluZXIuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1jb2RlLWRpYWxvZy1wcmV2aWV3LWNvbnRhaW5lclwiO1xuICAgICAgICByZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fcHJldmlld0NvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5fcHJldmlld0VsZW1lbnQgPSB0aGlzLnJlbmRlclByZXZpZXcoKVxuICAgICAgICB0aGlzLl9wcmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3ByZXZpZXdFbGVtZW50KVxuXG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXQgb3V0cHV0KCk6IENhcmREYXRhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dHB1dDtcbiAgICB9XG59IiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5cbmltcG9ydCAqIGFzIEFDRGF0YSBmcm9tIFwiYWRhcHRpdmVjYXJkcy10ZW1wbGF0aW5nXCI7XG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgQ2F0YWxvZ3VlRW50cnksIFNhbXBsZUNhdGFsb2d1ZSB9IGZyb20gXCIuL2NhdGFsb2d1ZVwiO1xuaW1wb3J0IHsgRGlhbG9nIH0gZnJvbSBcIi4vZGlhbG9nXCI7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiYWRhcHRpdmVjYXJkcy1jb250cm9sc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhcmREYXRhIHtcbiAgICBjYXJkUGF5bG9hZD86IHN0cmluZ1xuICAgIHNhbXBsZURhdGE/OiBzdHJpbmcsXG4gICAgc2FtcGxlSG9zdERhdGE/OiBzdHJpbmcsXG4gICAgdGh1bWJuYWlsPzogSFRNTEVsZW1lbnQgfCAoKCkgPT4gSFRNTEVsZW1lbnQpXG59XG5cbnR5cGUgQ2FyZERhdGFDYWxsYmFjayA9IChvdXRwdXQ6IENhcmREYXRhKSA9PiBhbnk7XG50eXBlIENhcmREYXRhUHJvdmlkZXIgPSAoY2FsbGJhY2s/OiBDYXJkRGF0YUNhbGxiYWNrKSA9PiBDYXJkRGF0YSB8IHZvaWQ7XG5cbmludGVyZmFjZSBPcGVuU2FtcGxlSXRlbVByb3BzIHtcbiAgICBsYWJlbDogc3RyaW5nLFxuICAgIG9uQ2xpY2s/OiAoZXY6IE1vdXNlRXZlbnQpID0+IGFueSxcbiAgICBvbktleUVudGVyRXZlbnQ/OiAoZXY6IEtleWJvYXJkRXZlbnQpID0+IGFueSxcbiAgICBjYXJkRGF0YT86IENhcmREYXRhIHwgQ2FyZERhdGFQcm92aWRlcixcbn1cblxuY2xhc3MgT3BlblNhbXBsZUl0ZW0ge1xuICAgIG9uQ29tcGxldGU6IENhcmREYXRhQ2FsbGJhY2s7XG4gICAgb25OYXZpZ2F0ZVRvTmV4dExpc3Q/OiAoKSA9PiB2b2lkO1xuICAgIG9uTmF2aWdhdGVUb1ByZXZpb3VzTGlzdD86ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBwcm9wczogT3BlblNhbXBsZUl0ZW1Qcm9wcykgeyB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfaWQgPSAwO1xuICAgIHByaXZhdGUgc3RhdGljIGdldE5ld0l0ZW1JZChwcmVmaXg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IG5ld0lkID0gcHJlZml4ICsgXCItXCIgKyBPcGVuU2FtcGxlSXRlbS5faWQ7XG5cbiAgICAgICAgT3BlblNhbXBsZUl0ZW0uX2lkKys7XG5cbiAgICAgICAgcmV0dXJuIG5ld0lkO1xuICAgIH1cblxuICAgIHJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IG5ld0l0ZW1JZCA9IE9wZW5TYW1wbGVJdGVtLmdldE5ld0l0ZW1JZChcImFjZC1vcGVuLXNhbXBsZS1pdGVtLXRpdGxlXCIpO1xuXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLW9wZW4tc2FtcGxlLWl0ZW1cIjtcbiAgICAgICAgZWxlbWVudC50YWJJbmRleCA9IDA7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZEJ5XCIsIG5ld0l0ZW1JZCk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImxpc3RpdGVtXCIpO1xuICAgICAgICBlbGVtZW50Lm9uY2xpY2sgPSB0aGlzLnByb3BzLm9uQ2xpY2sgPz8gKFxuICAgICAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2FyZFNlbGVjdGVkKCk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGVsZW1lbnQub25rZXl1cCA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy5lbnRlcjpcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgb25LZXlFbnRlckV2ZW50IGhhcyBiZWVuIHNwZWNpZmllZCwgd2Ugd2lsbCBmb2xsb3cgdGhhdCBsb2dpYyBmb3Igc2VsZWN0aW5nIGFuIE9wZW5TYW1wbGVJdGVtXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uS2V5RW50ZXJFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbktleUVudGVyRXZlbnQoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBvbktleUVudGVyRXZlbnQgaXMgbm90IHNwZWNpZmllZCwgd2UgYXNzdW1lIE9wZW5TYW1wbGVJdGVtIHNob3VsZCBiZSBzZWxlY3RlZCBhbmQgbG9hZGVkIGFzIHVzdWFsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2FyZFNlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy5kb3duOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG9OZXh0RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy51cDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvUHJldmlvdXNFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50cy5rZXlzLnJpZ2h0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG9OZXh0RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy5sZWZ0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG9QcmV2aW91c0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGh1bWJuYWlsSG9zdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRodW1ibmFpbEhvc3QuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1zYW1wbGUtaXRlbS10aHVtYm5haWxcIjtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jYXJkRGF0YSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJhY2Qtc3Bpbm5lclwiO1xuICAgICAgICAgICAgc3Bpbm5lci5zdHlsZS53aWR0aCA9IFwiMjhweFwiO1xuICAgICAgICAgICAgc3Bpbm5lci5zdHlsZS5oZWlnaHQgPSBcIjI4cHhcIjtcblxuICAgICAgICAgICAgdGh1bWJuYWlsSG9zdC5hcHBlbmRDaGlsZChzcGlubmVyKTtcblxuICAgICAgICAgICAgY29uc3QgY2FyZERhdGEgPSB0aGlzLnByb3BzLmNhcmREYXRhKChjYXJkRGF0YTogQ2FyZERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aHVtYm5haWxIb3N0LnJlbW92ZUNoaWxkKHNwaW5uZXIpO1xuICAgICAgICAgICAgICAgIGlmIChjYXJkRGF0YS50aHVtYm5haWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxIb3N0LmFwcGVuZENoaWxkKGNhcmREYXRhLnRodW1ibmFpbCgpKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FyZERhdGEudGh1bWJuYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbEhvc3QuYXBwZW5kQ2hpbGQoY2FyZERhdGEudGh1bWJuYWlsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGlmIChjYXJkRGF0YSkge1xuICAgICAgICAgICAgICAgIHRodW1ibmFpbEhvc3QucmVtb3ZlQ2hpbGQoc3Bpbm5lcik7XG4gICAgICAgICAgICAgICAgaWYgKGNhcmREYXRhLnRodW1ibmFpbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbEhvc3QuYXBwZW5kQ2hpbGQoY2FyZERhdGEudGh1bWJuYWlsKCkpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYXJkRGF0YS50aHVtYm5haWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsSG9zdC5hcHBlbmRDaGlsZChjYXJkRGF0YS50aHVtYm5haWwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuY2FyZERhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNhcmREYXRhLnRodW1ibmFpbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsSG9zdC5hcHBlbmRDaGlsZCh0aGlzLnByb3BzLmNhcmREYXRhLnRodW1ibmFpbCgpKVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmNhcmREYXRhLnRodW1ibmFpbCkge1xuICAgICAgICAgICAgICAgIHRodW1ibmFpbEhvc3QuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy5jYXJkRGF0YS50aHVtYm5haWwpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaXNwbGF5TmFtZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXNwbGF5TmFtZUVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1zYW1wbGUtaXRlbS10aXRsZVwiO1xuICAgICAgICBkaXNwbGF5TmFtZUVsZW1lbnQuaWQgPSBuZXdJdGVtSWQ7XG4gICAgICAgIGRpc3BsYXlOYW1lRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLnByb3BzLmxhYmVsO1xuXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGh1bWJuYWlsSG9zdCk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZGlzcGxheU5hbWVFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBuYXZpZ2F0ZVRvTmV4dEVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIChlbGVtZW50Lm5leHRTaWJsaW5nIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMub25OYXZpZ2F0ZVRvTmV4dExpc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTmF2aWdhdGVUb05leHRMaXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuYXZpZ2F0ZVRvUHJldmlvdXNFbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LnByZXZpb3VzU2libGluZykge1xuICAgICAgICAgICAgKGVsZW1lbnQucHJldmlvdXNTaWJsaW5nIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMub25OYXZpZ2F0ZVRvUHJldmlvdXNMaXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk5hdmlnYXRlVG9QcmV2aW91c0xpc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2FyZFNlbGVjdGVkKCkge1xuICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jYXJkRGF0YSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZERhdGEgPSB0aGlzLnByb3BzLmNhcmREYXRhKHRoaXMub25Db21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhcmREYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZShjYXJkRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmNhcmREYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKHRoaXMucHJvcHMuY2FyZERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlblNhbXBsZURpYWxvZ1Byb3BzIHtcbiAgICBoYW5kbGVycz86IChPcGVuU2FtcGxlSXRlbVByb3BzIHwgbnVsbClbXSxcbiAgICBjYXRhbG9ndWU/OiBTYW1wbGVDYXRhbG9ndWUsXG59XG5cbmV4cG9ydCBjbGFzcyBPcGVuU2FtcGxlRGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgICBwcml2YXRlIF9saXN0RWxlbWVudHM6IEhUTUxFbGVtZW50W10gPSBbXTtcbiAgICBwcml2YXRlIF9vdXRwdXQ6IENhcmREYXRhO1xuICAgIHByaXZhdGUgc3RhdGljIF9idWlsdGluSXRlbXM6IE9wZW5TYW1wbGVJdGVtUHJvcHNbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IFwiQmxhbmsgQ2FyZFwiLFxuICAgICAgICAgICAgY2FyZERhdGE6IHtcbiAgICAgICAgICAgICAgICBjYXJkUGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQWRhcHRpdmVDYXJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NoZW1hOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBcIjEuMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgXTtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHByb3BzOiBPcGVuU2FtcGxlRGlhbG9nUHJvcHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclNlY3Rpb24odGl0bGU6IHN0cmluZyB8IG51bGwsIGl0ZW1zOiAoT3BlblNhbXBsZUl0ZW1Qcm9wcyB8IG51bGwpW10pOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWRpYWxvZy10aXRsZVwiO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LmlubmVyVGV4dCA9IHRpdGxlO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9IFwiMTBweFwiO1xuXG4gICAgICAgICAgICByZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQodGl0bGVFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbGlzdEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1zYW1wbGUtaXRlbS1jb250YWluZXJcIjtcbiAgICAgICAgbGlzdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImxpc3RcIik7XG4gICAgICAgIHRoaXMuX2xpc3RFbGVtZW50cy5wdXNoKGxpc3RFbGVtZW50KTtcblxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGlmICghaXRlbSkgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBpdGVtRWxlbWVudCA9IG5ldyBPcGVuU2FtcGxlSXRlbShpdGVtKTtcbiAgICAgICAgICAgIGl0ZW1FbGVtZW50Lm9uQ29tcGxldGUgPSAob3V0cHV0OiBDYXJkRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX291dHB1dCA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtRWxlbWVudC5vbk5hdmlnYXRlVG9OZXh0TGlzdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBsaXN0XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5fbGlzdEVsZW1lbnRzLmluZGV4T2YobGlzdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBuZXh0IGluZGV4IGhhcyBhIHZhbGlkIGxpc3QsIHdlIHdhbnQgdG8gbmF2aWdhdGUgdG8gdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoKGN1cnJlbnRJbmRleCAhPT0gLTEpICYmIChjdXJyZW50SW5kZXggKyAxIDwgdGhpcy5fbGlzdEVsZW1lbnRzLmxlbmd0aCkgJiYgdGhpcy5fbGlzdEVsZW1lbnRzLmF0KGN1cnJlbnRJbmRleCArIDEpPy5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLl9saXN0RWxlbWVudHMuYXQoY3VycmVudEluZGV4ICsgMSkuZmlyc3RDaGlsZCBhcyBIVE1MRWxlbWVudCkuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtRWxlbWVudC5vbk5hdmlnYXRlVG9QcmV2aW91c0xpc3QgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgbGlzdFxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuX2xpc3RFbGVtZW50cy5pbmRleE9mKGxpc3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgaW5kZXggaGFzIGEgdmFsaWQgbGlzdCwgd2Ugd2FudCB0byBuYXZpZ2F0ZSB0byB0aGUgbGFzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgaWYgKChjdXJyZW50SW5kZXggIT09IC0xKSAmJiAoY3VycmVudEluZGV4IC0gMSA+PSAwKSAmJiB0aGlzLl9saXN0RWxlbWVudHMuYXQoY3VycmVudEluZGV4IC0gMSk/Lmxhc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAodGhpcy5fbGlzdEVsZW1lbnRzLmF0KGN1cnJlbnRJbmRleCAtIDEpLmxhc3RDaGlsZCBhcyBIVE1MRWxlbWVudCkuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpc3RFbGVtZW50LmFwcGVuZENoaWxkKGl0ZW1FbGVtZW50LnJlbmRlcigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChsaXN0RWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcmVuZGVyQ29udGVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVkU2VjdGlvbiA9IHRoaXMucmVuZGVyU2VjdGlvbihudWxsLCBPcGVuU2FtcGxlRGlhbG9nLl9idWlsdGluSXRlbXMuY29uY2F0KHRoaXMucHJvcHMuaGFuZGxlcnMpKVxuICAgICAgICByZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZmVhdHVyZWRTZWN0aW9uKTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jYXRhbG9ndWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpdmlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaHJcIik7XG4gICAgICAgICAgICByZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2aWRlcik7XG5cbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2F0YWxvZ3VlLm9uRG93bmxvYWRlZCA9IChzZW5kZXI6IFNhbXBsZUNhdGFsb2d1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZW5kZXIuaXNEb3dubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGFsb2d1ZVNlY3Rpb24gPSB0aGlzLnJlbmRlclNlY3Rpb24oXCJFeHBsb3JlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhdGFsb2d1ZS5lbnRyaWVzLm1hcCgoZW50cnk6IENhdGFsb2d1ZUVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGVudHJ5LmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkRGF0YTogKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5vbkRvd25sb2FkZWQgPSAoc2VuZGVyOiBDYXRhbG9ndWVFbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzOiBib29sZWFuID0gc2VuZGVyLmNhcmRQYXlsb2FkRG93bmxvYWRlZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkUGF5bG9hZCA9IEpTT04ucGFyc2Uoc2VuZGVyLmNhcmRQYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQWRhcHRpdmUuQWRhcHRpdmVDYXJkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkRGF0YSA9IHNlbmRlci5zYW1wbGVEYXRhID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQUNEYXRhLlRlbXBsYXRlKGNhcmRQYXlsb2FkKS5leHBhbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290OiBKU09OLnBhcnNlKHNlbmRlci5zYW1wbGVEYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2FyZFBheWxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQucGFyc2UoY2FyZERhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQucmVuZGVyZWRFbGVtZW50LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZFBheWxvYWQ6IGVudHJ5LmNhcmRQYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZURhdGE6IGVudHJ5LnNhbXBsZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlSG9zdERhdGE6IFwie31cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWw6IGNhcmQucmVuZGVyZWRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3YWxsb3cgdGhlIGV4Y2VwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBsb2FkIGNhcmQgc2FtcGxlLiBFcnJvcjogXCIgKyBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmRvd25sb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRFbGVtZW50LmFwcGVuZENoaWxkKGNhdGFsb2d1ZVNlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNlbmRlciBpcyBub3QgZG93bmxvYWRlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2F0YWxvZ3VlLmRvd25sb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdENoaWxkID0gZmVhdHVyZWRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBmaXJzdENoaWxkLmZvY3VzKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXQgb3V0cHV0KCk6IENhcmREYXRhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dHB1dDtcbiAgICB9XG59IiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5leHBvcnQgY2xhc3MgUGVlckNvbW1hbmQge1xuICAgIHByaXZhdGUgX3JlbmRlcmVkRWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxSZW5kZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBsZXQgYnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1wZWVyQnV0dG9uXCIpO1xuICAgICAgICBidXR0b25FbGVtZW50LnR5cGUgPSBcImJ1dHRvblwiO1xuICAgICAgICBidXR0b25FbGVtZW50LnRpdGxlID0gdGhpcy50b29sVGlwID8gdGhpcy50b29sVGlwIDogdGhpcy5uYW1lO1xuXG4gICAgICAgIGlmICh0aGlzLmljb25DbGFzcykge1xuICAgICAgICAgICAgbGV0IGljb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtcGVlckJ1dHRvbi1pY29uXCIsIHRoaXMuaWNvbkNsYXNzKTtcblxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmRDaGlsZChpY29uRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5uYW1lICYmICghdGhpcy5pY29uQ2xhc3MgfHwgdGhpcy5hbHdheXNTaG93TmFtZSkpIHtcbiAgICAgICAgICAgIGxldCBuYW1lRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBuYW1lRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXBlZXJCdXR0b24tdGV4dFwiKTtcbiAgICAgICAgICAgIG5hbWVFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMubmFtZTtcblxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidmFyaWFibGVXaWR0aFwiKTtcbiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuYXBwZW5kQ2hpbGQobmFtZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZml4ZWRXaWR0aFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQub25jbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5leGVjdXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlKHRoaXMsIGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQub25wb2ludGVyZG93biA9IChlOiBQb2ludGVyRXZlbnQpID0+IHsgZS5jYW5jZWxCdWJibGUgPSB0cnVlOyB9O1xuXG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xuICAgIH1cblxuICAgIG5hbWU6IHN0cmluZztcbiAgICBhbHdheXNTaG93TmFtZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHRvb2xUaXA6IHN0cmluZyA9IHVuZGVmaW5lZDtcbiAgICBpY29uQ2xhc3M6IHN0cmluZztcbiAgICBpc1Byb21vdGFibGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBzaG93SW5Qcm9wZXJ0eVNoZWV0OiBib29sZWFuID0gZmFsc2U7XG4gICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihpbml0PzogUGFydGlhbDxQZWVyQ29tbWFuZD4pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbml0KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQgPSB0aGlzLmludGVybmFsUmVuZGVyKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXQgcmVuZGVyZWRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkRWxlbWVudDtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUGljMkNhcmQge1xuXHRzdGF0aWMgcGljMmNhcmRTZXJ2aWNlID0gXCJcIjtcblx0c3RhdGljIHByaXZhY3lMaW5rID0gXCIuLi9wcml2YWN5XCI7XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvYWRTZXR0aW5nUmVzdWx0PFQ+IHtcbiAgICBzdWNjZWVkZWQ6IGJvb2xlYW47XG4gICAgdmFsdWU/OiBUO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NNYW5hZ2VyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBfaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGU6IGJvb2xlYW4gPSB1bmRlZmluZWQ7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBkZXRlcm1pbmVJZlN0b3JhZ2VJc0F2YWlsYWJsZSh0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzdG9yYWdlID0gd2luZG93W3R5cGVdO1xuICAgICAgICAgICAgbGV0IHggPSAnX19zdG9yYWdlX3Rlc3RfXyc7XG5cbiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSh4LCB4KTtcbiAgICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh4KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICAgICAgICBlLmNvZGUgPT09IDIyIHx8XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgICAgICAgIGUuY29kZSA9PT0gMTAxNCB8fFxuICAgICAgICAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxuICAgICAgICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICAgICAgICBlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgICAgICAgIGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykgJiZcbiAgICAgICAgICAgICAgICAvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxuICAgICAgICAgICAgICAgIHN0b3JhZ2UubGVuZ3RoICE9PSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHRyeVNhdmVTZXR0aW5nKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAoU2V0dGluZ3NNYW5hZ2VyLmlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdHJ5TG9hZFN0cmluZ1NldHRpbmcobmFtZTogc3RyaW5nKTogSUxvYWRTZXR0aW5nUmVzdWx0PHN0cmluZz4ge1xuICAgICAgICBpZiAoU2V0dGluZ3NNYW5hZ2VyLmlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcbiAgICBcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXR1cm5WYWx1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2NlZWRlZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzdGF0aWMgdHJ5TG9hZE51bWJlclNldHRpbmcobmFtZTogc3RyaW5nKTogSUxvYWRTZXR0aW5nUmVzdWx0PG51bWJlcj4ge1xuICAgICAgICBpZiAoU2V0dGluZ3NNYW5hZ2VyLmlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZWVkZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJldHVyblZhbHVlID8gcGFyc2VGbG9hdChyZXR1cm5WYWx1ZSkgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZWVkZWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdHJ5TG9hZEJvb2xlYW5TZXR0aW5nKG5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBib29sZWFuKTogSUxvYWRTZXR0aW5nUmVzdWx0PGJvb2xlYW4+IHtcbiAgICAgICAgaWYgKFNldHRpbmdzTWFuYWdlci5pc0xvY2FsU3RvcmFnZUF2YWlsYWJsZSkge1xuICAgICAgICAgICAgbGV0IHJldHVyblZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obmFtZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXR1cm5WYWx1ZSA/IHJldHVyblZhbHVlID09IFwidHJ1ZVwiIDogZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VlZGVkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBpc0xvY2FsU3RvcmFnZUF2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFTZXR0aW5nc01hbmFnZXIuX2lzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBTZXR0aW5nc01hbmFnZXIuX2lzTG9jYWxTdG9yYWdlQXZhaWxhYmxlID0gU2V0dGluZ3NNYW5hZ2VyLmRldGVybWluZUlmU3RvcmFnZUlzQXZhaWxhYmxlKFwibG9jYWxTdG9yYWdlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFNldHRpbmdzTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VBdmFpbGFibGU7XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcblxuZXhwb3J0IGNsYXNzIEdsb2JhbFNldHRpbmdzIHtcbiAgICBzdGF0aWMgZW5hYmxlRGF0YUJpbmRpbmdTdXBwb3J0OiBib29sZWFuID0gZmFsc2U7XG4gICAgc3RhdGljIHNob3dEYXRhU3RydWN0dXJlVG9vbGJveDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN0YXRpYyBzaG93U2FtcGxlRGF0YUVkaXRvclRvb2xib3g6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBzdGF0aWMgc2hvd1NhbXBsZUhvc3REYXRhRWRpdG9yVG9vbGJveDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN0YXRpYyBzaG93VmVyc2lvblBpY2tlcjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN0YXRpYyBzZWxlY3RlZEhvc3RDb250YWluZXJDb250cm9sc1RhcmdldFZlcnNpb246IGJvb2xlYW4gPSB0cnVlO1xuICAgIHN0YXRpYyBzaG93VGFyZ2V0VmVyc2lvbk1pc21hdGNoV2FybmluZzogYm9vbGVhbiA9IHRydWU7XG4gICAgc3RhdGljIHN1cHBvcnRlZFRhcmdldFZlcnNpb25zOiBBZGFwdGl2ZS5WZXJzaW9uW10gPSBBZGFwdGl2ZS5WZXJzaW9ucy5nZXRBbGxEZWNsYXJlZFZlcnNpb25zKCk7XG59XG4iLCJpbXBvcnQgeyBTcGxpdHRlciB9IGZyb20gXCIuL3NwbGl0dGVyXCI7XG5pbXBvcnQgeyBUb29sYm94LCBUb29sYm94T3JpZW50YXRpb24gfSBmcm9tIFwiLi90b29sLWJveFwiO1xuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIi4vc2V0dGluZ3MtbWFuYWdlclwiO1xuXG5leHBvcnQgZW51bSBTaWRlUGFuZWxBbGlnbm1lbnQge1xuICAgIFRvcCxcbiAgICBSaWdodCxcbiAgICBCb3R0b20sXG4gICAgTGVmdFxufVxuXG5jbGFzcyBUb29sYm94SW5mbyB7XG4gICAgcHJpdmF0ZSBfc3BsaXR0ZXI6IFNwbGl0dGVyO1xuXG4gICAgcHJpdmF0ZSByZXNpemVFbmRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMub25SZXNpemVFbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZUVuZGVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNpemVkKCkge1xuICAgICAgICBpZiAodGhpcy5vblJlc2l6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Ub2dnbGVkOiAoc2VuZGVyOiBUb29sYm94SW5mbywgc2F2ZVN0YXRlPzogYm9vbGVhbikgPT4gdm9pZDtcbiAgICBvblJlc2l6ZUVuZGVkOiAoc2VuZGVyOiBUb29sYm94SW5mbykgPT4gdm9pZDtcbiAgICBvblJlc2l6ZWQ6IChzZW5kZXI6IFRvb2xib3hJbmZvKSA9PiB2b2lkO1xuXG4gICAgc2hvd1NwbGl0dGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zcGxpdHRlcikge1xuICAgICAgICAgICAgdGhpcy5zcGxpdHRlci5hdHRhY2hlZFRvLmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZVNwbGl0dGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zcGxpdHRlcikge1xuICAgICAgICAgICAgdGhpcy5zcGxpdHRlci5hdHRhY2hlZFRvLmNsYXNzTGlzdC5hZGQoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdG9vbGJveDogVG9vbGJveCkge1xuICAgICAgICB0b29sYm94Lm9uVG9nZ2xlZCA9IChzZW5kZXI6IFRvb2xib3gsIHNhdmVTdGF0ZTogYm9vbGVhbiA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIGlmIChzZW5kZXIuaXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1NwbGl0dGVyKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvb2xib3gucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlU3BsaXR0ZXIoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudG9vbGJveC5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uVG9nZ2xlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Ub2dnbGVkKHRoaXMsIHNhdmVTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgc3BsaXR0ZXIoKTogU3BsaXR0ZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BsaXR0ZXI7XG4gICAgfVxuXG4gICAgc2V0IHNwbGl0dGVyKHZhbHVlOiBTcGxpdHRlcikge1xuICAgICAgICB0aGlzLl9zcGxpdHRlciA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMuX3NwbGl0dGVyLm9uUmVzaXplRW5kZWQgPSAoc2VuZGVyOiBTcGxpdHRlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNpemVFbmRlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3BsaXR0ZXIub25SZXNpemVkID0gKHNlbmRlcjogU3BsaXR0ZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplZCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2lkZVBhbmVsIHtcbiAgICBwcml2YXRlIF9hdHRhY2hlZFRvOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9hbGlnbm1lbnQ6IFNpZGVQYW5lbEFsaWdubWVudDtcbiAgICBwcml2YXRlIF9jb2xsYXBzZWRUYWJDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2NvbnRlbnRIb3N0OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF90b29sYm94ZXM6IFRvb2xib3hJbmZvW10gPSBbXTtcbiAgICBwcml2YXRlIF9pc1Jlc3RvcmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSB1cGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIGxldCBleHBhbmRlZFRvb2xib3hDb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgdG9vbGJveEluZm8gb2YgdGhpcy5fdG9vbGJveGVzKSB7XG4gICAgICAgICAgICBpZiAodG9vbGJveEluZm8udG9vbGJveC5pc0V4cGFuZGVkKSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWRUb29sYm94Q291bnQrKztcblxuICAgICAgICAgICAgICAgIGlmIChleHBhbmRlZFRvb2xib3hDb3VudCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3hJbmZvLmhpZGVTcGxpdHRlcigpO1xuICAgICAgICAgICAgICAgICAgICB0b29sYm94SW5mby50b29sYm94LnN0cmV0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJveEluZm8uc2hvd1NwbGl0dGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3hJbmZvLnRvb2xib3guc3RyZXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleHBhbmRlZFRvb2xib3hDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkVG8uY2xhc3NMaXN0LnJlbW92ZShcImFjZC1oaWRkZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmNsYXNzTGlzdC5hZGQoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21wdXRlVG9vbGJveFNpemUodG9vbGJveDogVG9vbGJveCkge1xuICAgICAgICBsZXQgYm91bmRpbmdSZWN0ID0gdGhpcy5fYXR0YWNoZWRUby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IHRvb2xib3hCb3VuZGluZ1JlY3QgPSB0b29sYm94LnJlbmRlcmVkRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0b29sYm94LnJlbmRlcmVkRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAoMTAwIC8gYm91bmRpbmdSZWN0LmhlaWdodCAqIHRvb2xib3hCb3VuZGluZ1JlY3QuaGVpZ2h0KSArIFwiJVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9vbGJveC5yZW5kZXJlZEVsZW1lbnQuc3R5bGUud2lkdGggPSAoMTAwIC8gYm91bmRpbmdSZWN0LndpZHRoICogdG9vbGJveEJvdW5kaW5nUmVjdC53aWR0aCkgKyBcIiVcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVzaXplZCgpIHtcbiAgICAgICAgaWYgKHRoaXMub25SZXNpemVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2F2ZVN0YXRlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0b29sYm94UmVzaXplZCh0b29sYm94OiBUb29sYm94KSB7XG4gICAgICAgIGlmICh0aGlzLm9uVG9vbGJveFJlc2l6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25Ub29sYm94UmVzaXplZCh0aGlzLCB0b29sYm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2F2ZVN0YXRlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0b29sYm94RXhwYW5kZWRPckNvbGxhcHNlZCh0b29sYm94OiBUb29sYm94LCBzYXZlU3RhdGU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLm9uVG9vbGJveEV4cGFuZGVkT3JDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25Ub29sYm94RXhwYW5kZWRPckNvbGxhcHNlZCh0aGlzLCB0b29sYm94KTtcbiAgICAgICAgfVxuXG5cdFx0aWYgKHNhdmVTdGF0ZSkge1xuXHRcdFx0dGhpcy5zYXZlU3RhdGUoKTtcblx0XHR9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREaW1lbnNpb25TZXR0aW5nTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pZCArICh0aGlzLmlzVmVydGljYWwgPyBcIkhlaWdodFwiIDogXCJXaWR0aFwiKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ25tZW50ID09IFNpZGVQYW5lbEFsaWdubWVudC5SaWdodCB8fCB0aGlzLl9hbGlnbm1lbnQgPT0gU2lkZVBhbmVsQWxpZ25tZW50LkxlZnQ7XG4gICAgfVxuXG4gICAgb25SZXNpemVkOiAoc2VuZGVyOiBTaWRlUGFuZWwpID0+IHZvaWQ7XG4gICAgb25Ub29sYm94UmVzaXplZDogKHNlbmRlcjogU2lkZVBhbmVsLCB0b29sYm94OiBUb29sYm94KSA9PiB2b2lkO1xuICAgIG9uVG9vbGJveEV4cGFuZGVkT3JDb2xsYXBzZWQ6IChzZW5kZXI6IFNpZGVQYW5lbCwgdG9vbGJveDogVG9vbGJveCkgPT4gdm9pZDtcblxuICAgIHJlYWRvbmx5IGlkO1xuXG4gICAgc2l6ZT86IG51bWJlcjtcbiAgICBpc1Jlc2l6YWJsZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBhZGRUb29sYm94KHRvb2xib3g6IFRvb2xib3gpIHtcbiAgICAgICAgbGV0IHRvb2xib3hJbmZvID0gbmV3IFRvb2xib3hJbmZvKHRvb2xib3gpO1xuICAgICAgICB0b29sYm94SW5mby5vblRvZ2dsZWQgPSAoc2VuZGVyOiBUb29sYm94SW5mbywgc2F2ZVN0YXRlOiBib29sZWFuID0gdHJ1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgICAgIHRoaXMudG9vbGJveEV4cGFuZGVkT3JDb2xsYXBzZWQodG9vbGJveEluZm8udG9vbGJveCwgc2F2ZVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0b29sYm94SW5mby5vblJlc2l6ZUVuZGVkID0gKHNlbmRlcjogVG9vbGJveEluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZVRvb2xib3hTaXplKHNlbmRlci50b29sYm94KTtcbiAgICAgICAgICAgIHRoaXMudG9vbGJveFJlc2l6ZWQoc2VuZGVyLnRvb2xib3gpO1xuICAgICAgICB9XG4gICAgICAgIHRvb2xib3hJbmZvLm9uUmVzaXplZCA9IChzZW5kZXI6IFRvb2xib3hJbmZvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRvb2xib3hSZXNpemVkKHNlbmRlci50b29sYm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Rvb2xib3hlcy5wdXNoKHRvb2xib3hJbmZvKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUbyhhdHRhY2hUbzogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRUbyA9IGF0dGFjaFRvO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmNsYXNzTGlzdC5hZGQoXCJhY2Qtc2lkZXBhbmVsLXBhcmVudFwiKTtcblxuICAgICAgICB0aGlzLl9jb250ZW50SG9zdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRIb3N0LmNsYXNzTmFtZSA9IFwiYWNkLXNpZGVwYW5lbC1ob3N0XCI7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudEhvc3QuY2xhc3NMaXN0LmFkZChcImFjZC1zaWRlcGFuZWwtaG9zdC12ZXJ0aWNhbFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRIb3N0LmNsYXNzTGlzdC5hZGQoXCJhY2Qtc2lkZXBhbmVsLWhvc3QtaG9yaXpvbnRhbFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdG9vbGJveGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdG9vbGJveEluZm8gPSB0aGlzLl90b29sYm94ZXNbaV07XG4gICAgICAgICAgICB0b29sYm94SW5mby50b29sYm94LnJlbmRlcihcbiAgICAgICAgICAgICAgICB0aGlzLmlzVmVydGljYWwgPyBUb29sYm94T3JpZW50YXRpb24uVmVydGljYWwgOiBUb29sYm94T3JpZW50YXRpb24uSG9yaXpvbnRhbCxcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsYXBzZWRUYWJDb250YWluZXIpO1xuXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXR0ZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXR0ZXJFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWhvcml6b250YWwtc3BsaXR0ZXJcIjtcblxuICAgICAgICAgICAgICAgICAgICB0b29sYm94SW5mby50b29sYm94LnJlbmRlcmVkRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAoMTAwIC8gdGhpcy5fdG9vbGJveGVzLmxlbmd0aCkgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0dGVyRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC12ZXJ0aWNhbC1zcGxpdHRlclwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3hJbmZvLnRvb2xib3gucmVuZGVyZWRFbGVtZW50LnN0eWxlLndpZHRoID0gKDEwMCAvIHRoaXMuX3Rvb2xib3hlcy5sZW5ndGgpICsgXCIlXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdG9vbGJveEluZm8udG9vbGJveC5yZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoc3BsaXR0ZXJFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIHRvb2xib3hJbmZvLnNwbGl0dGVyID0gbmV3IFNwbGl0dGVyKFxuICAgICAgICAgICAgICAgICAgICBzcGxpdHRlckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3hJbmZvLnRvb2xib3gucmVuZGVyZWRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5pc1ZlcnRpY2FsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY29udGVudEhvc3QuYXBwZW5kQ2hpbGQodG9vbGJveEluZm8udG9vbGJveC5yZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNwbGl0dGVyRWxlbWVudDogSFRNTEVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLmlzUmVzaXphYmxlKSB7XG4gICAgICAgICAgICBzcGxpdHRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgc3BsaXR0ZXJFbGVtZW50LmNsYXNzTmFtZSA9IHRoaXMuaXNWZXJ0aWNhbCA/IFwiYWNkLXZlcnRpY2FsLXNwbGl0dGVyXCIgOiBcImFjZC1ob3Jpem9udGFsLXNwbGl0dGVyXCI7XG5cbiAgICAgICAgICAgIGxldCBzcGxpdHRlciA9IG5ldyBTcGxpdHRlcihcbiAgICAgICAgICAgICAgICBzcGxpdHRlckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUbyxcbiAgICAgICAgICAgICAgICB0aGlzLmlzVmVydGljYWwsXG4gICAgICAgICAgICAgICAgdGhpcy5fYWxpZ25tZW50ID09IFNpZGVQYW5lbEFsaWdubWVudC5MZWZ0IHx8IHRoaXMuX2FsaWdubWVudCA9PSBTaWRlUGFuZWxBbGlnbm1lbnQuVG9wKTtcbiAgICAgICAgICAgIHNwbGl0dGVyLm9uUmVzaXplZCA9IChzcGxpdHRlcjogU3BsaXR0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2F0dGFjaGVkVG8uaW5uZXJIVE1MID0gXCJcIjtcblxuICAgICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5zdHlsZS53aWR0aCA9IHRoaXMuc2l6ZSArIFwicHhcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5jbGFzc0xpc3QuYWRkKFwiYWNkLXNpZGVwYW5lbC1wYXJlbnQtdmVydGljYWxcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5zdHlsZS5oZWlnaHQgPSB0aGlzLnNpemUgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkVG8uY2xhc3NMaXN0LmFkZChcImFjZC1zaWRlcGFuZWwtcGFyZW50LWhvcml6b250YWxcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYWxpZ25tZW50ID09IFNpZGVQYW5lbEFsaWdubWVudC5SaWdodCB8fCB0aGlzLl9hbGlnbm1lbnQgPT0gU2lkZVBhbmVsQWxpZ25tZW50LkJvdHRvbSkge1xuICAgICAgICAgICAgaWYgKHNwbGl0dGVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkVG8uYXBwZW5kQ2hpbGQoc3BsaXR0ZXJFbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5hcHBlbmRDaGlsZCh0aGlzLl9jb250ZW50SG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRlbnRIb3N0KTtcblxuICAgICAgICAgICAgaWYgKHNwbGl0dGVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkVG8uYXBwZW5kQ2hpbGQoc3BsaXR0ZXJFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgYWxpZ25tZW50OiBTaWRlUGFuZWxBbGlnbm1lbnQsIGNvbGxhcHNlZFRhYkNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLl9hbGlnbm1lbnQgPSBhbGlnbm1lbnQ7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlZFRhYkNvbnRhaW5lciA9IGNvbGxhcHNlZFRhYkNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBzYXZlU3RhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNSZXN0b3JpbmcpIHtcbiAgICAgICAgICAgIFNldHRpbmdzTWFuYWdlci50cnlTYXZlU2V0dGluZyhcbiAgICAgICAgICAgICAgICB0aGlzLmdldERpbWVuc2lvblNldHRpbmdOYW1lKCksXG4gICAgICAgICAgICAgICAgdGhpcy5pc1ZlcnRpY2FsID8gdGhpcy5fYXR0YWNoZWRUby5zdHlsZS53aWR0aCA6IHRoaXMuX2F0dGFjaGVkVG8uc3R5bGUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgdG9vbGJveEluZm8gb2YgdGhpcy5fdG9vbGJveGVzKSB7XG4gICAgICAgICAgICAgICAgdG9vbGJveEluZm8udG9vbGJveC5zYXZlU3RhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3RvcmVTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkVG8gJiYgIXRoaXMuX2lzUmVzdG9yaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1Jlc3RvcmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpbWVuc2lvblNldHRpbmcgPSBTZXR0aW5nc01hbmFnZXIudHJ5TG9hZFN0cmluZ1NldHRpbmcodGhpcy5nZXREaW1lbnNpb25TZXR0aW5nTmFtZSgpKTtcblxuICAgICAgICAgICAgICAgIGlmIChkaW1lbnNpb25TZXR0aW5nLnN1Y2NlZWRlZCAmJiBkaW1lbnNpb25TZXR0aW5nLnZhbHVlICE9IHVuZGVmaW5lZCAmJiBkaW1lbnNpb25TZXR0aW5nLnZhbHVlICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5zdHlsZS53aWR0aCA9IGRpbWVuc2lvblNldHRpbmcudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLnN0eWxlLmhlaWdodCA9IGRpbWVuc2lvblNldHRpbmcudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0b29sYm94SW5mbyBvZiB0aGlzLl90b29sYm94ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJveEluZm8udG9vbGJveC5yZXN0b3JlU3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNSZXN0b3JpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBjb250ZW50SG9zdCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50SG9zdDtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IElQb2ludCB9IGZyb20gXCIuL21pc2NlbGxhbmVvdXNcIjtcblxuZXhwb3J0IGNsYXNzIFNwbGl0dGVyIHtcbiAgICBwcml2YXRlIF9pc1ZlcnRpY2FsOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfaXNBdHRhY2hlZEFmdGVyOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfc2l6ZWRFTGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9pc1BvaW50ZXJEb3duOiBib29sZWFuO1xuICAgIHByaXZhdGUgX2xhc3RDbGlja2VkT2Zmc2V0OiBJUG9pbnQ7XG5cbiAgICBwcml2YXRlIHJlc2l6ZUVuZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5vblJlc2l6ZUVuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplRW5kZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHBvaW50ZXJEb3duKGU6IFBvaW50ZXJFdmVudCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5hdHRhY2hlZFRvLnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcblxuICAgICAgICB0aGlzLl9sYXN0Q2xpY2tlZE9mZnNldCA9IHsgeDogZS54LCB5OiBlLnkgfTtcblxuICAgICAgICB0aGlzLl9pc1BvaW50ZXJEb3duID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBvaW50ZXJNb3ZlKGU6IFBvaW50ZXJFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5faXNQb2ludGVyRG93bikge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBsZXQgc2l6ZUFwcGxpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBuZXdTaXplOiBudW1iZXI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzQXR0YWNoZWRBZnRlcikge1xuICAgICAgICAgICAgICAgICAgICBuZXdTaXplID0gdGhpcy5fc2l6ZWRFTGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gKHRoaXMuX2xhc3RDbGlja2VkT2Zmc2V0LnggLSBlLngpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSA9IHRoaXMuX3NpemVkRUxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIChlLnggLSB0aGlzLl9sYXN0Q2xpY2tlZE9mZnNldC54KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3U2l6ZSA+PSB0aGlzLm1pbmltdW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2l6ZWRFTGVtZW50LnN0eWxlLndpZHRoID0gbmV3U2l6ZSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgICAgICBzaXplQXBwbGllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzQXR0YWNoZWRBZnRlcikge1xuICAgICAgICAgICAgICAgICAgICBuZXdTaXplID0gdGhpcy5fc2l6ZWRFTGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAtICh0aGlzLl9sYXN0Q2xpY2tlZE9mZnNldC55IC0gZS55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSB0aGlzLl9zaXplZEVMZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gKGUueSAtIHRoaXMuX2xhc3RDbGlja2VkT2Zmc2V0LnkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChuZXdTaXplID49IHRoaXMubWluaW11bSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaXplZEVMZW1lbnQuc3R5bGUuaGVpZ2h0ID0gbmV3U2l6ZSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgICAgICBzaXplQXBwbGllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2l6ZUFwcGxpZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vblJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlc2l6ZWQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdENsaWNrZWRPZmZzZXQgPSB7IHg6IGUueCwgeTogZS55IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHBvaW50ZXJVcChlOiBQb2ludGVyRXZlbnQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMuYXR0YWNoZWRUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuXG4gICAgICAgIHRoaXMucmVzaXplRW5kZWQoKTtcblxuICAgICAgICB0aGlzLl9pc1BvaW50ZXJEb3duID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25SZXNpemVFbmRlZDogKHNlbmRlcjogU3BsaXR0ZXIpID0+IHZvaWQ7XG4gICAgb25SZXNpemVkOiAoc2VuZGVyOiBTcGxpdHRlcikgPT4gdm9pZDtcblxuICAgIHJlYWRvbmx5IGF0dGFjaGVkVG86IEhUTUxFbGVtZW50O1xuXG4gICAgbWluaW11bTogbnVtYmVyID0gNTA7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYXR0YWNoZWRUbzogSFRNTEVsZW1lbnQsXG4gICAgICAgIHNpemVkRWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgICAgIGlzVmVydGljYWw6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgaXNBdHRhY2hlZEFmdGVyOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIG1pbmltdW1TaXplOiBudW1iZXIgPSAxNDApIHtcbiAgICAgICAgdGhpcy5hdHRhY2hlZFRvID0gYXR0YWNoZWRUbztcbiAgICAgICAgdGhpcy5fc2l6ZWRFTGVtZW50ID0gc2l6ZWRFbGVtZW50O1xuICAgICAgICB0aGlzLl9pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcbiAgICAgICAgdGhpcy5faXNBdHRhY2hlZEFmdGVyID0gaXNBdHRhY2hlZEFmdGVyO1xuICAgICAgICB0aGlzLm1pbmltdW0gPSBtaW5pbXVtU2l6ZTtcblxuICAgICAgICB0aGlzLmF0dGFjaGVkVG8ub25tb3VzZWRvd24gPSAoZTogTW91c2VFdmVudCkgPT4ge2UucHJldmVudERlZmF1bHQoKTsgfTtcbiAgICAgICAgdGhpcy5hdHRhY2hlZFRvLm9ucG9pbnRlcmRvd24gPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7IHRoaXMucG9pbnRlckRvd24oZSk7IH07XG4gICAgICAgIHRoaXMuYXR0YWNoZWRUby5vbnBvaW50ZXJtb3ZlID0gKGU6IFBvaW50ZXJFdmVudCkgPT4geyB0aGlzLnBvaW50ZXJNb3ZlKGUpOyB9O1xuICAgICAgICB0aGlzLmF0dGFjaGVkVG8ub25wb2ludGVydXAgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7IHRoaXMucG9pbnRlclVwKGUpOyB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFdpZGdldENvbnRhaW5lciB9IGZyb20gXCIuL2NvbnRhaW5lcnNcIjtcblxuZXhwb3J0IGNsYXNzIFN0cmluZ3Mge1xuICAgIHN0YXRpYyByZWFkb25seSB0b29sYm94ZXMgPSB7XG4gICAgICAgIHRvb2xQYWxldHRlOiB7XG4gICAgICAgICAgICB0aXRsZTogXCJDQVJEIEVMRU1FTlRTXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2FyZEVkaXRvcjoge1xuICAgICAgICAgICAgdGl0bGU6IFwiQ0FSRCBQQVlMT0FEIEVESVRPUlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNhbXBsZURhdGFFZGl0b3I6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIlNBTVBMRSBEQVRBIEVESVRPUlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNhbXBsZUhvc3REYXRhRWRpdG9yOiB7XG4gICAgICAgICAgICB0aXRsZTogXCJTQU1QTEUgSE9TVCBEQVRBIEVESVRPUlwiXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BlcnR5U2hlZXQ6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVMRU1FTlQgUFJPUEVSVElFU1wiLFxuICAgICAgICAgICAgY29tbWFuZHM6IHtcbiAgICAgICAgICAgICAgICBiaW5kRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dDogKCkgPT4gXCIuLi5cIixcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzaWJsZVRleHQ6IChwcm9wZXJ0eUxhYmVsOiBzdHJpbmcpID0+IFwiRGF0YSBCaW5kaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNhcmRTdHJ1Y3R1cmU6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkNBUkQgU1RSVUNUVVJFXCJcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YVN0cnVjdHVyZToge1xuICAgICAgICAgICAgdGl0bGU6IFwiREFUQSBTVFJVQ1RVUkVcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBzdGF0aWMgbG9hZGluZ0VkaXRvciA9IFwiTG9hZGluZyBlZGl0b3IuLi5cIjtcbiAgICBzdGF0aWMgcmVhZG9ubHkgd2lkZ2V0T3ZlcmZsb3dXYXJuaW5nID0gYFtEZXNpZ25lcl0gV2UgaGF2ZSBhZGp1c3RlZCB5b3VyIGNhcmQgdG8gaGlkZSBvdmVyZmxvdyBlbGVtZW50cy4gUGxlYXNlIGVuc3VyZSBhbGwgY2FyZCBlbGVtZW50cyBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGUgcHJvcGVyIGNhcmQgaGVpZ2h0IHBlciBXaWRnZXRzIEJvYXJkIGRlc2lnbiBndWlkZWxpbmVzLiBPbmx5IENhcm91c2VsIHBhZ2luYXRpb24gZG90cyBjYW4gYmUgcHJlc2VudCBpbiB0aGUgYm90dG9tICR7V2lkZ2V0Q29udGFpbmVyLndpZGdldFBhZGRpbmd9cHggbWFyZ2luIG9mIGEgd2lkZ2V0LmA7XG59XG4iLCJpbXBvcnQgeyBTZXR0aW5nc01hbmFnZXIgfSBmcm9tIFwiLi9zZXR0aW5ncy1tYW5hZ2VyXCI7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiYWRhcHRpdmVjYXJkcy1jb250cm9sc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElUb29sYm94Q29tbWFuZCB7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBpY29uQ2xhc3M6IHN0cmluZztcbiAgICBleGVjdXRlOiAoc2VuZGVyOiBJVG9vbGJveENvbW1hbmQpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBlbnVtIFRvb2xib3hPcmllbnRhdGlvbiB7XG4gICAgSG9yaXpvbnRhbCxcbiAgICBWZXJ0aWNhbFxufVxuXG5leHBvcnQgY2xhc3MgVG9vbGJveCB7XG4gICAgcHJpdmF0ZSBfcmVuZGVyZWRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9oZWFkZXJSb290RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaGVhZGVySWNvbkVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY3VzdG9tQ29tbWFuZHNIb3N0OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9jb250ZW50SG9zdDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaXNFeHBhbmRlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgcHJpdmF0ZSBfY29udGVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfc3RyZXRjaDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX29yaWVudGF0aW9uOiBUb29sYm94T3JpZW50YXRpb247XG4gICAgcHJpdmF0ZSBfaXNSZXN0b3Jpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9jb2xsYXBzZWRUYWJDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2lzVmlzaWJsZSA9IHRydWU7XG5cbiAgICBwcml2YXRlIGdldERpbWVuc2lvblNldHRpbmdOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIlRvb2xib3hcIiArIHRoaXMuaWQgKyAodGhpcy5fb3JpZW50YXRpb24gPT0gVG9vbGJveE9yaWVudGF0aW9uLlZlcnRpY2FsID8gXCJIZWlnaHRcIiA6IFwiV2lkdGhcIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDb250ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudEhvc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRIb3N0LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGVudEhvc3QuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHRvZ2dsZWQoc2F2ZVN0YXRlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAodGhpcy5vblRvZ2dsZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25Ub2dnbGVkKHRoaXMsIHNhdmVTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVZpc2liaWxpdHkoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb2xsYXBzZWRUYWJDb250YWluZXIpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlVG9vbGJveCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsYXBzZWRUYWJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5faGVhZGVyUm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhpZGVUb29sYm94KCkge1xuICAgICAgICBpZiAodGhpcy5pc0V4cGFuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxhcHNlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb2xsYXBzZWRUYWJDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5faGVhZGVyUm9vdEVsZW1lbnQpO1xuICAgIH1cblxuICAgIG9uVG9nZ2xlZDogKHNlbmRlcjogVG9vbGJveCwgc2F2ZVN0YXRlPzogYm9vbGVhbikgPT4gdm9pZDtcblxuICAgIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdGl0bGU6IHN0cmluZztcblxuICAgIGNvbW1hbmRzOiBBcnJheTxJVG9vbGJveENvbW1hbmQ+ID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgfVxuXG4gICAgcmVuZGVyKG9yaWVudGF0aW9uOiBUb29sYm94T3JpZW50YXRpb24sIGNvbGxhcHNlZFRhYkNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgdGhpcy5fY29sbGFwc2VkVGFiQ29udGFpbmVyID0gY29sbGFwc2VkVGFiQ29udGFpbmVyO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXRvb2xib3hcIik7XG4gICAgICAgIHRoaXMuc3RyZXRjaCA9IHRoaXMuc3RyZXRjaDsgLy8gdHJpZ2dlciBDU1MgY2xhc3MgcGFpbnRpbmcgYmFzZWQgb24gZGVmYXVsdHNcblxuICAgICAgICB0aGlzLl9oZWFkZXJSb290RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX2hlYWRlclJvb3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2hlYWRlclJvb3RFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xib3gtaGVhZGVyXCI7XG5cbiAgICAgICAgbGV0IGhlYWRlckNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaGVhZGVyQ29udGVudEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtdG9vbGJveC1oZWFkZXItY29udGVudFwiO1xuXG4gICAgICAgIGxldCBoZWFkZXJUaXRsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgaGVhZGVyVGl0bGVFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xib3gtaGVhZGVyLXRpdGxlXCI7XG4gICAgICAgIGhlYWRlclRpdGxlRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLnRpdGxlO1xuXG4gICAgICAgIGhlYWRlckNvbnRlbnRFbGVtZW50LmFwcGVuZENoaWxkKGhlYWRlclRpdGxlRWxlbWVudCk7XG5cbiAgICAgICAgbGV0IGhlYWRlckNvbW1hbmRzSG9zdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgaGVhZGVyQ29tbWFuZHNIb3N0RWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC10b29sYm94LWhlYWRlci1jb21tYW5kc0hvc3RcIjtcblxuICAgICAgICB0aGlzLl9jdXN0b21Db21tYW5kc0hvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9jdXN0b21Db21tYW5kc0hvc3Quc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbW1hbmRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb21tYW5kIG9mIHRoaXMuY29tbWFuZHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29tbWFuZEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGNvbW1hbmRCdXR0b25FbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xib3gtaGVhZGVyLWNvbW1hbmRCdXR0b25cIjtcbiAgICAgICAgICAgICAgICBjb21tYW5kQnV0dG9uRWxlbWVudC50aXRsZSA9IGNvbW1hbmQudGl0bGU7XG4gICAgICAgICAgICAgICAgY29tbWFuZEJ1dHRvbkVsZW1lbnQub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQuZXhlY3V0ZShjb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgY29tbWFuZEljb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBjb21tYW5kSWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1pY29uXCIsIGNvbW1hbmQuaWNvbkNsYXNzKTtcblxuICAgICAgICAgICAgICAgIGNvbW1hbmRCdXR0b25FbGVtZW50LmFwcGVuZENoaWxkKGNvbW1hbmRJY29uRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jdXN0b21Db21tYW5kc0hvc3QuYXBwZW5kQ2hpbGQoY29tbWFuZEJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVyQ29tbWFuZHNIb3N0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9jdXN0b21Db21tYW5kc0hvc3QpO1xuXG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtdG9vbGJveC1oZWFkZXItY29tbWFuZEJ1dHRvblwiO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQudGl0bGUgPSBcIkhpZGUgXCIgKyB0aGlzLnRpdGxlO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQuYXJpYUxhYmVsID0gdGhpcy50aXRsZTtcblxuICAgICAgICB0aGlzLl9oZWFkZXJJY29uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgICAgIHRoaXMuX2hlYWRlckljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtaWNvblwiLCBcImFjZC1pY29uLWhlYWRlci1leHBhbmRlZFwiKTtcblxuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5faGVhZGVySWNvbkVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC5vbmtleWRvd24gPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBDb25zdGFudHMua2V5cy5lbnRlciB8fCBlLmtleSA9PT0gQ29uc3RhbnRzLmtleXMuc3BhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09IENvbnN0YW50cy5rZXlzLmVzY2FwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2UoKTtcblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XG5cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJDb21tYW5kc0hvc3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudCk7XG5cbiAgICAgICAgaGVhZGVyQ29udGVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyQ29tbWFuZHNIb3N0RWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5faGVhZGVyUm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyQ29udGVudEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX2NvbnRlbnRIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fY29udGVudEhvc3Quc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5faGVhZGVyUm9vdEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudEhvc3QpO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVUb29sYm94KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRlbnQoKTtcbiAgICB9XG5cbiAgICBjb2xsYXBzZShzYXZlU3RhdGU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0V4cGFuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJJY29uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLWljb24taGVhZGVyLWNvbGxhcHNlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWRlckljb25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtaWNvbi1oZWFkZXItZXhwYW5kZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9jdXN0b21Db21tYW5kc0hvc3QuY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9jb2xsYXBzZWRUYWJDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5faGVhZGVyUm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxhcHNlZFRhYkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9oZWFkZXJSb290RWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC50aXRsZSA9IFwiU2hvdyBcIiArIHRoaXMudGl0bGU7XG4gICAgICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuXG4gICAgICAgICAgICB0aGlzLl9pc0V4cGFuZGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlZChzYXZlU3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwYW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzRXhwYW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYWRlckljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtaWNvbi1oZWFkZXItZXhwYW5kZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJJY29uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLWljb24taGVhZGVyLWNvbGxhcHNlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX2N1c3RvbUNvbW1hbmRzSG9zdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLWhpZGRlblwiKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxhcHNlZFRhYkNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxhcHNlZFRhYkNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9oZWFkZXJSb290RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLl9oZWFkZXJSb290RWxlbWVudCwgdGhpcy5fcmVuZGVyZWRFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQudGl0bGUgPSBcIkhpZGUgXCIgKyB0aGlzLnRpdGxlO1xuICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xuXG4gICAgICAgICAgICB0aGlzLl9pc0V4cGFuZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b2dnbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRXhwYW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGFwc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRIZWFkZXJCb3VuZGluZ1JlY3QoKTogQ2xpZW50UmVjdCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFkZXJSb290RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG5cbiAgICBzYXZlU3RhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNSZXN0b3JpbmcpIHtcbiAgICAgICAgICAgIFNldHRpbmdzTWFuYWdlci50cnlTYXZlU2V0dGluZyhcIlRvb2xib3hcIiArIHRoaXMuaWQgKyBcIklzRXhwYW5kZWRcIiwgdGhpcy5pc0V4cGFuZGVkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICBTZXR0aW5nc01hbmFnZXIudHJ5U2F2ZVNldHRpbmcoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXREaW1lbnNpb25TZXR0aW5nTmFtZSgpLFxuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24gPT0gVG9vbGJveE9yaWVudGF0aW9uLlZlcnRpY2FsID8gdGhpcy5yZW5kZXJlZEVsZW1lbnQuc3R5bGUuaGVpZ2h0IDogdGhpcy5yZW5kZXJlZEVsZW1lbnQuc3R5bGUud2lkdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdG9yZVN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlZEVsZW1lbnQgJiYgIXRoaXMuX2lzUmVzdG9yaW5nICYmIHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1Jlc3RvcmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpbWVuc2lvblNldHRpbmcgPSBTZXR0aW5nc01hbmFnZXIudHJ5TG9hZFN0cmluZ1NldHRpbmcodGhpcy5nZXREaW1lbnNpb25TZXR0aW5nTmFtZSgpKTtcblxuICAgICAgICAgICAgICAgIGlmIChkaW1lbnNpb25TZXR0aW5nLnN1Y2NlZWRlZCAmJiBkaW1lbnNpb25TZXR0aW5nLnZhbHVlICE9IHVuZGVmaW5lZCAmJiBkaW1lbnNpb25TZXR0aW5nLnZhbHVlICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT0gVG9vbGJveE9yaWVudGF0aW9uLlZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb25TZXR0aW5nLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuc3R5bGUud2lkdGggPSBkaW1lbnNpb25TZXR0aW5nLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGlzRXhwYW5kZWRTZXR0aW5nID0gU2V0dGluZ3NNYW5hZ2VyLnRyeUxvYWRCb29sZWFuU2V0dGluZyhcIlRvb2xib3hcIiArIHRoaXMuaWQgKyBcIklzRXhwYW5kZWRcIiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNFeHBhbmRlZFNldHRpbmcuc3VjY2VlZGVkICYmIHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0V4cGFuZGVkU2V0dGluZy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBhbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzUmVzdG9yaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb3JpZW50YXRpb24oKTogVG9vbGJveE9yaWVudGF0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uO1xuICAgIH1cblxuICAgIGdldCByZW5kZXJlZEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cblxuICAgIGdldCBjb250ZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7XG4gICAgfVxuXG4gICAgc2V0IGNvbnRlbnQodmFsdWU6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRlbnQoKTtcbiAgICB9XG5cbiAgICBnZXQgaXNFeHBhbmRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRXhwYW5kZWQ7XG4gICAgfVxuXG4gICAgZ2V0IHN0cmV0Y2goKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJldGNoO1xuICAgIH1cblxuICAgIHNldCBzdHJldGNoKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3N0cmV0Y2ggPSB2YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5fc3RyZXRjaCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC10b29sYm94LXN0cmV0Y2hcIik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLXRvb2xib3gtbm8tc3RyZXRjaFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtdG9vbGJveC1uby1zdHJldGNoXCIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjZC10b29sYm94LXN0cmV0Y2hcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQgaXNWaXNpYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1Zpc2libGUgIT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzVmlzaWJsZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBpc1Zpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1Zpc2libGU7XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgRHJhZ2dhYmxlRWxlbWVudCB9IGZyb20gXCIuL2RyYWdnYWJsZS1lbGVtZW50XCI7XG5pbXBvcnQgeyBGaWVsZERlZmluaXRpb24gfSBmcm9tIFwiLi9kYXRhXCI7XG5pbXBvcnQgeyBEZXNpZ25Db250ZXh0LCBDYXJkRGVzaWduZXJTdXJmYWNlIH0gZnJvbSBcIi4vY2FyZC1kZXNpZ25lci1zdXJmYWNlXCI7XG5pbXBvcnQgeyBDYXJkRWxlbWVudFBlZXIsIERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UgfSBmcm9tIFwiLi9kZXNpZ25lci1wZWVyc1wiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVBhbGV0dGVJdGVtIGV4dGVuZHMgRHJhZ2dhYmxlRWxlbWVudCB7XG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldFRleHQoKTogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRJY29uQ2xhc3MoKTogc3RyaW5nO1xuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXBhbGV0dGUtaXRlbVwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgICBlbGVtZW50LnRhYkluZGV4ID0gMDtcblxuICAgICAgICBsZXQgaWNvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpY29uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLWljb25cIiwgXCJhY2QtdG9vbFBhbGV0dGUtaWNvblwiLCB0aGlzLmdldEljb25DbGFzcygpKTtcbiAgICAgICAgaWNvbkVsZW1lbnQuc3R5bGUuZmxleCA9IFwiMCAwIGF1dG9cIjtcblxuICAgICAgICBsZXQgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbGFiZWxFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXBhbGV0dGUtaXRlbS1sYWJlbFwiO1xuICAgICAgICBsYWJlbEVsZW1lbnQuc3R5bGUuZmxleCA9IFwiMSAxIDEwMCVcIjtcbiAgICAgICAgbGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMuZ2V0VGV4dCgpO1xuXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaWNvbkVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsRWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmVuZGVyRHJhZ1Zpc3VhbCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsUmVuZGVyKCk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgY3JlYXRlUGVlcihjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBkZXNpZ25lcjogQ2FyZERlc2lnbmVyU3VyZmFjZSk6IENhcmRFbGVtZW50UGVlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRQYWxldHRlSXRlbSBleHRlbmRzIEJhc2VQYWxldHRlSXRlbSB7XG4gICAgcHJvdGVjdGVkIGdldFRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZVJlZ2lzdHJhdGlvbi50eXBlTmFtZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SWNvbkNsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlZXJSZWdpc3RyYXRpb24uaWNvbkNsYXNzO1xuICAgIH1cblxuICAgIHJlYWRvbmx5IHR5cGVSZWdpc3RyYXRpb246IEFkYXB0aXZlLklUeXBlUmVnaXN0cmF0aW9uPEFkYXB0aXZlLkNhcmRFbGVtZW50PjtcbiAgICByZWFkb25seSBwZWVyUmVnaXN0cmF0aW9uOiBEZXNpZ25lclBlZXJSZWdpc3RyYXRpb25CYXNlO1xuXG4gICAgY29uc3RydWN0b3IodHlwZVJlZ2lzdHJhdGlvbjogQWRhcHRpdmUuSVR5cGVSZWdpc3RyYXRpb248QWRhcHRpdmUuQ2FyZEVsZW1lbnQ+LCBwZWVyUmVnaXN0cmF0aW9uOiBEZXNpZ25lclBlZXJSZWdpc3RyYXRpb25CYXNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy50eXBlUmVnaXN0cmF0aW9uID0gdHlwZVJlZ2lzdHJhdGlvbjtcbiAgICAgICAgdGhpcy5wZWVyUmVnaXN0cmF0aW9uID0gcGVlclJlZ2lzdHJhdGlvbjtcbiAgICB9XG5cbiAgICBjcmVhdGVQZWVyKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGRlc2lnbmVyOiBDYXJkRGVzaWduZXJTdXJmYWNlKTogQ2FyZEVsZW1lbnRQZWVyIHtcbiAgICAgICAgcmV0dXJuIENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKGRlc2lnbmVyLCBudWxsLCBuZXcgdGhpcy50eXBlUmVnaXN0cmF0aW9uLm9iamVjdFR5cGUoKSwgdHJ1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0YVBhbGV0dGVJdGVtIGV4dGVuZHMgQmFzZVBhbGV0dGVJdGVtIHtcbiAgICBwcm90ZWN0ZWQgZ2V0VGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5uYW1lO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRJY29uQ2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgZmllbGQ6IEZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBlZXIoY29udGV4dDogRGVzaWduQ29udGV4dCwgZGVzaWduZXI6IENhcmREZXNpZ25lclN1cmZhY2UpOiBDYXJkRWxlbWVudFBlZXIge1xuICAgICAgICBsZXQgZWxlbWVudDogQWRhcHRpdmUuQ2FyZEVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuZmllbGQuaXNDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gbmV3IEFkYXB0aXZlLkNvbnRhaW5lcigpO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRDdXN0b21Qcm9wZXJ0eShcIiRkYXRhXCIsIFwie1wiICsgdGhpcy5maWVsZC5nZXRQYXRoKCkgKyBcIn1cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgdGV4dEJsb2NrID0gbmV3IEFkYXB0aXZlLlRleHRCbG9jaygpO1xuICAgICAgICAgICAgdGV4dEJsb2NrLnRleHQgPSBcIntcIiArIHRoaXMuZmllbGQuZ2V0UGF0aCgpICsgXCJ9XCI7XG5cbiAgICAgICAgICAgIGVsZW1lbnQgPSB0ZXh0QmxvY2s7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ2FyZERlc2lnbmVyU3VyZmFjZS5jYXJkRWxlbWVudFBlZXJSZWdpc3RyeS5jcmVhdGVQZWVySW5zdGFuY2UoZGVzaWduZXIsIG51bGwsIGVsZW1lbnQsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEN1c3RvbVBhbGV0dGVJdGVtIGV4dGVuZHMgQmFzZVBhbGV0dGVJdGVtIHtcbiAgICByZWFkb25seSBjYXRlZ29yeTogc3RyaW5nO1xuXG4gICAgcHJvdGVjdGVkIGdldEljb25DbGFzcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJhY2QtaWNvbi1jdXN0b21QYWxldHRlSXRlbVwiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGNhdGVnb3J5OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU25pcHBldFBhbGV0dGVJdGVtIGV4dGVuZHMgQ3VzdG9tUGFsZXR0ZUl0ZW0ge1xuICAgIHByb3RlY3RlZCBnZXRUZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAgIHNuaXBwZXQ6IG9iamVjdDtcblxuICAgIGNvbnN0cnVjdG9yKGNhdGVnb3J5OiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICBzdXBlcihjYXRlZ29yeSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBjcmVhdGVQZWVyKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGRlc2lnbmVyOiBDYXJkRGVzaWduZXJTdXJmYWNlKTogQ2FyZEVsZW1lbnRQZWVyIHtcbiAgICAgICAgaWYgKHRoaXMuc25pcHBldCkge1xuICAgICAgICAgICAgbGV0IHJvb3RFbGVtZW50VHlwZU5hbWUgPSB0aGlzLnNuaXBwZXRbXCJ0eXBlXCJdO1xuXG4gICAgICAgICAgICBpZiAocm9vdEVsZW1lbnRUeXBlTmFtZSkge1xuICAgICAgICAgICAgICAgIGxldCBhZGFwdGl2ZUVsZW1lbnQgPSBjb250ZXh0Lmhvc3RDb250YWluZXIuZWxlbWVudHNSZWdpc3RyeS5jcmVhdGVJbnN0YW5jZShyb290RWxlbWVudFR5cGVOYW1lLCBjb250ZXh0LnRhcmdldFZlcnNpb24pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFkYXB0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBhZGFwdGl2ZUVsZW1lbnQucGFyc2UodGhpcy5zbmlwcGV0KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2FyZERlc2lnbmVyU3VyZmFjZS5jYXJkRWxlbWVudFBlZXJSZWdpc3RyeS5jcmVhdGVQZWVySW5zdGFuY2UoZGVzaWduZXIsIG51bGwsIGFkYXB0aXZlRWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBEcm9wRG93biwgRHJvcERvd25JdGVtIH0gZnJvbSBcImFkYXB0aXZlY2FyZHMtY29udHJvbHNcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XG5cbmV4cG9ydCBlbnVtIFRvb2xiYXJFbGVtZW50QWxpZ25tZW50IHtcbiAgICBMZWZ0LFxuICAgIFJpZ2h0XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUb29sYmFyRWxlbWVudCB7XG4gICAgcHJpdmF0ZSBfcmVuZGVyZWRFbGVtZW50OiBIVE1MRWxlbWVudCA9IHVuZGVmaW5lZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBpbnRlcm5hbFJlbmRlcigpOiBIVE1MRWxlbWVudDtcblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbFVwZGF0ZUxheW91dCgpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZyBpbiBiYXNlIGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgcmVhZG9ubHkgaWQ6IHN0cmluZztcblxuICAgIGlzVmlzaWJsZTogYm9vbGVhbiA9IHRydWU7XG4gICAgc2VwYXJhdG9yOiBib29sZWFuID0gZmFsc2U7XG4gICAgbGFiZWw6IHN0cmluZyA9IG51bGw7XG4gICAgYWxpZ25tZW50OiBUb29sYmFyRWxlbWVudEFsaWdubWVudCA9IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LkxlZnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICghaWQgfHwgaWQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvb2xiYXIgZWxlbWVudHMgbXVzdCBoYXZlIGFuIElkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICB1cGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxVcGRhdGVMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudCA9IHRoaXMuaW50ZXJuYWxSZW5kZXIoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IHJlbmRlcmVkRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbGJhckJ1dHRvbiBleHRlbmRzIFRvb2xiYXJFbGVtZW50IHtcbiAgICBwcml2YXRlIF9jYXB0aW9uOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZGlzcGxheUNhcHRpb246IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2ljb25DbGFzczogc3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgX3Rvb2xUaXA6IHN0cmluZyA9IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIF9pc0VuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2FsbG93VG9nZ2xlOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfaXNUb2dnbGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcm90ZWN0ZWQgY2xpY2tlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkICYmIHRoaXMub25DbGljaykge1xuICAgICAgICAgICAgdGhpcy5vbkNsaWNrKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsVXBkYXRlTGF5b3V0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC10b29sYmFyLWJ1dHRvblwiO1xuXG4gICAgICAgIGlmKCF0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC10b29sYmFyLWJ1dHRvbi1kaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQudGFiSW5kZXggPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtdG9vbGJhci1idXR0b24tZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNUb2dnbGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXRvb2xiYXItYnV0dG9uLXRvZ2dsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLXRvb2xiYXItYnV0dG9uLXRvZ2dsZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hbGxvd1RvZ2dsZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIHRoaXMuaXNUb2dnbGVkLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaWNvbkNsYXNzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuaWNvbkNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXNwbGF5Q2FwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC10b29sYmFyLWJ1dHRvbi1pY29uT25seVwiKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5hcmlhTGFiZWwgPSB0aGlzLmNhcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLmNhcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC50aXRsZSA9IHRoaXMudG9vbFRpcCA/IHRoaXMudG9vbFRpcCA6IFwiXCI7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBlbGVtZW50LnR5cGUgPSBcImJ1dHRvblwiO1xuXG4gICAgICAgIGVsZW1lbnQub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd1RvZ2dsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNUb2dnbGVkID0gIXRoaXMuaXNUb2dnbGVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNsaWNrZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIG9uQ2xpY2s6IChzZW5kZXI6IFRvb2xiYXJCdXR0b24pID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgaWQ6IHN0cmluZyxcbiAgICAgICAgY2FwdGlvbjogc3RyaW5nLFxuICAgICAgICBpY29uQ2xhc3M6IHN0cmluZyxcbiAgICAgICAgb25DbGljazogKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4gdm9pZCA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIoaWQpO1xuXG4gICAgICAgIHRoaXMuY2FwdGlvbiA9IGNhcHRpb247XG4gICAgICAgIHRoaXMuaWNvbkNsYXNzID0gaWNvbkNsYXNzO1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSBvbkNsaWNrO1xuICAgIH1cblxuICAgIGdldCBhbGxvd1RvZ2dsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbG93VG9nZ2xlO1xuICAgIH1cblxuICAgIHNldCBhbGxvd1RvZ2dsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9hbGxvd1RvZ2dsZSA9IHZhbHVlO1xuXG4gICAgICAgIGlmICghdGhpcy5fYWxsb3dUb2dnbGUpIHtcbiAgICAgICAgICAgIHRoaXMuaXNUb2dnbGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaXNUb2dnbGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNUb2dnbGVkO1xuICAgIH1cblxuICAgIHNldCBpc1RvZ2dsZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5faXNUb2dnbGVkID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICB9XG5cbiAgICBnZXQgY2FwdGlvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FwdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgY2FwdGlvbih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NhcHRpb24gPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgIH1cblxuICAgIGdldCBkaXNwbGF5Q2FwdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BsYXlDYXB0aW9uO1xuICAgIH1cblxuICAgIHNldCBkaXNwbGF5Q2FwdGlvbih2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9kaXNwbGF5Q2FwdGlvbiA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgZ2V0IGljb25DbGFzcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5faWNvbkNsYXNzO1xuICAgIH1cblxuICAgIHNldCBpY29uQ2xhc3ModmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9pY29uQ2xhc3MgPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgIH1cblxuICAgIGdldCB0b29sVGlwKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b29sVGlwO1xuICAgIH1cblxuICAgIHNldCB0b29sVGlwKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fdG9vbFRpcCA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgZ2V0IGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRW5hYmxlZDtcbiAgICB9XG5cbiAgICBzZXQgaXNFbmFibGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaG9pY2VQaWNrZXJJdGVtIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFRvb2xiYXJDaG9pY2VQaWNrZXIgZXh0ZW5kcyBUb29sYmFyRWxlbWVudCB7XG4gICAgcHJpdmF0ZSBfZHJvcERvd246IERyb3BEb3duO1xuICAgIHByaXZhdGUgX2xhYmVsbGVkQnlJZDogc3RyaW5nOyAvLyBpZCB0byB1c2UgZm9yIG91ciBsYWJlbCBlbGVtZW50XG4gICAgcHJpdmF0ZSBfaXNFbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9pc0hpZGRlbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgdGhpcy5fZHJvcERvd24gPSBuZXcgRHJvcERvd24oKTtcblxuICAgICAgICBmb3IgKGxldCBjaG9pY2Ugb2YgdGhpcy5jaG9pY2VzKSB7XG4gICAgICAgICAgICBsZXQgZHJvcERvd25JdGVtID0gbmV3IERyb3BEb3duSXRlbShjaG9pY2UudmFsdWUsIGNob2ljZS5uYW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fZHJvcERvd24uaXRlbXMuYWRkKGRyb3BEb3duSXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kcm9wRG93bi5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZHJvcERvd24ub25WYWx1ZUNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlZCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwaWNrZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICBpZiAodGhpcy53aWR0aCAmJiB0aGlzLndpZHRoID4gMCkge1xuICAgICAgICAgICAgcGlja2VyRWxlbWVudC5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyBcInB4XCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgbGFiZWwgaWRzIHNvIHdlIGNhbiBnZW5lcmF0ZSBjb3JyZWN0IGFyaWFcbiAgICAgICAgaWYgKHRoaXMubGFiZWwgJiYgIXRoaXMuX2xhYmVsbGVkQnlJZCkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWxsZWRCeUlkID0gdXVpZHY0KCk7XG4gICAgICAgICAgICB0aGlzLl9kcm9wRG93bi5wYXJlbnRMYWJlbElkID0gdGhpcy5fbGFiZWxsZWRCeUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZHJvcERvd24uYXR0YWNoKHBpY2tlckVsZW1lbnQpO1xuXG4gICAgICAgIGxldCBwaWNrZXJDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcGlja2VyQ29udGFpbmVyRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC10b29sYmFyLWNob2ljZVBpY2tlclwiO1xuXG4gICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XG4gICAgICAgICAgICBsZXQgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGxhYmVsRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC10b29sYmFyLWxhYmVsXCI7XG4gICAgICAgICAgICBsYWJlbEVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5sYWJlbDtcbiAgICAgICAgICAgIGxhYmVsRWxlbWVudC5pZCA9IHRoaXMuX2xhYmVsbGVkQnlJZDtcblxuICAgICAgICAgICAgcGlja2VyQ29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGlja2VyQ29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChwaWNrZXJFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gcGlja2VyQ29udGFpbmVyRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtdG9vbGJhci1waWNrZXItZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BEb3duLmlzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjZC10b29sYmFyLXBpY2tlci1kaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9kcm9wRG93bi5pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtdG9vbGJhci1waWNrZXItaGlkZGVuXCIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLXRvb2xiYXItcGlja2VyLWhpZGRlblwiKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNoYW5nZWQ6IChzZW5kZXI6IFRvb2xiYXJDaG9pY2VQaWNrZXIpID0+IHZvaWQ7XG5cbiAgICBsYWJlbDogc3RyaW5nID0gbnVsbDtcbiAgICBjaG9pY2VzOiBBcnJheTxJQ2hvaWNlUGlja2VySXRlbT4gPSBbXTtcbiAgICB3aWR0aD86IG51bWJlciA9IG51bGw7XG5cbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BEb3duLnZhbHVlLmtleTtcbiAgICB9XG5cbiAgICBnZXQgc2VsZWN0ZWRJbmRleCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcERvd24uc2VsZWN0ZWRJbmRleDtcbiAgICB9XG5cbiAgICBzZXQgc2VsZWN0ZWRJbmRleCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2Ryb3BEb3duLnNlbGVjdGVkSW5kZXggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNFbmFibGVkO1xuICAgIH1cblxuICAgIHNldCBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5faXNFbmFibGVkID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgZ2V0IGlzSGlkZGVuKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNIaWRkZW47XG4gICAgfVxuXG4gICAgc2V0IGlzSGlkZGVuKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2lzSGlkZGVuID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbGJhciB7XG4gICAgcHJpdmF0ZSBfZWxlbWVudHM6IEFycmF5PFRvb2xiYXJFbGVtZW50PiA9IFtdO1xuICAgIHByaXZhdGUgX2F0dGFjaGVkVG86IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSBjcmVhdGVTZXBhcmF0b3JFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IHNlcGFyYXRvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzZXBhcmF0b3JFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xiYXItc2VwYXJhdG9yXCI7XG5cbiAgICAgICAgcmV0dXJuIHNlcGFyYXRvckVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJFbGVtZW50c0ludG8oXG4gICAgICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgICAgIGVsZW1lbnRzOiBBcnJheTxUb29sYmFyRWxlbWVudD4sXG4gICAgICAgIHNlcGFyYXRvclBvc2l0aW9uOiBUb29sYmFyRWxlbWVudEFsaWdubWVudCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uc2VwYXJhdG9yICYmIHNlcGFyYXRvclBvc2l0aW9uID09IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LkxlZnQgJiYgaSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTZXBhcmF0b3JFbGVtZW50KCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudHNbaV0ucmVuZGVyKCkpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uc2VwYXJhdG9yICYmIHNlcGFyYXRvclBvc2l0aW9uID09IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LlJpZ2h0ICYmIGkgPCBlbGVtZW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU2VwYXJhdG9yRWxlbWVudCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF0dGFjaFRvKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkVG8gPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xiYXJcIjtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgIGxldCBsZWZ0RWxlbWVudHM6IEFycmF5PFRvb2xiYXJFbGVtZW50PiA9IFtdO1xuICAgICAgICBsZXQgcmlnaHRFbGVtZW50czogQXJyYXk8VG9vbGJhckVsZW1lbnQ+ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgZWxlbWVudCBvZiB0aGlzLl9lbGVtZW50cykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuYWxpZ25tZW50ID09IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LkxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByaWdodEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlZnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBsZWZ0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xiYXItY29udGVudFwiO1xuXG4gICAgICAgIGxldCByaWdodENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJpZ2h0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xiYXItY29udGVudFwiO1xuXG4gICAgICAgIHRoaXMucmVuZGVyRWxlbWVudHNJbnRvKFxuICAgICAgICAgICAgbGVmdENvbnRhaW5lcixcbiAgICAgICAgICAgIGxlZnRFbGVtZW50cyxcbiAgICAgICAgICAgIFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LkxlZnQpO1xuICAgICAgICB0aGlzLnJlbmRlckVsZW1lbnRzSW50byhcbiAgICAgICAgICAgIHJpZ2h0Q29udGFpbmVyLFxuICAgICAgICAgICAgcmlnaHRFbGVtZW50cyxcbiAgICAgICAgICAgIFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LlJpZ2h0KTtcblxuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmFwcGVuZENoaWxkKGxlZnRDb250YWluZXIpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmFwcGVuZENoaWxkKHJpZ2h0Q29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBhZGRFbGVtZW50KGVsZW1lbnQ6IFRvb2xiYXJFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkOiBzdHJpbmcpOiBUb29sYmFyRWxlbWVudCB7XG4gICAgICAgIGZvciAobGV0IGVsZW1lbnQgb2YgdGhpcy5fZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmlkID09IGVsZW1lbnRJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaW5zZXJ0RWxlbWVudEFmdGVyKGVsZW1lbnQ6IFRvb2xiYXJFbGVtZW50LCBhZnRlckVsZW1lbnRJZDogc3RyaW5nKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGVtZW50c1tpXS5pZCA9PSBhZnRlckVsZW1lbnRJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLnNwbGljZShpICsgMSwgMCwgZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgYXMgdGhlIGxhc3QgZWxlbWVudCBpZiBubyBlbGVtZW50IHdhcyBmb3VuZCB3aXRoIHRoZVxuICAgICAgICAvLyBzcGVjaWZpZWQgaWRcbiAgICAgICAgdGhpcy5fZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBpbnNlcnRFbGVtZW50QmVmb3JlKGVsZW1lbnQ6IFRvb2xiYXJFbGVtZW50LCBiZWZvcmVFbGVtZW50SWQ6IHN0cmluZykge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5fZWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGVtZW50c1tpXS5pZCA9PSBiZWZvcmVFbGVtZW50SWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5zcGxpY2UoaSwgMCwgZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgYXMgZmlyc3QgZWxlbWVudCBpZiBubyBlbGVtZW50IHdhcyBmb3VuZCB3aXRoIHRoZVxuICAgICAgICAvLyBzcGVjaWZpZWQgaWRcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuc3BsaWNlKDAsIDAsIGVsZW1lbnQpO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgQmFzZVRyZWVJdGVtIH0gZnJvbSBcIi4vYmFzZS10cmVlLWl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFRyZWVWaWV3IHtcbiAgICBwcml2YXRlIF9zZWxlY3RlZEl0ZW06IEJhc2VUcmVlSXRlbSA9IHVuZGVmaW5lZDtcblxuICAgIHByaXZhdGUgc2V0dXBUcmVlSXRlbUV2ZW50cyh0cmVlSXRlbTogQmFzZVRyZWVJdGVtKSB7XG4gICAgICAgIHRyZWVJdGVtLm9uU2VsZWN0ZWRDaGFuZ2UgPSAoc2VuZGVyOiBCYXNlVHJlZUl0ZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gc2VuZGVyO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJlZUl0ZW0uZ2V0Q2hpbGRDb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBUcmVlSXRlbUV2ZW50cyh0cmVlSXRlbS5nZXRDaGlsZEF0KGkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZWxlY3RlZEl0ZW1DaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkSXRlbUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RlZEl0ZW1DaGFuZ2VkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIGlmICh0aGlzLnJvb3RJdGVtKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RJdGVtLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBsZXQgdHJlZVJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgICAgIHRyZWVSb290LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIwXCI7XG4gICAgICAgIHRyZWVSb290LnN0eWxlLmxpc3RTdHlsZVR5cGUgPSBcIm5vbmVcIjtcbiAgICAgICAgdHJlZVJvb3QuY2xhc3NOYW1lID0gXCJhY2QtdHJlZVZpZXdcIjtcbiAgICAgICAgdHJlZVJvb3Quc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInRyZWVcIik7XG4gICAgICAgIHRyZWVSb290LmFwcGVuZENoaWxkKHRoaXMucm9vdEl0ZW0ucmVuZGVyKCkpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBUcmVlSXRlbUV2ZW50cyh0aGlzLnJvb3RJdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJlZVJvb3Q7XG4gICAgfVxuXG4gICAgb25TZWxlY3RlZEl0ZW1DaGFuZ2VkOiAoc2VuZGVyOiBUcmVlVmlldykgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHJvb3RJdGVtOiBCYXNlVHJlZUl0ZW0pIHsgfVxuXG4gICAgZ2V0IHNlbGVjdGVkSXRlbSgpOiBCYXNlVHJlZUl0ZW0ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRJdGVtO1xuICAgIH1cblxuICAgIHNldCBzZWxlY3RlZEl0ZW0odmFsdWU6IEJhc2VUcmVlSXRlbSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3NlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSXRlbS5pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSXRlbSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRJdGVtLmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbUNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCB7IGRlZmF1bHQgYXMgdjEgfSBmcm9tICcuL3YxLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjMgfSBmcm9tICcuL3YzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjQgfSBmcm9tICcuL3Y0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjUgfSBmcm9tICcuL3Y1LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTklMIH0gZnJvbSAnLi9uaWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmFsaWRhdGUgfSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnOyIsIi8qXG4gKiBCcm93c2VyLWNvbXBhdGlibGUgSmF2YVNjcmlwdCBNRDVcbiAqXG4gKiBNb2RpZmljYXRpb24gb2YgSmF2YVNjcmlwdCBNRDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gKlxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cbiAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIEJhc2VkIG9uXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlXG4gKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLlxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cbmZ1bmN0aW9uIG1kNShieXRlcykge1xuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobXNnLmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXNbaV0gPSBtc2cuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWQ1VG9IZXhFbmNvZGVkQXJyYXkod29yZHNUb01kNShieXRlc1RvV29yZHMoYnl0ZXMpLCBieXRlcy5sZW5ndGggKiA4KSk7XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGFuIGFycmF5IG9mIGJ5dGVzXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVUb0hleEVuY29kZWRBcnJheShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIHZhciBsZW5ndGgzMiA9IGlucHV0Lmxlbmd0aCAqIDMyO1xuICB2YXIgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgIHZhciB4ID0gaW5wdXRbaSA+PiA1XSA+Pj4gaSAlIDMyICYgMHhmZjtcbiAgICB2YXIgaGV4ID0gcGFyc2VJbnQoaGV4VGFiLmNoYXJBdCh4ID4+PiA0ICYgMHgwZikgKyBoZXhUYWIuY2hhckF0KHggJiAweDBmKSwgMTYpO1xuICAgIG91dHB1dC5wdXNoKGhleCk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgb3V0cHV0IGxlbmd0aCB3aXRoIHBhZGRpbmcgYW5kIGJpdCBsZW5ndGhcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldE91dHB1dExlbmd0aChpbnB1dExlbmd0aDgpIHtcbiAgcmV0dXJuIChpbnB1dExlbmd0aDggKyA2NCA+Pj4gOSA8PCA0KSArIDE0ICsgMTtcbn1cbi8qXG4gKiBDYWxjdWxhdGUgdGhlIE1ENSBvZiBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoLlxuICovXG5cblxuZnVuY3Rpb24gd29yZHNUb01kNSh4LCBsZW4pIHtcbiAgLyogYXBwZW5kIHBhZGRpbmcgKi9cbiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCBsZW4gJSAzMjtcbiAgeFtnZXRPdXRwdXRMZW5ndGgobGVuKSAtIDFdID0gbGVuO1xuICB2YXIgYSA9IDE3MzI1ODQxOTM7XG4gIHZhciBiID0gLTI3MTczMzg3OTtcbiAgdmFyIGMgPSAtMTczMjU4NDE5NDtcbiAgdmFyIGQgPSAyNzE3MzM4Nzg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxNikge1xuICAgIHZhciBvbGRhID0gYTtcbiAgICB2YXIgb2xkYiA9IGI7XG4gICAgdmFyIG9sZGMgPSBjO1xuICAgIHZhciBvbGRkID0gZDtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNywgNjA2MTA1ODE5KTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMCk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA3LCAtMTc2NDE4ODk3KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgNV0sIDEyLCAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgOF0sIDcsIDE3NzAwMzU0MTYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNywgLTQyMDYzKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDZdLCA5LCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTQsIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgNV0sIDUsIC03MDE1NTg2OTEpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxMF0sIDksIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDRdLCAyMCwgLTQwNTUzNzg0OCk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDldLCA1LCA1Njg0NDY0MzgpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgM10sIDE0LCAtMTg3MzYzOTYxKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgOF0sIDIwLCAxMTYzNTMxNTAxKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2Nyk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDJdLCA5LCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTQsIDE3MzUzMjg0NzMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTYsIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA0XSwgMTEsIDEyNzI4OTMzNTMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNCwgNjgxMjc5MTc0KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyAxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDddLCAxMCwgMTEyNjg5MTQxNSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDYsIDE3MDA0ODU1NzEpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgOF0sIDYsIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMTNdLCAyMSwgMTMwOTE1MTY0OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTUsIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG4gICAgYSA9IHNhZmVBZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVBZGQoYiwgb2xkYik7XG4gICAgYyA9IHNhZmVBZGQoYywgb2xkYyk7XG4gICAgZCA9IHNhZmVBZGQoZCwgb2xkZCk7XG4gIH1cblxuICByZXR1cm4gW2EsIGIsIGMsIGRdO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgYnl0ZXMgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICogQ2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGlnaC1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBieXRlc1RvV29yZHMoaW5wdXQpIHtcbiAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBsZW5ndGg4ID0gaW5wdXQubGVuZ3RoICogODtcbiAgdmFyIG91dHB1dCA9IG5ldyBVaW50MzJBcnJheShnZXRPdXRwdXRMZW5ndGgobGVuZ3RoOCkpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XG4gICAgb3V0cHV0W2kgPj4gNV0gfD0gKGlucHV0W2kgLyA4XSAmIDB4ZmYpIDw8IGkgJSAzMjtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKlxuICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxuICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHNhZmVBZGQoeCwgeSkge1xuICB2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpO1xuICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gIHJldHVybiBtc3cgPDwgMTYgfCBsc3cgJiAweGZmZmY7XG59XG4vKlxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICovXG5cblxuZnVuY3Rpb24gYml0Um90YXRlTGVmdChudW0sIGNudCkge1xuICByZXR1cm4gbnVtIDw8IGNudCB8IG51bSA+Pj4gMzIgLSBjbnQ7XG59XG4vKlxuICogVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgZm91ciBiYXNpYyBvcGVyYXRpb25zIHRoZSBhbGdvcml0aG0gdXNlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNWNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gIHJldHVybiBzYWZlQWRkKGJpdFJvdGF0ZUxlZnQoc2FmZUFkZChzYWZlQWRkKGEsIHEpLCBzYWZlQWRkKHgsIHQpKSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBtZDVmZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGMgfCB+YiAmIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVnZyhhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGQgfCBjICYgfmQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVoaChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aWkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGMgXiAoYiB8IH5kKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1kNTsiLCJleHBvcnQgZGVmYXVsdCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJzsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICB2YXIgdjtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gUGFyc2UgIyMjIyMjIyMtLi4uLi0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLSMjIyMtLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLSMjIyMtLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0jIyMjLS4uLi4uLi4uLi4uLlxuXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLS4uLi4tIyMjIyMjIyMjIyMjXG4gIC8vIChVc2UgXCIvXCIgdG8gYXZvaWQgMzItYml0IHRydW5jYXRpb24gd2hlbiBiaXQtc2hpZnRpbmcgaGlnaC1vcmRlciBieXRlcylcblxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTsiLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4gICAgLy8gZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIChtc0NyeXB0bykgb24gSUUxMS5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pIHx8IHR5cGVvZiBtc0NyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG5cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSIsIi8vIEFkYXB0ZWQgZnJvbSBDaHJpcyBWZW5lc3MnIFNIQTEgY29kZSBhdFxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9zaGExLmh0bWxcbmZ1bmN0aW9uIGYocywgeCwgeSwgeikge1xuICBzd2l0Y2ggKHMpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4geCAmIHkgXiB+eCAmIHo7XG5cbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIHggJiB5IF4geCAmIHogXiB5ICYgejtcblxuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG4gIH1cbn1cblxuZnVuY3Rpb24gUk9UTCh4LCBuKSB7XG4gIHJldHVybiB4IDw8IG4gfCB4ID4+PiAzMiAtIG47XG59XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgdmFyIEsgPSBbMHg1YTgyNzk5OSwgMHg2ZWQ5ZWJhMSwgMHg4ZjFiYmNkYywgMHhjYTYyYzFkNl07XG4gIHZhciBIID0gWzB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsIDB4MTAzMjU0NzYsIDB4YzNkMmUxZjBdO1xuXG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlcy5wdXNoKG1zZy5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgLy8gQ29udmVydCBBcnJheS1saWtlIHRvIEFycmF5XG4gICAgYnl0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcyk7XG4gIH1cblxuICBieXRlcy5wdXNoKDB4ODApO1xuICB2YXIgbCA9IGJ5dGVzLmxlbmd0aCAvIDQgKyAyO1xuICB2YXIgTiA9IE1hdGguY2VpbChsIC8gMTYpO1xuICB2YXIgTSA9IG5ldyBBcnJheShOKTtcblxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgTjsgKytfaSkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDMyQXJyYXkoMTYpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICBhcnJbal0gPSBieXRlc1tfaSAqIDY0ICsgaiAqIDRdIDw8IDI0IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMV0gPDwgMTYgfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAyXSA8PCA4IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgM107XG4gICAgfVxuXG4gICAgTVtfaV0gPSBhcnI7XG4gIH1cblxuICBNW04gLSAxXVsxNF0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4IC8gTWF0aC5wb3coMiwgMzIpO1xuICBNW04gLSAxXVsxNF0gPSBNYXRoLmZsb29yKE1bTiAtIDFdWzE0XSk7XG4gIE1bTiAtIDFdWzE1XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggJiAweGZmZmZmZmZmO1xuXG4gIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IE47ICsrX2kyKSB7XG4gICAgdmFyIFcgPSBuZXcgVWludDMyQXJyYXkoODApO1xuXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCAxNjsgKyt0KSB7XG4gICAgICBXW3RdID0gTVtfaTJdW3RdO1xuICAgIH1cblxuICAgIGZvciAodmFyIF90ID0gMTY7IF90IDwgODA7ICsrX3QpIHtcbiAgICAgIFdbX3RdID0gUk9UTChXW190IC0gM10gXiBXW190IC0gOF0gXiBXW190IC0gMTRdIF4gV1tfdCAtIDE2XSwgMSk7XG4gICAgfVxuXG4gICAgdmFyIGEgPSBIWzBdO1xuICAgIHZhciBiID0gSFsxXTtcbiAgICB2YXIgYyA9IEhbMl07XG4gICAgdmFyIGQgPSBIWzNdO1xuICAgIHZhciBlID0gSFs0XTtcblxuICAgIGZvciAodmFyIF90MiA9IDA7IF90MiA8IDgwOyArK190Mikge1xuICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKF90MiAvIDIwKTtcbiAgICAgIHZhciBUID0gUk9UTChhLCA1KSArIGYocywgYiwgYywgZCkgKyBlICsgS1tzXSArIFdbX3QyXSA+Pj4gMDtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gUk9UTChiLCAzMCkgPj4+IDA7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBUO1xuICAgIH1cblxuICAgIEhbMF0gPSBIWzBdICsgYSA+Pj4gMDtcbiAgICBIWzFdID0gSFsxXSArIGIgPj4+IDA7XG4gICAgSFsyXSA9IEhbMl0gKyBjID4+PiAwO1xuICAgIEhbM10gPSBIWzNdICsgZCA+Pj4gMDtcbiAgICBIWzRdID0gSFs0XSArIGUgPj4+IDA7XG4gIH1cblxuICByZXR1cm4gW0hbMF0gPj4gMjQgJiAweGZmLCBIWzBdID4+IDE2ICYgMHhmZiwgSFswXSA+PiA4ICYgMHhmZiwgSFswXSAmIDB4ZmYsIEhbMV0gPj4gMjQgJiAweGZmLCBIWzFdID4+IDE2ICYgMHhmZiwgSFsxXSA+PiA4ICYgMHhmZiwgSFsxXSAmIDB4ZmYsIEhbMl0gPj4gMjQgJiAweGZmLCBIWzJdID4+IDE2ICYgMHhmZiwgSFsyXSA+PiA4ICYgMHhmZiwgSFsyXSAmIDB4ZmYsIEhbM10gPj4gMjQgJiAweGZmLCBIWzNdID4+IDE2ICYgMHhmZiwgSFszXSA+PiA4ICYgMHhmZiwgSFszXSAmIDB4ZmYsIEhbNF0gPj4gMjQgJiAweGZmLCBIWzRdID4+IDE2ICYgMHhmZiwgSFs0XSA+PiA4ICYgMHhmZiwgSFs0XSAmIDB4ZmZdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzaGExOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7IC8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG5cbnZhciBfY2xvY2tzZXE7IC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuXG5cbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDsgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcblxuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IG5ldyBBcnJheSgxNik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxOyAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcblxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgdmFyIGR0ID0gbXNlY3MgLSBfbGFzdE1TZWNzICsgKG5zZWNzIC0gX2xhc3ROU2VjcykgLyAxMDAwMDsgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH0gLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuXG5cbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH0gLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuXG5cbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7IC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwOyAvLyBgdGltZV9sb3dgXG5cbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjsgLy8gYHRpbWVfbWlkYFxuXG4gIHZhciB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IHN0cmluZ2lmeShiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjE7IiwiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgbWQ1IGZyb20gJy4vbWQ1LmpzJztcbnZhciB2MyA9IHYzNSgndjMnLCAweDMwLCBtZDUpO1xuZXhwb3J0IGRlZmF1bHQgdjM7IiwiaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZS5qcyc7XG5cbmZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyKSB7XG4gIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTsgLy8gVVRGOCBlc2NhcGVcblxuICB2YXIgYnl0ZXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgdmFyIEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IHZhciBVUkwgPSAnNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYW1lLCB2ZXJzaW9uLCBoYXNoZnVuYykge1xuICBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQodmFsdWUsIG5hbWVzcGFjZSwgYnVmLCBvZmZzZXQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBzdHJpbmdUb0J5dGVzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWVzcGFjZSA9IHBhcnNlKG5hbWVzcGFjZSk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVzcGFjZS5sZW5ndGggIT09IDE2KSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ05hbWVzcGFjZSBtdXN0IGJlIGFycmF5LWxpa2UgKDE2IGl0ZXJhYmxlIGludGVnZXIgdmFsdWVzLCAwLTI1NSknKTtcbiAgICB9IC8vIENvbXB1dGUgaGFzaCBvZiBuYW1lc3BhY2UgYW5kIHZhbHVlLCBQZXIgNC4zXG4gICAgLy8gRnV0dXJlOiBVc2Ugc3ByZWFkIHN5bnRheCB3aGVuIHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zLCBlLmcuIGBieXRlcyA9XG4gICAgLy8gaGFzaGZ1bmMoWy4uLm5hbWVzcGFjZSwgLi4uIHZhbHVlXSlgXG5cblxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KDE2ICsgdmFsdWUubGVuZ3RoKTtcbiAgICBieXRlcy5zZXQobmFtZXNwYWNlKTtcbiAgICBieXRlcy5zZXQodmFsdWUsIG5hbWVzcGFjZS5sZW5ndGgpO1xuICAgIGJ5dGVzID0gaGFzaGZ1bmMoYnl0ZXMpO1xuICAgIGJ5dGVzWzZdID0gYnl0ZXNbNl0gJiAweDBmIHwgdmVyc2lvbjtcbiAgICBieXRlc1s4XSA9IGJ5dGVzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgICBpZiAoYnVmKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmdpZnkoYnl0ZXMpO1xuICB9IC8vIEZ1bmN0aW9uI25hbWUgaXMgbm90IHNldHRhYmxlIG9uIHNvbWUgcGxhdGZvcm1zICgjMjcwKVxuXG5cbiAgdHJ5IHtcbiAgICBnZW5lcmF0ZVVVSUQubmFtZSA9IG5hbWU7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICB9IGNhdGNoIChlcnIpIHt9IC8vIEZvciBDb21tb25KUyBkZWZhdWx0IGV4cG9ydCBzdXBwb3J0XG5cblxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IHNoYTEgZnJvbSAnLi9zaGExLmpzJztcbnZhciB2NSA9IHYzNSgndjUnLCAweDUwLCBzaGExKTtcbmV4cG9ydCBkZWZhdWx0IHY1OyIsImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc3Vic3RyKDE0LCAxKSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9hZGFwdGl2ZWNhcmRzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2FkYXB0aXZlY2FyZHNfdGVtcGxhdGluZ19fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvYWRhcHRpdmVjYXJkcy1kZXNpZ25lci50c1wiKTtcbiIsIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==