define("4958ea79-6ff3-4480-8291-0932dd010869_1.19.0",["tslib","@microsoft/sp-extension-base","@microsoft/sp-core-library","@microsoft/sp-diagnostics","@microsoft/sp-loader"],(e,t,n,a,i)=>(()=>{"use strict";var r={878:e=>{e.exports=n},377:e=>{e.exports=a},279:e=>{e.exports=t},37:e=>{e.exports=i},553:t=>{t.exports=e}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e](n,n.exports,s),n.exports}s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{s.r(c),s.d(c,{BaseSearchQueryModifier:()=>a,SearchQueryModifierContext:()=>i,SearchQueryScenario:()=>e,_SearchQueryExtensionManager:()=>l});var e,t=s(553),n=s(279);!function(e){e[e.SearchResults=1]="SearchResults",e[e.SearchSuggestions=2]="SearchSuggestions"}(e||(e={}));const a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,t.__extends)(n,e),Object.defineProperty(n.prototype,"timeout",{get:function(){return 1e4},enumerable:!1,configurable:!0}),n.prototype.modifySearchQuery=function(e,t){return Promise.resolve(e)},n}(n.BaseExtension),i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,t.__extends)(n,e),n}(n.ExtensionContext);var r=s(878),o=s(377),d=s(37);const l=function(){function s(e){this._extensionManager=new n._ExtensionManager(e,a),this._extensions=[]}return s.prototype.initializeExtensions=function(e){var t=this,n=new o._QosMonitor("SearchQueryExtensionManager.initializeExtensions"),a=this._getCustomActions(e).filter(function(e){return"ClientSideExtension.SearchQueryModifier"===e.location&&!!d.SPComponentLoader.tryGetManifestById(e.clientSideComponentId)}).sort(function(e,t){return(e.sequence||Number.MAX_VALUE)-(t.sequence||Number.MAX_VALUE)}).map(function(e){return t._extensionManager.createExtension(e.clientSideComponentId.toString(),e.clientSideComponentProperties,function(e){return new i(e)})});return Promise.all(a).then(function(e){t._extensions=e;var a=t._extensions.length;return n.writeSuccess({numberOfExtensions:a}),a}).catch(function(e){throw n.writeUnexpectedFailure(void 0,e,{numberOfExtensions:0}),e})},s.prototype.getSearchQuery=function(e){var t=this,n=Promise.resolve({queryText:e,originalQueryText:e});return this._extensions.forEach(function(a){n=n.then(function(n){return t._processQuery(a,n,e)})}),n.then(function(e){return e.queryText})},s.prototype._processQuery=function(n,a,i){var r=new o._QosMonitor("SearchQueryExtensionManager.processQuery"),s={componentId:n.componentId,alias:n.manifest.alias},c=new Promise(function(e){setTimeout(function(){r.writeExpectedFailure("Timeout",void 0,s),e(a)},n.timeout)});return Promise.race([c,n.modifySearchQuery((0,t.__assign)((0,t.__assign)({},a),{originalQueryText:i}),e.SearchResults)]).then(function(e){return r.writeSuccess(s),e}).catch(function(e){throw r.writeUnexpectedFailure(void 0,e,s),e})},s.prototype._getCustomActions=function(e){return this._getDebugCustomActions().concat(e)},s.prototype._getDebugCustomActions=function(){var e=[],t=new URL(window.location.href).searchParams.get("customActions");if(t){var n=decodeURIComponent(t),a=JSON.parse(n);if(a)for(var i=0,o=Object.keys(a);i<o.length;i++){var s=o[i],c=r.Guid.tryParse(s),d=a[s].location,l=a[s].sequence;e.push({clientSideComponentId:c.toString(),location:d,sequence:l})}}return e},s}()})(),c})());